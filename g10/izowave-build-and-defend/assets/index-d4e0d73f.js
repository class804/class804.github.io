(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const N of document.querySelectorAll('link[rel="modulepreload"]'))F(N);new MutationObserver(N=>{for(const H of N)if(H.type==="childList")for(const p of H.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&F(p)}).observe(document,{childList:!0,subtree:!0});function I(N){const H={};return N.integrity&&(H.integrity=N.integrity),N.referrerPolicy&&(H.referrerPolicy=N.referrerPolicy),N.crossOrigin==="use-credentials"?H.credentials="include":N.crossOrigin==="anonymous"?H.credentials="omit":H.credentials="same-origin",H}function F(N){if(N.ep)return;N.ep=!0;const H=I(N);fetch(N.href,H)}})();const Dx="izowave",wx="Isometric game. Build and defend in open world",Fx="1.24.8",Bx={name:"Nikita Galadiy",email:"dev@neki.guru",url:"https://neki.guru/"},Nx="./dist/index.html",Ux={start:"vite","start:manager":"vite --config ./manager/vite.config.ts",build:"vite build --mode vanilla","build:poki":"vite build --mode poki",test:"jest",lint:'eslint "./**/*.{ts,tsx}" --ignore-path .gitignore --fix'},Gx={"@2toad/profanity":"3.1.1","@ant-design/icons":"5.3.7",antd:"5.19.1",apexcharts:"4.7.0","crypto-js":"4.2.0",dayjs:"1.11.11",detectincognitojs:"1.3.5","gen-biome":"2.4.0",heap:"0.2.7",idb:"8.0.0",phaser:"3.60.0","phaser-react-ui":"1.15.1","phaser3-rex-plugins":"1.60.6",react:"18.3.1","react-apexcharts":"1.4.1","react-dom":"18.3.1","react-router-dom":"6.24.1",semver:"7.6.2","styled-components":"6.1.11","ua-parser-js":"1.0.38","unique-names-generator":"4.7.1",uuid:"9.0.1"},bx={"@types/crypto-js":"4.2.2","@types/heap":"0.2.34","@types/jest":"29.5.12","@types/node":"20.14.10","@types/react":"18.3.3","@types/react-dom":"18.3.0","@types/semver":"^7.5.8","@types/styled-components":"5.1.34","@types/ua-parser-js":"0.7.39","@types/uuid":"10.0.0","@typescript-eslint/eslint-plugin":"7.0.1","@typescript-eslint/parser":"7.0.1","alias-reuse":"3.0.5",eslint:"8.56.0","eslint-plugin-import":"2.29.1",jest:"29.7.0","jest-canvas-mock":"2.5.2","jest-environment-jsdom":"29.7.0",phaser3spectorjs:"0.0.8","ts-jest":"29.1.2",typescript:"5.3.3",vite:"4.5.0","vite-plugin-checker":"0.6.2","vite-plugin-static-copy":"0.17.0","vite-plugin-zip-pack":"1.0.6"},dn={name:Dx,description:wx,version:Fx,private:!0,author:Bx,main:Nx,scripts:Ux,dependencies:Gx,devDependencies:bx};var gl=(L=>(L.WIN="game/win",L.LOSE="game/lose",L))(gl||{}),Ne=(L=>(L.SYSTEM="SYSTEM",L.FINISH="FINISH",L.WORLD="WORLD",L.SCREEN="SCREEN",L.MENU="MENU",L))(Ne||{}),Mi=(L=>(L.START="start",L.FINISH="finish",L.UPDATE_SETTINGS="update_settings",L.TOGGLE_PAUSE="toggle_pause",L))(Mi||{}),me=(L=>(L.IDLE="IDLE",L.STARTED="STARTED",L.FINISHED="FINISHED",L.PAUSED="PAUSED",L.INTRODUCTION="INTRODUCTION",L))(me||{}),Ei=(L=>(L.AUDIO="AUDIO",L.EFFECTS="EFFECTS",L.TUTORIAL="TUTORIAL",L))(Ei||{}),Ys=(L=>(L.EASY="EASY",L.NORMAL="NORMAL",L.HARD="HARD",L))(Ys||{}),Ti=(L=>(L.INFINITY="INFINITY",L.FLAGS="FLAGS",L))(Ti||{}),Ee=(L=>(L.BLOOD="BLOOD",L.AUTO_ORIENTATION="AUTO_ORIENTATION",L.COPYRIGHT="COPYRIGHT",L.LOGS="LOGS",L.ANTICHEAT="ANTICHEAT",L.LEADERBOARD="LEADERBOARD",L.POLICY="POLICY",L.FULLSCREEN="FULLSCREEN",L.API="API",L.INCOGNITO="INCOGNITO",L))(Ee||{}),cn=(L=>(L.DEVELOPMENT="development",L.POKI="poki",L.VANILLA="vanilla",L))(cn||{});const Xn={CONTAINER_ID:"game-container",AUDIO_VOLUME:.1,SAVES:{LIMIT:5,KEY:"Sf8Dbrsd46"},LINKS:{PRIVACY_POLICY:"https://izowave.neki.guru/policy.html",DISCORD:"https://discord.gg/cnFAdMsRxn"},DEBUG:{basic:!1,position:!1,path:!1}},zx=["neki.guru","poki.com","inspector.poki.dev","webgamer.io"],tl={[cn.POKI]:{sdk:"./patch/poki/sdk-v2.js?//game-cdn.poki.com/scripts/v2/poki-sdk.js",flags:{[Ee.API]:!0,[Ee.AUTO_ORIENTATION]:!0,[Ee.LOGS]:!0,[Ee.ANTICHEAT]:!0,[Ee.POLICY]:!0}},[cn.VANILLA]:{sdk:"./patch/poki/sdk-v2.js?//game-cdn.poki.com/scripts/v2/poki-sdk.js",cmp:"https://cmp.inmobi.com/choice/2kcBNmzFRHKG5/izowave.neki.guru/choice.js?tag_version=V3",flags:{[Ee.API]:!0,[Ee.BLOOD]:!0,[Ee.COPYRIGHT]:!0,[Ee.LOGS]:!0,[Ee.ANTICHEAT]:!0,[Ee.FULLSCREEN]:!0,[Ee.INCOGNITO]:!0}},[cn.DEVELOPMENT]:{flags:{[Ee.COPYRIGHT]:!0,[Ee.BLOOD]:!0,[Ee.FULLSCREEN]:!0,[Ee.INCOGNITO]:!0}}};/*!
 *
 * detectIncognito v1.3.5
 *
 * https://github.com/Joe12387/detectIncognito
 *
 * MIT License
 *
 * Copyright (c) 2021 - 2024 Joe Rutkowski <Joe@dreggle.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * Please keep this comment intact in order to properly abide by the MIT License.
 *
 **/var Sf={d:(L,A)=>{for(var I in A)Sf.o(A,I)&&!Sf.o(L,I)&&Object.defineProperty(L,I,{enumerable:!0,get:A[I]})},o:(L,A)=>Object.prototype.hasOwnProperty.call(L,A)},Kf={};Sf.d(Kf,{A:()=>Yx,k:()=>$f});var Vx=function(L,A,I,F){return new(I||(I=Promise))(function(N,H){function p(h){try{t(F.next(h))}catch(c){H(c)}}function S(h){try{t(F.throw(h))}catch(c){H(c)}}function t(h){var c;h.done?N(h.value):(c=h.value,c instanceof I?c:new I(function(l){l(c)})).then(p,S)}t((F=F.apply(L,A||[])).next())})},Wx=function(L,A){var I,F,N,H,p={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return H={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function S(t){return function(h){return function(c){if(I)throw new TypeError("Generator is already executing.");for(;H&&(H=0,c[0]&&(p=0)),p;)try{if(I=1,F&&(N=2&c[0]?F.return:c[0]?F.throw||((N=F.return)&&N.call(F),0):F.next)&&!(N=N.call(F,c[1])).done)return N;switch(F=0,N&&(c=[2&c[0],N.value]),c[0]){case 0:case 1:N=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,F=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(N=p.trys,!((N=N.length>0&&N[N.length-1])||c[0]!==6&&c[0]!==2)){p=0;continue}if(c[0]===3&&(!N||c[1]>N[0]&&c[1]<N[3])){p.label=c[1];break}if(c[0]===6&&p.label<N[1]){p.label=N[1],N=c;break}if(N&&p.label<N[2]){p.label=N[2],p.ops.push(c);break}N[2]&&p.ops.pop(),p.trys.pop();continue}c=A.call(L,p)}catch(l){c=[6,l],F=0}finally{I=N=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([t,h])}}};function $f(){return Vx(this,void 0,Promise,function(){return Wx(this,function(L){switch(L.label){case 0:return[4,new Promise(function(A,I){var F,N,H="Unknown";function p(l){A({isPrivate:l,browserName:H})}function S(l){return l===eval.toString().length}function t(){navigator.maxTouchPoints!==void 0?function(){var l=String(Math.random());try{window.indexedDB.open(l,1).onupgradeneeded=function(r){var s,e,i=(s=r.target)===null||s===void 0?void 0:s.result;try{i.createObjectStore("test",{autoIncrement:!0}).put(new Blob),p(!1)}catch(n){var o=n;return n instanceof Error&&(o=(e=n.message)!==null&&e!==void 0?e:n),typeof o!="string"?void p(!1):void p(o.includes("BlobURLs are not yet supported"))}finally{i.close(),window.indexedDB.deleteDatabase(l)}}}catch{p(!1)}}():function(){var l=window.openDatabase,r=window.localStorage;try{l(null,null,null,null)}catch{return void p(!0)}try{r.setItem("test","1"),r.removeItem("test")}catch{return void p(!0)}p(!1)}()}function h(){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(l,r){var s;p(Math.round(r/1048576)<2*Math.round(((s=window).performance!==void 0&&s.performance.memory!==void 0&&s.performance.memory.jsHeapSizeLimit!==void 0?performance.memory.jsHeapSizeLimit:1073741824)/1048576))},function(l){I(new Error("detectIncognito somehow failed to query storage quota: "+l.message))})}function c(){self.Promise!==void 0&&self.Promise.allSettled!==void 0?h():(0,window.webkitRequestFileSystem)(0,1,function(){p(!1)},function(){p(!0)})}(N=navigator.vendor)!==void 0&&N.indexOf("Apple")===0&&S(37)?(H="Safari",t()):function(){var l=navigator.vendor;return l!==void 0&&l.indexOf("Google")===0&&S(33)}()?(F=navigator.userAgent,H=F.match(/Chrome/)?navigator.brave!==void 0?"Brave":F.match(/Edg/)?"Edge":F.match(/OPR/)?"Opera":"Chrome":"Chromium",c()):document.documentElement!==void 0&&document.documentElement.style.MozAppearance!==void 0&&S(37)?(H="Firefox",p(navigator.serviceWorker===void 0)):navigator.msSaveBlob!==void 0&&S(39)?(H="Internet Explorer",p(window.indexedDB===void 0)):I(new Error("detectIncognito cannot determine the browser"))})];case 1:return[2,L.sent()]}})})}typeof window<"u"&&(window.detectIncognito=$f);const Yx=$f;Kf.A;var Hx=Kf.k,se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jf(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}function Xx(L){if(L.__esModule)return L;var A=L.default;if(typeof A=="function"){var I=function F(){return this instanceof F?Reflect.construct(A,arguments,this.constructor):A.apply(this,arguments)};I.prototype=A.prototype}else I={};return Object.defineProperty(I,"__esModule",{value:!0}),Object.keys(L).forEach(function(F){var N=Object.getOwnPropertyDescriptor(L,F);Object.defineProperty(I,F,N.get?N:{enumerable:!0,get:function(){return L[F]}})}),I}var Op={exports:{}};(function(L,A){(function(F,N){L.exports=N()})(se,()=>(()=>{var I={6659:p=>{var S=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function c(e,i,o){this.fn=e,this.context=i,this.once=o||!1}function l(e,i,o,n,a){if(typeof o!="function")throw new TypeError("The listener must be a function");var f=new c(o,n||e,a),u=t?t+i:i;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],f]:e._events[u].push(f):(e._events[u]=f,e._eventsCount++),e}function r(e,i){--e._eventsCount===0?e._events=new h:delete e._events[i]}function s(){this._events=new h,this._eventsCount=0}s.prototype.eventNames=function(){var i=[],o,n;if(this._eventsCount===0)return i;for(n in o=this._events)S.call(o,n)&&i.push(t?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(o)):i},s.prototype.listeners=function(i){var o=t?t+i:i,n=this._events[o];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,f=n.length,u=new Array(f);a<f;a++)u[a]=n[a].fn;return u},s.prototype.listenerCount=function(i){var o=t?t+i:i,n=this._events[o];return n?n.fn?1:n.length:0},s.prototype.emit=function(i,o,n,a,f,u){var d=t?t+i:i;if(!this._events[d])return!1;var v=this._events[d],g=arguments.length,x,m;if(v.fn){switch(v.once&&this.removeListener(i,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,o),!0;case 3:return v.fn.call(v.context,o,n),!0;case 4:return v.fn.call(v.context,o,n,a),!0;case 5:return v.fn.call(v.context,o,n,a,f),!0;case 6:return v.fn.call(v.context,o,n,a,f,u),!0}for(m=1,x=new Array(g-1);m<g;m++)x[m-1]=arguments[m];v.fn.apply(v.context,x)}else{var y=v.length,T;for(m=0;m<y;m++)switch(v[m].once&&this.removeListener(i,v[m].fn,void 0,!0),g){case 1:v[m].fn.call(v[m].context);break;case 2:v[m].fn.call(v[m].context,o);break;case 3:v[m].fn.call(v[m].context,o,n);break;case 4:v[m].fn.call(v[m].context,o,n,a);break;default:if(!x)for(T=1,x=new Array(g-1);T<g;T++)x[T-1]=arguments[T];v[m].fn.apply(v[m].context,x)}}return!0},s.prototype.on=function(i,o,n){return l(this,i,o,n,!1)},s.prototype.once=function(i,o,n){return l(this,i,o,n,!0)},s.prototype.removeListener=function(i,o,n,a){var f=t?t+i:i;if(!this._events[f])return this;if(!o)return r(this,f),this;var u=this._events[f];if(u.fn)u.fn===o&&(!a||u.once)&&(!n||u.context===n)&&r(this,f);else{for(var d=0,v=[],g=u.length;d<g;d++)(u[d].fn!==o||a&&!u[d].once||n&&u[d].context!==n)&&v.push(u[d]);v.length?this._events[f]=v.length===1?v[0]:v:r(this,f)}return this},s.prototype.removeAllListeners=function(i){var o;return i?(o=t?t+i:i,this._events[o]&&r(this,o)):(this._events=new h,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,p.exports=s},62270:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82590),c=function(l,r,s,e){for(var i=l[0],o=1;o<l.length;o++){var n=l[o];h(n,i,r,s,e),i=n}return l};p.exports=c},61148:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i){return h(l,"angle",r,s,e,i)};p.exports=c},22015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){for(var l=0;l<t.length;l++){var r=t[l];h.call(c,r)}return t};p.exports=S},31060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){c===void 0&&(c=0);for(var l=c;l<t.length;l++){var r=t[l],s=!0;for(var e in h)r[e]!==h[e]&&(s=!1);if(s)return r}return null};p.exports=S},52367:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){c===void 0&&(c=0);for(var l=c;l<t.length;l++){var r=t[l],s=!0;for(var e in h)r[e]!==h[e]&&(s=!1);if(s)return r}return null};p.exports=S},12673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40327),c=t(84093),l=t(72632),r=t(72283),s=t(71030),e=new s({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),i=function(o,n){n===void 0&&(n={});var a=n.hasOwnProperty("width"),f=n.hasOwnProperty("height"),u=l(n,"width",-1),d=l(n,"height",-1),v=l(n,"cellWidth",1),g=l(n,"cellHeight",v),x=l(n,"position",c.TOP_LEFT),m=l(n,"x",0),y=l(n,"y",0),T=0,R=0,P=u*v,D=d*g;e.setPosition(m,y),e.setSize(v,g);for(var O=0;O<o.length;O++)if(h(o[O],e,x),a&&u===-1)e.x+=v;else if(f&&d===-1)e.y+=g;else if(f&&!a){if(R+=g,e.y+=g,R===D&&(R=0,T+=v,e.y=y,e.x+=v,T===P))break}else if(T+=v,e.x+=v,T===P&&(T=0,R+=g,e.x=m,e.y+=g,R===D))break;return o};p.exports=i},691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i){return h(l,"alpha",r,s,e,i)};p.exports=c},3877:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i){return h(l,"x",r,s,e,i)};p.exports=c},71020:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i,o,n){return s==null&&(s=r),h(l,"x",r,e,o,n),h(l,"y",s,i,o,n)};p.exports=c},28970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i){return h(l,"y",r,s,e,i)};p.exports=c},82249:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c===void 0&&(c=0),l===void 0&&(l=6.28);for(var r=c,s=(l-c)/t.length,e=h.x,i=h.y,o=h.radius,n=0;n<t.length;n++)t[n].x=e+o*Math.cos(r),t[n].y=i+o*Math.sin(r),r+=s;return t};p.exports=S},30285:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c===void 0&&(c=0),l===void 0&&(l=6.28);for(var r=c,s=(l-c)/t.length,e=h.width/2,i=h.height/2,o=0;o<t.length;o++)t[o].x=h.x+e*Math.cos(r),t[o].y=h.y+i*Math.sin(r),r+=s;return t};p.exports=S},61557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8570),c=function(l,r){for(var s=h(r,l.length),e=0;e<l.length;e++){var i=l[e],o=s[e];i.x=o.x,i.y=o.y}return l};p.exports=c},63549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40053),c=t(77640),l=t(38487),r=function(s,e,i){i===void 0&&(i=0);var o=h(e,!1,s.length);i>0?c(o,i):i<0&&l(o,Math.abs(i));for(var n=0;n<s.length;n++)s[n].x=o[n].x,s[n].y=o[n].y;return s};p.exports=r},51629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(58813),c=function(l,r,s){var e=h({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},s),i=h({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},s),o=h({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},s);e.pop(),i.pop(),o.pop(),e=e.concat(i,o);for(var n=e.length/l.length,a=0,f=0;f<l.length;f++){var u=l[f],d=e[Math.floor(a)];u.x=d.x,u.y=d.y,a+=n}return l};p.exports=c},1045:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){for(var l=0;l<t.length;l++){var r=t[l];r.anims&&r.anims.play(h,c)}return t};p.exports=S},6124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r,s){l===void 0&&(l=0),r===void 0&&(r=0),s===void 0&&(s=1);var e,i=0,o=t.length;if(s===1)for(e=r;e<o;e++)t[e][h]+=c+i*l,i++;else for(e=r;e>=0;e--)t[e][h]+=c+i*l,i++;return t};p.exports=S},23646:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r,s){l===void 0&&(l=0),r===void 0&&(r=0),s===void 0&&(s=1);var e,i=0,o=t.length;if(s===1)for(e=r;e<o;e++)t[e][h]=c+i*l,i++;else for(e=r;e>=0;e--)t[e][h]=c+i*l,i++;return t};p.exports=S},4392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30977),c=function(l,r){for(var s=0;s<l.length;s++)h(r,l[s]);return l};p.exports=c},94985:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72006),c=function(l,r){for(var s=0;s<l.length;s++)h(r,l[s]);return l};p.exports=c},63305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74077),c=function(l,r){for(var s=0;s<l.length;s++)h(r,l[s]);return l};p.exports=c},90739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30001),c=function(l,r){for(var s=0;s<l.length;s++)h(r,l[s]);return l};p.exports=c},91417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99761),c=function(l,r){for(var s=0;s<l.length;s++)h(r,l[s]);return l};p.exports=c},26182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i){return h(l,"rotation",r,s,e,i)};p.exports=c},87299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72395),c=t(53996),l=function(r,s,e){for(var i=s.x,o=s.y,n=0;n<r.length;n++){var a=r[n];h(a,i,o,e,Math.max(1,c(a.x,a.y,i,o)))}return r};p.exports=l},92194:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72395),c=function(l,r,s,e){var i=r.x,o=r.y;if(e===0)return l;for(var n=0;n<l.length;n++)h(l[n],i,o,s,e);return l};p.exports=c},30363:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i){return h(l,"scaleX",r,s,e,i)};p.exports=c},51449:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i,o,n){return s==null&&(s=r),h(l,"scaleX",r,e,o,n),h(l,"scaleY",s,i,o,n)};p.exports=c},64895:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),c=function(l,r,s,e,i){return h(l,"scaleY",r,s,e,i)};p.exports=c},30329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"alpha",r,s,e,i)};p.exports=c},43954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e){return h(l,"blendMode",r,0,s,e)};p.exports=c},70688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"depth",r,s,e,i)};p.exports=c},8314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){for(var l=0;l<t.length;l++)t[l].setInteractive(h,c);return t};p.exports=S},12894:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i,o,n){return s==null&&(s=r),h(l,"originX",r,e,o,n),h(l,"originY",s,i,o,n),l.forEach(function(a){a.updateDisplayOrigin()}),l};p.exports=c},38767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"rotation",r,s,e,i)};p.exports=c},18584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i,o,n){return s==null&&(s=r),h(l,"scaleX",r,e,o,n),h(l,"scaleY",s,i,o,n)};p.exports=c},17381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"scaleX",r,s,e,i)};p.exports=c},74370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"scaleY",r,s,e,i)};p.exports=c},27773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i,o,n){return s==null&&(s=r),h(l,"scrollFactorX",r,e,o,n),h(l,"scrollFactorY",s,i,o,n)};p.exports=c},75257:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"scrollFactorX",r,s,e,i)};p.exports=c},54512:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"scrollFactorY",r,s,e,i)};p.exports=c},69423:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r){for(var s=0;s<t.length;s++)t[s].setTint(h,c,l,r);return t};p.exports=S},58291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e){return h(l,"visible",r,0,s,e)};p.exports=c},94833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"x",r,s,e,i)};p.exports=c},14284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i,o,n){return s==null&&(s=r),h(l,"x",r,e,o,n),h(l,"y",s,i,o,n)};p.exports=c},96574:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),c=function(l,r,s,e,i){return h(l,"y",r,s,e,i)};p.exports=c},74086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=new h);var o,n,a=l.length;if(a===1)o=l[0].x,n=l[0].y,l[0].x=r,l[0].y=s;else{var f=1,u=0;e===0&&(u=a-1,f=a-2),o=l[u].x,n=l[u].y,l[u].x=r,l[u].y=s;for(var d=0;d<a;d++)if(!(f>=a||f===-1)){var v=l[f],g=v.x,x=v.y;v.x=o,v.y=n,o=g,n=x,e===0?f--:f++}}return i.x=o,i.y=n,i};p.exports=c},86347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18592),c=function(l){return h(l)};p.exports=c},1558:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5514),c=function(l,r,s,e,i){i===void 0&&(i=!1);var o=Math.abs(e-s)/l.length,n;if(i)for(n=0;n<l.length;n++)l[n][r]+=h(n*o,s,e);else for(n=0;n<l.length;n++)l[n][r]=h(n*o,s,e);return l};p.exports=c},9938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87736),c=function(l,r,s,e,i){i===void 0&&(i=!1);var o=Math.abs(e-s)/l.length,n;if(i)for(n=0;n<l.length;n++)l[n][r]+=h(n*o,s,e);else for(n=0;n<l.length;n++)l[n][r]=h(n*o,s,e);return l};p.exports=c},71060:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][h]+=(l+c)/2:t[0][h]=(l+c)/2,t;var s=Math.abs(l-c)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][h]+=e*s+c;else for(e=0;e<t.length;e++)t[e][h]=e*s+c;return t};p.exports=S},11207:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};p.exports=S},24404:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1071),c=function(l,r,s){s===void 0&&(s=0);for(var e=0;e<l.length;e++){var i=l[e];i.x=h(i.x,r.left-s,r.right+s),i.y=h(i.y,r.top-s,r.bottom+s)}return l};p.exports=c},83979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(16938),r=t(2406),s=t(71519),e=t(10850),i=t(28834),o=new c({initialize:function(a,f,u){this.manager=a,this.key=f,this.type="frame",this.frames=this.getFrames(a.textureManager,e(u,"frames",[]),e(u,"defaultTextureKey",null),e(u,"sortFrames",!0)),this.frameRate=e(u,"frameRate",null),this.duration=e(u,"duration",null),this.msPerFrame,this.skipMissedFrames=e(u,"skipMissedFrames",!0),this.delay=e(u,"delay",0),this.repeat=e(u,"repeat",0),this.repeatDelay=e(u,"repeatDelay",0),this.yoyo=e(u,"yoyo",!1),this.showBeforeDelay=e(u,"showBeforeDelay",!1),this.showOnStart=e(u,"showOnStart",!1),this.hideOnComplete=e(u,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(l.PAUSE_ALL,this.pause,this),this.manager.on(l.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,a,f,u){f===null&&u===null?(n.frameRate=24,n.duration=24/a*1e3):f&&u===null?(n.duration=f,n.frameRate=a/(f/1e3)):(n.frameRate=u,n.duration=a/u*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,a){var f=this.getFrames(this.manager.textureManager,a);if(f.length>0){if(n===0)this.frames=f.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(f);else{var u=this.frames.slice(0,n),d=this.frames.slice(n);this.frames=u.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,a,f,u){u===void 0&&(u=!0);var d=[],v,g,x=1,m,y;if(typeof a=="string"){if(y=a,!n.exists(y))return console.warn('Texture "%s" not found',y),d;var T=n.get(y),R=T.getFrameNames();u&&i(R),a=[],R.forEach(function(b){a.push({key:y,frame:b})})}if(!Array.isArray(a)||a.length===0)return d;for(m=0;m<a.length;m++){var P=a[m],D=e(P,"key",f);if(D){var O=e(P,"frame",0),B=n.getFrame(D,O);if(!B){console.warn('Texture "%s" not found',D);continue}g=new s(D,O,x,B),g.duration=e(P,"duration",0),g.isFirst=!v,v&&(v.nextFrame=g,g.prevFrame=v),d.push(g),v=g,x++}}if(d.length>0){g.isLast=!0,g.nextFrame=d[0],d[0].prevFrame=g;var G=1/(d.length-1);for(m=0;m<d.length;m++)d[m].progress=m*G}return d},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameByProgress:function(n){return n=h(n,0,1),r(n,this.frames,"progress")},nextFrame:function(n){var a=n.currentFrame;a.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,a.nextFrame)},handleYoyoFrame:function(n,a){if(a||(a=!1),n.inReverse===!a&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=a),this.repeatAnimation(n);return}if(n.inReverse!==a&&n.repeatCounter===0){n.complete();return}n.forward=a;var f=a?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var a=n.currentFrame;a.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,a.prevFrame)},updateAndGetNextTick:function(n,a){n.setCurrentFrame(a),this.getNextTick(n)},removeFrame:function(n){var a=this.frames.indexOf(n);return a!==-1&&this.removeFrameAt(a),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(a){n.frames.push(a.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,a=1/(n-1),f,u=0;u<n;u++)f=this.frames[u],f.index=u+1,f.isFirst=!1,f.isLast=!1,f.progress=u*a,u===0?(f.isFirst=!0,n===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[n-1],f.nextFrame=this.frames[u+1])):u===n-1&&n>1?(f.isLast=!0,f.prevFrame=this.frames[n-2],f.nextFrame=this.frames[0]):n>1&&(f.prevFrame=this.frames[u-1],f.nextFrame=this.frames[u+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(l.PAUSE_ALL,this.pause,this),this.manager.off(l.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});p.exports=o},71519:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s,e,i,o){o===void 0&&(o=!1),this.textureKey=r,this.textureFrame=s,this.index=e,this.frame=i,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=o},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=c},90249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85463),c=t(56694),l=t(33885),r=t(6659),s=t(16938),e=t(97081),i=t(72632),o=t(10850),n=t(83392),a=t(13401),f=t(76400),u=new c({Extends:r,initialize:function(v){r.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new l,this.mixes=new l,this.paused=!1,this.name="AnimationManager",v.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,v,g){var x=this.anims,m=this.mixes,y=typeof d=="string"?d:d.key,T=typeof v=="string"?v:v.key;if(x.has(y)&&x.has(T)){var R=m.get(y);R||(R={}),R[T]=g,m.set(y,R)}return this},removeMix:function(d,v){var g=this.mixes,x=typeof d=="string"?d:d.key,m=g.get(x);if(m)if(v){var y=typeof v=="string"?v:v.key;m.hasOwnProperty(y)&&delete m[y]}else v||g.delete(x);return this},getMix:function(d,v){var g=this.mixes,x=typeof d=="string"?d:d.key,m=typeof v=="string"?v:v.key,y=g.get(x);return y&&y.hasOwnProperty(m)?y[m]:0},add:function(d,v){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(v.key=d,this.anims.set(d,v),this.emit(s.ADD_ANIMATION,d,v),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,v,g){var x=[],m=this.game.cache.json.get(d);if(!m)return console.warn("No Aseprite data found for: "+d),x;var y=this,T=o(m,"meta",null),R=o(m,"frames",null);if(T&&R){var P=o(T,"frameTags",[]);P.forEach(function(D){var O=[],B=i(D,"name",null),G=i(D,"from",0),b=i(D,"to",0),k=i(D,"direction","forward");if(B&&(!v||v&&v.indexOf(B)>-1)){for(var $=0,W=G;W<=b;W++){var Z=W.toString(),z=R[Z];if(z){var X=i(z,"duration",n.MAX_SAFE_INTEGER);O.push({key:d,frame:Z,duration:X}),$+=X}}var w=$/O.length;O.forEach(function(j){j.duration-=w}),k==="reverse"&&(O=O.reverse());var V={key:B,frames:O,duration:$,yoyo:k==="pingpong"},Y;g?g.anims&&(Y=g.anims.create(V)):Y=y.create(V),Y&&x.push(Y)}})}return x},create:function(d){var v=d.key,g=!1;return v&&(g=this.get(v),g?console.warn("AnimationManager key already exists: "+v):(g=new h(this,v,d),this.anims.set(v,g),this.emit(s.ADD_ANIMATION,v,g))),g},fromJSON:function(d,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var g=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var x=0;x<d.anims.length;x++)g.push(this.create(d.anims[x]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&g.push(this.create(d));return g},generateFrameNames:function(d,v){var g=o(v,"prefix",""),x=o(v,"start",0),m=o(v,"end",0),y=o(v,"suffix",""),T=o(v,"zeroPad",0),R=o(v,"outputArray",[]),P=o(v,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),R;var D=this.textureManager.get(d);if(!D)return R;var O;if(v)for(P||(P=a(x,m)),O=0;O<P.length;O++){var B=g+f(P[O],T,"0",1)+y;D.has(B)?R.push({key:d,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,d)}else for(P=D.getFrameNames(),O=0;O<P.length;O++)R.push({key:d,frame:P[O]});return R},generateFrameNumbers:function(d,v){var g=o(v,"start",0),x=o(v,"end",-1),m=o(v,"first",!1),y=o(v,"outputArray",[]),T=o(v,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),y;var R=this.textureManager.get(d);if(!R)return y;m&&R.has(m)&&y.push({key:d,frame:m}),T||(x===-1&&(x=R.frameTotal-2),T=a(g,x));for(var P=0;P<T.length;P++){var D=T[P];R.has(D)?y.push({key:d,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,d)}return y},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var v=this.textureManager.get(d),g=v.key,x=this.anims.getArray(),m=[],y=0;y<x.length;y++)for(var T=x[y],R=T.frames,P=0;P<R.length;P++)if(R[P].textureKey===g){m.push(T.key);break}return m},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(d,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)v[g].anims.play(d);return this},staggerPlay:function(d,v,g,x){g===void 0&&(g=0),x===void 0&&(x=!0),Array.isArray(v)||(v=[v]);var m=v.length;x||m--;for(var y=0;y<v.length;y++){var T=g<0?Math.abs(g)*(m-y):g*y;v[y].anims.playAfterDelay(d,T)}return this},remove:function(d){var v=this.get(d);return v&&(this.emit(s.REMOVE_ANIMATION,d,v),this.anims.delete(d),this.removeMix(d)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(d){var v={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?v.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(g,x){v.anims.push(x.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=u},16569:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(33885),l=t(72632),r=t(16938),s=t(85463),e=new h({initialize:function(o){this.parent=o,this.animationManager=o.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(i){var o=this.parent;if(i===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,o;Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var a=i[n];this.nextAnim?this.nextAnimsQueue.push(a):this.nextAnim=a}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(i){this.isPlaying&&this.stop();var o=this.animationManager,n=typeof i=="string"?i:l(i,"key",null),a=this.exists(n)?this.get(n):o.get(n);if(!a)console.warn("Missing animation: "+n);else{this.currentAnim=a;var f=a.getTotalFrames(),u=l(i,"frameRate",a.frameRate),d=l(i,"duration",a.duration);a.calculateDuration(this,f,d,u),this.delay=l(i,"delay",a.delay),this.repeat=l(i,"repeat",a.repeat),this.repeatDelay=l(i,"repeatDelay",a.repeatDelay),this.yoyo=l(i,"yoyo",a.yoyo),this.showBeforeDelay=l(i,"showBeforeDelay",a.showBeforeDelay),this.showOnStart=l(i,"showOnStart",a.showOnStart),this.hideOnComplete=l(i,"hideOnComplete",a.hideOnComplete),this.skipMissedFrames=l(i,"skipMissedFrames",a.skipMissedFrames),this.timeScale=l(i,"timeScale",this.timeScale);var v=l(i,"startFrame",0);v>a.getTotalFrames()&&(v=0);var g=a.frames[v];v===0&&!this.forward&&(g=a.getLastFrame()),this.currentFrame=g}return this.parent},pause:function(i){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),i!==void 0&&this.setCurrentFrame(i),this.parent},resume:function(i){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),i!==void 0&&this.setCurrentFrame(i),this.parent},playAfterDelay:function(i,o){if(!this.isPlaying)this.delayCounter=o,this.play(i,!0);else{var n=this.nextAnim,a=this.nextAnimsQueue;n&&a.unshift(n),this.nextAnim=i,this._pendingStop=1,this._pendingStopValue=o}return this.parent},playAfterRepeat:function(i,o){if(o===void 0&&(o=1),!this.isPlaying)this.play(i);else{var n=this.nextAnim,a=this.nextAnimsQueue;n&&a.unshift(n),this.repeatCounter!==-1&&o>this.repeatCounter&&(o=this.repeatCounter),this.nextAnim=i,this._pendingStop=2,this._pendingStopValue=o}return this.parent},play:function(i,o){o===void 0&&(o=!1);var n=this.currentAnim,a=this.parent,f=typeof i=="string"?i:i.key;if(o&&this.isPlaying&&n.key===f)return a;if(n&&this.isPlaying){var u=this.animationManager.getMix(n.key,i);if(u>0)return this.playAfterDelay(i,u)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(i)},playReverse:function(i,o){o===void 0&&(o=!1);var n=typeof i=="string"?i:i.key;return o&&this.isPlaying&&this.currentAnim.key===n?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(i))},startAnimation:function(i){this.load(i);var o=this.currentAnim,n=this.parent;return o&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,o.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),n},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(i,o){var n=this.currentAnim;if(n){var a=this.currentFrame,f=this.parent,u=a.textureFrame;f.emit(i,n,a,f,u),o&&f.emit(o+n.key,n,a,f,u)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var i=this.currentFrame;if(!i)return 0;var o=i.progress;return this.inReverse&&(o*=-1),o},setProgress:function(i){return this.forward||(i=1-i),this.setCurrentFrame(this.currentAnim.getFrameByProgress(i)),this.parent},setRepeat:function(i){return this.repeatCounter=i===-1?Number.MAX_VALUE:i,this.parent},globalRemove:function(i,o){o===void 0&&(o=this.currentAnim),this.isPlaying&&o.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var n=this.currentAnim,a=this.parent;return n?(o&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),n.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!i,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(n.frames[0]),this.parent):a},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var i=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(i)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var i=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(i)}return this.parent},stopAfterDelay:function(i){return this._pendingStop=1,this._pendingStopValue=i,this.parent},stopAfterRepeat:function(i){return i===void 0&&(i=1),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=i,this.parent},stopOnFrame:function(i){return this._pendingStop=3,this._pendingStopValue=i,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(i,o){var n=this.currentAnim;if(!(!this.isPlaying||!n||n.paused)){if(this.accumulator+=o*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=o,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?n.nextFrame(this):n.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var a=0;do this.forward?n.nextFrame(this):n.previousFrame(this),a++;while(this.isPlaying&&this.accumulator>this.nextTick&&a<60)}}},setCurrentFrame:function(i){var o=this.parent;return this.currentFrame=i,o.texture=i.frame.texture,o.frame=i.frame,o.isCropped&&o.frame.updateCropUVs(o._crop,o.flipX,o.flipY),i.setAlpha&&(o.alpha=i.alpha),o.setSizeToFrame(),o._originComponent&&(i.frame.customPivot?o.setOrigin(i.frame.pivotX,i.frame.pivotY):o.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===i&&this.stop()),o},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(i){return this.anims?this.anims.get(i):null},exists:function(i){return this.anims?this.anims.has(i):!1},create:function(i){var o=i.key,n=!1;return o&&(n=this.get(o),n?console.warn("Animation key already exists: "+o):(n=new s(this,o,i),this.anims||(this.anims=new c),this.anims.set(o,n))),n},createFromAseprite:function(i,o){return this.animationManager.createFromAseprite(i,o,this.parent)},generateFrameNames:function(i,o){return this.animationManager.generateFrameNames(i,o)},generateFrameNumbers:function(i,o){return this.animationManager.generateFrameNumbers(i,o)},remove:function(i){var o=this.get(i);return o&&(this.currentAnim===o&&this.stop(),this.anims.delete(i)),o},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=e},44509:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},84563:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},61586:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},72175:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},37690:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},58525:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},5243:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},10598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},4860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},31865:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},16938:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(33885),l=t(6659),r=t(69773),s=new h({initialize:function(){this.entries=new c,this.events=new l},add:function(e,i){return this.entries.set(e,i),this.events.emit(r.ADD,this,e,i),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var i=this.get(e);return i&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,i.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=s},43474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23740),c=t(56694),l=t(97081),r=new c({initialize:function(e){this.game=e,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(l.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new h),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<s.length;e++)this[s[e]].destroy(),this[s[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});p.exports=r},94762:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},75968:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},69773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(75606),r=t(6659),s=t(89787),e=t(74118),i=t(69360),o=t(93222),n=t(93736),a=new h({Extends:r,Mixins:[c.AlphaSingle,c.Visible],initialize:function(u,d,v,g){u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=u,this._y=d,this._width=v,this._height=g,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new i,this.transparent=!0,this.backgroundColor=o("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(v/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,u){return f===void 0&&(f=.5),u===void 0&&(u=f),this.originX=f,this.originY=u,this},getScroll:function(f,u,d){d===void 0&&(d=new n);var v=this.width*.5,g=this.height*.5;return d.x=f-v,d.y=u-g,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var u=this.width*.5;return this.midPoint.x=f,this.scrollX=f-u,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var u=this.height*.5;return this.midPoint.y=f,this.scrollY=f-u,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,u){return this.centerOnX(f),this.centerOnY(u),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,u=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-u,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var u=this.matrix.matrix,d=u[0],v=u[1],g=u[2],x=u[3],m=d*x-v*g;if(!m)return f;var y=u[4],T=u[5],R=this.scrollX,P=this.scrollY,D=this.width,O=this.height,B=this.y,G=B+O,b=this.x,k=b+D,$=this.culledObjects,W=f.length;m=1/m,$.length=0;for(var Z=0;Z<W;++Z){var z=f[Z];if(!z.hasOwnProperty("width")||z.parentContainer){$.push(z);continue}var X=z.width,w=z.height,V=z.x-R*z.scrollFactorX-X*z.originX,Y=z.y-P*z.scrollFactorY-w*z.originY,j=V*d+Y*g+y,J=V*v+Y*x+T,_=(V+X)*d+(Y+w)*g+y,tt=(V+X)*v+(Y+w)*x+T;_>b&&j<k&&tt>B&&J<G&&$.push(z)}return $},getWorldPoint:function(f,u,d){d===void 0&&(d=new n);var v=this.matrix.matrix,g=v[0],x=v[1],m=v[2],y=v[3],T=v[4],R=v[5],P=g*y-x*m;if(!P)return d.x=f,d.y=u,d;P=1/P;var D=y*P,O=-x*P,B=-m*P,G=g*P,b=(m*R-y*T)*P,k=(x*T-g*R)*P,$=Math.cos(this.rotation),W=Math.sin(this.rotation),Z=this.zoomX,z=this.zoomY,X=this.scrollX,w=this.scrollY,V=f+(X*$-w*W)*Z,Y=u+(X*W+w*$)*z;return d.x=V*D+Y*B+b,d.y=V*O+Y*G+k,d},ignore:function(f){var u=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var v=f[d];Array.isArray(v)?this.ignore(v):v.isParent?this.ignore(v.getChildren()):v.cameraFilter|=u}return this},preRender:function(){this.renderList.length=0;var f=this.width,u=this.height,d=f*.5,v=u*.5,g=this.zoomX,x=this.zoomY,m=this.matrix,y=f*this.originX,T=u*this.originY,R=this.scrollX,P=this.scrollY;this.useBounds&&(R=this.clampX(R),P=this.clampY(P)),this.roundPixels&&(y=Math.round(y),T=Math.round(T)),this.scrollX=R,this.scrollY=P;var D=R+d,O=P+v;this.midPoint.set(D,O);var B=f/g,G=u/x;this.worldView.setTo(D-B/2,O-G/2,B,G),m.applyITRS(this.x+y,this.y+T,this.rotation,g,x),m.translate(-y,-T)},clampX:function(f){var u=this._bounds,d=this.displayWidth,v=u.x+(d-this.width)/2,g=Math.max(v,v+u.width-d);return f<v?f=v:f>g&&(f=g),f},clampY:function(f){var u=this._bounds,d=this.displayHeight,v=u.y+(d-this.height)/2,g=Math.max(v,v+u.height-d);return f<v?f=v:f>g&&(f=g),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=l(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=o(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,u,d,v,g){return g===void 0&&(g=!1),this._bounds.setTo(f,u,d,v),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var u=this._bounds;return f.setTo(u.x,u.y,u.width,u.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,u){return u===void 0&&(u=f),this.x=f,this.y=u,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,u){u===void 0&&(u=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=u;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,u){return u===void 0&&(u=f),this.scrollX=f,this.scrollY=u,this},setSize:function(f,u){return u===void 0&&(u=f),this.width=f,this.height=u,this},setViewport:function(f,u,d,v){return this.x=f,this.y=u,this.width=d,this.height=v,this},setZoom:function(f,u){return f===void 0&&(f=1),u===void 0&&(u=f),f===0&&(f=.001),u===0&&(u=.001),this.zoomX=f,this.zoomY=u,this},setMask:function(f,u){return u===void 0&&(u=!0),this.mask=f,this._maskCamera=u?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,u=this.sceneManager;f&&!this._customViewport?u.customViewports++:!f&&this._customViewport&&u.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=a},47751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51052),c=t(79993),l=t(82897),r=t(56694),s=t(64937),e=t(53030),i=t(89787),o=t(42798),n=t(74118),a=t(93736),f=new r({Extends:h,Mixins:[s.PostPipeline],initialize:function(d,v,g,x){h.call(this,d,v,g,x),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new a(1,1),this.followOffset=new a,this.deadzone=null,this._follow=null},setDeadzone:function(u,d){if(u===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=u,this.deadzone.height=d):this.deadzone=new n(0,0,u,d),this._follow){var v=this.width/2,g=this.height/2,x=this._follow.x-this.followOffset.x,m=this._follow.y-this.followOffset.y;this.midPoint.set(x,m),this.scrollX=x-v,this.scrollY=m-g}c(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(u,d,v,g,x,m){return this.fadeEffect.start(!1,u,d,v,g,!0,x,m)},fadeOut:function(u,d,v,g,x,m){return this.fadeEffect.start(!0,u,d,v,g,!0,x,m)},fadeFrom:function(u,d,v,g,x,m,y){return this.fadeEffect.start(!1,u,d,v,g,x,m,y)},fade:function(u,d,v,g,x,m,y){return this.fadeEffect.start(!0,u,d,v,g,x,m,y)},flash:function(u,d,v,g,x,m,y){return this.flashEffect.start(u,d,v,g,x,m,y)},shake:function(u,d,v,g,x){return this.shakeEffect.start(u,d,v,g,x)},pan:function(u,d,v,g,x,m,y){return this.panEffect.start(u,d,v,g,x,m,y)},rotateTo:function(u,d,v,g,x,m,y){return this.rotateToEffect.start(u,d,v,g,x,m,y)},zoomTo:function(u,d,v,g,x,m){return this.zoomEffect.start(u,d,v,g,x,m)},preRender:function(){this.renderList.length=0;var u=this.width,d=this.height,v=u*.5,g=d*.5,x=this.zoom,m=this.matrix,y=u*this.originX,T=d*this.originY,R=this._follow,P=this.deadzone,D=this.scrollX,O=this.scrollY;P&&c(P,this.midPoint.x,this.midPoint.y);var B=!1;if(this.roundPixels&&(y=Math.floor(y),T=Math.floor(T)),R&&!this.panEffect.isRunning){var G=this.lerp,b=R.x-this.followOffset.x,k=R.y-this.followOffset.y;this.roundPixels&&(b=Math.floor(b),k=Math.floor(k)),P?(b<P.x?D=o(D,D-(P.x-b),G.x):b>P.right&&(D=o(D,D+(b-P.right),G.x)),k<P.y?O=o(O,O-(P.y-k),G.y):k>P.bottom&&(O=o(O,O+(k-P.bottom),G.y))):(D=o(D,b-y,G.x),O=o(O,k-T,G.y)),B=!0}this.useBounds&&(D=this.clampX(D),O=this.clampY(O)),this.roundPixels&&(D=Math.floor(D),O=Math.floor(O)),this.scrollX=D,this.scrollY=O;var $=D+v,W=O+g;this.midPoint.set($,W);var Z=u/x,z=d/x,X=$-Z/2,w=W-z/2;this.roundPixels&&(X=Math.floor(X),w=Math.floor(w)),this.worldView.setTo(X,w,Z,z),m.applyITRS(Math.floor(this.x+y),Math.floor(this.y+T),this.rotation,x,x),m.translate(-y,-T),this.shakeEffect.preRender(),B&&this.emit(i.FOLLOW_UPDATE,this,R)},setLerp:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),this.lerp.set(u,d),this},setFollowOffset:function(u,d){return u===void 0&&(u=0),d===void 0&&(d=0),this.followOffset.set(u,d),this},startFollow:function(u,d,v,g,x,m){d===void 0&&(d=!1),v===void 0&&(v=1),g===void 0&&(g=v),x===void 0&&(x=0),m===void 0&&(m=x),this._follow=u,this.roundPixels=d,v=l(v,0,1),g=l(g,0,1),this.lerp.set(v,g),this.followOffset.set(x,m);var y=this.width/2,T=this.height/2,R=u.x-x,P=u.y-m;return this.midPoint.set(R,P),this.scrollX=R-y,this.scrollY=P-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(u,d){this.visible&&(this.rotateToEffect.update(u,d),this.panEffect.update(u,d),this.zoomEffect.update(u,d),this.shakeEffect.update(u,d),this.flashEffect.update(u,d),this.fadeEffect.update(u,d))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=f},62382:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47751),c=t(56694),l=t(72632),r=t(91963),s=t(94287),e=t(40444),i=t(7599),o=new c({initialize:function(a){this.scene=a,this.systems=a.sys,this.roundPixels=a.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,a.sys.events.once(i.BOOT,this.boot,this),a.sys.events.on(i.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var a=this.systems.events;a.on(i.UPDATE,this.update,this),a.once(i.SHUTDOWN,this.shutdown,this)},add:function(n,a,f,u,d,v){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),d===void 0&&(d=!1),v===void 0&&(v="");var g=new h(n,a,f,u);return g.setName(v),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),d&&(this.main=g),g},addExisting:function(n,a){a===void 0&&(a=!1);var f=this.cameras.indexOf(n);return f===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),a&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,a=1,f=0;f<32;f++){for(var u=!1,d=0;d<n.length;d++){var v=n[d];if(v&&v.id===a){u=!0;continue}}if(u)a=a<<1;else return a}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var a=0,f=this.cameras,u=0;u<f.length;u++){var d=f[u];(!n||n&&d.visible)&&a++}return a},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var a=this.scene.sys.scale.width,f=this.scene.sys.scale.height,u=0;u<n.length;u++){var d=n[u],v=l(d,"x",0),g=l(d,"y",0),x=l(d,"width",a),m=l(d,"height",f),y=this.add(v,g,x,m);y.name=l(d,"name",""),y.zoom=l(d,"zoom",1),y.rotation=l(d,"rotation",0),y.scrollX=l(d,"scrollX",0),y.scrollY=l(d,"scrollY",0),y.roundPixels=l(d,"roundPixels",!1),y.visible=l(d,"visible",!0);var T=l(d,"backgroundColor",!1);T&&y.setBackgroundColor(T);var R=l(d,"bounds",null);if(R){var P=l(R,"x",0),D=l(R,"y",0),O=l(R,"width",a),B=l(R,"height",f);y.setBounds(P,D,O,B)}}return this},getCamera:function(n){for(var a=this.cameras,f=0;f<a.length;f++)if(a[f].name===n)return a[f];return null},getCamerasBelowPointer:function(n){for(var a=this.cameras,f=n.x,u=n.y,d=[],v=0;v<a.length;v++){var g=a[v];g.visible&&g.inputEnabled&&s(g,f,u)&&d.unshift(g)}return d},remove:function(n,a){a===void 0&&(a=!0),Array.isArray(n)||(n=[n]);for(var f=0,u=this.cameras,d=0;d<n.length;d++){var v=u.indexOf(n[d]);v!==-1&&(a?u[v].destroy():u[v].renderList=[],u.splice(v,1),f++)}return!this.main&&u[0]&&(this.main=u[0]),f},render:function(n,a){for(var f=this.scene,u=this.cameras,d=0;d<u.length;d++){var v=u[d];if(v.visible&&v.alpha>0){v.preRender();var g=this.getVisibleChildren(a.getChildren(),v);n.render(f,g,v)}}},getVisibleChildren:function(n,a){return n.filter(function(f){return f.willRender(a)})},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,a){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(n,a)},onResize:function(n,a,f,u,d){for(var v=0;v<this.cameras.length;v++){var g=this.cameras[v];g._x===0&&g._y===0&&g._width===u&&g._height===d&&g.setSize(a.width,a.height)}},resize:function(n,a){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(n,a)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var a=this.systems.events;a.off(i.UPDATE,this.update,this),a.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(i.START,this.start,this),this.systems.events.off(i.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",o,"cameras"),p.exports=o},92522:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(89787),r=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,e,i,o,n,a,f,u){if(s===void 0&&(s=!0),e===void 0&&(e=1e3),i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),!a&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=s,this.progress=0,this.red=i,this.green=o,this.blue=n,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u;var d=s?l.FADE_OUT_START:l.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,i,o,n),this.camera},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,o=this.red/255,n=this.green/255,a=this.blue/255;return s.drawFillRect(i.x,i.y,i.width,i.height,e(a,n,o,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?l.FADE_OUT_COMPLETE:l.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},22151:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(89787),r=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(s,e,i,o,n,a,f){return s===void 0&&(s=250),e===void 0&&(e=255),i===void 0&&(i=255),o===void 0&&(o=255),n===void 0&&(n=!1),a===void 0&&(a=null),f===void 0&&(f=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=e,this.green=i,this.blue=o,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=f,this.camera.emit(l.FLASH_START,this.camera,this,s,e,i,o),this.camera)},update:function(s,e){this.isRunning&&(this._elapsed+=e,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var e=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(s,e){if(!this.isRunning)return!1;var i=this.camera,o=this.red/255,n=this.green/255,a=this.blue/255;return s.drawFillRect(i.x,i.y,i.width,i.height,e(a,n,o,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=r},37551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(35060),r=t(89787),s=t(93736),e=new c({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,o,n,a,f,u,d){n===void 0&&(n=1e3),a===void 0&&(a=l.Linear),f===void 0&&(f=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene);var v=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(v.scrollX,v.scrollY),this.destination.set(i,o),v.getScroll(i,o,this.current),typeof a=="string"&&l.hasOwnProperty(a)?this.ease=l[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.camera.emit(r.PAN_START,this.camera,this,n,i,o)),v},update:function(i,o){if(this.isRunning){this._elapsed+=o;var n=h(this._elapsed/this.duration,0,1);this.progress=n;var a=this.camera;if(this._elapsed<this.duration){var f=this.ease(n);a.getScroll(this.destination.x,this.destination.y,this.current);var u=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;a.setScroll(u,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,n,u,d)}else a.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,n,a.scrollX,a.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=e},1771:(p,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(82897),c=t(56694),l=t(89787),r=t(35060),s=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,i,o,n,a,f,u){o===void 0&&(o=1e3),n===void 0&&(n=r.Linear),a===void 0&&(a=!1),f===void 0&&(f=null),u===void 0&&(u=this.camera.scene),i===void 0&&(i=!1),this.shortestPath=i;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var v=360*Math.PI/180;d=d-Math.floor(d/v)*v;var g=this.camera;if(!a&&this.isRunning)return g;if(this.isRunning=!0,this.duration=o,this.progress=0,this.source=g.rotation,this.destination=d,typeof n=="string"&&r.hasOwnProperty(n)?this.ease=r[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=u,this.shortestPath){var x=0,m=0;this.destination>this.source?x=Math.abs(this.destination-this.source):x=Math.abs(this.destination+v)-this.source,this.source>this.destination?m=Math.abs(this.source-this.destination):m=Math.abs(this.source+v)-this.destination,x<m?this.clockwise=!0:x>m&&(this.clockwise=!1)}return this.camera.emit(l.ROTATE_START,this.camera,this,o,d),g},update:function(e,i){if(this.isRunning){this._elapsed+=i;var o=h(this._elapsed/this.duration,0,1);this.progress=o;var n=this.camera;if(this._elapsed<this.duration){var a=this.ease(o);this.current=n.rotation;var f=0,u=360*Math.PI/180,d=this.destination,v=this.current;this.clockwise===!1&&(d=this.current,v=this.destination),d>=v?f=Math.abs(d-v):f=Math.abs(d+u)-v;var g=0;this.clockwise?g=n.rotation+f*a:g=n.rotation-f*a,n.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,o,g)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,o,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=s},3241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(89787),r=t(93736),s=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,i,o,n,a){return e===void 0&&(e=100),i===void 0&&(i=.05),o===void 0&&(o=!1),n===void 0&&(n=null),a===void 0&&(a=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof i=="number"?this.intensity.set(i):this.intensity.set(i.x,i.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=a,this.camera.emit(l.SHAKE_START,this.camera,this,e,i),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,i){if(this.isRunning)if(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var o=this.intensity,n=this.camera.width,a=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*o.x*n*2-o.x*n)*f,this._offsetY=(Math.random()*o.y*a*2-o.y*a)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=s},13383:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(35060),r=t(89787),s=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,i,o,n,a,f){i===void 0&&(i=1e3),o===void 0&&(o=l.Linear),n===void 0&&(n=!1),a===void 0&&(a=null),f===void 0&&(f=this.camera.scene);var u=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source=u.zoom,this.destination=e,typeof o=="string"&&l.hasOwnProperty(o)?this.ease=l[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=f,this.camera.emit(r.ZOOM_START,this.camera,this,i,e)),u},update:function(e,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=s},53030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},85373:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},92057:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},1903:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},96131:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},85409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},25500:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},44071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},19818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},80002:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},87966:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},74217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},34805:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},30408:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},49856:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},69189:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},67657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},14229:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},89787:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(10850),l=new h({initialize:function(s){this.camera=c(s,"camera",null),this.left=c(s,"left",null),this.right=c(s,"right",null),this.up=c(s,"up",null),this.down=c(s,"down",null),this.zoomIn=c(s,"zoomIn",null),this.zoomOut=c(s,"zoomOut",null),this.zoomSpeed=c(s,"zoomSpeed",.01),this.minZoom=c(s,"minZoom",.001),this.maxZoom=c(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=c(s,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=c(s,"speed.x",0),this.speedY=c(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=l},69370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(10850),l=new h({initialize:function(s){this.camera=c(s,"camera",null),this.left=c(s,"left",null),this.right=c(s,"right",null),this.up=c(s,"up",null),this.down=c(s,"down",null),this.zoomIn=c(s,"zoomIn",null),this.zoomOut=c(s,"zoomOut",null),this.zoomSpeed=c(s,"zoomSpeed",.01),this.minZoom=c(s,"minZoom",.001),this.maxZoom=c(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=c(s,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=c(s,"acceleration.x",0),this.accelY=c(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=c(s,"drag",null);typeof i=="number"?(this.dragX=i,this.dragY=i):(this.dragX=c(s,"drag.x",0),this.dragY=c(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var o=c(s,"maxSpeed",null);typeof o=="number"?(this.maxSpeedX=o,this.maxSpeedY=o):(this.maxSpeedX=c(s,"maxSpeed.x",0),this.maxSpeedY=c(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*r|0),this._speedY!==0&&(s.scrollY-=this._speedY*r|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=l},6524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.60.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=h},14033:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(86459),l=t(18360),r=t(77290),s=t(72632),e=t(10850),i=t(42911),o=t(72283),n=t(5923),a=t(65641),f=t(93222),u=new h({initialize:function(v){v===void 0&&(v={});var g=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff",m=e(v,"scale",null);this.width=e(m,"width",1024,v),this.height=e(m,"height",768,v),this.zoom=e(m,"zoom",1,v),this.parent=e(m,"parent",void 0,v),this.scaleMode=e(m,m?"mode":"scaleMode",0,v),this.expandParent=e(m,"expandParent",!0,v),this.autoRound=e(m,"autoRound",!1,v),this.autoCenter=e(m,"autoCenter",0,v),this.resizeInterval=e(m,"resizeInterval",500,v),this.fullscreenTarget=e(m,"fullscreenTarget",null,v),this.minWidth=e(m,"minWidth",0,v),this.maxWidth=e(m,"maxWidth",0,v),this.minHeight=e(m,"minHeight",0,v),this.maxHeight=e(m,"maxHeight",0,v),this.renderType=e(v,"type",c.AUTO),this.canvas=e(v,"canvas",null),this.context=e(v,"context",null),this.canvasStyle=e(v,"canvasStyle",null),this.customEnvironment=e(v,"customEnvironment",!1),this.sceneConfig=e(v,"scene",null),this.seed=e(v,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=e(v,"title",""),this.gameURL=e(v,"url","https://phaser.io"),this.gameVersion=e(v,"version",""),this.autoFocus=e(v,"autoFocus",!0),this.stableSort=e(v,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(v,"dom.createContainer",!1),this.domPointerEvents=e(v,"dom.pointerEvents","none"),this.inputKeyboard=e(v,"input.keyboard",!0),this.inputKeyboardEventTarget=e(v,"input.keyboard.target",window),this.inputKeyboardCapture=e(v,"input.keyboard.capture",[]),this.inputMouse=e(v,"input.mouse",!0),this.inputMouseEventTarget=e(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(v,"input.touch",r.input.touch),this.inputTouchEventTarget=e(v,"input.touch.target",null),this.inputTouchCapture=e(v,"input.touch.capture",!0),this.inputActivePointers=e(v,"input.activePointers",1),this.inputSmoothFactor=e(v,"input.smoothFactor",0),this.inputWindowEvents=e(v,"input.windowEvents",!0),this.inputGamepad=e(v,"input.gamepad",!1),this.inputGamepadEventTarget=e(v,"input.gamepad.target",window),this.disableContextMenu=e(v,"disableContextMenu",!1),this.audio=e(v,"audio",{}),this.hideBanner=e(v,"banner",null)===!1,this.hidePhaser=e(v,"banner.hidePhaser",!1),this.bannerTextColor=e(v,"banner.text",x),this.bannerBackgroundColor=e(v,"banner.background",g),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(v,"fps",null);var y=e(v,"render",null);this.pipeline=e(y,"pipeline",null,v),this.autoMobilePipeline=e(y,"autoMobilePipeline",!0,v),this.defaultPipeline=e(y,"defaultPipeline",a.MULTI_PIPELINE,v),this.antialias=e(y,"antialias",!0,v),this.antialiasGL=e(y,"antialiasGL",!0,v),this.mipmapFilter=e(y,"mipmapFilter","",v),this.desynchronized=e(y,"desynchronized",!1,v),this.roundPixels=e(y,"roundPixels",!1,v),this.pixelArt=e(y,"pixelArt",this.zoom!==1,v),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(y,"transparent",!1,v),this.clearBeforeRender=e(y,"clearBeforeRender",!0,v),this.preserveDrawingBuffer=e(y,"preserveDrawingBuffer",!1,v),this.premultipliedAlpha=e(y,"premultipliedAlpha",!0,v),this.failIfMajorPerformanceCaveat=e(y,"failIfMajorPerformanceCaveat",!1,v),this.powerPreference=e(y,"powerPreference","default",v),this.batchSize=e(y,"batchSize",4096,v),this.maxTextures=e(y,"maxTextures",-1,v),this.maxLights=e(y,"maxLights",10,v);var T=e(v,"backgroundColor",0);this.backgroundColor=f(T),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(v,"callbacks.preBoot",o),this.postBoot=e(v,"callbacks.postBoot",o),this.physics=e(v,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(v,"loader.baseURL",""),this.loaderPath=e(v,"loader.path",""),this.loaderMaxParallelDownloads=e(v,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(v,"loader.crossOrigin",void 0),this.loaderResponseType=e(v,"loader.responseType",""),this.loaderAsync=e(v,"loader.async",!0),this.loaderUser=e(v,"loader.user",""),this.loaderPassword=e(v,"loader.password",""),this.loaderTimeout=e(v,"loader.timeout",0),this.loaderWithCredentials=e(v,"loader.withCredentials",!1),this.loaderImageLoadType=e(v,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(v,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(v,"fx.glow.quality",.1),this.glowFXDistance=e(v,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=e(v,"plugins",null),P=l.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:i(R)&&(this.installGlobalPlugins=s(R,"global",[]),this.installScenePlugins=s(R,"scene",[]),Array.isArray(R.default)?P=R.default:Array.isArray(R.defaultMerge)&&(P=P.concat(R.defaultMerge)))),this.defaultPlugins=P;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(v,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(v,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=c.WEBGL:window.FORCE_CANVAS&&(this.renderType=c.CANVAS))}});p.exports=u},50150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70616),c=t(61068),l=t(86459),r=t(90185),s=function(e){var i=e.config;if((i.customEnvironment||i.canvas)&&i.renderType===l.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!i.customEnvironment&&!i.canvas&&i.renderType!==l.HEADLESS)if(i.renderType===l.AUTO&&(i.renderType=r.webGL?l.WEBGL:l.CANVAS),i.renderType===l.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(i.renderType===l.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+i.renderType);i.antialias||c.disableSmoothing();var o=e.scale.baseSize,n=o.width,a=o.height;if(i.canvas?(e.canvas=i.canvas,e.canvas.width=n,e.canvas.height=a):e.canvas=c.create(e,n,a,i.renderType),i.canvasStyle&&(e.canvas.style=i.canvasStyle),i.antialias||h.setCrisp(e.canvas),i.renderType!==l.HEADLESS){var f,u;f=t(91135),u=t(11857),i.renderType===l.WEBGL?e.renderer=new u(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};p.exports=s},77291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86459),c=function(l){var r=l.config;if(!r.hideBanner){var s="WebGL";r.renderType===h.CANVAS?s="Canvas":r.renderType===h.HEADLESS&&(s="Headless");var e=r.audio,i=l.device.audio,o;if(i.webAudio&&!e.disableWebAudio?o="Web Audio":e.noAudio||!i.webAudio&&!i.audioData?o="No Audio":o="HTML5 Audio",l.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var n="",a=[n];if(Array.isArray(r.bannerBackgroundColor)){var f;r.bannerBackgroundColor.forEach(function(d){n=n.concat("%c "),a.push("background: "+d),f=d}),a[a.length-1]="color: "+r.bannerTextColor+"; background: "+f}else n=n.concat("%c "),a.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);a.push("background: transparent"),r.gameTitle&&(n=n.concat(r.gameTitle),r.gameVersion&&(n=n.concat(" v"+r.gameVersion)),r.hidePhaser||(n=n.concat(" / ")));var u="";r.hidePhaser||(n=n.concat("Phaser v"+h.VERSION+u+" ("+s+" | "+o+")")),n=n.concat(" %c "+r.gameURL),a[0]=n,console.log.apply(console,a)}}};p.exports=c},15213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99584),c=t(90249),l=t(43474),r=t(61068),s=t(56694),e=t(14033),i=t(85178),o=t(50150),n=t(81078),a=t(77291),f=t(77290),u=t(21546),d=t(6659),v=t(97081),g=t(69898),x=t(91963),m=t(49274),y=t(756),T=t(13553),R=t(38203),P=t(6237),D=t(26617),O=t(26493),B=t(84191),G=new s({initialize:function(k){this.config=new e(k),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new c(this),this.textures=new P(this),this.cache=new l(this),this.registry=new n(this,new d),this.input=new g(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=f,this.scale=new y(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new D(this,this.config.fps),this.plugins=new m(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,u(this.boot.bind(this))},boot:function(){if(!x.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),o(this),i(this),a(this),h(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(v.BOOT)},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var b=this.events;b.on(v.HIDDEN,this.onHidden,this),b.on(v.VISIBLE,this.onVisible,this),b.on(v.BLUR,this.onBlur,this),b.on(v.FOCUS,this.onFocus,this)},step:function(b,k){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var $=this.events;$.emit(v.PRE_STEP,b,k),$.emit(v.STEP,b,k),this.scene.update(b,k),$.emit(v.POST_STEP,b,k);var W=this.renderer;W.preRender(),$.emit(v.PRE_RENDER,W,b,k),this.scene.render(W),W.postRender(),$.emit(v.POST_RENDER,W,b,k)}},headlessStep:function(b,k){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var $=this.events;$.emit(v.PRE_STEP,b,k),$.emit(v.STEP,b,k),this.scene.update(b,k),$.emit(v.POST_STEP,b,k),this.scene.isProcessing=!1,$.emit(v.PRE_RENDER,null,b,k),$.emit(v.POST_RENDER,null,b,k)}},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},pause:function(){var b=this.isPaused;this.isPaused=!0,b||this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME)},resume:function(){var b=this.isPaused;this.isPaused=!1,b&&this.events.emit(v.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(b,k){k===void 0&&(k=!1),this.pendingDestroy=!0,this.removeCanvas=b,this.noReturn=k},runDestroy:function(){this.scene.destroy(),this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=G},26617:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(10850),l=t(72283),r=t(27385),s=new h({initialize:function(i,o){this.game=i,this.raf=new r,this.started=!1,this.running=!1,this.minFps=c(o,"min",5),this.targetFps=c(o,"target",60),this.fpsLimit=c(o,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=l,this.forceSetTimeOut=c(o,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=c(o,"deltaHistory",10),this.panicMax=c(o,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=c(o,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var i=this.deltaIndex,o=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=o[i],e=Math.min(e,this._min)),o[i]=e,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var a=0,f=0;f<n;f++)a+=o[f];return a/=n,a},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var i=Math.max(0,e-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta+=i,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var i=Math.max(0,e-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta=i,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,i),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var i=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+i));var o=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(o,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});p.exports=s},26493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97081),c=function(l){var r,s=l.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(o){document[o+"Hidden"]!==void 0&&(document.hidden=function(){return document[o+"Hidden"]},r=o+"visibilitychange")})}var i=function(o){document.hidden||o.type==="pause"?s.emit(h.HIDDEN):s.emit(h.VISIBLE)};r&&document.addEventListener(r,i,!1),window.onblur=function(){s.emit(h.BLUR)},window.onfocus=function(){s.emit(h.FOCUS)},window.focus&&l.config.autoFocus&&window.focus()};p.exports=c},41651:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},5520:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},51673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},25055:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},23767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},57564:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},38327:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},43807:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},73652:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},780:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},13781:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},38247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},29129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},34994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},98704:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},97081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),VISIBLE:t(98704)}},80293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81543),c=t(61068),l=t(10850),r=function(s){var e=l(s,"data",[]),i=l(s,"canvas",null),o=l(s,"palette",h),n=l(s,"pixelWidth",1),a=l(s,"pixelHeight",n),f=l(s,"resizeCanvas",!0),u=l(s,"clearCanvas",!0),d=l(s,"preRender",null),v=l(s,"postRender",null),g=Math.floor(Math.abs(e[0].length*n)),x=Math.floor(Math.abs(e.length*a));i||(i=c.create2D(this,g,x),f=!1,u=!1),f&&(i.width=g,i.height=x);var m=i.getContext("2d",{willReadFrequently:!0});u&&m.clearRect(0,0,g,x),d&&d(i,m);for(var y=0;y<e.length;y++)for(var T=e[y],R=0;R<T.length;R++){var P=T[R];P!=="."&&P!==" "&&(m.fillStyle=o[P],m.fillRect(R*n,y*a,n,a))}return v&&v(i,m),i};p.exports=r},84106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(34631),l=t(38517),r=t(93736),s=new h({Extends:l,initialize:function(i,o,n,a){l.call(this,"CubicBezierCurve"),Array.isArray(i)&&(a=new r(i[6],i[7]),n=new r(i[4],i[5]),o=new r(i[2],i[3]),i=new r(i[0],i[1])),this.p0=i,this.p1=o,this.p2=n,this.p3=a},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,i){i===void 0&&(i=new r);var o=this.p0,n=this.p1,a=this.p2,f=this.p3;return i.set(c(e,o.x,n.x,a.x,f.x),c(e,o.y,n.y,a.y,f.y))},draw:function(e,i){i===void 0&&(i=32);var o=this.getPoints(i);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<o.length;n++)e.lineTo(o[n].x,o[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(e){var i=e.points,o=new r(i[0],i[1]),n=new r(i[2],i[3]),a=new r(i[4],i[5]),f=new r(i[6],i[7]);return new s(o,n,a,f)},p.exports=s},38517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(80222),l=t(74118),r=t(93736),s=new h({initialize:function(i){this.type=i,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,i){return i===void 0&&(i=32),e.strokePoints(this.getPoints(i))},getBounds:function(e,i){e||(e=new l),i===void 0&&(i=16);var o=this.getLength();i>o&&(i=o/2);var n=Math.max(1,Math.round(o/i));return c(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var i=this.getLength(),o=Math.max(1,i/e);return this.getSpacedPoints(o)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var i=[],o,n=this.getPoint(0,this._tmpVec2A),a=0;i.push(0);for(var f=1;f<=e;f++)o=this.getPoint(f/e,this._tmpVec2B),a+=o.distance(n),i.push(a),n.copy(o);return this.cacheArcLengths=i,i},getPointAt:function(e,i){var o=this.getUtoTmapping(e);return this.getPoint(o,i)},getPoints:function(e,i,o){o===void 0&&(o=[]),e||(i?e=this.getLength()/i:e=this.defaultDivisions);for(var n=0;n<=e;n++)o.push(this.getPoint(n/e));return o},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,i,o){o===void 0&&(o=[]),e||(i?e=this.getLength()/i:e=this.defaultDivisions);for(var n=0;n<=e;n++){var a=this.getUtoTmapping(n/e,null,e);o.push(this.getPoint(a))}return o},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,i){i===void 0&&(i=new r);var o=1e-4,n=e-o,a=e+o;return n<0&&(n=0),a>1&&(a=1),this.getPoint(n,this._tmpVec2A),this.getPoint(a,i),i.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,i){var o=this.getUtoTmapping(e);return this.getTangent(o,i)},getTFromDistance:function(e,i){return e<=0?0:this.getUtoTmapping(0,e,i)},getUtoTmapping:function(e,i,o){var n=this.getLengths(o),a=0,f=n.length,u;i?u=Math.min(i,n[f-1]):u=e*n[f-1];for(var d=0,v=f-1,g;d<=v;)if(a=Math.floor(d+(v-d)/2),g=n[a]-u,g<0)d=a+1;else if(g>0)v=a-1;else{v=a;break}if(a=v,n[a]===u)return a/(f-1);var x=n[a],m=n[a+1],y=m-x,T=(u-x)/y;return(a+T)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=s},48835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(38517),l=t(75606),r=t(10850),s=t(23701),e=t(93736),i=new h({Extends:c,initialize:function(n,a,f,u,d,v,g,x){if(typeof n=="object"){var m=n;n=r(m,"x",0),a=r(m,"y",0),f=r(m,"xRadius",0),u=r(m,"yRadius",f),d=r(m,"startAngle",0),v=r(m,"endAngle",360),g=r(m,"clockwise",!1),x=r(m,"rotation",0)}else u===void 0&&(u=f),d===void 0&&(d=0),v===void 0&&(v=360),g===void 0&&(g=!1),x===void 0&&(x=0);c.call(this,"EllipseCurve"),this.p0=new e(n,a),this._xRadius=f,this._yRadius=u,this._startAngle=l(d),this._endAngle=l(v),this._clockwise=g,this._rotation=l(x)},getStartPoint:function(o){return o===void 0&&(o=new e),this.getPoint(0,o)},getResolution:function(o){return o*2},getPoint:function(o,n){n===void 0&&(n=new e);for(var a=Math.PI*2,f=this._endAngle-this._startAngle,u=Math.abs(f)<Number.EPSILON;f<0;)f+=a;for(;f>a;)f-=a;f<Number.EPSILON&&(u?f=0:f=a),this._clockwise&&!u&&(f===a?f=-a:f=f-a);var d=this._startAngle+o*f,v=this.p0.x+this._xRadius*Math.cos(d),g=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var x=Math.cos(this._rotation),m=Math.sin(this._rotation),y=v-this.p0.x,T=g-this.p0.y;v=y*x-T*m+this.p0.x,g=y*m+T*x+this.p0.y}return n.set(v,g)},setXRadius:function(o){return this.xRadius=o,this},setYRadius:function(o){return this.yRadius=o,this},setWidth:function(o){return this.xRadius=o/2,this},setHeight:function(o){return this.yRadius=o/2,this},setStartAngle:function(o){return this.startAngle=o,this},setEndAngle:function(o){return this.endAngle=o,this},setClockwise:function(o){return this.clockwise=o,this},setRotation:function(o){return this.rotation=o,this},x:{get:function(){return this.p0.x},set:function(o){this.p0.x=o}},y:{get:function(){return this.p0.y},set:function(o){this.p0.y=o}},xRadius:{get:function(){return this._xRadius},set:function(o){this._xRadius=o}},yRadius:{get:function(){return this._yRadius},set:function(o){this._yRadius=o}},startAngle:{get:function(){return s(this._startAngle)},set:function(o){this._startAngle=l(o)}},endAngle:{get:function(){return s(this._endAngle)},set:function(o){this._endAngle=l(o)}},clockwise:{get:function(){return this._clockwise},set:function(o){this._clockwise=o}},angle:{get:function(){return s(this._rotation)},set:function(o){this._rotation=l(o)}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=o}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});i.fromJSON=function(o){return new i(o)},p.exports=i},58084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(38517),l=t(80222),r=t(74118),s=t(93736),e=new h({Extends:c,initialize:function(o,n){c.call(this,"LineCurve"),Array.isArray(o)&&(n=new s(o[2],o[3]),o=new s(o[0],o[1])),this.p0=o,this.p1=n,this.arcLengthDivisions=1},getBounds:function(i){return i===void 0&&(i=new r),l([this.p0,this.p1],i)},getStartPoint:function(i){return i===void 0&&(i=new s),i.copy(this.p0)},getResolution:function(i){return i===void 0&&(i=1),i},getPoint:function(i,o){return o===void 0&&(o=new s),i===1?o.copy(this.p1):(o.copy(this.p1).subtract(this.p0).scale(i).add(this.p0),o)},getPointAt:function(i,o){return this.getPoint(i,o)},getTangent:function(i,o){return o===void 0&&(o=new s),o.copy(this.p1).subtract(this.p0).normalize(),o},getUtoTmapping:function(i,o,n){var a;if(o){var f=this.getLengths(n),u=f[f.length-1],d=Math.min(o,u);a=d/u}else a=i;return a},draw:function(i){return i.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(i){var o=i.points,n=new s(o[0],o[1]),a=new s(o[2],o[3]);return new e(n,a)},p.exports=e},64761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(38517),l=t(16252),r=t(93736),s=new h({Extends:c,initialize:function(i,o,n){c.call(this,"QuadraticBezierCurve"),Array.isArray(i)&&(n=new r(i[4],i[5]),o=new r(i[2],i[3]),i=new r(i[0],i[1])),this.p0=i,this.p1=o,this.p2=n},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,i){i===void 0&&(i=new r);var o=this.p0,n=this.p1,a=this.p2;return i.set(l(e,o.x,n.x,a.x),l(e,o.y,n.y,a.y))},draw:function(e,i){i===void 0&&(i=32);var o=this.getPoints(i);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<o.length;n++)e.lineTo(o[n].x,o[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(e){var i=e.points,o=new r(i[0],i[1]),n=new r(i[2],i[3]),a=new r(i[4],i[5]);return new s(o,n,a)},p.exports=s},11956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14976),c=t(56694),l=t(38517),r=t(93736),s=new c({Extends:l,initialize:function(i){i===void 0&&(i=[]),l.call(this,"SplineCurve"),this.points=[],this.addPoints(i)},addPoints:function(e){for(var i=0;i<e.length;i++){var o=new r;typeof e[i]=="number"?(o.x=e[i],o.y=e[i+1],i++):Array.isArray(e[i])?(o.x=e[i][0],o.y=e[i][1]):(o.x=e[i].x,o.y=e[i].y),this.points.push(o)}return this},addPoint:function(e,i){var o=new r(e,i);return this.points.push(o),o},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,i){i===void 0&&(i=new r);var o=this.points,n=(o.length-1)*e,a=Math.floor(n),f=n-a,u=o[a===0?a:a-1],d=o[a],v=o[a>o.length-2?o.length-1:a+1],g=o[a>o.length-3?o.length-1:a+2];return i.set(h(f,u.x,d.x,v.x,g.x),h(f,u.y,d.y,v.y,g.y))},toJSON:function(){for(var e=[],i=0;i<this.points.length;i++)e.push(this.points[i].x),e.push(this.points[i].y);return{type:this.type,points:e}}});s.fromJSON=function(e){return new s(e.points)},p.exports=s},73962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(93736),l=new h({initialize:function(s,e){this.active=!1,this.p0=new c(s,e)},getPoint:function(r,s){return s===void 0&&(s=new c),s.copy(this.p0)},getPointAt:function(r,s){return this.getPoint(r,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=l},12822:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(63120),l=t(48835),r=t(61286),s=t(58084),e=t(53639),i=t(64761),o=t(74118),n=t(11956),a=t(93736),f=t(83392),u=new h({initialize:function(v,g){v===void 0&&(v=0),g===void 0&&(g=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new a,this._tmpVec2A=new a,this._tmpVec2B=new a,typeof v=="object"?this.fromJSON(v):this.startPoint.set(v,g)},add:function(d){return this.curves.push(d),this},circleTo:function(d,v,g){return v===void 0&&(v=!1),this.ellipseTo(d,d,0,360,v,g)},closePath:function(){var d=this.curves[0].getPoint(0),v=this.curves[this.curves.length-1].getPoint(1);return d.equals(v)||this.curves.push(new s(v,d)),this},cubicBezierTo:function(d,v,g,x,m,y){var T=this.getEndPoint(),R,P,D;return d instanceof a?(R=d,P=v,D=g):(R=new a(g,x),P=new a(m,y),D=new a(d,v)),this.add(new c(T,R,P,D))},quadraticBezierTo:function(d,v,g,x){var m=this.getEndPoint(),y,T;return d instanceof a?(y=d,T=v):(y=new a(g,x),T=new a(d,v)),this.add(new i(m,y,T))},draw:function(d,v){for(var g=0;g<this.curves.length;g++){var x=this.curves[g];x.active&&x.draw(d,v)}return d},ellipseTo:function(d,v,g,x,m,y){var T=new l(0,0,d,v,g,x,m,y),R=this.getEndPoint(this._tmpVec2A),P=T.getStartPoint(this._tmpVec2B);return R.subtract(P),T.x=R.x,T.y=R.y,this.add(T)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var v=0;v<d.curves.length;v++){var g=d.curves[v];switch(g.type){case"LineCurve":this.add(s.fromJSON(g));break;case"EllipseCurve":this.add(l.fromJSON(g));break;case"SplineCurve":this.add(n.fromJSON(g));break;case"CubicBezierCurve":this.add(c.fromJSON(g));break;case"QuadraticBezierCurve":this.add(i.fromJSON(g));break}}return this},getBounds:function(d,v){d===void 0&&(d=new o),v===void 0&&(v=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var g=new o,x=f.MIN_SAFE_INTEGER,m=f.MIN_SAFE_INTEGER,y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&(T.getBounds(g,v),d.x=Math.min(d.x,g.x),d.y=Math.min(d.y,g.y),x=Math.max(x,g.right),m=Math.max(m,g.bottom))}return d.right=x,d.bottom=m,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],v=0,g=0;g<this.curves.length;g++)v+=this.curves[g].getLength(),d.push(v);return this.cacheLengths=d,d},getCurveAt:function(d){for(var v=d*this.getLength(),g=this.getCurveLengths(),x=0;x<g.length;){if(g[x]>=v)return this.curves[x];x++}return null},getEndPoint:function(d){return d===void 0&&(d=new a),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,v){v===void 0&&(v=new a);for(var g=d*this.getLength(),x=this.getCurveLengths(),m=0;m<x.length;){if(x[m]>=g){var y=x[m]-g,T=this.curves[m],R=T.getLength(),P=R===0?0:1-y/R;return T.getPointAt(P,v)}m++}return null},getPoints:function(d){d===void 0&&(d=12);for(var v=[],g,x=0;x<this.curves.length;x++){var m=this.curves[x];if(m.active)for(var y=m.getResolution(d),T=m.getPoints(y),R=0;R<T.length;R++){var P=T[R];g&&g.equals(P)||(v.push(P),g=P)}}return this.autoClose&&v.length>1&&!v[v.length-1].equals(v[0])&&v.push(v[0]),v},getRandomPoint:function(d){return d===void 0&&(d=new a),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var v=[],g=0;g<=d;g++)v.push(this.getPoint(g/d));return this.autoClose&&v.push(v[0]),v},getStartPoint:function(d){return d===void 0&&(d=new a),d.copy(this.startPoint)},getTangent:function(d,v){v===void 0&&(v=new a);for(var g=d*this.getLength(),x=this.getCurveLengths(),m=0;m<x.length;){if(x[m]>=g){var y=x[m]-g,T=this.curves[m],R=T.getLength(),P=R===0?0:1-y/R;return T.getTangentAt(P,v)}m++}return null},lineTo:function(d,v){d instanceof a?this._tmpVec2B.copy(d):this._tmpVec2B.set(d,v);var g=this.getEndPoint(this._tmpVec2A);return this.add(new s([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new n(d))},moveTo:function(d,v){return d instanceof a?this.add(new e(d.x,d.y)):this.add(new e(d,v))},toJSON:function(){for(var d=[],v=0;v<this.curves.length;v++)d.push(this.curves[v].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(d,v){return new u(d,v)}),p.exports=u},81078:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(35026),l=new h({initialize:function(s,e){this.parent=s,this.events=e,e||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(c.DESTROY,this.destroy,this)},get:function(r){var s=this.list;if(Array.isArray(r)){for(var e=[],i=0;i<r.length;i++)e.push(s[r[i]]);return e}else return s[r]},getAll:function(){var r={};for(var s in this.list)this.list.hasOwnProperty(s)&&(r[s]=this.list[s]);return r},query:function(r){var s={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(s[e]=this.list[e]);return s},set:function(r,s){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,s);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,s){if(this._frozen)return this;s===void 0&&(s=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+s),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,s){if(this._frozen)return this;if(this.has(r))this.values[r]=s;else{var e=this,i=this.list,o=this.events,n=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return i[r]},set:function(a){if(!e._frozen){var f=i[r];i[r]=a,o.emit(c.CHANGE_DATA,n,r,a,f),o.emit(c.CHANGE_DATA_KEY+r,n,a,f)}}}),i[r]=s,o.emit(c.SET_DATA,n,r,s)}return this},each:function(r,s){for(var e=[this.parent,null,void 0],i=1;i<arguments.length;i++)e.push(arguments[i]);for(var o in this.list)e[1]=o,e[2]=this.list[o],r.apply(s,e);return this},merge:function(r,s){s===void 0&&(s=!0);for(var e in r)r.hasOwnProperty(e)&&(s||!s&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var s=0;s<r.length;s++)this.removeValue(r[s]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var s=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(c.REMOVE_DATA,this.parent,r,s)}return this},pop:function(r){var s=void 0;return!this._frozen&&this.has(r)&&(s=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(c.REMOVE_DATA,this.parent,r,s)),s},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(c.CHANGE_DATA),this.events.off(c.SET_DATA),this.events.off(c.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var s in this.list)this.list[s]!==void 0&&r++;return r}}});p.exports=l},76508:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(81078),l=t(91963),r=t(7599),s=new h({Extends:c,initialize:function(i){c.call(this,i,i.sys.events),this.scene=i,this.systems=i.sys,i.sys.events.once(r.BOOT,this.boot,this),i.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){c.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});l.register("DataManagerPlugin",s,"data"),p.exports=s},73569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},15590:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},37669:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},87090:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},90142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},35026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1350),c={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function l(){if(typeof importScripts=="function")return c;c.audioData=!!window.Audio,c.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),s=!!r.canPlayType;try{if(s){var e=function(n,a){var f=r.canPlayType("audio/"+n).replace(/^no$/,"");return a?!!(f||r.canPlayType("audio/"+a).replace(/^no$/,"")):!!f};if(c.ogg=e('ogg; codecs="vorbis"'),c.opus=e('ogg; codecs="opus"',"opus"),c.mp3=e("mpeg"),c.wav=e("wav"),c.m4a=e("x-m4a"),c.aac=e("aac"),c.flac=e("flac","x-flac"),c.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)c.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(i===10&&o>=11||i>10)&&(c.dolby=!0)}}}}catch{}return c}p.exports=l()},1350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36580),c={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function l(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(c.edge=!0,c.es2019=!0):/OPR/.test(r)?(c.opera=!0,c.es2019=!0):/Chrome\/(\d+)/.test(r)&&!h.windowsPhone?(c.chrome=!0,c.chromeVersion=parseInt(RegExp.$1,10),c.es2019=c.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(c.firefox=!0,c.firefoxVersion=parseInt(RegExp.$1,10),c.es2019=c.firefoxVersion>10):/AppleWebKit/.test(r)&&h.iOS?c.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(r)?(c.ie=!0,c.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(r)&&!h.windowsPhone?(c.safari=!0,c.safariVersion=parseInt(RegExp.$1,10),c.es2019=c.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(c.ie=!0,c.trident=!0,c.tridentVersion=parseInt(RegExp.$1,10),c.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(c.silk=!0),c}p.exports=l()},98581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),c={supportInverseAlpha:!1,supportNewBlendModes:!1};function l(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",i="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",o=new Image;return o.onload=function(){var n=new Image;n.onload=function(){var a=h.create2D(n,6),f=a.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(o,0,0),f.drawImage(n,2,0),!f.getImageData(2,0,1,1))return!1;var u=f.getImageData(2,0,1,1).data;h.remove(n),c.supportNewBlendModes=u[0]===255&&u[1]===0&&u[2]===0},n.src=e+"/wCKxvRF"+i},o.src=e+"AP804Oa6"+i,!1}function r(){var e=h.create2D(this,2),i=e.getContext("2d",{willReadFrequently:!0});i.fillStyle="rgba(10, 20, 30, 0.5)",i.fillRect(0,0,1,1);var o=i.getImageData(0,0,1,1);if(o===null)return!1;i.putImageData(o,1,0);var n=i.getImageData(1,0,1,1),a=n.data[0]===o.data[0]&&n.data[1]===o.data[1]&&n.data[2]===o.data[2]&&n.data[3]===o.data[3];return h.remove(this),a}function s(){return typeof importScripts!="function"&&document!==void 0&&(c.supportNewBlendModes=l(),c.supportInverseAlpha=r()),c}p.exports=s()},90185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36580),c=t(1350),l=t(61068),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var i=new ArrayBuffer(4),o=new Uint8Array(i),n=new Uint32Array(i);return o[0]=161,o[1]=178,o[2]=195,o[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var i=!1,o=function(){if(window.WebGLRenderingContext)try{var n=l.createWebGL(this),a=n.getContext("webgl")||n.getContext("experimental-webgl"),f=l.create2D(this),u=f.getContext("2d",{willReadFrequently:!0}),d=u.createImageData(1,1);return i=d.data instanceof Uint8ClampedArray,l.remove(n),l.remove(f),!!a}catch{return!1}return!1};return r.webGL=o(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,c.firefox&&c.firefoxVersion<21&&(r.getUserMedia=!1),!h.iOS&&(c.ie||c.firefox||c.chrome)&&(r.canvasBitBltShift=!0),(c.safari||c.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=s()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&i,r}p.exports=e()},33553:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var h,c="Fullscreen",l="FullScreen",r=["request"+c,"request"+l,"webkitRequest"+c,"webkitRequest"+l,"msRequest"+c,"msRequest"+l,"mozRequest"+l,"mozRequest"+c];for(h=0;h<r.length;h++)if(document.documentElement[r[h]]){S.available=!0,S.request=r[h];break}var s=["cancel"+l,"exit"+c,"webkitCancel"+l,"webkitExit"+c,"msCancel"+l,"msExit"+c,"mozCancel"+l,"mozExit"+c];if(S.available){for(h=0;h<s.length;h++)if(document[s[h]]){S.cancel=s[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}p.exports=t()},95872:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1350),c={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function l(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(c.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(c.mspointer=!0),navigator.getGamepads&&(c.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?c.wheelEvent="wheel":"onmousewheel"in window?c.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(c.wheelEvent="DOMMouseScroll")),c}p.exports=l()},36580:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var h=navigator.userAgent;/Windows/.test(h)?S.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(h)?S.android=!0:/Linux/.test(h)?S.linux=!0:/iP[ao]d|iPhone/i.test(h)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=h.toLowerCase().indexOf("iphone")!==-1,S.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?S.kindle=!0:/CrOS/.test(h)&&(S.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var c=/Silk/.test(h);return(S.windows||S.macOS||S.linux&&!c||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}p.exports=t()},53861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function l(){if(typeof importScripts=="function")return c;var r=document.createElement("video"),s=!!r.canPlayType,e=/^no$/;try{s&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(c.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(c.h264=!0,c.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(c.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(c.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(c.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(c.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),c.getVideoURL=function(i){Array.isArray(i)||(i=[i]);for(var o=0;o<i.length;o++){var n=h(i[o],"url",i[o]);if(n.indexOf("blob:")===0)return{url:n,type:""};var a;if(n.indexOf("data:")===0?a=n.split(",")[0].match(/\/(.*?);/):a=n.match(/\.([a-zA-Z0-9]+)($|\?)/),a=h(i[o],"type",a?a[1]:"").toLowerCase(),c[a])return{url:n,type:a}}return null},c}p.exports=l()},77290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new Float32Array(20),l=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],s)},saturate:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r*2/3+1,i=(e-1)*-.5;return this.multiply([e,i,i,0,0,i,e,i,0,0,i,i,e,0,0,0,0,0,1,0],s)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1),r=r/180*Math.PI;var e=Math.cos(r),i=Math.sin(r),o=.213,n=.715,a=.072;return this.multiply([o+e*(1-o)+i*-o,n+e*-n+i*-n,a+e*-a+i*(1-a),0,0,o+e*-o+i*.143,n+e*(1-n)+i*.14,a+e*-a+i*-.283,0,0,o+e*-o+i*-(1-o),n+e*-n+i*n,a+e*(1-a)+i*a,0,0,0,0,0,1,0],s)},grayscale:function(r,s){return r===void 0&&(r=1),s===void 0&&(s=!1),this.saturate(-r,s)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(l.BLACK_WHITE,r)},contrast:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var e=r+1,i=-.5*(e-1);return this.multiply([e,0,0,0,i,0,e,0,0,i,0,0,e,0,i,0,0,0,1,0],s)},negative:function(r){return r===void 0&&(r=!1),this.multiply(l.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(l.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(l.SEPIA,r)},night:function(r,s){return r===void 0&&(r=.1),s===void 0&&(s=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],s)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(l.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(l.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(l.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(l.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(l.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(l.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(l.SHIFT_BGR,r)},multiply:function(r,s){s===void 0&&(s=!1),s||this.reset();var e=this._matrix,i=c;return i.set(e),e.set([i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19]]),this._dirty=!0,this}});l.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],l.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],l.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],l.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],l.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],l.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],l.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],l.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],l.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],l.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],l.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p.exports=l},39298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72283),l=new h({initialize:function(s,e,i){this._rgb=[0,0,0],this.onChangeCallback=c,this.dirty=!1,this.set(s,e,i)},set:function(r,s,e){return r===void 0&&(r=0),s===void 0&&(s=0),e===void 0&&(e=0),this._rgb=[r,s,e],this.onChange(),this},equals:function(r,s,e){var i=this._rgb;return i[0]===r&&i[1]===s&&i[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=l},84093:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=S},32058:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(59994),l=t(73174),r=t(28417),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)+o),l(e,h(i)+n),e};p.exports=s},85535:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(40163),l=t(73174),r=t(74465),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)-o),l(e,h(i)+n),e};p.exports=s},9605:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(70271),l=t(73174),r=t(19298),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)+o),l(e,h(i)+n),e};p.exports=s},22529:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21843),c=t(59994),l=t(29568),r=function(s,e,i,o){return i===void 0&&(i=0),o===void 0&&(o=0),h(s,c(e)+i,l(e)+o),s};p.exports=r},5739:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29568),c=t(40163),l=t(81711),r=t(74465),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)-o),l(e,h(i)+n),e};p.exports=s},40327:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84093),c=[];c[h.BOTTOM_CENTER]=t(32058),c[h.BOTTOM_LEFT]=t(85535),c[h.BOTTOM_RIGHT]=t(9605),c[h.CENTER]=t(22529),c[h.LEFT_CENTER]=t(5739),c[h.RIGHT_CENTER]=t(27683),c[h.TOP_CENTER]=t(96439),c[h.TOP_LEFT]=t(81447),c[h.TOP_RIGHT]=t(47888),c[h.LEFT_BOTTOM]=c[h.BOTTOM_LEFT],c[h.LEFT_TOP]=c[h.TOP_LEFT],c[h.RIGHT_BOTTOM]=c[h.BOTTOM_RIGHT],c[h.RIGHT_TOP]=c[h.TOP_RIGHT];var l=function(r,s,e,i,o){return c[e](r,s,i,o)};p.exports=l},27683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29568),c=t(70271),l=t(81711),r=t(19298),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)+o),l(e,h(i)+n),e};p.exports=s},96439:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59994),c=t(47196),l=t(28417),r=t(84349),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),l(e,h(i)+o),r(e,c(i)-n),e};p.exports=s},81447:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40163),c=t(47196),l=t(74465),r=t(84349),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),l(e,h(i)-o),r(e,c(i)-n),e};p.exports=s},47888:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70271),c=t(47196),l=t(19298),r=t(84349),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),l(e,h(i)+o),r(e,c(i)-n),e};p.exports=s},46997:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84093),c=t(98611),l={In:t(46997),To:t(86639)};l=c(!1,l,h),p.exports=l},27118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(59994),l=t(28417),r=t(84349),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),l(e,c(i)+o),r(e,h(i)+n),e};p.exports=s},84469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(40163),l=t(74465),r=t(84349),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),l(e,c(i)-o),r(e,h(i)+n),e};p.exports=s},51577:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(70271),l=t(19298),r=t(84349),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),l(e,c(i)+o),r(e,h(i)+n),e};p.exports=s},90271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(40163),l=t(73174),r=t(19298),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)-o),l(e,h(i)+n),e};p.exports=s},30466:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29568),c=t(40163),l=t(81711),r=t(19298),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)-o),l(e,h(i)+n),e};p.exports=s},50087:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40163),c=t(47196),l=t(19298),r=t(84349),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),l(e,h(i)-o),r(e,c(i)-n),e};p.exports=s},82590:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84093),c=[];c[h.BOTTOM_CENTER]=t(27118),c[h.BOTTOM_LEFT]=t(84469),c[h.BOTTOM_RIGHT]=t(51577),c[h.LEFT_BOTTOM]=t(90271),c[h.LEFT_CENTER]=t(30466),c[h.LEFT_TOP]=t(50087),c[h.RIGHT_BOTTOM]=t(13555),c[h.RIGHT_CENTER]=t(99049),c[h.RIGHT_TOP]=t(67788),c[h.TOP_CENTER]=t(78170),c[h.TOP_LEFT]=t(54145),c[h.TOP_RIGHT]=t(75548);var l=function(r,s,e,i,o){return c[e](r,s,i,o)};p.exports=l},13555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(70271),l=t(73174),r=t(74465),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)+o),l(e,h(i)+n),e};p.exports=s},99049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29568),c=t(70271),l=t(81711),r=t(74465),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,c(i)+o),l(e,h(i)+n),e};p.exports=s},67788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70271),c=t(47196),l=t(74465),r=t(84349),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),l(e,h(i)+o),r(e,c(i)-n),e};p.exports=s},78170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59994),c=t(47196),l=t(73174),r=t(28417),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,h(i)+o),l(e,c(i)-n),e};p.exports=s},54145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40163),c=t(47196),l=t(73174),r=t(74465),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,h(i)-o),l(e,c(i)-n),e};p.exports=s},75548:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70271),c=t(47196),l=t(73174),r=t(19298),s=function(e,i,o,n){return o===void 0&&(o=0),n===void 0&&(n=0),r(e,h(i)+o),l(e,c(i)-n),e};p.exports=s},86639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28417),c=t(81711),l=function(r,s,e){return h(r,s),c(r,e)};p.exports=l},97328:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};p.exports=S},7126:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),c=t(40163),l=t(70271),r=t(47196),s=t(74118),e=function(i,o){o===void 0&&(o=new s);var n=c(i),a=r(i);return o.x=n,o.y=a,o.width=l(i)-n,o.height=h(i)-a,o};p.exports=e},59994:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};p.exports=S},29568:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};p.exports=S},40163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};p.exports=S},52088:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};p.exports=S},23379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};p.exports=S},70271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};p.exports=S},47196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};p.exports=S},73174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h-t.height+t.height*t.originY,t};p.exports=S},28417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.width*t.originX;return t.x=h+c-t.width*.5,t};p.exports=S},81711:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.height*t.originY;return t.y=h+c-t.height*.5,t};p.exports=S},74465:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h+t.width*t.originX,t};p.exports=S},19298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h-t.width+t.width*t.originX,t};p.exports=S},84349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h+t.height*t.originY,t};p.exports=S},15252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(c){t.style["image-rendering"]=c}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};p.exports=S},61068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86459),c=t(8213),l=[],r=!1,s=function(){var e=function(g,x,m,y,T){x===void 0&&(x=1),m===void 0&&(m=1),y===void 0&&(y=h.CANVAS),T===void 0&&(T=!1);var R,P=n(y);return P===null?(P={parent:g,canvas:document.createElement("canvas"),type:y},y===h.CANVAS&&l.push(P),R=P.canvas):(P.parent=g,R=P.canvas),T&&(P.parent=R),R.width=x,R.height=m,r&&y===h.CANVAS&&c.disable(R.getContext("2d",{willReadFrequently:!1})),R},i=function(g,x,m){return e(g,x,m,h.CANVAS)},o=function(g,x,m){return e(g,x,m,h.WEBGL)},n=function(g){if(g===void 0&&(g=h.CANVAS),g===h.WEBGL)return null;for(var x=0;x<l.length;x++){var m=l[x];if(!m.parent&&m.type===g)return m}return null},a=function(g){var x=g instanceof HTMLCanvasElement;l.forEach(function(m){(x&&m.canvas===g||!x&&m.parent===g)&&(m.parent=null,m.canvas.width=1,m.canvas.height=1)})},f=function(){var g=0;return l.forEach(function(x){x.parent&&g++}),g},u=function(){return l.length-f()},d=function(){r=!0},v=function(){r=!1};return{create2D:i,create:e,createWebGL:o,disableSmoothing:d,enableSmoothing:v,first:n,free:u,pool:l,remove:a,total:f}};p.exports=s()},8213:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var h=function(s){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var o=e[i]+"mageSmoothingEnabled";if(o in s)return o}return null},c=function(s){return S===""&&(S=h(s)),S&&(s[S]=!0),s},l=function(s){return S===""&&(S=h(s)),S&&(s[S]=!1),s},r=function(s){return S!==null?s[S]:null};return{disable:l,enable:c,getPrefix:h,isEnabled:r}};p.exports=t()},59271:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};p.exports=S},36505:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h="none");var c=["-webkit-","-khtml-","-moz-","-ms-",""];return c.forEach(function(l){t.style[l+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};p.exports=S},23514:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(22946),l=t(5657),r=t(24650),s=t(68033),e=new h({initialize:function(o,n,a,f){o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(o,n,a,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(i,o,n,a,f){return a===void 0&&(a=255),f===void 0&&(f=!0),this._locked=!0,this.red=i,this.green=o,this.blue=n,this.alpha=a,this._locked=!1,this.update(f)},setGLTo:function(i,o,n,a){return a===void 0&&(a=1),this._locked=!0,this.redGL=i,this.greenGL=o,this.blueGL=n,this.alphaGL=a,this._locked=!1,this.update(!0)},setFromRGB:function(i){return this._locked=!0,this.red=i.r,this.green=i.g,this.blue=i.b,i.hasOwnProperty("a")&&(this.alpha=i.a),this._locked=!1,this.update(!0)},setFromHSV:function(i,o,n){return r(i,o,n,this)},update:function(i){if(i===void 0&&(i=!1),this._locked)return this;var o=this.r,n=this.g,a=this.b,f=this.a;return this._color=c(o,n,a),this._color32=l(o,n,a,f),this._rgba="rgba("+o+","+n+","+a+","+f/255+")",i&&s(o,n,a,this),this},updateHSV:function(){var i=this.r,o=this.g,n=this.b;return s(i,o,n,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(i){return this.setTo(i,i,i)},random:function(i,o){i===void 0&&(i=0),o===void 0&&(o=255);var n=Math.floor(i+Math.random()*(o-i)),a=Math.floor(i+Math.random()*(o-i)),f=Math.floor(i+Math.random()*(o-i));return this.setTo(n,a,f)},randomGray:function(i,o){i===void 0&&(i=0),o===void 0&&(o=255);var n=Math.floor(i+Math.random()*(o-i));return this.setTo(n,n,n)},saturate:function(i){return this.s+=i/100,this},desaturate:function(i){return this.s-=i/100,this},lighten:function(i){return this.v+=i/100,this},darken:function(i){return this.v-=i/100,this},brighten:function(i){var o=this.r,n=this.g,a=this.b;return o=Math.max(0,Math.min(255,o-Math.round(255*-(i/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(i/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(i/100)))),this.setTo(o,n,a)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(i){this.gl[0]=Math.min(Math.abs(i),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(i){this.gl[1]=Math.min(Math.abs(i),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(i){this.gl[2]=Math.min(Math.abs(i),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(i){this.gl[3]=Math.min(Math.abs(i),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(i){i=Math.floor(Math.abs(i)),this.r=Math.min(i,255),this.gl[0]=i/255,this.update(!0)}},green:{get:function(){return this.g},set:function(i){i=Math.floor(Math.abs(i)),this.g=Math.min(i,255),this.gl[1]=i/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(i){i=Math.floor(Math.abs(i)),this.b=Math.min(i,255),this.gl[2]=i/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(i){i=Math.floor(Math.abs(i)),this.a=Math.min(i,255),this.gl[3]=i/255,this.update()}},h:{get:function(){return this._h},set:function(i){this._h=i,r(i,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(i){this._s=i,r(this._h,i,this._v,this)}},v:{get:function(){return this._v},set:function(i){this._v=i,r(this._h,this._s,i,this)}}});p.exports=e},30245:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22946),c=function(l){l===void 0&&(l=1024);var r=[],s=255,e,i=255,o=0,n=0;for(e=0;e<=s;e++)r.push({r:i,g:e,b:n,color:h(i,e,n)});for(o=255,e=s;e>=0;e--)r.push({r:e,g:o,b:n,color:h(e,o,n)});for(i=0,e=0;e<=s;e++,o--)r.push({r:i,g:o,b:e,color:h(i,o,e)});for(o=0,n=255,e=0;e<=s;e++,n--,i++)r.push({r:i,g:o,b:n,color:h(i,o,n)});if(l===1024)return r;var a=[],f=0,u=1024/l;for(e=0;e<l;e++)a.push(r[Math.floor(f)]),f+=u;return a};p.exports=c},86672:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};p.exports=S},25409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};p.exports=S},22946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t<<16|h<<8|c};p.exports=S},5657:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){return l<<24|t<<16|h<<8|c};p.exports=S},74777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),c=t(59998),l=function(r,s,e){var i=e,o=e,n=e;if(s!==0){var a=e<.5?e*(1+s):e+s-e*s,f=2*e-a;i=c(f,a,r+1/3),o=c(f,a,r),n=c(f,a,r-1/3)}var u=new h;return u.setGLTo(i,o,n,1)};p.exports=l},89263:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24650),c=function(l,r){l===void 0&&(l=1),r===void 0&&(r=1);for(var s=[],e=0;e<=359;e++)s.push(h(e/359,l,r));return s};p.exports=c},24650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22946);function c(r,s,e,i){var o=(r+s*6)%6,n=Math.min(o,4-o,1);return Math.round(255*(i-i*e*Math.max(0,n)))}var l=function(r,s,e,i){s===void 0&&(s=1),e===void 0&&(e=1);var o=c(5,r,s,e),n=c(3,r,s,e),a=c(1,r,s,e);return i?i.setTo?i.setTo(o,n,a,i.alpha,!0):(i.r=o,i.g=n,i.b=a,i.color=h(o,n,a),i):{r:o,g:n,b:a,color:h(o,n,a)}};p.exports=l},91487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),c=function(l){var r=new h;l=l.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,a,f,u){return a+a+f+f+u+u});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);if(s){var e=parseInt(s[1],16),i=parseInt(s[2],16),o=parseInt(s[3],16);r.setTo(e,i,o)}return r};p.exports=c},59998:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return c<0&&(c+=1),c>1&&(c-=1),c<.16666666666666666?t+(h-t)*6*c:c<.5?h:c<.6666666666666666?t+(h-t)*(.6666666666666666-c)*6:t};p.exports=S},74853:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),c=t(15978),l=function(r){var s=c(r);return new h(s.r,s.g,s.b,s.a)};p.exports=l},15978:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};p.exports=S},53756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42798),c=function(s,e,i,o,n,a,f,u){f===void 0&&(f=100),u===void 0&&(u=0);var d=u/f;return{r:h(s,o,d),g:h(e,n,d),b:h(i,a,d)}},l=function(s,e,i,o){return i===void 0&&(i=100),o===void 0&&(o=0),c(s.r,s.g,s.b,e.r,e.g,e.b,i,o)},r=function(s,e,i,o,n,a){return n===void 0&&(n=100),a===void 0&&(a=0),c(s.r,s.g,s.b,e,i,o,n,a)};p.exports={RGBWithRGB:c,ColorWithRGB:r,ColorWithColor:l}},73904:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),c=function(l){return new h(l.r,l.g,l.b,l.a)};p.exports=c},26841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),c=function(l){var r=new h,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(l.toLowerCase());if(s){var e=parseInt(s[1],10),i=parseInt(s[2],10),o=parseInt(s[3],10),n=s[4]!==void 0?parseFloat(s[4]):1;r.setTo(e,i,o,n*255)}return r};p.exports=c},68033:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){l===void 0&&(l={h:0,s:0,v:0}),t/=255,h/=255,c/=255;var r=Math.min(t,h,c),s=Math.max(t,h,c),e=s-r,i=0,o=s===0?0:e/s,n=s;return s!==r&&(s===t?i=(h-c)/e+(h<c?6:0):s===h?i=(c-t)/e+2:s===c&&(i=(t-h)/e+4),i/=6),l.hasOwnProperty("_h")?(l._h=i,l._s=o,l._v=n):(l.h=i,l.s=o,l.v=n),l};p.exports=S},4880:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25409),c=function(l,r,s,e,i){return e===void 0&&(e=255),i===void 0&&(i="#"),i==="#"?"#"+((1<<24)+(l<<16)+(r<<8)+s).toString(16).slice(1,7):"0x"+h(e)+h(l)+h(r)+h(s)};p.exports=c},37243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17489),c=t(27119),l=function(r,s){return r===void 0&&(r=0),s===void 0&&(s=255),new c(h(r,s),h(r,s),h(r,s))};p.exports=l},93222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91487),c=t(74853),l=t(73904),r=t(26841),s=function(e){var i=typeof e;switch(i){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):h(e);case"number":return c(e);case"object":return l(e)}};p.exports=s},95509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119);h.ColorSpectrum=t(30245),h.ColorToRGBA=t(86672),h.ComponentToHex=t(25409),h.GetColor=t(22946),h.GetColor32=t(5657),h.HexStringToColor=t(91487),h.HSLToColor=t(74777),h.HSVColorWheel=t(89263),h.HSVToRGB=t(24650),h.HueToComponent=t(59998),h.IntegerToColor=t(74853),h.IntegerToRGB=t(15978),h.Interpolate=t(53756),h.ObjectToColor=t(73904),h.RandomRGB=t(37243),h.RGBStringToColor=t(26841),h.RGBToHSV=t(68033),h.RGBToString=t(4880),h.ValueToColor=t(93222),p.exports=h},24816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(61286),l=new h({initialize:function(s,e,i,o,n,a){e||(e=s.sys.make.image({x:i,y:o,key:n,frame:a,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,s,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,e)},postRenderWebGL:function(r,s,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});c.register("bitmapMask",function(r,s,e,i,o){return new l(this.scene,r,s,e,i,o)}),p.exports=l},63037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(l){return this.geometryMask=l,this},setInvertAlpha:function(l){return l===void 0&&(l=!0),this.invertAlpha=l,this},preRenderWebGL:function(l,r,s){var e=l.gl;l.flush(),l.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),l.maskCount=0),l.currentCameraMask.mask!==this&&(l.currentMask.mask=this),l.maskStack.push({mask:this,camera:s}),this.applyStencil(l,s,!0),l.maskCount++},applyStencil:function(l,r,s){var e=l.gl,i=this.geometryMask,o=l.maskCount,n=255;e.colorMask(!1,!1,!1,!1),s?(e.stencilFunc(e.EQUAL,o,n),e.stencilOp(e.KEEP,e.KEEP,e.INCR),o++):(e.stencilFunc(e.EQUAL,o+1,n),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=o,i.renderWebGL(l,i,r),l.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,o,n):e.stencilFunc(e.EQUAL,o,n)},postRenderWebGL:function(l){var r=l.gl;l.maskStack.pop(),l.maskCount--,l.flush();var s=l.currentMask;if(l.maskStack.length===0)s.mask=null,r.disable(r.STENCIL_TEST);else{var e=l.maskStack[l.maskStack.length-1];e.mask.applyStencil(l,e.camera,!1),l.currentCameraMask.mask!==e.mask?(s.mask=e.mask,s.camera=e.camera):s.mask=null}},preRenderCanvas:function(l,r,s){var e=this.geometryMask;l.currentContext.save(),e.renderCanvas(l,e,s,null,null,!0),l.currentContext.clip()},postRenderCanvas:function(l){l.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=c},93310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s,e,i){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),i===void 0&&(i=null),this.key=r,this.fragmentSrc=s,this.vertexSrc=e,this.uniforms=i}});p.exports=c},99584:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c;if(h)typeof h=="string"?c=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(c=h);else if(t.parentElement||h===null)return t;return c||(c=document.body),c.appendChild(t),t};p.exports=S},85178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99584),c=function(l){var r=l.config;if(!(!r.parent||!r.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+l.scale.width+"px;","height: "+l.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),l.domContainer=s,h(s,r.parent)}};p.exports=c},21546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36580),c=function(l){if(document.readyState==="complete"||document.readyState==="interactive"){l();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),l()};document.body?h.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};p.exports=c},74181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),c={w:0,h:0},l=document.createElement("div");return l.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(l),c.w=h===90?l.offsetHeight:window.innerWidth,c.h=h===90?window.innerWidth:l.offsetHeight,document.documentElement.removeChild(l),l=null,Math.abs(window.orientation)!==90?c.h:c.w};p.exports=S},9229:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55301),c=function(l,r){var s=window.screen,e=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return r>l?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};p.exports=c},2893:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};p.exports=S},89200:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h="";try{if(window.DOMParser){var c=new DOMParser;h=c.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};p.exports=S},55638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};p.exports=S},27385:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72283),l=new h({initialize:function(){this.isRunning=!1,this.callback=c,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var s=this;this.step=function e(i){s.callback(i),s.isRunning&&(s.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){s.isRunning&&(s.timeOutID=window.setTimeout(e,s.delay)),s.callback(window.performance.now())}},start:function(r,s,e){this.isRunning||(this.callback=r,this.isSetTimeOut=s,this.delay=e,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=c}});p.exports=l},3590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};p.exports=h},78491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(6659),l=t(91963),r=new h({Extends:c,initialize:function(){c.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});l.register("EventEmitter",r,"events"),p.exports=r},95146:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(78491)}},20170:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i){i===void 0&&(i=1),c.call(this,l.BARREL,e),this.amount=i}});p.exports=r},51182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a,f,u){o===void 0&&(o=1),n===void 0&&(n=1),a===void 0&&(a=1),f===void 0&&(f=1),u===void 0&&(u=4),c.call(this,l.BLOOM,e),this.steps=u,this.offsetX=o,this.offsetY=n,this.blurStrength=a,this.strength=f,this.glcolor=[1,1,1],i!=null&&(this.color=i)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},51498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a,f,u){o===void 0&&(o=2),n===void 0&&(n=2),a===void 0&&(a=1),u===void 0&&(u=4),c.call(this,l.BLUR,e),this.quality=0,this.x=o,this.y=n,this.steps=u,this.strength=a,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},12042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a,f,u,d){i===void 0&&(i=.5),o===void 0&&(o=1),n===void 0&&(n=.2),a===void 0&&(a=!1),f===void 0&&(f=1),u===void 0&&(u=1),d===void 0&&(d=1),c.call(this,l.BOKEH,e),this.radius=i,this.amount=o,this.contrast=n,this.isTiltShift=a,this.strength=d,this.blurX=f,this.blurY=u}});p.exports=r},69900:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a,f){i===void 0&&(i=8),a===void 0&&(a=1),f===void 0&&(f=.005),c.call(this,l.CIRCLE,e),this.scale=a,this.feather=f,this.thickness=i,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],o!=null&&(this.color=o),n!=null&&(this.backgroundColor=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor2;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},48991:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(65246),l=t(47406),r=new h({Extends:c,initialize:function(e){c.call(this),this.type=l.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});p.exports=r},47551:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s){this.type=r,this.gameObject=s,this.active=!0},setActive:function(l){return this.active=l,this},destroy:function(){this.gameObject=null,this.active=!1}});p.exports=c},47909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n){i===void 0&&(i="__WHITE"),o===void 0&&(o=.005),n===void 0&&(n=.005),c.call(this,l.DISPLACEMENT,e),this.x=o,this.y=n,this.glTexture,this.setTexture(i)},setTexture:function(s){var e=this.gameObject.scene.sys.textures.getFrame(s);return e&&(this.glTexture=e.glTexture),this}});p.exports=r},18919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a){o===void 0&&(o=4),n===void 0&&(n=0),a===void 0&&(a=!1),c.call(this,l.GLOW,e),this.outerStrength=o,this.innerStrength=n,this.knockout=a,this.glcolor=[1,1,1,1],i!==void 0&&(this.color=i)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},62494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a,f,u,d,v){n===void 0&&(n=.2),a===void 0&&(a=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=1),v===void 0&&(v=0),c.call(this,l.GRADIENT,e),this.alpha=n,this.size=v,this.fromX=a,this.fromY=f,this.toX=u,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],i!=null&&(this.color1=i),o!=null&&(this.color2=o)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor1;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var e=this.glcolor2;e[0]=s>>16&255,e[1]=s>>8&255,e[2]=s&255}}});p.exports=r},68897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i){i===void 0&&(i=1),c.call(this,l.PIXELATE,e),this.amount=i}});p.exports=r},58575:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a,f,u,d){i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n=.1),a===void 0&&(a=1),u===void 0&&(u=6),d===void 0&&(d=1),c.call(this,l.SHADOW,e),this.x=i,this.y=o,this.decay=n,this.power=a,this.glcolor=[0,0,0,1],this.samples=u,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var e=this.glcolor;e[0]=(s>>16&255)/255,e[1]=(s>>8&255)/255,e[2]=(s&255)/255}}});p.exports=r},33755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a){i===void 0&&(i=.5),o===void 0&&(o=.5),n===void 0&&(n=3),a===void 0&&(a=!1),c.call(this,l.SHINE,e),this.speed=i,this.lineWidth=o,this.gradient=n,this.reveal=a}});p.exports=r},24949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a){i===void 0&&(i=.5),o===void 0&&(o=.5),n===void 0&&(n=.5),a===void 0&&(a=.5),c.call(this,l.VIGNETTE,e),this.x=i,this.y=o,this.radius=n,this.strength=a}});p.exports=r},66241:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47551),l=t(47406),r=new h({Extends:c,initialize:function(e,i,o,n,a){i===void 0&&(i=.1),o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=!1),c.call(this,l.WIPE,e),this.progress=0,this.wipeWidth=i,this.direction=o,this.axis=n,this.reveal=a}});p.exports=r},47406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};p.exports=S},96910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),c=t(47406),l={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};l=h(!1,l,c),p.exports=l},88933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),c=t(20494),l=function(r,s,e){s.x=c(e,"x",0),s.y=c(e,"y",0),s.depth=c(e,"depth",0),s.flipX=c(e,"flipX",!1),s.flipY=c(e,"flipY",!1);var i=c(e,"scale",null);typeof i=="number"?s.setScale(i):i!==null&&(s.scaleX=c(i,"x",1),s.scaleY=c(i,"y",1));var o=c(e,"scrollFactor",null);typeof o=="number"?s.setScrollFactor(o):o!==null&&(s.scrollFactorX=c(o,"x",1),s.scrollFactorY=c(o,"y",1)),s.rotation=c(e,"rotation",0);var n=c(e,"angle",null);n!==null&&(s.angle=n),s.alpha=c(e,"alpha",1);var a=c(e,"origin",null);if(typeof a=="number")s.setOrigin(a);else if(a!==null){var f=c(a,"x",.5),u=c(a,"y",.5);s.setOrigin(f,u)}s.blendMode=c(e,"blendMode",h.NORMAL),s.visible=c(e,"visible",!0);var d=c(e,"add",!0);return d&&r.sys.displayList.add(s),s.preUpdate&&r.sys.updateList.add(s),s};p.exports=l},32291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20494),c=function(l,r){var s=h(r,"anims",null);if(s===null)return l;if(typeof s=="string")l.anims.play(s);else if(typeof s=="object"){var e=l.anims,i=h(s,"key",void 0);if(i){var o=h(s,"startFrame",void 0),n=h(s,"delay",0),a=h(s,"repeat",0),f=h(s,"repeatDelay",0),u=h(s,"yoyo",!1),d=h(s,"play",!1),v=h(s,"delayedPlay",0),g={key:i,delay:n,repeat:a,repeatDelay:f,yoyo:u,startFrame:o};d?e.play(g):v>0?e.playAfterDelay(g,v):e.load(g)}}return l};p.exports=c},91713:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(71207),l=t(91963),r=t(56631),s=t(7599),e=t(17922),i=new h({Extends:c,initialize:function(n){c.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(o){o.displayList&&o.displayList!==this&&o.removeFromDisplayList(),o.parentContainer&&o.parentContainer.remove(o),o.displayList||(this.queueDepthSort(),o.displayList=this,o.emit(r.ADDED_TO_SCENE,o,this.scene),this.events.emit(s.ADDED_TO_SCENE,o,this.scene))},removeChildCallback:function(o){this.queueDepthSort(),o.displayList=null,o.emit(r.REMOVED_FROM_SCENE,o,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,o,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(o,n){return o._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var o=this.list;o.length;)o[0].destroy(!0);this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});l.register("DisplayList",i,"displayList"),p.exports=i},89980:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(48129),l=t(81078),r=t(6659),s=t(56631),e=t(7599),i=new h({Extends:r,initialize:function(n,a){r.call(this),this.scene=n,this.displayList=null,this.type=a,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(o){return this.active=o,this},setName:function(o){return this.name=o,this},setState:function(o){return this.state=o,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(o,n){return this.data||(this.data=new l(this)),this.data.set(o,n),this},incData:function(o,n){return this.data||(this.data=new l(this)),this.data.inc(o,n),this},toggleData:function(o){return this.data||(this.data=new l(this)),this.data.toggle(o),this},getData:function(o){return this.data||(this.data=new l(this)),this.data.get(o)},setInteractive:function(o,n,a){return this.scene.sys.input.enable(this,o,n,a),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return c(this)},willRender:function(o){var n=this.displayList&&this.displayList.active?this.displayList.willRender(o):!0;return!(!n||i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},getIndexList:function(){for(var o=this,n=this.parentContainer,a=[];n&&(a.unshift(n.getIndex(o)),o=n,n.parentContainer);)n=n.parentContainer;return this.displayList?a.unshift(this.displayList.getIndex(o)):a.unshift(this.scene.sys.displayList.getIndex(o)),a},addToDisplayList:function(o){return o===void 0&&(o=this.scene.sys.displayList),this.displayList&&this.displayList!==o&&this.removeFromDisplayList(),o.exists(this)||(this.displayList=o,o.add(this,!0),o.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),o.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var o=this.displayList||this.scene.sys.displayList;return o&&o.exists(this)&&(o.remove(this,!0),o.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),o.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(o){!this.scene||this.ignoreDestroy||(o===void 0&&(o=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,o),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});i.RENDER_MASK=15,p.exports=i},99325:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(91963),l=t(7599),r=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,e){r.prototype.hasOwnProperty(s)||(r.prototype[s]=e)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},c.register("GameObjectCreator",r,"make"),p.exports=r},61286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(91963),l=t(7599),r=new h({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,e){r.prototype.hasOwnProperty(s)||(r.prototype[s]=e)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},c.register("GameObjectFactory",r,"add"),p.exports=r},73329:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(69360),c=new h,l=new h,r=new h,s={camera:c,sprite:l,calc:r},e=function(i,o,n){var a=c,f=l,u=r;return f.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),a.copyFrom(o.matrix),n?(a.multiplyWithOffset(n,-o.scrollX*i.scrollFactorX,-o.scrollY*i.scrollFactorY),f.e=i.x,f.f=i.y):(f.e-=o.scrollX*i.scrollFactorX,f.f-=o.scrollY*i.scrollFactorY),a.multiply(f,u),s};p.exports=e},92034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(74623),l=t(91963),r=t(7599),s=new h({Extends:c,initialize:function(i){c.call(this),this.checkQueue=!0,this.scene=i,this.systems=i.sys,i.sys.events.once(r.BOOT,this.boot,this),i.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,i){for(var o=this._active,n=o.length,a=0;a<n;a++){var f=o[a];f.active&&f.preUpdate.call(f,e,i)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var i=this.systems.events;i.off(r.PRE_UPDATE,this.update,this),i.off(r.UPDATE,this.sceneUpdate,this),i.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});l.register("UpdateList",s,"updateList"),p.exports=s},8810:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r,s,e,i,o,n,a,f,u,d,v){var g=c.x-h.displayOriginX+r,x=c.y-h.displayOriginY+s,m=g+c.w,y=x+c.h,T=e.getXRound(g,x,i),R=e.getYRound(g,x,i),P=e.getXRound(g,y,i),D=e.getYRound(g,y,i),O=e.getXRound(m,y,i),B=e.getYRound(m,y,i),G=e.getXRound(m,x,i),b=e.getYRound(m,x,i);t.batchQuad(h,T,R,P,D,O,B,G,b,l.u0,l.v0,l.u1,l.v1,o,n,a,f,u,d,v)};p.exports=S},82173:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){if(c===void 0&&(c=!1),l===void 0)return l={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},l;var r=t.text,s=r.length,e=t.maxWidth,i=t.wordWrapCharCode,o=Number.MAX_VALUE,n=Number.MAX_VALUE,a=0,f=0,u=t.fontData.chars,d=t.fontData.lineHeight,v=t.letterSpacing,g=t.lineSpacing,x=0,m=0,y=0,T=null,R=t._align,P=0,D=0,O=t.fontSize/t.fontData.size,B=O*t.scaleX,G=O*t.scaleY,b=null,k=0,$=[],W=Number.MAX_VALUE,Z=0,z=0,X=0,w,V=[],Y=[],j=null;if(e>0){for(w=0;w<s;w++){if(y=r.charCodeAt(w),y===10){j!==null&&(V.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G,cr:!0}),j=null),x=0,m+=d+g,b=null;continue}if(T=u[y],!!T){if(b!==null)var J=T.kerning[k];y===i?j!==null&&(V.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G,cr:!1}),j=null):(j===null&&(j={word:"",i:w,x,y:m,w:0,h:d,cr:!1}),j.word=j.word.concat(r[w]),j.w+=T.xOffset+T.xAdvance+(J!==void 0?J:0)),x+=T.xAdvance+v,b=T,k=y}}j!==null&&V.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G,cr:!1}),x=0,m=0,b=null,k=0;var _,tt=0,it=[];for(w=0;w<V.length;w++){var st=V[w],ot=st.x,ht=st.x+st.w;if(_){var ct=ot-(_.x+_.w);tt=ot-(ct+_.w),_=null}var ft=ot-tt,Et=ht-tt;ft>e||Et>e?(it.push(st.i-1),st.cr?(it.push(st.i+st.word.length),tt=0,_=null):_=st):st.cr&&(it.push(st.i+st.word.length),tt=0,_=null)}var Mt=function(Se,De,we){return Se.substr(0,De)+we+Se.substr(De+1)};for(w=it.length-1;w>=0;w--)r=Mt(r,it[w],`
`);l.wrappedText=r,s=r.length,V=[],j=null}var Dt=0;for(w=0;w<s;w++){if(y=r.charCodeAt(w),y===10){j!==null&&(V.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G}),j=null),x=0,m+=d+g,b=null,$[z]=X,X>Z&&(Z=X),X<W&&(W=X),z++,X=0;continue}if(T=u[y],!!T){if(P=x,D=m,b!==null){var It=T.kerning[k];P+=It!==void 0?It:0}o>P&&(o=P),n>D&&(n=D);var pt=P+T.xAdvance,Lt=D+d;a<pt&&(a=pt),f<Lt&&(f=Lt);var Pt=T.xOffset+T.xAdvance+(It!==void 0?It:0);y===i?j!==null&&(V.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G}),j=null):(j===null&&(j={word:"",i:Dt,x,y:m,w:0,h:d}),j.word=j.word.concat(r[w]),j.w+=Pt),Y.push({i:Dt,idx:w,char:r[w],code:y,x:(T.xOffset+P)*O,y:(T.yOffset+m)*O,w:T.width*O,h:T.height*O,t:m*O,r:pt*O,b:d*O,line:z,glyph:T}),x+=T.xAdvance+v+(It!==void 0?It:0),b=T,k=y,X=pt*O,Dt++}}if(j!==null&&V.push({word:j.word,i:j.i,x:j.x*B,y:j.y*G,w:j.w*B,h:j.h*G}),$[z]=X,X>Z&&(Z=X),X<W&&(W=X),R>0)for(var Jt=0;Jt<Y.length;Jt++){var $t=Y[Jt];if(R===1){var fe=(Z-$[$t.line])/2;$t.x+=fe,$t.r+=fe}else if(R===2){var de=Z-$[$t.line];$t.x+=de,$t.r+=de}}var re=l.local,Qt=l.global,ae=l.lines;return re.x=o*O,re.y=n*O,re.width=a*O,re.height=f*O,Qt.x=t.x-t._displayOriginX+o*B,Qt.y=t.y-t._displayOriginY+n*G,Qt.width=a*B,Qt.height=f*G,ae.shortest=W,ae.longest=Z,ae.lengths=$,h&&(re.x=Math.ceil(re.x),re.y=Math.ceil(re.y),re.width=Math.ceil(re.width),re.height=Math.ceil(re.height),Qt.x=Math.ceil(Qt.x),Qt.y=Math.ceil(Qt.y),Qt.width=Math.ceil(Qt.width),Qt.height=Math.ceil(Qt.height),ae.shortest=Math.ceil(W),ae.longest=Math.ceil(Z)),c&&(t._displayOriginX=t.originX*re.width,t._displayOriginY=t.originY*re.height,Qt.x=t.x-t._displayOriginX*t.scaleX,Qt.y=t.y-t._displayOriginY*t.scaleY,h&&(Qt.x=Math.ceil(Qt.x),Qt.y=Math.ceil(Qt.y))),l.words=V,l.characters=Y,l.lines.height=d,l.scale=O,l.scaleX=t.scaleX,l.scaleY=t.scaleY,l};p.exports=S},68298:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31476),c=function(l,r,s,e,i,o,n){var a=l.sys.textures.get(s),f=a.get(e),u=l.sys.cache.xml.get(i);if(f&&u){var d=h(u,f,o,n,a);return l.sys.cache.bitmapFont.add(r,{data:d,texture:s,frame:e,fromAtlas:!0}),!0}else return!1};p.exports=c},39860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),c=function(l,r){var s=r.width,e=r.height,i=Math.floor(s/2),o=Math.floor(e/2),n=h(r,"chars","");if(n!==""){var a=h(r,"image",""),f=l.sys.textures.getFrame(a),u=f.cutX,d=f.cutY,v=f.source.width,g=f.source.height,x=h(r,"offset.x",0),m=h(r,"offset.y",0),y=h(r,"spacing.x",0),T=h(r,"spacing.y",0),R=h(r,"lineSpacing",0),P=h(r,"charsPerRow",null);P===null&&(P=v/s,P>n.length&&(P=n.length));for(var D=x,O=m,B={retroFont:!0,font:a,size:s,lineHeight:e+R,chars:{}},G=0,b=0;b<n.length;b++){var k=n.charCodeAt(b),$=(u+D)/v,W=(d+O)/g,Z=(u+D+s)/v,z=(d+O+e)/g;B.chars[k]={x:D,y:O,width:s,height:e,centerX:i,centerY:o,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:$,v0:W,u1:Z,v1:z},G++,G===P?(G=0,D=x,O+=e+T):D+=s+y}var X={data:B,frame:null,texture:a};return X}};p.exports=c},31476:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(h,c){return parseInt(h.getAttribute(c),10)}var t=function(h,c,l,r,s){l===void 0&&(l=0),r===void 0&&(r=0);var e=c.cutX,i=c.cutY,o=c.source.width,n=c.source.height,a=c.sourceIndex,f={},u=h.getElementsByTagName("info")[0],d=h.getElementsByTagName("common")[0];f.font=u.getAttribute("face"),f.size=S(u,"size"),f.lineHeight=S(d,"lineHeight")+r,f.chars={};var v=h.getElementsByTagName("char"),g=c!==void 0&&c.trimmed;if(g)var x=c.height,m=c.width;for(var y=0;y<v.length;y++){var T=v[y],R=S(T,"id"),P=String.fromCharCode(R),D=S(T,"x"),O=S(T,"y"),B=S(T,"width"),G=S(T,"height");g&&(D<m&&(m=D),O<x&&(x=O)),g&&x!==0&&m!==0&&(D-=c.x,O-=c.y);var b=(e+D)/o,k=(i+O)/n,$=(e+D+B)/o,W=(i+O+G)/n;if(f.chars[R]={x:D,y:O,width:B,height:G,centerX:Math.floor(B/2),centerY:Math.floor(G/2),xOffset:S(T,"xoffset"),yOffset:S(T,"yoffset"),xAdvance:S(T,"xadvance")+l,data:{},kerning:{},u0:b,v0:k,u1:$,v1:W},s&&B!==0&&G!==0){var Z=s.add(P,a,D,O,B,G);Z&&Z.setUVs(B,G,b,k,$,W)}}var z=h.getElementsByTagName("kerning");for(y=0;y<z.length;y++){var X=z[y],w=S(X,"first"),V=S(X,"second"),Y=S(X,"amount");f.chars[V].kerning[w]=Y}return f};p.exports=t},55873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66863),c=t(98611),l={Parse:t(39860)};l=c(!1,l,h),p.exports=l},66863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=S},13468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44616),c=t(56694),l=t(88899),r=new c({Extends:h,Mixins:[l],initialize:function(e,i,o,n,a,f,u){h.call(this,e,i,o,n,a,f,u),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,e){return this.cropWidth=s,this.cropHeight=e,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});p.exports=r},93438:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(49584),c=function(l,r,s,e){var i=r._text,o=i.length,n=l.currentContext;if(!(o===0||!h(l,n,r,s,e))){s.addToRenderList(r);var a=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.displayCallback,u=r.callbackData,d=r.fontData.chars,v=r.fontData.lineHeight,g=r._letterSpacing,x=0,m=0,y=0,T=null,R=0,P=0,D=0,O=0,B=0,G=0,b=null,k=0,$=r.frame.source.image,W=a.cutX,Z=a.cutY,z=0,X=0,w=r._fontSize/r.fontData.size,V=r._align,Y=0,j=0;r.getTextBounds(!1);var J=r._bounds.lines;V===1?j=(J.longest-J.lengths[0])/2:V===2&&(j=J.longest-J.lengths[0]),n.translate(-r.displayOriginX,-r.displayOriginY);var _=s.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(n.beginPath(),n.rect(0,0,r.cropWidth,r.cropHeight),n.clip());for(var tt=0;tt<o;tt++){if(X=w,z=0,y=i.charCodeAt(tt),y===10){Y++,V===1?j=(J.longest-J.lengths[Y])/2:V===2&&(j=J.longest-J.lengths[Y]),x=0,m+=v,b=null;continue}if(T=d[y],!!T){if(R=W+T.x,P=Z+T.y,D=T.width,O=T.height,B=T.xOffset+x-r.scrollX,G=T.yOffset+m-r.scrollY,b!==null){var it=T.kerning[k];B+=it!==void 0?it:0}if(f){u.index=tt,u.charCode=y,u.x=B,u.y=G,u.scale=X,u.rotation=z,u.data=T.data;var st=f(u);B=st.x,G=st.y,X=st.scale,z=st.rotation}B*=X,G*=X,B+=j,x+=T.xAdvance+g+(it!==void 0?it:0),b=T,k=y,!(D===0||O===0||y===32)&&(_&&(B=Math.round(B),G=Math.round(G)),n.save(),n.translate(B,G),n.rotate(z),n.scale(X,X),n.drawImage($,R,P,D,O,0,0,D,O),n.restore())}}n.restore()}};p.exports=c},67513:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13468),c=t(88933),l=t(99325),r=t(20494);l.register("dynamicBitmapText",function(s,e){s===void 0&&(s={});var i=r(s,"font",""),o=r(s,"text",""),n=r(s,"size",!1),a=new h(this.scene,0,0,i,o,n);return e!==void 0&&(s.add=e),c(this.scene,a,s),a})},94145:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13468),c=t(61286);c.register("dynamicBitmapText",function(l,r,s,e,i){return this.displayList.add(new h(this.scene,l,r,s,e,i))})},88899:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(16873),l=t(93438),p.exports={renderWebGL:c,renderCanvas:l}},16873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(69360),l=t(75512),r=new c,s=function(e,i,o,n){var a=i.text,f=a.length;if(f!==0){o.addToRenderList(i);var u=e.pipelines.set(i.pipeline,i),d=h(i,o,n);e.pipelines.preBatch(i);var v=d.sprite,g=d.calc,x=r,m=i.cropWidth>0||i.cropHeight>0;m&&(u.flush(),e.pushScissor(g.tx,g.ty,i.cropWidth*g.scaleX,i.cropHeight*g.scaleY));var y=i.frame,T=y.glTexture,R=i.tintFill,P=l.getTintAppendFloatAlpha(i.tintTopLeft,o.alpha*i._alphaTL),D=l.getTintAppendFloatAlpha(i.tintTopRight,o.alpha*i._alphaTR),O=l.getTintAppendFloatAlpha(i.tintBottomLeft,o.alpha*i._alphaBL),B=l.getTintAppendFloatAlpha(i.tintBottomRight,o.alpha*i._alphaBR),G=u.setGameObject(i),b=0,k=0,$=0,W=0,Z=i.letterSpacing,z,X=0,w=0,V,Y=i.scrollX,j=i.scrollY,J=i.fontData,_=J.chars,tt=J.lineHeight,it=i.fontSize/J.size,st=0,ot=i._align,ht=0,ct=0,ft=i.getTextBounds(!1);i.maxWidth>0&&(a=ft.wrappedText,f=a.length);var Et=i._bounds.lines;ot===1?ct=(Et.longest-Et.lengths[0])/2:ot===2&&(ct=Et.longest-Et.lengths[0]);for(var Mt=o.roundPixels,Dt=i.displayCallback,It=i.callbackData,pt=0;pt<f;pt++){if($=a.charCodeAt(pt),$===10){ht++,ot===1?ct=(Et.longest-Et.lengths[ht])/2:ot===2&&(ct=Et.longest-Et.lengths[ht]),b=0,k+=tt,V=null;continue}if(z=_[$],!!z){X=z.width,w=z.height;var Lt=z.xOffset+b-Y,Pt=z.yOffset+k-j;if(V!==null){var Jt=z.kerning[W];Lt+=Jt!==void 0?Jt:0}if(b+=z.xAdvance+Z,V=z,W=$,!(X===0||w===0||$===32)){if(it=i.fontSize/i.fontData.size,st=0,Dt){It.color=0,It.tint.topLeft=P,It.tint.topRight=D,It.tint.bottomLeft=O,It.tint.bottomRight=B,It.index=pt,It.charCode=$,It.x=Lt,It.y=Pt,It.scale=it,It.rotation=st,It.data=z.data;var $t=Dt(It);Lt=$t.x,Pt=$t.y,it=$t.scale,st=$t.rotation,$t.color?(P=$t.color,D=$t.color,O=$t.color,B=$t.color):(P=$t.tint.topLeft,D=$t.tint.topRight,O=$t.tint.bottomLeft,B=$t.tint.bottomRight),P=l.getTintAppendFloatAlpha(P,o.alpha*i._alphaTL),D=l.getTintAppendFloatAlpha(D,o.alpha*i._alphaTR),O=l.getTintAppendFloatAlpha(O,o.alpha*i._alphaBL),B=l.getTintAppendFloatAlpha(B,o.alpha*i._alphaBR)}Lt*=it,Pt*=it,Lt-=i.displayOriginX,Pt-=i.displayOriginY,Lt+=ct,x.applyITRS(Lt,Pt,st,it,it),g.multiply(x,v);var fe=z.u0,de=z.v0,re=z.u1,Qt=z.v1,ae=X,Se=w,De=v.e,we=v.f,Qe=Se*v.c+v.e,Ni=Se*v.d+v.f,Ui=ae*v.a+Se*v.c+v.e,Si=ae*v.b+Se*v.d+v.f,Gi=ae*v.a+v.e,Ai=ae*v.b+v.f;Mt&&(De=Math.round(De),we=Math.round(we),Qe=Math.round(Qe),Ni=Math.round(Ni),Ui=Math.round(Ui),Si=Math.round(Si),Gi=Math.round(Gi),Ai=Math.round(Ai)),u.batchQuad(i,De,we,Qe,Ni,Ui,Si,Gi,Ai,fe,de,re,Qt,P,D,O,B,R,T,G)}}}m&&(u.flush(),e.popScissor()),e.pipelines.postBatch(i)}};p.exports=s},44616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(82897),l=t(64937),r=t(89980),s=t(82173),e=t(68298),i=t(31476),o=t(74118),n=t(84557),a=new h({Extends:r,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Texture,l.Tint,l.Transform,l.Visible,n],initialize:function(u,d,v,g,x,m,y){x===void 0&&(x=""),y===void 0&&(y=0),r.call(this,u,"BitmapText"),this.font=g;var T=this.scene.sys.cache.bitmapFont.get(g);T||console.warn("Invalid BitmapText key: "+g),this.fontData=T.data,this._text="",this._fontSize=m||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=y,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=T.fromAtlas,this.setTexture(T.texture,T.frame),this.setPosition(d,v),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(x)},setLeftAlign:function(){return this._align=a.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=a.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=a.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,u,d,v){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=.5),this.dropShadowX=f,this.dropShadowY=u,this.dropShadowColor=d,this.dropShadowAlpha=v,this},setCharacterTint:function(f,u,d,v,g,x,m){f===void 0&&(f=0),u===void 0&&(u=1),d===void 0&&(d=!1),v===void 0&&(v=-1),g===void 0&&(g=v,x=v,m=v);var y=this.text.length;u===-1&&(u=y),f<0&&(f=y+f),f=c(f,0,y-1);for(var T=c(f+u,f,y),R=this.charColors,P=f;P<T;P++){var D=R[P];if(v===-1)R[P]=null;else{var O=d?1:0;D?(D.tintEffect=O,D.tintTL=v,D.tintTR=g,D.tintBL=x,D.tintBR=m):R[P]={tintEffect:O,tintTL:v,tintTR:g,tintBL:x,tintBR:m}}}return this},setWordTint:function(f,u,d,v,g,x,m){u===void 0&&(u=1);for(var y=this.getTextBounds(),T=y.words,R=typeof f=="number",P=0,D=0;D<T.length;D++){var O=T[D];if((R&&D===f||!R&&O.word===f)&&(this.setCharacterTint(O.i,O.word.length,d,v,g,x,m),P++,P===u))return this}return this},getTextBounds:function(f){var u=this._bounds;return(this._dirty||f||this.scaleX!==u.scaleX||this.scaleY!==u.scaleY)&&(s(this,f,!0,u),this._dirty=!1),u},getCharacterAt:function(f,u,d){for(var v=this.getLocalPoint(f,u,null,d),g=this.getTextBounds(),x=g.characters,m=new o,y=0;y<x.length;y++){var T=x[y];if(m.setTo(T.x,T.t,T.r-T.x,T.b),m.contains(v.x,v.y))return T}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,u,d){if(u===void 0&&(u=this._fontSize),d===void 0&&(d=this._align),f!==this.font){var v=this.scene.sys.cache.bitmapFont.get(f);v&&(this.font=f,this.fontData=v.data,this._fontSize=u,this._align=d,this.fromAtlas=v.fromAtlas===!0,this.setTexture(v.texture,v.frame),s(this,!1,!0,this._bounds))}return this},setMaxWidth:function(f,u){return this._maxWidth=f,this._dirty=!0,u!==void 0&&(this.wordWrapCharCode=u),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=l.ToJSON(this),u={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=u,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});a.ALIGN_LEFT=0,a.ALIGN_CENTER=1,a.ALIGN_RIGHT=2,a.ParseFromAtlas=e,a.ParseXMLBitmapFont=i,p.exports=a},97545:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(49584),c=function(l,r,s,e){var i=r._text,o=i.length,n=l.currentContext;if(!(o===0||!h(l,n,r,s,e))){s.addToRenderList(r);var a=r.fromAtlas?r.frame:r.texture.frames.__BASE,f=r.fontData.chars,u=r.fontData.lineHeight,d=r._letterSpacing,v=r._lineSpacing,g=0,x=0,m=0,y=null,T=0,R=0,P=0,D=0,O=0,B=0,G=null,b=0,k=a.source.image,$=a.cutX,W=a.cutY,Z=r._fontSize/r.fontData.size,z=r._align,X=0,w=0,V=r.getTextBounds(!1);r.maxWidth>0&&(i=V.wrappedText,o=i.length);var Y=r._bounds.lines;z===1?w=(Y.longest-Y.lengths[0])/2:z===2&&(w=Y.longest-Y.lengths[0]),n.translate(-r.displayOriginX,-r.displayOriginY);for(var j=s.roundPixels,J=0;J<o;J++){if(m=i.charCodeAt(J),m===10){X++,z===1?w=(Y.longest-Y.lengths[X])/2:z===2&&(w=Y.longest-Y.lengths[X]),g=0,x+=u+v,G=null;continue}if(y=f[m],!!y){if(T=$+y.x,R=W+y.y,P=y.width,D=y.height,O=y.xOffset+g,B=y.yOffset+x,G!==null){var _=y.kerning[b];O+=_!==void 0?_:0}O*=Z,B*=Z,O+=w,g+=y.xAdvance+d+(_!==void 0?_:0),G=y,b=m,!(P===0||D===0||m===32)&&(j&&(O=Math.round(O),B=Math.round(B)),n.save(),n.translate(O,B),n.scale(Z,Z),n.drawImage(k,T,R,P,D,0,0,P,D),n.restore())}}n.restore()}};p.exports=c},95499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44616),c=t(88933),l=t(99325),r=t(20494),s=t(10850);l.register("bitmapText",function(e,i){e===void 0&&(e={});var o=s(e,"font",""),n=r(e,"text",""),a=r(e,"size",!1),f=s(e,"align",0),u=new h(this.scene,0,0,o,n,a,f);return i!==void 0&&(e.add=i),c(this.scene,u,e),u})},21797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44616),c=t(61286);c.register("bitmapText",function(l,r,s,e,i,o){return this.displayList.add(new h(this.scene,l,r,s,e,i,o))})},84557:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(26372),l=t(97545),p.exports={renderWebGL:c,renderCanvas:l}},26372:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8810),c=t(73329),l=t(75512),r=function(s,e,i,o){var n=e._text,a=n.length;if(a!==0){i.addToRenderList(e);var f=s.pipelines.set(e.pipeline,e),u=c(e,i,o).calc;s.pipelines.preBatch(e);var d=i.roundPixels,v=i.alpha,g=e.charColors,x=e.tintFill,m=l.getTintAppendFloatAlpha,y=m(e.tintTopLeft,v*e._alphaTL),T=m(e.tintTopRight,v*e._alphaTR),R=m(e.tintBottomLeft,v*e._alphaBL),P=m(e.tintBottomRight,v*e._alphaBR),D=e.frame.glTexture,O=f.setGameObject(e),B=e.getTextBounds(!1),G,b,k,$=B.characters,W=e.dropShadowX,Z=e.dropShadowY,z=W!==0||Z!==0;if(z){var X=e.dropShadowColor,w=e.dropShadowAlpha,V=m(X,v*w*e._alphaTL),Y=m(X,v*w*e._alphaTR),j=m(X,v*w*e._alphaBL),J=m(X,v*w*e._alphaBR);for(G=0;G<$.length;G++)b=$[G],k=b.glyph,!(b.code===32||k.width===0||k.height===0)&&h(f,e,b,k,W,Z,u,d,V,Y,j,J,1,D,O)}for(G=0;G<$.length;G++)if(b=$[G],k=b.glyph,!(b.code===32||k.width===0||k.height===0))if(g[b.i]){var _=g[b.i],tt=_.tintEffect,it=m(_.tintTL,v*e._alphaTL),st=m(_.tintTR,v*e._alphaTR),ot=m(_.tintBL,v*e._alphaBL),ht=m(_.tintBR,v*e._alphaBR);h(f,e,b,k,0,0,u,d,it,st,ot,ht,tt,D,O)}else h(f,e,b,k,0,0,u,d,y,T,R,P,x,D,O);s.pipelines.postBatch(e)}};p.exports=r},52816:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92246),c=t(41664),l=t(56694),r=t(64937),s=t(82047),e=t(89980),i=t(71207),o=new l({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,h],initialize:function(a,f,u,d,v){e.call(this,a,"Blitter"),this.setTexture(d,v),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(),this.children=new i,this.renderList=[],this.dirty=!1},create:function(n,a,f,u,d){u===void 0&&(u=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof s||(f=this.texture.get(f));var v=new c(this,n,a,f,u);return this.children.addAt(v,d,!1),this.dirty=!0,v},createFromCallback:function(n,a,f,u){for(var d=this.createMultiple(a,f,u),v=0;v<d.length;v++){var g=d[v];n.call(this,g,v)}return d},createMultiple:function(n,a,f){a===void 0&&(a=this.frame.name),f===void 0&&(f=!0),Array.isArray(a)||(a=[a]);var u=[],d=this;return a.forEach(function(v){for(var g=0;g<n;g++)u.push(d.create(0,0,v,f))}),u},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=o},33177:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=h.getRenderList();if(r.length!==0){var s=t.currentContext,e=c.alpha*h.alpha;if(e!==0){c.addToRenderList(h),s.globalCompositeOperation=t.blendModes[h.blendMode],s.imageSmoothingEnabled=!h.frame.source.scaleMode;var i=h.x-c.scrollX*h.scrollFactorX,o=h.y-c.scrollY*h.scrollFactorY;s.save(),l&&l.copyToContext(s);for(var n=c.roundPixels,a=0;a<r.length;a++){var f=r[a],u=f.flipX||f.flipY,d=f.frame,v=d.canvasData,g=d.x,x=d.y,m=1,y=1,T=f.alpha*e;T!==0&&(s.globalAlpha=T,u?(f.flipX&&(m=-1,g-=v.width),f.flipY&&(y=-1,x-=v.height),v.width>0&&v.height>0&&(s.save(),s.translate(f.x+i,f.y+o),s.scale(m,y),s.drawImage(d.source.image,v.x,v.y,v.width,v.height,g,x,v.width,v.height),s.restore())):(n&&(g=Math.round(g),x=Math.round(x)),v.width>0&&v.height>0&&s.drawImage(d.source.image,v.x,v.y,v.width,v.height,g+f.x+i,x+f.y+o,v.width,v.height)))}s.restore()}}};p.exports=S},68452:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),c=t(88933),l=t(99325),r=t(20494);l.register("blitter",function(s,e){s===void 0&&(s={});var i=r(s,"key",null),o=r(s,"frame",null),n=new h(this.scene,0,0,i,o);return e!==void 0&&(s.add=e),c(this.scene,n,s),n})},38906:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),c=t(61286);c.register("blitter",function(l,r,s,e){return this.displayList.add(new h(this.scene,l,r,s,e))})},92246:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(89165),l=t(33177),p.exports={renderWebGL:c,renderCanvas:l}},89165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(69360),c=t(75512),l=new h,r=function(s,e,i,o){var n=e.getRenderList(),a=i.alpha*e.alpha;if(!(n.length===0||a===0)){i.addToRenderList(e);var f=s.pipelines.set(this.pipeline,e),u=i.scrollX*e.scrollFactorX,d=i.scrollY*e.scrollFactorY,v=l.copyFrom(i.matrix);o&&(v.multiplyWithOffset(o,-u,-d),u=0,d=0);var g=e.x-u,x=e.y-d,m=-1,y=!1,T=i.roundPixels;s.pipelines.preBatch(e);for(var R=0;R<n.length;R++){var P=n[R],D=P.frame,O=P.alpha*a;if(O!==0){var B=D.width,G=D.height,b=g+P.x+D.x,k=x+P.y+D.y;P.flipX&&(B*=-1,b+=D.width),P.flipY&&(G*=-1,k+=D.height);var $=v.setQuad(b,k,b+B,k+G,T),W=c.getTintAppendFloatAlpha(P.tint,O);if(D.sourceIndex!==m){var Z=f.setGameObject(e,D);m=D.sourceIndex}f.batchQuad(e,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],D.u0,D.v0,D.u1,D.v1,W,W,W,W,y,D.glTexture,Z)&&(m=-1)}}s.pipelines.postBatch(e)}};p.exports=r},41664:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(82047),l=new h({initialize:function(s,e,i,o,n){this.parent=s,this.x=e,this.y=i,this.frame=o,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof c&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,s,e){return this.x=r,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,s){return this.x=r,this.y=s,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,s){return this.flipX=r,this.flipY=s,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});p.exports=l},97123:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=2,l={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,s,e,i){return r===void 0&&(r=1),s===void 0?this.alpha=r:(this._alphaTL=h(r,0,1),this._alphaTR=h(s,0,1),this._alphaBL=h(e,0,1),this._alphaBR=h(i,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var s=h(r,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~c:this.renderFlags|=c}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var s=h(r,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=c)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var s=h(r,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=c)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var s=h(r,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=c)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var s=h(r,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=c)}}};p.exports=l},15720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=2,l={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var s=h(r,0,1);this._alpha=s,s===0?this.renderFlags&=~c:this.renderFlags|=c}}};p.exports=l},69732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),c={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(l){typeof l=="string"&&(l=h[l]),l|=0,l>=-1&&(this._blendMode=l)}},setBlendMode:function(l){return this.blendMode=l,this}};p.exports=c},28284:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};p.exports=S},85293:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,c,l){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,c,l,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=S},14975:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};p.exports=S},88677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(96910),l=t(72677),r=new h({initialize:function(e,i){this.gameObject=e,this.isPost=i,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,e=0;e<s.length;e++)s[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var e;if(this.isPost){var i=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(i)||(i=[i]),e=0;e<i.length;e++){var o=i[e];if(o.controller===s){this.gameObject.removePostPipeline(o),s.destroy();break}}}else{var n=this.list;for(e=0;e<n.length;e++)n[e]===s&&(l(n,e),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,e){if(this.isPost){var i=String(s.type);this.gameObject.setPostPipeline(i,e);var o=this.gameObject.getPostPipeline(i);if(o)return Array.isArray(o)&&(o=o.pop()),o.controller=s,s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,e,i,o,n,a){return this.add(new c.Glow(this.gameObject,s,e,i,o),{quality:n,distance:a})},addShadow:function(s,e,i,o,n,a,f){return this.add(new c.Shadow(this.gameObject,s,e,i,o,n,a,f))},addPixelate:function(s){return this.add(new c.Pixelate(this.gameObject,s))},addVignette:function(s,e,i,o){return this.add(new c.Vignette(this.gameObject,s,e,i,o))},addShine:function(s,e,i,o){return this.add(new c.Shine(this.gameObject,s,e,i,o))},addBlur:function(s,e,i,o,n,a){return this.add(new c.Blur(this.gameObject,s,e,i,o,n,a))},addGradient:function(s,e,i,o,n,a,f,u){return this.add(new c.Gradient(this.gameObject,s,e,i,o,n,a,f,u))},addBloom:function(s,e,i,o,n,a){return this.add(new c.Bloom(this.gameObject,s,e,i,o,n,a))},addColorMatrix:function(){return this.add(new c.ColorMatrix(this.gameObject))},addCircle:function(s,e,i,o,n){return this.add(new c.Circle(this.gameObject,s,e,i,o,n))},addBarrel:function(s){return this.add(new c.Barrel(this.gameObject,s))},addDisplacement:function(s,e,i){return this.add(new c.Displacement(this.gameObject,s,e,i))},addWipe:function(s,e,i){return this.add(new c.Wipe(this.gameObject,s,e,i))},addReveal:function(s,e,i){return this.add(new c.Wipe(this.gameObject,s,e,i,!0))},addBokeh:function(s,e,i){return this.add(new c.Bokeh(this.gameObject,s,e,i))},addTiltShift:function(s,e,i,o,n,a){return this.add(new c.Bokeh(this.gameObject,s,e,i,!0,o,n,a))},destroy:function(){this.clear(),this.gameObject=null}});p.exports=r},92972:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=S},80693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=t(2386),l=t(93736),r={prepareBoundsOutput:function(s,e){if(e===void 0&&(e=!1),this.rotation!==0&&c(s,this.x,this.y,this.rotation),e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,e){return s===void 0&&(s=new l),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getTopLeft:function(s,e){return s||(s=new l),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopCenter:function(s,e){return s||(s=new l),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getTopRight:function(s,e){return s||(s=new l),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,e)},getLeftCenter:function(s,e){return s||(s=new l),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getRightCenter:function(s,e){return s||(s=new l),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,e)},getBottomLeft:function(s,e){return s||(s=new l),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomCenter:function(s,e){return s||(s=new l),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBottomRight:function(s,e){return s||(s=new l),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,e)},getBounds:function(s){s===void 0&&(s=new h);var e,i,o,n,a,f,u,d;if(this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),v.transformPoint(s.x,s.y,s),e=s.x,i=s.y,this.getTopRight(s),v.transformPoint(s.x,s.y,s),o=s.x,n=s.y,this.getBottomLeft(s),v.transformPoint(s.x,s.y,s),a=s.x,f=s.y,this.getBottomRight(s),v.transformPoint(s.x,s.y,s),u=s.x,d=s.y}else this.getTopLeft(s),e=s.x,i=s.y,this.getTopRight(s),o=s.x,n=s.y,this.getBottomLeft(s),a=s.x,f=s.y,this.getBottomRight(s),u=s.x,d=s.y;return s.x=Math.min(e,o,a,u),s.y=Math.min(i,n,f,d),s.width=Math.max(e,o,a,u)-s.x,s.height=Math.max(i,n,f,d)-s.y,s}};p.exports=r},39171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76756),c=t(63037),l={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,s,e,i,o){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new h(this.scene,r,s,e,i,o)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new c(this.scene,r)}};p.exports=l},28072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=S},54211:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75606),c=t(63130),l=t(10850),r=t(55303),s=t(93736),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(i,o){o===void 0&&(o=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=i,o&&this.startFollow(o),this},setRotateToPath:function(i,o){return o===void 0&&(o=0),this.rotateToPath=i,this.pathRotationOffset=o,this},isFollowing:function(){var i=this.pathTween;return i&&i.isPlaying()},startFollow:function(i,o){i===void 0&&(i={}),o===void 0&&(o=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof i=="number"&&(i={duration:i}),i.from=l(i,"from",0),i.to=l(i,"to",1);var a=c(i,"positionOnPath",!1);this.rotateToPath=c(i,"rotateToPath",!1),this.pathRotationOffset=l(i,"rotationOffset",0);var f=l(i,"startAt",o);if(f&&(i.onStart=function(d){var v=d.data[0];v.progress=f,v.elapsed=v.duration*f;var g=v.ease(v.progress);v.current=v.start+(v.end-v.start)*g,v.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),i.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(i),this.path.getStartPoint(this.pathOffset),a&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=i,this},pauseFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.pause(),this},resumeFollow:function(){var i=this.pathTween;return i&&i.isPaused()&&i.resume(),this},stopFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this},pathUpdate:function(){var i=this.pathTween;if(i){var o=i.data[0],n=this.pathDelta,a=this.pathVector;if(n.copy(a).negate(),o.state===r.COMPLETE){this.path.getPoint(o.end,a),n.add(a),a.add(this.pathOffset),this.setPosition(a.x,a.y);return}else if(o.state!==r.PLAYING_FORWARD&&o.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(i.getValue(),a),n.add(a),a.add(this.pathOffset);var f=this.x,u=this.y;this.setPosition(a.x,a.y);var d=this.x-f,v=this.y-u;if(d===0&&v===0)return;if(o.state!==this._prevDirection){this._prevDirection=o.state;return}this.rotateToPath&&(this.rotation=Math.atan2(v,d)+h(this.pathRotationOffset))}}};p.exports=e},58210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28699),c={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(l){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var s=r.pipelines;if(s){l===void 0&&(l=s.default);var e=s.get(l);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(l,r,s){var e=this.scene.sys.renderer;if(!e)return this;var i=e.pipelines;if(i){var o=i.get(l);o&&(this.pipeline=o),r&&(this.pipelineData=s?h(r):r)}return this},setPipelineData:function(l,r){var s=this.pipelineData;return r===void 0?delete s[l]:s[l]=r,this},resetPipeline:function(l){return l===void 0&&(l=!1),this.pipeline=this.defaultPipeline,l&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};p.exports=c},44086:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28699),c=t(88677),l=t(72677),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new c(this,!0),s&&(this.preFX=new c(this,!1))},setPostPipeline:function(s,e,i){var o=this.scene.sys.renderer;if(!o)return this;var n=o.pipelines;if(n){Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++){var f=n.getPostPipeline(s[a],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=i?h(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,e){var i=this.postPipelineData;return e===void 0?delete i[s]:i[s]=e,this},getPostPipeline:function(s){for(var e=typeof s=="string",i=this.postPipelines,o=[],n=0;n<i.length;n++){var a=i[n];(e&&a.name===s||!e&&a instanceof s)&&o.push(a)}return o.length===1?o[0]:o},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var e=this.postPipelines,i=0;i<e.length;i++)e[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var e=typeof s=="string",i=this.postPipelines,o=i.length-1;o>=0;o--){var n=i[o];(e&&n.name===s||!e&&n===s)&&(n.destroy(),l(i,o))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};p.exports=r},45900:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};p.exports=S},31654:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};p.exports=S},82081:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82047),c=8,l={texture:null,frame:null,isCropped:!1,setTexture:function(r,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s)},setFrame:function(r,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),r instanceof h?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=l},21850:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82047),c=8,l={texture:null,frame:null,isCropped:!1,setCrop:function(r,s,e,i){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,s,e,i,this.flipX,this.flipY);else{var o=r;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s)},setFrame:function(r,s,e){return s===void 0&&(s=!0),e===void 0&&(e=!0),r instanceof h?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=l},58072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,c,l){return t===void 0&&(t=16777215),h===void 0&&(h=t,c=t,l=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=c,this.tintBottomRight=l,this.tintFill=!1,this},setTintFill:function(t,h,c,l){return this.setTint(t,h,c,l),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};p.exports=S},48129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};p.exports=S},56584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=t(69360),l=t(64462),r=t(35786),s=t(62138),e=t(93736),i=4,o={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=~i:this.renderFlags|=i}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=~i:this._scaleY!==0&&(this.renderFlags|=i)}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=~i:this._scaleX!==0&&(this.renderFlags|=i)}},angle:{get:function(){return s(this._rotation*h.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=r(n)}},setPosition:function(n,a,f,u){return n===void 0&&(n=0),a===void 0&&(a=n),f===void 0&&(f=0),u===void 0&&(u=0),this.x=n,this.y=a,this.z=f,this.w=u,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,a,f,u){return n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=this.scene.sys.scale.width),u===void 0&&(u=this.scene.sys.scale.height),this.x=n+Math.random()*f,this.y=a+Math.random()*u,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,a){return n===void 0&&(n=1),a===void 0&&(a=n),this.scaleX=n,this.scaleY=a,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new c),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,a){n===void 0&&(n=new c);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(n);for(a||(a=new c),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)a.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),a.multiply(n,n),f=f.parentContainer;return n},getLocalPoint:function(n,a,f,u){f||(f=new e),u||(u=this.scene.sys.cameras.main);var d=u.scrollX,v=u.scrollY,g=n+d*this.scrollFactorX-d,x=a+v*this.scrollFactorY-v;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,x,f):l(g,x,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var n=0,a=this.parentContainer;a;)n+=a.rotation,a=a.parentContainer;return n}};p.exports=o},69360:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(83392),l=t(93736),r=new h({initialize:function(e,i,o,n,a,f){e===void 0&&(e=1),i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n=1),a===void 0&&(a=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,i,o,n,a,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,e=s[0],i=s[1],o=s[2],n=s[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):o||n?c.TAU-(n>0?Math.acos(-o/this.scaleY):-Math.acos(o/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,e){var i=this.matrix;return i[4]=i[0]*s+i[2]*e+i[4],i[5]=i[1]*s+i[3]*e+i[5],this},scale:function(s,e){var i=this.matrix;return i[0]*=s,i[1]*=s,i[2]*=e,i[3]*=e,this},rotate:function(s){var e=Math.sin(s),i=Math.cos(s),o=this.matrix,n=o[0],a=o[1],f=o[2],u=o[3];return o[0]=n*i+f*e,o[1]=a*i+u*e,o[2]=n*-e+f*i,o[3]=a*-e+u*i,this},multiply:function(s,e){var i=this.matrix,o=s.matrix,n=i[0],a=i[1],f=i[2],u=i[3],d=i[4],v=i[5],g=o[0],x=o[1],m=o[2],y=o[3],T=o[4],R=o[5],P=e===void 0?i:e.matrix;return P[0]=g*n+x*f,P[1]=g*a+x*u,P[2]=m*n+y*f,P[3]=m*a+y*u,P[4]=T*n+R*f+d,P[5]=T*a+R*u+v,P},multiplyWithOffset:function(s,e,i){var o=this.matrix,n=s.matrix,a=o[0],f=o[1],u=o[2],d=o[3],v=o[4],g=o[5],x=e*a+i*u+v,m=e*f+i*d+g,y=n[0],T=n[1],R=n[2],P=n[3],D=n[4],O=n[5];return o[0]=y*a+T*u,o[1]=y*f+T*d,o[2]=R*a+P*u,o[3]=R*f+P*d,o[4]=D*a+O*u+x,o[5]=D*f+O*d+m,this},transform:function(s,e,i,o,n,a){var f=this.matrix,u=f[0],d=f[1],v=f[2],g=f[3],x=f[4],m=f[5];return f[0]=s*u+e*v,f[1]=s*d+e*g,f[2]=i*u+o*v,f[3]=i*d+o*g,f[4]=n*u+a*v+x,f[5]=n*d+a*g+m,this},transformPoint:function(s,e,i){i===void 0&&(i={x:0,y:0});var o=this.matrix,n=o[0],a=o[1],f=o[2],u=o[3],d=o[4],v=o[5];return i.x=s*n+e*f+d,i.y=s*a+e*u+v,i},invert:function(){var s=this.matrix,e=s[0],i=s[1],o=s[2],n=s[3],a=s[4],f=s[5],u=e*n-i*o;return s[0]=n/u,s[1]=-i/u,s[2]=-o/u,s[3]=e/u,s[4]=(o*f-n*a)/u,s[5]=-(e*f-i*a)/u,this},copyFrom:function(s){var e=this.matrix;return e[0]=s.a,e[1]=s.b,e[2]=s.c,e[3]=s.d,e[4]=s.e,e[5]=s.f,this},copyFromArray:function(s){var e=this.matrix;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],this},copyToContext:function(s){var e=this.matrix;return s.transform(e[0],e[1],e[2],e[3],e[4],e[5]),s},setToContext:function(s){var e=this.matrix;return s.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),s},copyToArray:function(s){var e=this.matrix;return s===void 0?s=[e[0],e[1],e[2],e[3],e[4],e[5]]:(s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5]),s},setTransform:function(s,e,i,o,n,a){var f=this.matrix;return f[0]=s,f[1]=e,f[2]=i,f[3]=o,f[4]=n,f[5]=a,this},decomposeMatrix:function(){var s=this.decomposedMatrix,e=this.matrix,i=e[0],o=e[1],n=e[2],a=e[3],f=i*a-o*n;if(s.translateX=e[4],s.translateY=e[5],i||o){var u=Math.sqrt(i*i+o*o);s.rotation=o>0?Math.acos(i/u):-Math.acos(i/u),s.scaleX=u,s.scaleY=f/u}else if(n||a){var d=Math.sqrt(n*n+a*a);s.rotation=Math.PI*.5-(a>0?Math.acos(-n/d):-Math.acos(n/d)),s.scaleX=f/d,s.scaleY=d}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,e,i,o,n){var a=this.matrix,f=Math.sin(i),u=Math.cos(i);return a[4]=s,a[5]=e,a[0]=u*o,a[1]=f*o,a[2]=-f*n,a[3]=u*n,this},applyInverse:function(s,e,i){i===void 0&&(i=new l);var o=this.matrix,n=o[0],a=o[1],f=o[2],u=o[3],d=o[4],v=o[5],g=1/(n*u+f*-a);return i.x=u*g*s+-f*g*e+(v*f-d*u)*g,i.y=n*g*e+-a*g*s+(-v*n+d*a)*g,i},setQuad:function(s,e,i,o,n,a){a===void 0&&(a=this.quad);var f=this.matrix,u=f[0],d=f[1],v=f[2],g=f[3],x=f[4],m=f[5];return a[0]=s*u+e*v+x,a[1]=s*d+e*g+m,a[2]=s*u+o*v+x,a[3]=s*d+o*g+m,a[4]=i*u+o*v+x,a[5]=i*d+o*g+m,a[6]=i*u+e*v+x,a[7]=i*d+e*g+m,n&&a.forEach(function(y,T){a[T]=Math.round(y)}),a},getX:function(s,e){return s*this.a+e*this.c+this.e},getY:function(s,e){return s*this.b+e*this.d+this.f},getXRound:function(s,e,i){var o=this.getX(s,e);return i&&(o=Math.round(o)),o},getYRound:function(s,e,i){var o=this.getY(s,e);return i&&(o=Math.round(o)),o},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});p.exports=r},59694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=~S)}},setVisible:function(h){return this.visible=h,this}};p.exports=t},64937:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59959),c=t(95723),l=t(56694),r=t(64937),s=t(56631),e=t(89980),i=t(74118),o=t(98524),n=t(58795),a=t(93736),f=new l({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,o],initialize:function(d,v,g,x){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(v,g),this.setBlendMode(c.SKIP_CHECK),x&&this.add(x)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(u){return u===void 0&&(u=!0),this.exclusive=u,this},getBounds:function(u){if(u===void 0&&(u=new i),u.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),v=d.transformPoint(this.x,this.y);u.setTo(v.x,v.y,0,0)}if(this.list.length>0){var g=this.list,x=new i,m=!1;u.setEmpty();for(var y=0;y<g.length;y++){var T=g[y];T.getBounds&&(T.getBounds(x),m?n(x,u,u):(u.setTo(x.x,x.y,x.width,x.height),m=!0))}}return u},addHandler:function(u){u.once(s.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer&&u.parentContainer.remove(u),u.parentContainer=this,u.removeFromDisplayList(),u.addedToScene())},removeHandler:function(u){u.off(s.DESTROY,this.remove,this),this.exclusive&&(u.parentContainer=null,u.removedFromScene(),u.addToDisplayList())},pointToContainer:function(u,d){d===void 0&&(d=new a),this.parentContainer?this.parentContainer.pointToContainer(u,d):(d.x=u.x,d.y=u.y);var v=this.tempTransformMatrix;return v.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),v.invert(),v.transformPoint(u.x,u.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(u){return h.Add(this.list,u,this.maxSize,this.addHandler,this),this},addAt:function(u,d){return h.AddAt(this.list,u,d,this.maxSize,this.addHandler,this),this},getAt:function(u){return this.list[u]},getIndex:function(u){return this.list.indexOf(u)},sort:function(u,d){return u?(d===void 0&&(d=function(v,g){return v[u]-g[u]}),h.StableSort(this.list,d),this):this},getByName:function(u){return h.GetFirst(this.list,"name",u)},getRandom:function(u,d){return h.GetRandom(this.list,u,d)},getFirst:function(u,d,v,g){return h.GetFirst(this.list,u,d,v,g)},getAll:function(u,d,v,g){return h.GetAll(this.list,u,d,v,g)},count:function(u,d,v,g){return h.CountAllMatching(this.list,u,d,v,g)},swap:function(u,d){return h.Swap(this.list,u,d),this},moveTo:function(u,d){return h.MoveTo(this.list,u,d),this},moveAbove:function(u,d){return h.MoveAbove(this.list,u,d),this},moveBelow:function(u,d){return h.MoveBelow(this.list,u,d),this},remove:function(u,d){var v=h.Remove(this.list,u,this.removeHandler,this);if(d&&v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++)v[g].destroy()}return this},removeAt:function(u,d){var v=h.RemoveAt(this.list,u,this.removeHandler,this);return d&&v&&v.destroy(),this},removeBetween:function(u,d,v){var g=h.RemoveBetween(this.list,u,d,this.removeHandler,this);if(v)for(var x=0;x<g.length;x++)g[x].destroy();return this},removeAll:function(u){var d=this.list;if(u){for(var v=0;v<d.length;v++)d[v]&&d[v].scene&&(d[v].off(s.DESTROY,this.remove,this),d[v].destroy());this.list=[]}else h.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(u){return h.BringToTop(this.list,u),this},sendToBack:function(u){return h.SendToBack(this.list,u),this},moveUp:function(u){return h.MoveUp(this.list,u),this},moveDown:function(u){return h.MoveDown(this.list,u),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(u,d,v){var g=h.Replace(this.list,u,d);return g&&(this.addHandler(d),this.removeHandler(u),v&&u.destroy()),this},exists:function(u){return this.list.indexOf(u)>-1},setAll:function(u,d,v,g){return h.SetAll(this.list,u,d,v,g),this},each:function(u,d){var v=[null],g,x=this.list.slice(),m=x.length;for(g=2;g<arguments.length;g++)v.push(arguments[g]);for(g=0;g<m;g++)v[0]=x[g],u.apply(d,v);return this},iterate:function(u,d){var v=[null],g;for(g=2;g<arguments.length;g++)v.push(arguments[g]);for(g=0;g<this.list.length;g++)v[0]=this.list[g],u.apply(d,v);return this},setScrollFactor:function(u,d,v){return d===void 0&&(d=u),v===void 0&&(v=!1),this.scrollFactorX=u,this.scrollFactorY=d,v&&(h.SetAll(this.list,"scrollFactorX",u),h.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});p.exports=f},13916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c.addToRenderList(h);var r=h.list;if(r.length!==0){var s=h.localTransform;l?(s.loadIdentity(),s.multiply(l),s.translate(h.x,h.y),s.rotate(h.rotation),s.scale(h.scaleX,h.scaleY)):s.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var e=h.blendMode!==-1;e||t.setBlendMode(0);var i=h._alpha,o=h.scrollFactorX,n=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,c);for(var a=0;a<r.length;a++){var f=r[a];if(f.willRender(c)){var u=f.alpha,d=f.scrollFactorX,v=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*o,v*n),f.setAlpha(u*i),f.renderCanvas(t,f,c,s),f.setAlpha(u),f.setScrollFactor(d,v)}}h.mask&&h.mask.postRenderCanvas(t)}};p.exports=S},44516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(70339),l=t(99325),r=t(20494);l.register("container",function(s,e){s===void 0&&(s={});var i=r(s,"x",0),o=r(s,"y",0),n=r(s,"children",null),a=new c(this.scene,i,o,n);return e!==void 0&&(s.add=e),h(this.scene,a,s),a})},23400:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70339),c=t(61286);c.register("container",function(l,r,s){return this.displayList.add(new h(this.scene,l,r,s))})},98524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(36934),l=t(13916),p.exports={renderWebGL:c,renderCanvas:l}},36934:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c.addToRenderList(h);var r=h.list,s=r.length;if(s!==0){var e=h.localTransform;l?(e.loadIdentity(),e.multiply(l),e.translate(h.x,h.y),e.rotate(h.rotation),e.scale(h.scaleX,h.scaleY)):e.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var i=h.blendMode!==-1;i||t.setBlendMode(0);for(var o=h.alpha,n=h.scrollFactorX,a=h.scrollFactorY,f=0;f<s;f++){var u=r[f];if(u.willRender(c)){var d,v,g,x;if(u.alphaTopLeft!==void 0)d=u.alphaTopLeft,v=u.alphaTopRight,g=u.alphaBottomLeft,x=u.alphaBottomRight;else{var m=u.alpha;d=m,v=m,g=m,x=m}var y=u.scrollFactorX,T=u.scrollFactorY;!i&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode);var R=u.mask;R&&R.preRenderWebGL(t,u,c);var P=u.type;P!==t.currentType&&(t.newType=!0,t.currentType=P),t.nextTypeMatch=f<s-1?r[f+1].type===t.currentType:!1,u.setScrollFactor(y*n,T*a),u.setAlpha(d*o,v*o,g*o,x*o),u.renderWebGL(t,u,c,e,h),u.setAlpha(d,v,g,x),u.setScrollFactor(y,T),R&&R.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(h)}};p.exports=S},2452:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(11603),r=t(89980),s=t(42911),e=t(55638),i=t(7599),o=t(51729),n=new h({Extends:r,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Origin,c.ScrollFactor,c.Transform,c.Visible,l],initialize:function(f,u,d,v,g,x){r.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new o,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(u,d),typeof v=="string"?v[0]==="#"?this.setElement(v.substr(1),g,x):this.createElement(v,g,x):v&&this.setElement(v,g,x),f.sys.events.on(i.SLEEP,this.handleSceneEvent,this),f.sys.events.on(i.WAKE,this.handleSceneEvent,this),f.sys.events.on(i.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(a){var f=this.node,u=f.style;f&&(u.display=a.settings.visible?"block":"none")},setSkew:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.skewX=a,this.skewY=f,this},setPerspective:function(a){return this.parent.style.perspective=a+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(a){this.parent.style.perspective=a+"px"}},addListener:function(a){if(this.node){a=a.split(" ");for(var f=0;f<a.length;f++)this.node.addEventListener(a[f],this.handler,!1)}return this},removeListener:function(a){if(this.node){a=a.split(" ");for(var f=0;f<a.length;f++)this.node.removeEventListener(a[f],this.handler)}return this},dispatchNativeEvent:function(a){this.emit(a.type,a)},createElement:function(a,f,u){return this.setElement(document.createElement(a),f,u)},setElement:function(a,f,u){this.removeElement();var d;if(typeof a=="string"?(a[0]==="#"&&(a=a.substr(1)),d=document.getElementById(a)):typeof a=="object"&&a.nodeType===1&&(d=a),!d)return this;if(this.node=d,f&&s(f))for(var v in f)d.style[v]=f[v];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),u&&(d.innerText=u),this.updateSize()},createFromCache:function(a,f){var u=this.cache.get(a);return u&&this.createFromHTML(u,f),this},createFromHTML:function(a,f){f===void 0&&(f="div"),this.removeElement();var u=document.createElement(f);return this.node=u,u.style.zIndex="0",u.style.display="inline",u.style.position="absolute",u.phaser=this,this.parent&&this.parent.appendChild(u),u.innerHTML=a,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var a=this.node,f=a.getBoundingClientRect();return this.width=a.clientWidth,this.height=a.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(a,f){if(this.node){for(var u=this.node.querySelectorAll("*"),d=0;d<u.length;d++)if(u[d][a]===f)return u[d]}return null},getChildByID:function(a){return this.getChildByProperty("id",a)},getChildByName:function(a){return this.getChildByProperty("name",a)},setClassName:function(a){return this.node&&(this.node.className=a,this.updateSize()),this},setText:function(a){return this.node&&(this.node.innerText=a,this.updateSize()),this},setHTML:function(a){return this.node&&(this.node.innerHTML=a,this.updateSize()),this},preRender:function(){var a=this.parentContainer,f=this.node;f&&a&&!a.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(i.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(i.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(i.PRE_RENDER,this.preRender,this)}});p.exports=n},66070:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2452),c=t(89980),l=t(69360),r=new l,s=new l,e=new l,i=function(o,n,a,f){if(n.node){var u=n.node.style,d=n.scene.sys.settings;if(!u||!d.visible||c.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&a.id||n.parentContainer&&!n.parentContainer.willRender()){u.display="none";return}var v=n.parentContainer,g=a.alpha*n.alpha;v&&(g*=v.alpha);var x=r,m=s,y=e,T=0,R=0,P="0%",D="0%";f?(T=n.width*n.scaleX*n.originX,R=n.height*n.scaleY*n.originY,m.applyITRS(n.x-T,n.y-R,n.rotation,n.scaleX,n.scaleY),x.copyFrom(a.matrix),x.multiplyWithOffset(f,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),m.e=n.x-T,m.f=n.y-R,x.multiply(m,y)):(T=n.width*n.originX,R=n.height*n.originY,m.applyITRS(n.x-T,n.y-R,n.rotation,n.scaleX,n.scaleY),x.copyFrom(a.matrix),P=100*n.originX+"%",D=100*n.originY+"%",m.e-=a.scrollX*n.scrollFactorX,m.f-=a.scrollY*n.scrollFactorY,x.multiply(m,y)),n.transformOnly||(u.display="block",u.opacity=g,u.zIndex=n._depth,u.pointerEvents=n.pointerEvents,u.mixBlendMode=h[n._blendMode]),u.transform=y.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",u.transformOrigin=P+" "+D}};p.exports=i},66788:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38943),c=t(61286);c.register("dom",function(l,r,s,e,i){var o=new h(this.scene,l,r,s,e,i);return this.displayList.add(o),o})},11603:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(66070),l=t(66070),p.exports={renderWebGL:c,renderCanvas:l}},65492:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},98398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},40239:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},17286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},31496:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},89587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},59792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="locked"},96342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},6017:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="playing"},49614:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},24418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},87318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},50009:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stalled"},61922:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},79501:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="textureready"},4052:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},54857:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unsupported"},56631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(89980),r=t(79394),s=new h({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.Origin,c.ScrollFactor,c.Size,c.Texture,c.Tint,c.Transform,c.Visible,r],initialize:function(i){l.call(this,i,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=s},96699:()=>{},41155:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39419),c=t(61286);c.register("extern",function(){var l=new h(this.scene);return this.displayList.add(l),l})},79394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(81410),l=t(96699),p.exports={renderWebGL:c,renderCanvas:l}},81410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=function(l,r,s,e){l.pipelines.clear();var i=h(r,s,e).calc;r.render.call(r,l,s,i),l.pipelines.rebind()};p.exports=c},36266:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51052),c=t(56694),l=t(36266),r=t(64937),s=t(95669),e=t(89980),i=t(72632),o=t(10850),n=t(83392),a=t(60898),f=new c({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,a],initialize:function(d,v){var g=o(v,"x",0),x=o(v,"y",0);e.call(this,d,"Graphics"),this.setPosition(g,x),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(v)},setDefaultStyles:function(u){return o(u,"lineStyle",null)&&(this.defaultStrokeWidth=o(u,"lineStyle.width",1),this.defaultStrokeColor=o(u,"lineStyle.color",16777215),this.defaultStrokeAlpha=o(u,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),o(u,"fillStyle",null)&&(this.defaultFillColor=o(u,"fillStyle.color",16777215),this.defaultFillAlpha=o(u,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(u,d,v){return v===void 0&&(v=1),this.commandBuffer.push(l.LINE_STYLE,u,d,v),this._lineWidth=u,this},fillStyle:function(u,d){return d===void 0&&(d=1),this.commandBuffer.push(l.FILL_STYLE,u,d),this},fillGradientStyle:function(u,d,v,g,x,m,y,T){return x===void 0&&(x=1),m===void 0&&(m=x),y===void 0&&(y=x),T===void 0&&(T=x),this.commandBuffer.push(l.GRADIENT_FILL_STYLE,x,m,y,T,u,d,v,g),this},lineGradientStyle:function(u,d,v,g,x,m){return m===void 0&&(m=1),this.commandBuffer.push(l.GRADIENT_LINE_STYLE,u,m,d,v,g,x),this},beginPath:function(){return this.commandBuffer.push(l.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(l.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(l.FILL_PATH),this},fill:function(){return this.commandBuffer.push(l.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(l.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(l.STROKE_PATH),this},fillCircleShape:function(u){return this.fillCircle(u.x,u.y,u.radius)},strokeCircleShape:function(u){return this.strokeCircle(u.x,u.y,u.radius)},fillCircle:function(u,d,v){return this.beginPath(),this.arc(u,d,v,0,n.PI2),this.fillPath(),this},strokeCircle:function(u,d,v){return this.beginPath(),this.arc(u,d,v,0,n.PI2),this.strokePath(),this},fillRectShape:function(u){return this.fillRect(u.x,u.y,u.width,u.height)},strokeRectShape:function(u){return this.strokeRect(u.x,u.y,u.width,u.height)},fillRect:function(u,d,v,g){return this.commandBuffer.push(l.FILL_RECT,u,d,v,g),this},strokeRect:function(u,d,v,g){var x=this._lineWidth/2,m=u-x,y=u+x;return this.beginPath(),this.moveTo(u,d),this.lineTo(u,d+g),this.strokePath(),this.beginPath(),this.moveTo(u+v,d),this.lineTo(u+v,d+g),this.strokePath(),this.beginPath(),this.moveTo(m,d),this.lineTo(y+v,d),this.strokePath(),this.beginPath(),this.moveTo(m,d+g),this.lineTo(y+v,d+g),this.strokePath(),this},fillRoundedRect:function(u,d,v,g,x){x===void 0&&(x=20);var m=x,y=x,T=x,R=x;typeof x!="number"&&(m=i(x,"tl",20),y=i(x,"tr",20),T=i(x,"bl",20),R=i(x,"br",20));var P=m>=0,D=y>=0,O=T>=0,B=R>=0;return m=Math.abs(m),y=Math.abs(y),T=Math.abs(T),R=Math.abs(R),this.beginPath(),this.moveTo(u+m,d),this.lineTo(u+v-y,d),D?this.arc(u+v-y,d+y,y,-n.TAU,0):this.arc(u+v,d,y,Math.PI,n.TAU,!0),this.lineTo(u+v,d+g-R),B?this.arc(u+v-R,d+g-R,R,0,n.TAU):this.arc(u+v,d+g,R,-n.TAU,Math.PI,!0),this.lineTo(u+T,d+g),O?this.arc(u+T,d+g-T,T,n.TAU,Math.PI):this.arc(u,d+g,T,0,-n.TAU,!0),this.lineTo(u,d+m),P?this.arc(u+m,d+m,m,-Math.PI,-n.TAU):this.arc(u,d,m,n.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(u,d,v,g,x){x===void 0&&(x=20);var m=x,y=x,T=x,R=x,P=Math.min(v,g)/2;typeof x!="number"&&(m=i(x,"tl",20),y=i(x,"tr",20),T=i(x,"bl",20),R=i(x,"br",20));var D=m>=0,O=y>=0,B=T>=0,G=R>=0;return m=Math.min(Math.abs(m),P),y=Math.min(Math.abs(y),P),T=Math.min(Math.abs(T),P),R=Math.min(Math.abs(R),P),this.beginPath(),this.moveTo(u+m,d),this.lineTo(u+v-y,d),this.moveTo(u+v-y,d),O?this.arc(u+v-y,d+y,y,-n.TAU,0):this.arc(u+v,d,y,Math.PI,n.TAU,!0),this.lineTo(u+v,d+g-R),this.moveTo(u+v,d+g-R),G?this.arc(u+v-R,d+g-R,R,0,n.TAU):this.arc(u+v,d+g,R,-n.TAU,Math.PI,!0),this.lineTo(u+T,d+g),this.moveTo(u+T,d+g),B?this.arc(u+T,d+g-T,T,n.TAU,Math.PI):this.arc(u,d+g,T,0,-n.TAU,!0),this.lineTo(u,d+m),this.moveTo(u,d+m),D?this.arc(u+m,d+m,m,-Math.PI,-n.TAU):this.arc(u,d,m,n.TAU,0,!0),this.strokePath(),this},fillPointShape:function(u,d){return this.fillPoint(u.x,u.y,d)},fillPoint:function(u,d,v){return!v||v<1?v=1:(u-=v/2,d-=v/2),this.commandBuffer.push(l.FILL_RECT,u,d,v,v),this},fillTriangleShape:function(u){return this.fillTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},strokeTriangleShape:function(u){return this.strokeTriangle(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)},fillTriangle:function(u,d,v,g,x,m){return this.commandBuffer.push(l.FILL_TRIANGLE,u,d,v,g,x,m),this},strokeTriangle:function(u,d,v,g,x,m){return this.commandBuffer.push(l.STROKE_TRIANGLE,u,d,v,g,x,m),this},strokeLineShape:function(u){return this.lineBetween(u.x1,u.y1,u.x2,u.y2)},lineBetween:function(u,d,v,g){return this.beginPath(),this.moveTo(u,d),this.lineTo(v,g),this.strokePath(),this},lineTo:function(u,d){return this.commandBuffer.push(l.LINE_TO,u,d),this},moveTo:function(u,d){return this.commandBuffer.push(l.MOVE_TO,u,d),this},strokePoints:function(u,d,v,g){d===void 0&&(d=!1),v===void 0&&(v=!1),g===void 0&&(g=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var x=1;x<g;x++)this.lineTo(u[x].x,u[x].y);return d&&this.lineTo(u[0].x,u[0].y),v&&this.closePath(),this.strokePath(),this},fillPoints:function(u,d,v,g){d===void 0&&(d=!1),v===void 0&&(v=!1),g===void 0&&(g=u.length),this.beginPath(),this.moveTo(u[0].x,u[0].y);for(var x=1;x<g;x++)this.lineTo(u[x].x,u[x].y);return d&&this.lineTo(u[0].x,u[0].y),v&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(u,d){d===void 0&&(d=32);var v=u.getPoints(d);return this.strokePoints(v,!0)},strokeEllipse:function(u,d,v,g,x){x===void 0&&(x=32);var m=new s(u,d,v,g),y=m.getPoints(x);return this.strokePoints(y,!0)},fillEllipseShape:function(u,d){d===void 0&&(d=32);var v=u.getPoints(d);return this.fillPoints(v,!0)},fillEllipse:function(u,d,v,g,x){x===void 0&&(x=32);var m=new s(u,d,v,g),y=m.getPoints(x);return this.fillPoints(y,!0)},arc:function(u,d,v,g,x,m,y){return m===void 0&&(m=!1),y===void 0&&(y=0),this.commandBuffer.push(l.ARC,u,d,v,g,x,m,y),this},slice:function(u,d,v,g,x,m,y){return m===void 0&&(m=!1),y===void 0&&(y=0),this.commandBuffer.push(l.BEGIN_PATH),this.commandBuffer.push(l.MOVE_TO,u,d),this.commandBuffer.push(l.ARC,u,d,v,g,x,m,y),this.commandBuffer.push(l.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(l.SAVE),this},restore:function(){return this.commandBuffer.push(l.RESTORE),this},translateCanvas:function(u,d){return this.commandBuffer.push(l.TRANSLATE,u,d),this},scaleCanvas:function(u,d){return this.commandBuffer.push(l.SCALE,u,d),this},rotateCanvas:function(u){return this.commandBuffer.push(l.ROTATE,u),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(u,d,v){var g=this.scene.sys,x=g.game.renderer;d===void 0&&(d=g.scale.width),v===void 0&&(v=g.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,v),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var m,y,T={willReadFrequently:!0};if(typeof u=="string")if(g.textures.exists(u)){m=g.textures.get(u);var R=m.getSourceImage();R instanceof HTMLCanvasElement&&(y=R.getContext("2d",T))}else m=g.textures.createCanvas(u,d,v),y=m.getSourceImage().getContext("2d",T);else u instanceof HTMLCanvasElement&&(y=u.getContext("2d",T));return y&&(this.renderCanvas(x,this,f.TargetCamera,null,y,!1),m&&m.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new h,p.exports=f},91543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36266),c=t(49584),l=function(r,s,e,i,o,n){var a=s.commandBuffer,f=a.length,u=o||r.currentContext;if(!(f===0||!c(r,u,s,e,i))){e.addToRenderList(s);var d=1,v=1,g=0,x=0,m=1,y=0,T=0,R=0;u.beginPath();for(var P=0;P<f;++P){var D=a[P];switch(D){case h.ARC:u.arc(a[P+1],a[P+2],a[P+3],a[P+4],a[P+5],a[P+6]),P+=7;break;case h.LINE_STYLE:m=a[P+1],g=a[P+2],d=a[P+3],y=(g&16711680)>>>16,T=(g&65280)>>>8,R=g&255,u.strokeStyle="rgba("+y+","+T+","+R+","+d+")",u.lineWidth=m,P+=3;break;case h.FILL_STYLE:x=a[P+1],v=a[P+2],y=(x&16711680)>>>16,T=(x&65280)>>>8,R=x&255,u.fillStyle="rgba("+y+","+T+","+R+","+v+")",P+=2;break;case h.BEGIN_PATH:u.beginPath();break;case h.CLOSE_PATH:u.closePath();break;case h.FILL_PATH:n||u.fill();break;case h.STROKE_PATH:n||u.stroke();break;case h.FILL_RECT:n?u.rect(a[P+1],a[P+2],a[P+3],a[P+4]):u.fillRect(a[P+1],a[P+2],a[P+3],a[P+4]),P+=4;break;case h.FILL_TRIANGLE:u.beginPath(),u.moveTo(a[P+1],a[P+2]),u.lineTo(a[P+3],a[P+4]),u.lineTo(a[P+5],a[P+6]),u.closePath(),n||u.fill(),P+=6;break;case h.STROKE_TRIANGLE:u.beginPath(),u.moveTo(a[P+1],a[P+2]),u.lineTo(a[P+3],a[P+4]),u.lineTo(a[P+5],a[P+6]),u.closePath(),n||u.stroke(),P+=6;break;case h.LINE_TO:u.lineTo(a[P+1],a[P+2]),P+=2;break;case h.MOVE_TO:u.moveTo(a[P+1],a[P+2]),P+=2;break;case h.LINE_FX_TO:u.lineTo(a[P+1],a[P+2]),P+=5;break;case h.MOVE_FX_TO:u.moveTo(a[P+1],a[P+2]),P+=5;break;case h.SAVE:u.save();break;case h.RESTORE:u.restore();break;case h.TRANSLATE:u.translate(a[P+1],a[P+2]),P+=2;break;case h.SCALE:u.scale(a[P+1],a[P+2]),P+=2;break;case h.ROTATE:u.rotate(a[P+1]),P+=1;break;case h.GRADIENT_FILL_STYLE:P+=5;break;case h.GRADIENT_LINE_STYLE:P+=6;break}}u.restore()}};p.exports=l},41286:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99325),c=t(33182);h.register("graphics",function(l,r){l===void 0&&(l={}),r!==void 0&&(l.add=r);var s=new c(this.scene,l);return l.add&&this.scene.sys.displayList.add(s),s})},13122:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33182),c=t(61286);c.register("graphics",function(l){return this.displayList.add(new h(this.scene,l))})},60898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(34429),l=t(91543),l=t(91543),p.exports={renderWebGL:c,renderCanvas:l}},34429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36266),c=t(73329),l=t(69360),r=t(75512),s=function(a,f,u){this.x=a,this.y=f,this.width=u},e=function(a,f,u){this.points=[],this.pointsLength=1,this.points[0]=new s(a,f,u)},i=[],o=new l,n=function(a,f,u,d){if(f.commandBuffer.length!==0){u.addToRenderList(f);var v=a.pipelines.set(f.pipeline,f);a.pipelines.preBatch(f);for(var g=c(f,u,d).calc,x=o.loadIdentity(),m=f.commandBuffer,y=u.alpha*f.alpha,T=1,R=v.fillTint,P=v.strokeTint,D=0,O=0,B=0,G=.01,b=Math.PI*2,k,$=[],W=0,Z=!0,z=null,X=r.getTintAppendFloatAlpha,w=0;w<m.length;w++)switch(k=m[w],k){case h.BEGIN_PATH:{$.length=0,z=null,Z=!0;break}case h.CLOSE_PATH:{Z=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case h.FILL_PATH:{for(W=0;W<$.length;W++)v.batchFillPath($[W].points,x,g);break}case h.STROKE_PATH:{for(W=0;W<$.length;W++)v.batchStrokePath($[W].points,T,Z,x,g);break}case h.LINE_STYLE:{T=m[++w];var V=m[++w],Y=m[++w]*y,j=X(V,Y);P.TL=j,P.TR=j,P.BL=j,P.BR=j;break}case h.FILL_STYLE:{var J=m[++w],_=m[++w]*y,tt=X(J,_);R.TL=tt,R.TR=tt,R.BL=tt,R.BR=tt;break}case h.GRADIENT_FILL_STYLE:{var it=m[++w]*y,st=m[++w]*y,ot=m[++w]*y,ht=m[++w]*y;R.TL=X(m[++w],it),R.TR=X(m[++w],st),R.BL=X(m[++w],ot),R.BR=X(m[++w],ht);break}case h.GRADIENT_LINE_STYLE:{T=m[++w];var ct=m[++w]*y;P.TL=X(m[++w],ct),P.TR=X(m[++w],ct),P.BL=X(m[++w],ct),P.BR=X(m[++w],ct);break}case h.ARC:{var ft=0,Et=m[++w],Mt=m[++w],Dt=m[++w],It=m[++w],pt=m[++w],Lt=m[++w],Pt=m[++w];for(pt-=It,Lt?pt<-b?pt=-b:pt>0&&(pt=-b+pt%b):pt>b?pt=b:pt<0&&(pt=b+pt%b),z===null&&(z=new e(Et+Math.cos(It)*Dt,Mt+Math.sin(It)*Dt,T),$.push(z),ft+=G);ft<1+Pt;)B=pt*ft+It,D=Et+Math.cos(B)*Dt,O=Mt+Math.sin(B)*Dt,z.points.push(new s(D,O,T)),ft+=G;B=pt+It,D=Et+Math.cos(B)*Dt,O=Mt+Math.sin(B)*Dt,z.points.push(new s(D,O,T));break}case h.FILL_RECT:{v.batchFillRect(m[++w],m[++w],m[++w],m[++w],x,g);break}case h.FILL_TRIANGLE:{v.batchFillTriangle(m[++w],m[++w],m[++w],m[++w],m[++w],m[++w],x,g);break}case h.STROKE_TRIANGLE:{v.batchStrokeTriangle(m[++w],m[++w],m[++w],m[++w],m[++w],m[++w],T,x,g);break}case h.LINE_TO:{z!==null?z.points.push(new s(m[++w],m[++w],T)):(z=new e(m[++w],m[++w],T),$.push(z));break}case h.MOVE_TO:{z=new e(m[++w],m[++w],T),$.push(z);break}case h.SAVE:{i.push(x.copyToArray());break}case h.RESTORE:{x.copyFromArray(i.pop());break}case h.TRANSLATE:{Et=m[++w],Mt=m[++w],x.translate(Et,Mt);break}case h.SCALE:{Et=m[++w],Mt=m[++w],x.scale(Et,Mt);break}case h.ROTATE:{x.rotate(m[++w]);break}}a.pipelines.postBatch(f)}};p.exports=n},59192:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83979),c=t(56694),l=t(56631),r=t(6659),s=t(71608),e=t(72632),i=t(10850),o=t(19256),n=t(42911),a=t(75757),f=t(58403),u=t(13747),d=new c({Extends:r,initialize:function(g,x,m){r.call(this),m?x&&!Array.isArray(x)&&(x=[x]):Array.isArray(x)?n(x[0])&&(m=x,x=null):n(x)&&(m=x,x=null),this.scene=g,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(m,"classType",u),this.name=e(m,"name",""),this.active=e(m,"active",!0),this.maxSize=e(m,"maxSize",-1),this.defaultKey=e(m,"defaultKey",null),this.defaultFrame=e(m,"defaultFrame",null),this.runChildUpdate=e(m,"runChildUpdate",!1),this.createCallback=e(m,"createCallback",null),this.removeCallback=e(m,"removeCallback",null),this.createMultipleCallback=e(m,"createMultipleCallback",null),this.internalCreateCallback=e(m,"internalCreateCallback",null),this.internalRemoveCallback=e(m,"internalRemoveCallback",null),x&&this.addMultiple(x),m&&this.createMultiple(m),this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,g,x,m,y,T){if(v===void 0&&(v=0),g===void 0&&(g=0),x===void 0&&(x=this.defaultKey),m===void 0&&(m=this.defaultFrame),y===void 0&&(y=!0),T===void 0&&(T=!0),this.isFull())return null;var R=new this.classType(this.scene,v,g,x,m);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=y,R.setActive(T),this.add(R),R},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var g=[];if(v[0].key)for(var x=0;x<v.length;x++){var m=this.createFromConfig(v[x]);g=g.concat(m)}return g},createFromConfig:function(v){if(this.isFull())return[];this.classType=e(v,"classType",this.classType);var g=e(v,"key",void 0),x=e(v,"frame",null),m=e(v,"visible",!0),y=e(v,"active",!0),T=[];if(g===void 0)return T;Array.isArray(g)||(g=[g]),Array.isArray(x)||(x=[x]);var R=e(v,"repeat",0),P=e(v,"randomKey",!1),D=e(v,"randomFrame",!1),O=e(v,"yoyo",!1),B=e(v,"quantity",!1),G=e(v,"frameQuantity",1),b=e(v,"max",0),k=a(g,x,{max:b,qty:B||G,random:P,randomB:D,repeat:R,yoyo:O});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback);for(var $=0;$<k.length;$++){var W=this.create(0,0,k[$].a,k[$].b,m,y);if(!W)break;T.push(W)}if(o(v,"setXY")){var Z=i(v,"setXY.x",0),z=i(v,"setXY.y",0),X=i(v,"setXY.stepX",0),w=i(v,"setXY.stepY",0);h.SetXY(T,Z,z,X,w)}if(o(v,"setRotation")){var V=i(v,"setRotation.value",0),Y=i(v,"setRotation.step",0);h.SetRotation(T,V,Y)}if(o(v,"setScale")){var j=i(v,"setScale.x",1),J=i(v,"setScale.y",j),_=i(v,"setScale.stepX",0),tt=i(v,"setScale.stepY",0);h.SetScale(T,j,J,_,tt)}if(o(v,"setOrigin")){var it=i(v,"setOrigin.x",.5),st=i(v,"setOrigin.y",it),ot=i(v,"setOrigin.stepX",0),ht=i(v,"setOrigin.stepY",0);h.SetOrigin(T,it,st,ot,ht)}if(o(v,"setAlpha")){var ct=i(v,"setAlpha.value",1),ft=i(v,"setAlpha.step",0);h.SetAlpha(T,ct,ft)}if(o(v,"setDepth")){var Et=i(v,"setDepth.value",0),Mt=i(v,"setDepth.step",0);h.SetDepth(T,Et,Mt)}if(o(v,"setScrollFactor")){var Dt=i(v,"setScrollFactor.x",1),It=i(v,"setScrollFactor.y",Dt),pt=i(v,"setScrollFactor.stepX",0),Lt=i(v,"setScrollFactor.stepY",0);h.SetScrollFactor(T,Dt,It,pt,Lt)}var Pt=e(v,"hitArea",null),Jt=e(v,"hitAreaCallback",null);Pt&&h.SetHitArea(T,Pt,Jt);var $t=e(v,"gridAlign",!1);return $t&&h.GridAlign(T,$t),this.createMultipleCallback&&this.createMultipleCallback.call(this,T),T},preUpdate:function(v,g){if(!(!this.runChildUpdate||this.children.size===0))for(var x=this.children.entries.slice(),m=0;m<x.length;m++){var y=x[m];y.active&&y.update(v,g)}},add:function(v,g){return g===void 0&&(g=!1),this.isFull()?this:(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),g&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(l.DESTROY,this.remove,this),this)},addMultiple:function(v,g){if(g===void 0&&(g=!1),Array.isArray(v))for(var x=0;x<v.length;x++)this.add(v[x],g);return this},remove:function(v,g,x){return g===void 0&&(g=!1),x===void 0&&(x=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(l.DESTROY,this.remove,this),x?v.destroy():g&&(v.removeFromDisplayList(),v.removeFromUpdateList()),this):this},clear:function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1);for(var x=this.children,m=0;m<x.size;m++){var y=x.entries[m];y.off(l.DESTROY,this.remove,this),g?y.destroy():v&&(y.removeFromDisplayList(),y.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,g,x,m){return s(this.children.entries,v,g,x,m)},getFirst:function(v,g,x,m,y,T,R){return this.getHandler(!0,1,v,g,x,m,y,T,R)},getFirstNth:function(v,g,x,m,y,T,R,P){return this.getHandler(!0,v,g,x,m,y,T,R,P)},getLast:function(v,g,x,m,y,T,R){return this.getHandler(!1,1,v,g,x,m,y,T,R)},getLastNth:function(v,g,x,m,y,T,R,P){return this.getHandler(!1,v,g,x,m,y,T,R,P)},getHandler:function(v,g,x,m,y,T,R,P,D){x===void 0&&(x=!1),m===void 0&&(m=!1);var O,B,G=0,b=this.children.entries;if(v)for(B=0;B<b.length;B++)if(O=b[B],O.active===x){if(G++,G===g)break}else O=null;else for(B=b.length-1;B>=0;B--)if(O=b[B],O.active===x){if(G++,G===g)break}else O=null;return O?(typeof y=="number"&&(O.x=y),typeof T=="number"&&(O.y=T),O):m?this.create(y,T,R,P,D):null},get:function(v,g,x,m,y){return this.getFirst(!1,!0,v,g,x,m,y)},getFirstAlive:function(v,g,x,m,y,T){return this.getFirst(!0,v,g,x,m,y,T)},getFirstDead:function(v,g,x,m,y,T){return this.getFirst(!1,v,g,x,m,y,T)},playAnimation:function(v,g){return h.PlayAnimation(this.children.entries,v,g),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var g=0,x=0;x<this.children.size;x++)this.children.entries[x].active===v&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed(),g=this.maxSize===-1?999999999999:this.maxSize;return g-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,g,x,m,y){return h.PropertyValueSet(this.children.entries,v,g,x,m,y),this},propertyValueInc:function(v,g,x,m,y){return h.PropertyValueInc(this.children.entries,v,g,x,m,y),this},setX:function(v,g){return h.SetX(this.children.entries,v,g),this},setY:function(v,g){return h.SetY(this.children.entries,v,g),this},setXY:function(v,g,x,m){return h.SetXY(this.children.entries,v,g,x,m),this},incX:function(v,g){return h.IncX(this.children.entries,v,g),this},incY:function(v,g){return h.IncY(this.children.entries,v,g),this},incXY:function(v,g,x,m){return h.IncXY(this.children.entries,v,g,x,m),this},shiftPosition:function(v,g,x){return h.ShiftPosition(this.children.entries,v,g,x),this},angle:function(v,g){return h.Angle(this.children.entries,v,g),this},rotate:function(v,g){return h.Rotate(this.children.entries,v,g),this},rotateAround:function(v,g){return h.RotateAround(this.children.entries,v,g),this},rotateAroundDistance:function(v,g,x){return h.RotateAroundDistance(this.children.entries,v,g,x),this},setAlpha:function(v,g){return h.SetAlpha(this.children.entries,v,g),this},setTint:function(v,g,x,m){return h.SetTint(this.children.entries,v,g,x,m),this},setOrigin:function(v,g,x,m){return h.SetOrigin(this.children.entries,v,g,x,m),this},scaleX:function(v,g){return h.ScaleX(this.children.entries,v,g),this},scaleY:function(v,g){return h.ScaleY(this.children.entries,v,g),this},scaleXY:function(v,g,x,m){return h.ScaleXY(this.children.entries,v,g,x,m),this},setDepth:function(v,g){return h.SetDepth(this.children.entries,v,g),this},setBlendMode:function(v){return h.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,g){return h.SetHitArea(this.children.entries,v,g),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,g,x){return h.SetVisible(this.children.entries,v,g,x),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(l.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,v),this.scene=void 0,this.children=void 0)}});p.exports=d},61295:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99325),c=t(59192);h.register("group",function(l){return new c(this.scene,null,l)})},62598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59192),c=t(61286);c.register("group",function(l,r){return this.updateList.add(new h(this.scene,l,r))})},1539:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(89980),r=t(57322),s=new h({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,r],initialize:function(i,o,n,a,f){l.call(this,i,"Image"),this._crop=this.resetCropObject(),this.setTexture(a,f),this.setPosition(o,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=s},57786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c.addToRenderList(h),t.batchSprite(h,h.frame,c,l)};p.exports=S},83556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(1539);c.register("image",function(s,e){s===void 0&&(s={});var i=l(s,"key",null),o=l(s,"frame",null),n=new r(this.scene,0,0,i,o);return e!==void 0&&(s.add=e),h(this.scene,n,s),n})},20927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1539),c=t(61286);c.register("image",function(l,r,s,e){return this.displayList.add(new h(this.scene,l,r,s,e))})},57322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(59390),l=t(57786),p.exports={renderWebGL:c,renderCanvas:l}},59390:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c.addToRenderList(h),this.pipeline.batchSprite(h,c,l)};p.exports=S},48013:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};h.Shader=t(27902),h.Mesh=t(83321),h.NineSlice=t(44139),h.PointLight=t(13171),h.Plane=t(33412),h.Factories.Shader=t(51979),h.Factories.Mesh=t(8767),h.Factories.NineSlice=t(53778),h.Factories.PointLight=t(91201),h.Factories.Plane=t(58322),h.Creators.Shader=t(13908),h.Creators.Mesh=t(41839),h.Creators.NineSlice=t(40964),h.Creators.PointLight=t(162),h.Creators.Plane=t(10912),h.Light=t(14455),h.LightsManager=t(26193),h.LightsPlugin=t(50296),p.exports=h},85305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),c=t(56694),l=t(64937),r=t(48129),s=t(81078),e=t(6659),i=t(56631),o=t(71207),n=t(58010),a=t(7599),f=t(17922),u=new c({Extends:o,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.PostPipeline,l.Visible,e,n],initialize:function(v,g){o.call(this,v),e.call(this),this.scene=v,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=v.sys,this.events=v.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),g&&this.add(g),v.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(d,v){return this.data||(this.data=new s(this)),this.data.set(d,v),this},incData:function(d,v){return this.data||(this.data=new s(this)),this.data.inc(d,v),this},toggleData:function(d){return this.data||(this.data=new s(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new s(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,v=this.parentContainer,g=[];v&&(g.unshift(v.getIndex(d)),d=v,v.parentContainer);)v=v.parentContainer;return g.unshift(this.displayList.getIndex(d)),g},addChildCallback:function(d){d.displayList&&d.displayList!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(i.ADDED_TO_SCENE,d,this.scene),this.events.emit(a.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(i.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,v){return d._depth-v._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(i.ADDED_TO_SCENE,this,this.scene),d.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(i.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(i.DESTROY,this);for(var v=this.list;v.length;)v[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=u},834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=h.list;if(l.length!==0){h.depthSort();var r=h.blendMode!==-1;r||t.setBlendMode(0);var s=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,c);for(var e=0;e<l.length;e++){var i=l[e];if(i.willRender(c)){var o=i.alpha;!r&&i.blendMode!==t.currentBlendMode&&t.setBlendMode(i.blendMode),i.setAlpha(o*s),i.renderCanvas(t,i,c),i.setAlpha(o)}}h.mask&&h.mask.postRenderCanvas(t)}};p.exports=S},56378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(85305),l=t(99325),r=t(20494);l.register("layer",function(s,e){s===void 0&&(s={});var i=r(s,"children",null),o=new c(this.scene,i);return e!==void 0&&(s.add=e),h(this.scene,o,s),o})},17676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85305),c=t(61286);c.register("layer",function(l){return this.displayList.add(new h(this.scene,l))})},58010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(17576),l=t(834),p.exports={renderWebGL:c,renderCanvas:l}},17576:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=h.list,r=l.length;if(r!==0){h.depthSort(),t.pipelines.preBatch(h);var s=h.blendMode!==-1;s||t.setBlendMode(0);for(var e=h.alpha,i=0;i<r;i++){var o=l[i];if(o.willRender(c)){var n,a,f,u;if(o.alphaTopLeft!==void 0)n=o.alphaTopLeft,a=o.alphaTopRight,f=o.alphaBottomLeft,u=o.alphaBottomRight;else{var d=o.alpha;n=d,a=d,f=d,u=d}!s&&o.blendMode!==t.currentBlendMode&&t.setBlendMode(o.blendMode);var v=o.mask;v&&v.preRenderWebGL(t,o,c);var g=o.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=i<r-1?l[i+1].type===t.currentType:!1,o.setAlpha(n*e,a*e,f*e,u*e),o.renderWebGL(t,o,c),o.setAlpha(n,a,f,u),v&&v.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(h)}};p.exports=S},14455:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673),c=t(56694),l=t(64937),r=t(39298),s=t(75512),e=new c({Extends:h,Mixins:[l.Origin,l.ScrollFactor,l.Transform,l.Visible],initialize:function(o,n,a,f,u,d,v){h.call(this,o,n,a),this.color=new r(f,u,d),this.intensity=v,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(a)},displayWidth:{get:function(){return this.diameter},set:function(i){this.diameter=i}},displayHeight:{get:function(){return this.diameter},set:function(i){this.diameter=i}},width:{get:function(){return this.diameter},set:function(i){this.diameter=i}},height:{get:function(){return this.diameter},set:function(i){this.diameter=i}},willRender:function(i){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&i.id)},setColor:function(i){var o=s.getFloatsFromUintRGB(i);return this.color.set(o[0],o[1],o[2]),this},setIntensity:function(i){return this.intensity=i,this},setRadius:function(i){return this.radius=i,this}});e.RENDER_MASK=15,p.exports=e},26193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26535),c=t(56694),l=t(53996),r=t(14455),s=t(13171),e=t(39298),i=t(72677),o=t(17922),n=t(75512),a=new c({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,u,d,v,g,x){return this.systems.displayList.add(new s(this.scene,f,u,d,v,g,x))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var u=this.lights,d=f.worldView,v=[],g=0;g<u.length;g++){var x=u[g];x.willRender(f)&&h(x,d)&&v.push({light:x,distance:l(x.x,x.y,d.centerX,d.centerY)})}return v.length>this.maxLights&&(o(v,this.sortByDistance),v=v.slice(0,this.maxLights)),this.visibleLights=v.length,v},sortByDistance:function(f,u){return f.distance>=u.distance},setAmbientColor:function(f){var u=n.getFloatsFromUintRGB(f);return this.ambientColor.set(u[0],u[1],u[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,u,d,v,g){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),v===void 0&&(v=16777215),g===void 0&&(g=1);var x=n.getFloatsFromUintRGB(v),m=new r(f,u,d,x[0],x[1],x[2],g);return this.lights.push(m),m},removeLight:function(f){var u=this.lights.indexOf(f);return u>=0&&i(this.lights,u),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=a},50296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(26193),l=t(91963),r=t(7599),s=new h({Extends:c,initialize:function(i){this.scene=i,this.systems=i.sys,i.sys.settings.isBooted||i.sys.events.once(r.BOOT,this.boot,this),c.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});l.register("LightsPlugin",s,"lights"),p.exports=s},83321:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(75606),r=t(18693),s=t(89980),e=t(53267),i=t(67623),o=t(73329),n=t(16650),a=t(23464),f=t(23701),u=t(17922),d=t(70015),v=t(85769),g=new h({Extends:s,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.Texture,c.Transform,c.Visible,a],initialize:function(m,y,T,R,P,D,O,B,G,b,k,$){y===void 0&&(y=0),T===void 0&&(T=0),R===void 0&&(R="__WHITE"),s.call(this,m,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new d,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=m.sys.renderer;this.setPosition(y,T),this.setTexture(R,P),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),D&&this.addVertices(D,O,B,G,b,k,$)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(x){return this.viewPosition.addScale(d.LEFT,x),this.dirtyCache[10]=1,this},panY:function(x){return this.viewPosition.y+=d.DOWN.y*x,this.dirtyCache[10]=1,this},panZ:function(x){return this.viewPosition.z+=x,this.dirtyCache[10]=1,this},setPerspective:function(x,m,y,T,R){return y===void 0&&(y=45),T===void 0&&(T=.01),R===void 0&&(R=1e3),this.fov=y,this.projectionMatrix.perspective(l(y),x/m,T,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(x,m,y,T){return x===void 0&&(x=this.scene.sys.renderer.getAspectRatio()),m===void 0&&(m=1),y===void 0&&(y=-1e3),T===void 0&&(T=1e3),this.fov=0,this.projectionMatrix.ortho(-x,x,-m,m,y,T),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(x){x.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(x,m,y,T,R,P,D,O,B){var G=this.scene.sys.cache.obj.get(x),b;return G&&(b=e(G,this,m,y,T,R,P,D,O,B)),(!b||b.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",x),this},sortByDepth:function(x,m){return x.depth-m.depth},depthSort:function(){return u(this.faces,this.sortByDepth),this},addVertex:function(x,m,y,T,R,P,D){var O=new v(x,m,y,T,R,P,D);return this.vertices.push(O),O},addFace:function(x,m,y){var T=new r(x,m,y);return this.faces.push(T),this.dirtyCache[9]=-1,T},addVertices:function(x,m,y,T,R,P,D){var O=i(x,m,y,T,R,P,D);return O?(this.faces=this.faces.concat(O.faces),this.vertices=this.vertices.concat(O.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(x){return this.faces[x]},hasFaceAt:function(x,m,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=o(this,y).calc,R=this.faces,P=0;P<R.length;P++){var D=R[P];if(D.contains(x,m,T))return!0}return!1},getFaceAt:function(x,m,y){y===void 0&&(y=this.scene.sys.cameras.main);for(var T=o(this,y).calc,R=this.faces,P=[],D=0;D<R.length;D++){var O=R[D];O.contains(x,m,T)&&P.push(O)}return u(P,this.sortByDepth)},setDebug:function(x,m){return this.debugGraphic=x,!x&&!m?this.debugCallback=null:m?this.debugCallback=m:this.debugCallback=this.renderDebug,this},isDirty:function(){var x=this.modelPosition,m=this.modelRotation,y=this.modelScale,T=this.dirtyCache,R=x.x,P=x.y,D=x.z,O=m.x,B=m.y,G=m.z,b=y.x,k=y.y,$=y.z,W=this.getFaceCount(),Z=T[0],z=T[1],X=T[2],w=T[3],V=T[4],Y=T[5],j=T[6],J=T[7],_=T[8],tt=T[9];return T[0]=R,T[1]=P,T[2]=D,T[3]=O,T[4]=B,T[5]=G,T[6]=b,T[7]=k,T[8]=$,T[9]=W,Z!==R||z!==P||X!==D||w!==O||V!==B||Y!==G||j!==b||J!==k||_!==$||tt!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var x=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!x[10]&&!this.isDirty())){var m=this.width,y=this.height,T=this.viewMatrix,R=this.viewPosition;x[10]&&(T.identity(),T.translate(R),T.invert(),x[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=R.z,O=this.faces,B=0;B<O.length;B++)O[B].transformCoordinatesLocal(P,m,y,D);this.depthSort()}},renderDebug:function(x,m){for(var y=x.debugGraphic,T=0;T<m.length;T++){var R=m[T],P=R.vertex1.tx,D=R.vertex1.ty,O=R.vertex2.tx,B=R.vertex2.ty,G=R.vertex3.tx,b=R.vertex3.ty;y.strokeTriangle(P,D,O,B,G,b)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var x=this.faces,m=function(y,T,R){for(var P=0;P<x.length;P++){var D=x[P];if(D.contains(T,R))return!0}return!1};return this.scene.sys.input.enable(this,m),this},setTint:function(x){x===void 0&&(x=16777215);for(var m=this.vertices,y=0;y<m.length;y++)m[y].color=x;return this},uvScroll:function(x,m){for(var y=this.faces,T=0;T<y.length;T++)y[T].scrollUV(x,m);return this},uvScale:function(x,m){for(var y=this.faces,T=0;T<y.length;T++)y[T].scaleUV(x,m);return this},tint:{set:function(x){this.setTint(x)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(x){this.modelRotation.x=l(x)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(x){this.modelRotation.y=l(x)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(x){this.modelRotation.z=l(x)}}});p.exports=g},6317:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},41839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(10850),s=t(83321);c.register("mesh",function(e,i){e===void 0&&(e={});var o=l(e,"key",null),n=l(e,"frame",null),a=r(e,"vertices",[]),f=r(e,"uvs",[]),u=r(e,"indicies",[]),d=r(e,"containsZ",!1),v=r(e,"normals",[]),g=r(e,"colors",16777215),x=r(e,"alphas",1),m=new s(this.scene,0,0,o,n,a,f,u,d,v,g,x);return i!==void 0&&(e.add=i),h(this.scene,m,e),m})},8767:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83321),c=t(61286);c.register("mesh",function(l,r,s,e,i,o,n,a,f,u,d){return this.displayList.add(new h(this.scene,l,r,s,e,i,o,n,a,f,u,d))})},23464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(57410),l=t(6317),p.exports={renderWebGL:c,renderCanvas:l}},57410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=function(l,r,s,e){var i=r.faces,o=i.length;if(o!==0){s.addToRenderList(r);var n=l.pipelines.set(r.pipeline,r),a=h(r,s,e).calc;l.pipelines.preBatch(r);for(var f=n.setGameObject(r),u=n.vertexViewF32,d=n.vertexViewU32,v=n.vertexCount*n.currentShader.vertexComponentCount-1,g=r.tintFill,x=[],m=r.debugCallback,y=a.a,T=a.b,R=a.c,P=a.d,D=a.e,O=a.f,B=r.viewPosition.z,G=r.hideCCW,b=s.roundPixels,k=s.alpha*r.alpha,$=0,W=0;W<o;W++){var Z=i[W];Z.isInView(s,G,B,k,y,T,R,P,D,O,b)&&(n.shouldFlush(3)&&(n.flush(),f=n.setGameObject(r),v=0),v=Z.load(u,d,v,f,g),$++,n.vertexCount+=3,n.currentBatch.count=n.vertexCount-n.currentBatch.start,m&&x.push(Z))}r.totalFrame+=$,m&&m.call(r,r,x),l.pipelines.postBatch(r)}};p.exports=c},44139:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(89980),r=t(94456),s=t(85769),e=new h({Extends:l,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,r],initialize:function(o,n,a,f,u,d,v,g,x,m,y){d===void 0&&(d=256),v===void 0&&(v=256),g===void 0&&(g=10),x===void 0&&(x=10),m===void 0&&(m=0),y===void 0&&(y=0),l.call(this,o,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=m===0&&y===0;for(var T=this.is3Slice?18:54,R=0;R<T;R++)this.vertices.push(new s);this.setPosition(n,a),this.setTexture(f,u),this.setSlices(d,v,g,x,m,y),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(i,o,n,a,f,u){i===void 0&&(i=256),o===void 0&&(o=256),n===void 0&&(n=10),a===void 0&&(a=10),f===void 0&&(f=0),u===void 0&&(u=0);var d=f===0&&u===0;return this.is3Slice!==d?console.warn("Cannot change 9 slice to 3 slice"):(this._width=i,this._height=o,this.leftWidth=n,this.rightWidth=a,this.topHeight=f,this.bottomHeight=u,this.is3Slice&&(o=this.frame.height,this._height=o,this.topHeight=o,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var i=this.leftWidth,o=this.rightWidth,n=this.topHeight,a=this.bottomHeight,f=this.frame.width,u=this.frame.height;this.updateQuadUVs(0,0,0,i/f,n/u),this.updateQuadUVs(6,i/f,0,1-o/f,n/u),this.updateQuadUVs(12,1-o/f,0,1,n/u),this.is3Slice||(this.updateQuadUVs(18,0,n/u,i/f,1-a/u),this.updateQuadUVs(24,i/f,n/u,1-o/f,1-a/u),this.updateQuadUVs(30,1-o/f,n/u,1,1-a/u),this.updateQuadUVs(36,0,1-a/u,i/f,1),this.updateQuadUVs(42,i/f,1-a/u,1-o/f,1),this.updateQuadUVs(48,1-o/f,1-a/u,1,1))},updateVertices:function(){var i=this.leftWidth,o=this.rightWidth,n=this.topHeight,a=this.bottomHeight,f=this.width,u=this.height;this.updateQuad(0,-.5,.5,-.5+i/f,.5-n/u),this.updateQuad(6,-.5+i/f,.5,.5-o/f,.5-n/u),this.updateQuad(12,.5-o/f,.5,.5,.5-n/u),this.is3Slice||(this.updateQuad(18,-.5,.5-n/u,-.5+i/f,-.5+a/u),this.updateQuad(24,-.5+i/f,.5-n/u,.5-o/f,-.5+a/u),this.updateQuad(30,.5-o/f,.5-n/u,.5,-.5+a/u),this.updateQuad(36,-.5,-.5+a/u,-.5+i/f,-.5),this.updateQuad(42,-.5+i/f,-.5+a/u,.5-o/f,-.5),this.updateQuad(48,.5-o/f,-.5+a/u,.5,-.5))},updateQuad:function(i,o,n,a,f){var u=this.width,d=this.height,v=this.originX,g=this.originY,x=this.vertices;x[i+0].resize(o,n,u,d,v,g),x[i+1].resize(o,f,u,d,v,g),x[i+2].resize(a,n,u,d,v,g),x[i+3].resize(o,f,u,d,v,g),x[i+4].resize(a,f,u,d,v,g),x[i+5].resize(a,n,u,d,v,g)},updateQuadUVs:function(i,o,n,a,f){var u=this.vertices,d=this.frame,v=d.u0,g=d.v0,x=d.u1,m=d.v1;if(v!==0||x!==1){var y=x-v;o=v+o*y,a=v+a*y}if(g!==0||m!==1){var T=m-g;n=g+n*T,f=g+f*T}u[i+0].setUVs(o,n),u[i+1].setUVs(o,f),u[i+2].setUVs(a,n),u[i+3].setUVs(o,f),u[i+4].setUVs(a,f),u[i+5].setUVs(a,n)},clearTint:function(){return this.setTint(16777215),this},setTint:function(i){return i===void 0&&(i=16777215),this.tint=i,this.tintFill=!1,this},setTintFill:function(i){return this.setTint(i),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(i){this._width=Math.max(i,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(i){this.is3Slice||(this._height=Math.max(i,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,o){this.width=i,this.height=o;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},setDisplaySize:function(i,o){return this.displayWidth=i,this.displayHeight=o,this},originX:{get:function(){return this._originX},set:function(i){this._originX=i,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(i){this._originY=i,this.updateVertices()}},setOrigin:function(i,o){return i===void 0&&(i=.5),o===void 0&&(o=i),this._originX=i,this._originY=o,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var i=this.frame.height;this._height=i,this.topHeight=i,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});p.exports=e},40964:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(10850),s=t(44139);c.register("nineslice",function(e,i){e===void 0&&(e={});var o=l(e,"key",null),n=l(e,"frame",null),a=r(e,"width",256),f=r(e,"height",256),u=r(e,"leftWidth",10),d=r(e,"rightWidth",10),v=r(e,"topHeight",0),g=r(e,"bottomHeight",0),x=new s(this.scene,0,0,o,n,a,f,u,d,v,g);return i!==void 0&&(e.add=i),h(this.scene,x,e),x})},53778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44139),c=t(61286);c.register("nineslice",function(l,r,s,e,i,o,n,a,f,u){return this.displayList.add(new h(this.scene,l,r,s,e,i,o,n,a,f,u))})},94456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(27420),p.exports={renderWebGL:c,renderCanvas:l}},27420:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(75512),l=function(r,s,e,i){var o=s.vertices,n=o.length;if(n!==0){e.addToRenderList(s);var a=r.pipelines.set(s.pipeline,s),f=h(s,e,i,!1).calc;r.pipelines.preBatch(s);var u=a.setGameObject(s),d=a.vertexViewF32,v=a.vertexViewU32,g=a.vertexCount*a.currentShader.vertexComponentCount-1,x=e.roundPixels,m=s.tintFill,y=e.alpha*s.alpha,T=c.getTintAppendFloatAlpha(s.tint,y),R=a.vertexAvailable(),P=-1;R<n&&(P=R);for(var D=0;D<n;D++){var O=o[D];D===P&&(a.flush(),u=a.setGameObject(s),g=0),d[++g]=f.getXRound(O.vx,O.vy,x),d[++g]=f.getYRound(O.vx,O.vy,x),d[++g]=O.u,d[++g]=O.v,d[++g]=u,d[++g]=m,v[++g]=T,a.vertexCount++,a.currentBatch.count=a.vertexCount-a.currentBatch.start}r.pipelines.postBatch(s)}};p.exports=l},19737:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(93025),l=t(22946),r=t(21902),s=t(4840),e=t(15978),i=new h({Extends:c,initialize:function(n){c.call(this,n,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var o=this.propertyValue,n=o,a=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=o[0],this.ease=r("Linear"),this.interpolation=s("linear"),a=this.easedValueEmit,f=this.easeValueUpdate,n=o[0],this.active=!0;for(var u=0;u<o.length;u++){var d=e(o[u]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=a,this.onUpdate=f,this.current=n,this},setEase:function(o){this.easeName=o,this.ease=r(o)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(o,n,a){var f=this.ease(a),u=this.interpolation(this.r,f),d=this.interpolation(this.g,f),v=this.interpolation(this.b,f),g=l(u,d,v);return this.current=g,g}});p.exports=i},93025:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17489),c=t(82897),l=t(56694),r=t(61616),s=t(21902),e=t(72632),i=t(4840),o=t(88462),n=t(1071),a=new l({initialize:function(u,d,v){v===void 0&&(v=!1),this.propertyKey=u,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=v,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,u){f===void 0&&(f={}),u&&(this.propertyKey=u),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var u;switch(this.method){case 1:case 3:case 8:u=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(u=f);break;case 4:var d=(this.end-this.start)/this.steps;u=o(f,d),this.counter=u;break;case 5:case 6:case 7:u=c(f,this.start,this.end);break;case 9:u=this.start[0];break}return this.current=u,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var u=typeof f;if(u==="number")return 1;if(Array.isArray(f))return 2;if(u==="function")return 3;if(u==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.has(f,"interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,u=f,d=this.defaultEmit,v=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,u=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,u=this.start;break;case 5:this.start=f.start,this.end=f.end;var g=this.has(f,"ease")?f.ease:"Linear";this.ease=s(g,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,v=this.easeValueUpdate,u=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,u=this.start;break;case 7:var x=f.random;Array.isArray(x)&&(this.start=x[0],this.end=x[1]),d=this.randomRangedIntEmit,u=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,v=this.proxyUpdate;break;case 9:this.start=f.values;var m=this.has(f,"ease")?f.ease:"Linear";this.ease=s(m,f.easeParams),this.interpolation=i(f.interpolation),d=this.easedValueEmit,v=this.easeValueUpdate,u=this.start[0];break}return this.onEmit=d,this.onUpdate=v,this.current=u,this},has:function(f,u){return f.hasOwnProperty(u)},hasBoth:function(f,u,d){return f.hasOwnProperty(u)&&f.hasOwnProperty(d)},hasEither:function(f,u,d){return f.hasOwnProperty(u)||f.hasOwnProperty(d)},defaultEmit:function(f,u,d){return d},defaultUpdate:function(f,u,d,v){return v},proxyEmit:function(f,u,d){var v=this._onEmit(f,u,d);return this.current=v,v},proxyUpdate:function(f,u,d,v){var g=this._onUpdate(f,u,d,v);return this.current=g,g},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,u){var d=r(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,u){var d=h(this.start,this.end);return f&&f.data[u]&&(f.data[u].min=d,f.data[u].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,u=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var v;this.direction===0?(u+=d,u>=this.end&&(v=u-this.end,u=this.end-v,this.direction=1)):(u-=d,u<=this.start&&(v=this.start-u,u=this.start+v,this.direction=0)),this.counter=u}else this.counter=n(u+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,u){if(f&&f.data[u]){var d=f.data[u];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,u,d){var v=f.data[u],g,x=this.ease(d);return this.interpolation?g=this.interpolation(this.start,x):g=(v.max-v.min)*x+v.min,this.current=g,g},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});p.exports=a},87811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(30891),r=new h({Extends:l,initialize:function(e,i,o,n,a){if(typeof e=="object"){var f=e;e=c(f,"x",0),i=c(f,"y",0),o=c(f,"power",0),n=c(f,"epsilon",100),a=c(f,"gravity",50)}else e===void 0&&(e=0),i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n=100),a===void 0&&(a=50);l.call(this,e,i,!0),this._gravity=a,this._power=o*a,this._epsilon=n*n},update:function(s,e){var i=this.x-s.x,o=this.y-s.y,n=i*i+o*o;if(n!==0){var a=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var f=this._power*e/(n*a)*100;s.velocityX+=i*f,s.velocityY+=o*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(s){this._epsilon=s*s}},power:{get:function(){return this._power/this._gravity},set:function(s){this._power=s*this._gravity}},gravity:{get:function(){return this._gravity},set:function(s){var e=this.power;this._gravity=s,this.power=e}}});p.exports=r},14909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),c=t(82897),l=t(56694),r=t(75606),s=t(74118),e=t(2386),i=t(93736),o=new l({initialize:function(a){this.emitter=a,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new i,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=a.scene,this.anims=new h(this),this.bounds=new s},emit:function(n,a,f,u,d,v){return this.emitter.emit(n,a,f,u,d,v)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(n,a){n===void 0&&(n=0),a===void 0&&(a=0),this.x=n,this.y=a},fire:function(n,a){var f=this.emitter,u=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),n===void 0?this.x+=u.x.onEmit(this,"x"):u.x.steps>0?this.x+=n+u.x.onEmit(this,"x"):this.x+=n,a===void 0?this.y+=u.y.onEmit(this,"y"):u.y.steps>0?this.y+=a+u.y.onEmit(this,"y"):this.y+=a,this.life=u.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=u.delay.onEmit(this,"delay"),this.holdCurrent=u.hold.onEmit(this,"hold"),this.scaleX=u.scaleX.onEmit(this,"scaleX"),this.scaleY=u.scaleY.active?u.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=u.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var v=u.speedX.onEmit(this,"speedX"),g=u.speedY.active?u.speedY.onEmit(this,"speedY"):v;if(f.radial){var x=r(u.angle.onEmit(this,"angle"));this.velocityX=Math.cos(x)*Math.abs(v),this.velocityY=Math.sin(x)*Math.abs(g)}else if(f.moveTo){var m=u.moveToX.onEmit(this,"moveToX"),y=u.moveToY.onEmit(this,"moveToY"),T=this.life/1e3;this.velocityX=(m-this.x)/T,this.velocityY=(y-this.y)/T}else this.velocityX=v,this.velocityY=g;return f.acceleration&&(this.accelerationX=u.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=u.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=u.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=u.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=u.bounce.onEmit(this,"bounce"),this.alpha=u.alpha.onEmit(this,"alpha"),u.color.active?this.tint=u.color.onEmit(this,"tint"):this.tint=u.tint.onEmit(this,"tint"),!0},update:function(n,a,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=n,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=n,!1;this.anims.update(0,n);var u=this.emitter,d=u.ops,v=1-this.lifeCurrent/this.life;if(this.lifeT=v,this.x=d.x.onUpdate(this,"x",v,this.x),this.y=d.y.onUpdate(this,"y",v,this.y),u.moveTo){var g=d.moveToX.onUpdate(this,"moveToX",v,u.moveToX),x=d.moveToY.onUpdate(this,"moveToY",v,u.moveToY),m=this.lifeCurrent/1e3;this.velocityX=(g-this.x)/m,this.velocityY=(x-this.y)/m}return this.computeVelocity(u,n,a,f,v),this.scaleX=d.scaleX.onUpdate(this,"scaleX",v,this.scaleX),this.scaleY=this.scaleX,d.scaleY.active&&(this.scaleY=d.scaleY.onUpdate(this,"scaleY",v,this.scaleY)),this.angle=d.rotate.onUpdate(this,"rotate",v,this.angle),this.rotation=r(this.angle),u.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=d.alpha.onUpdate(this,"alpha",v,this.alpha),d.color.active?this.tint=d.color.onUpdate(this,"color",v,this.tint):this.tint=d.tint.onUpdate(this,"tint",v,this.tint),this.lifeCurrent-=n,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(n,a,f,u,d){var v=n.ops,g=this.velocityX,x=this.velocityY,m=v.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),y=v.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),T=v.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),R=v.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=v.bounce.onUpdate(this,"bounce",d,this.bounce),g+=n.gravityX*f+m*f,x+=n.gravityY*f+y*f,g=c(g,-T,T),x=c(x,-R,R),this.velocityX=g,this.velocityY=x,this.x+=g*f,this.y+=x*f,n.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var P=0;P<u.length;P++){var D=u[P];D.active&&D.update(this,a,f,d)}},setSizeToFrame:function(){},getBounds:function(n){n===void 0&&(n=this.emitter.getWorldTransformMatrix());var a=Math.abs(n.scaleX)*this.scaleX,f=Math.abs(n.scaleY)*this.scaleY,u=this.x,d=this.y,v=this.rotation,g=this.frame.width*a/2,x=this.frame.height*f/2,m=this.bounds,y=new i(u-g,d-x),T=new i(u+g,d-x),R=new i(u-g,d+x),P=new i(u+g,d+x);return v!==0&&(e(y,u,d,v),e(T,u,d,v),e(R,u,d,v),e(P,u,d,v)),n.transformPoint(y.x,y.y,y),n.transformPoint(T.x,T.y,T),n.transformPoint(R.x,R.y,R),n.transformPoint(P.x,P.y,P),m.x=Math.min(y.x,T.x,R.x,P.x),m.y=Math.min(y.y,T.y,R.y,P.y),m.width=Math.max(y.x,T.x,R.x,P.x)-m.x,m.height=Math.max(y.y,T.y,R.y,P.y)-m.y,m},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});p.exports=o},73106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(30891),l=t(74118),r=new h({Extends:c,initialize:function(e,i,o,n,a,f,u,d){a===void 0&&(a=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),c.call(this,e,i,!0),this.bounds=new l(e,i,o,n),this.collideLeft=a,this.collideRight=f,this.collideTop=u,this.collideBottom=d},update:function(s){var e=this.bounds,i=-s.bounce,o=s.worldPosition;o.x<e.x&&this.collideLeft?(s.x+=e.x-o.x,s.velocityX*=i):o.x>e.right&&this.collideRight&&(s.x-=o.x-e.right,s.velocityX*=i),o.y<e.y&&this.collideTop?(s.y+=e.y-o.y,s.velocityY*=i):o.y>e.bottom&&this.collideBottom&&(s.y-=o.y-e.bottom,s.velocityY*=i)}});p.exports=r},9216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(48129),r=t(29538),s=t(69361),e=t(54213),i=t(19737),o=t(93025),n=t(40629),a=t(89980),f=t(72632),u=t(72861),d=t(87811),v=t(53523),g=t(19256),x=t(7782),m=t(71207),y=t(14655),T=t(14909),R=t(68433),P=t(74118),D=t(90205),O=t(66458),B=t(69116),G=t(17922),b=t(69360),k=t(93736),$=t(1071),W=t(73106),Z=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],X=new h({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,B],initialize:function(V,Y,j,J,_){a.call(this,V,"ParticleEmitter"),this.particleClass=T,this.ops={accelerationX:new o("accelerationX",0),accelerationY:new o("accelerationY",0),alpha:new o("alpha",1),angle:new o("angle",{min:0,max:360},!0),bounce:new o("bounce",0),color:new i("color"),delay:new o("delay",0,!0),hold:new o("hold",0,!0),lifespan:new o("lifespan",1e3,!0),maxVelocityX:new o("maxVelocityX",1e4),maxVelocityY:new o("maxVelocityY",1e4),moveToX:new o("moveToX",0),moveToY:new o("moveToY",0),quantity:new o("quantity",1,!0),rotate:new o("rotate",0),scaleX:new o("scaleX",1),scaleY:new o("scaleY",1),speedX:new o("speedX",0,!0),speedY:new o("speedY",0,!0),tint:new o("tint",16777215),x:new o("x",0),y:new o("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new k,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new b,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new m(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(Y,j),this.setTexture(J),_&&this.setConfig(_)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(w){if(!w)return this;var V=0,Y="",j=this.ops;for(V=0;V<z.length;V++)Y=z[V],j[Y].loadConfig(w);for(V=0;V<Z.length;V++)Y=Z[V],g(w,Y)&&(this[Y]=f(w,Y));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,g(w,"speed")&&(j.speedX.loadConfig(w,"speed"),j.speedY.active=!1),(v(w,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),g(w,"scale")&&(j.scaleX.loadConfig(w,"scale"),j.scaleY.active=!1),g(w,"callbackScope")){var J=f(w,"callbackScope",null);this.emitCallbackScope=J,this.deathCallbackScope=J}if(g(w,"emitZone")&&this.addEmitZone(w.emitZone),g(w,"deathZone")&&this.addDeathZone(w.deathZone),g(w,"bounds")){var _=this.addParticleBounds(w.bounds);_.collideLeft=f(w,"collideLeft",!0),_.collideRight=f(w,"collideRight",!0),_.collideTop=f(w,"collideTop",!0),_.collideBottom=f(w,"collideBottom",!0)}return g(w,"followOffset")&&this.followOffset.setFromObject(f(w,"followOffset",0)),g(w,"texture")&&this.setTexture(w.texture),g(w,"frame")?this.setEmitterFrame(w.frame):g(w,"anim")&&this.setAnim(w.anim),g(w,"reserve")&&this.reserve(w.reserve),g(w,"advance")&&this.fastForward(w.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(n.START,this),this},toJSON:function(){var w=l(this),V=0,Y="";for(V=0;V<Z.length;V++)Y=Z[V],w[Y]=this[Y];var j=this.ops;for(V=0;V<z.length;V++)Y=z[V],j[Y]&&(w[Y]=j[Y].toJSON());return j.speedY.active||(delete w.speedX,w.speed=j.speedX.toJSON()),this.scaleX===this.scaleY&&(delete w.scaleX,delete w.scaleY,w.scale=j.scaleX.toJSON()),w},resetCounters:function(w,V){var Y=this.counters;Y.fill(0),Y[0]=w,V&&(Y[5]=1)},startFollow:function(w,V,Y,j){return V===void 0&&(V=0),Y===void 0&&(Y=0),j===void 0&&(j=!1),this.follow=w,this.followOffset.set(V,Y),this.trackVisible=j,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var w=this.frames,V=w.length,Y;return V===1?Y=w[0]:this.randomFrame?Y=u(w):(Y=w[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===V&&(this.currentFrame=0))),this.texture.get(Y)},setEmitterFrame:function(w,V,Y){V===void 0&&(V=!0),Y===void 0&&(Y=1),this.randomFrame=V,this.frameQuantity=Y,this.currentFrame=0;var j=typeof w;if(this.frames.length=0,Array.isArray(w))this.frames=this.frames.concat(w);else if(j==="string"||j==="number")this.frames.push(w);else if(j==="object"){var J=w;w=f(J,"frames",null),w&&(this.frames=this.frames.concat(w));var _=f(J,"cycle",!1);this.randomFrame=!_,this.frameQuantity=f(J,"quantity",Y)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var w=this.anims,V=w.length;if(V===0)return null;if(V===1)return w[0];if(this.randomAnim)return u(w);var Y=w[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=$(this.currentAnim+1,0,V-1)),Y},setAnim:function(w,V,Y){V===void 0&&(V=!0),Y===void 0&&(Y=1),this.randomAnim=V,this.animQuantity=Y,this.currentAnim=0;var j=typeof w;if(this.anims.length=0,Array.isArray(w))this.anims=this.anims.concat(w);else if(j==="string")this.anims.push(w);else if(j==="object"){var J=w;w=f(J,"anims",null),w&&(this.anims=this.anims.concat(w));var _=f(J,"cycle",!1);this.randomAnim=!_,this.animQuantity=f(J,"quantity",Y)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(w){return w===void 0&&(w=!0),this.radial=w,this},addParticleBounds:function(w,V,Y,j,J,_,tt,it){if(typeof w=="object"){var st=w;w=st.x,V=st.y,Y=g(st,"w")?st.w:st.width,j=g(st,"h")?st.h:st.height}return this.addParticleProcessor(new W(w,V,Y,j,J,_,tt,it))},setParticleSpeed:function(w,V){return V===void 0&&(V=w),this.ops.speedX.onChange(w),w===V?this.ops.speedY.active=!1:this.ops.speedY.onChange(V),this.radial=!0,this},setParticleScale:function(w,V){return w===void 0&&(w=1),V===void 0&&(V=w),this.ops.scaleX.onChange(w),this.ops.scaleY.onChange(V),this},setParticleGravity:function(w,V){return this.gravityX=w,this.gravityY=V,this},setParticleAlpha:function(w){return this.ops.alpha.onChange(w),this},setParticleTint:function(w){return this.ops.tint.onChange(w),this},setEmitterAngle:function(w){return this.ops.angle.onChange(w),this},setParticleLifespan:function(w){return this.ops.lifespan.onChange(w),this},setQuantity:function(w){return this.quantity=w,this},setFrequency:function(w,V){return this.frequency=w,this.flowCounter=w>0?w:0,V&&(this.quantity=V),this},addDeathZone:function(w){Array.isArray(w)||(w=[w]);for(var V,Y=this.deathZones,j=0;j<w.length;j++)if(V=w[j],V instanceof s)Y.push(V);else if(typeof V.contains=="function")V=new s(V,!0),Y.push(V);else{var J=f(V,"type","onEnter"),_=f(V,"source",null);if(_&&typeof _.contains=="function"){var tt=J==="onEnter";V=new s(_,tt),Y.push(V)}}return V},removeDeathZone:function(w){return O(this.deathZones,w),this},addEmitZone:function(w){Array.isArray(w)||(w=[w]);for(var V,Y=this.emitZones,j=[],J=0;J<w.length;J++){if(V=w[J],V instanceof R||V instanceof e)Y.push(V);else{var _=f(V,"type","random"),tt=f(V,"source",null);if(_==="random")V=new R(tt);else if(_==="edge"){var it=f(V,"quantity",1),st=f(V,"stepRate",0),ot=f(V,"yoyo",!1),ht=f(V,"seamless",!0),ct=f(V,"total",-1);V=new e(tt,it,st,ot,ht,ct)}V&&Y.push(V)}j.push(V)}return j},removeEmitZone:function(w){return O(this.emitZones,w),this.zoneIndex=0,this},getEmitZone:function(w){var V=this.emitZones,Y=V.length;if(Y!==0){var j=V[this.zoneIndex];j.getPoint(w),j.total>-1&&(this.zoneTotal++,this.zoneTotal===j.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===Y&&(this.zoneIndex=0)))}},getDeathZone:function(w){for(var V=this.deathZones,Y=0;Y<V.length;Y++){var j=V[Y];if(j.willKill(w))return this.emit(n.DEATH_ZONE,this,w,j),!0}return!1},setEmitZone:function(w){var V;return isFinite(w)?V=w:V=this.emitZones.indexOf(w),V>=0&&(this.zoneIndex=V),this},addParticleProcessor:function(w){return this.processors.exists(w)||(w.emitter&&w.emitter.removeParticleProcessor(w),this.processors.add(w),w.emitter=this),w},removeParticleProcessor:function(w){return this.processors.exists(w)&&(this.processors.remove(w,!0),w.emitter=null),w},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(w){return this.addParticleProcessor(new d(w))},reserve:function(w){var V=this.dead;if(this.maxParticles>0){var Y=this.getParticleCount();Y+w>this.maxParticles&&(w=this.maxParticles-(Y+w))}for(var j=0;j<w;j++)V.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(w,V){return w===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof w=="function"&&(this.emitCallback=w,V&&(this.emitCallbackScope=V)),this},onParticleDeath:function(w,V){return w===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof w=="function"&&(this.deathCallback=w,V&&(this.deathCallbackScope=V)),this},killAll:function(){for(var w=this.dead,V=this.alive;V.length>0;)w.push(V.pop());return this},forEachAlive:function(w,V){for(var Y=this.alive,j=Y.length,J=0;J<j;J++)w.call(V,Y[J],this);return this},forEachDead:function(w,V){for(var Y=this.dead,j=Y.length,J=0;J<j;J++)w.call(V,Y[J],this);return this},start:function(w,V){return w===void 0&&(w=0),this.emitting||(w>0&&this.fastForward(w),this.emitting=!0,this.resetCounters(this.frequency,!0),V!==void 0&&(this.duration=Math.abs(V)),this.emit(n.START,this)),this},stop:function(w){return w===void 0&&(w=!1),this.emitting&&(this.emitting=!1,w&&this.killAll(),this.emit(n.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(w,V){return w===void 0&&(w=""),V===void 0&&(V=this.true),this.sortProperty=w,this.sortOrderAsc=V,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(w){return this.sortProperty!==""?w=this.depthSortCallback:w=null,this.sortCallback=w,this},depthSort:function(){return G(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(w,V){var Y=this.sortProperty;return this.sortOrderAsc?w[Y]-V[Y]:V[Y]-w[Y]},flow:function(w,V,Y){return V===void 0&&(V=1),this.emitting=!1,this.frequency=w,this.quantity=V,Y!==void 0&&(this.stopAfter=Y),this.start()},explode:function(w,V,Y){this.frequency=-1,this.resetCounters(-1,!0);var j=this.emitParticle(w,V,Y);return this.emit(n.EXPLODE,this,j),j},emitParticleAt:function(w,V,Y){return this.emitParticle(Y,w,V)},emitParticle:function(w,V,Y){if(!this.atLimit()){w===void 0&&(w=this.ops.quantity.onEmit());for(var j=this.dead,J=this.stopAfter,_=this.follow?this.follow.x+this.followOffset.x:V,tt=this.follow?this.follow.y+this.followOffset.y:Y,it=0;it<w;it++){var st=j.pop();if(st||(st=new this.particleClass(this)),st.fire(_,tt)?(this.particleBringToTop?this.alive.push(st):this.alive.unshift(st),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,st,this)):this.dead.push(st),J>0&&(this.stopCounter++,this.stopCounter>=J)||this.atLimit())break}return st}},fastForward:function(w,V){V===void 0&&(V=1e3/60);var Y=0;for(this.skipping=!0;Y<Math.abs(w);)this.preUpdate(0,V),Y+=V;return this.skipping=!1,this},preUpdate:function(w,V){V*=this.timeScale;var Y=V/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var j=this.getProcessors(),J=this.alive,_=this.dead,tt=0,it=[],st=J.length;for(tt=0;tt<st;tt++){var ot=J[tt];ot.update(V,Y,j)&&it.push({index:tt,particle:ot})}if(st=it.length,st>0){var ht=this.deathCallback,ct=this.deathCallbackScope;for(tt=st-1;tt>=0;tt--){var ft=it[tt];J.splice(ft.index,1),_.push(ft.particle),ht&&ht.call(ct,ft.particle),ft.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&J.length===0&&(this.completeFlag=0,this.emit(n.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=V;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=V,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(w){for(var V=this.getWorldTransformMatrix(),Y=this.alive,j=Y.length,J=[],_=0;_<j;_++){var tt=Y[_];D(w,tt.getBounds(V))&&J.push(tt)}return J},getBounds:function(w,V,Y,j){w===void 0&&(w=0),V===void 0&&(V=0),Y===void 0&&(Y=1e3/60),j===void 0&&(j=new P);var J=this.getWorldTransformMatrix(),_,tt,it=this.alive,st=!1;if(j.setTo(0,0,0,0),V>0){var ot=0;for(this.skipping=!0;ot<Math.abs(V);){for(this.preUpdate(0,Y),_=0;_<it.length;_++)tt=it[_].getBounds(J),st?y(j,tt):(st=!0,r(tt,j));ot+=Y}this.skipping=!1}else for(_=0;_<it.length;_++)tt=it[_].getBounds(J),st?y(j,tt):(st=!0,r(tt,j));return w>0&&x(j,w,w),j},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(w){this.ops.x.onChange(w)}},particleY:{get:function(){return this.ops.y.current},set:function(w){this.ops.y.onChange(w)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(w){this.ops.accelerationX.onChange(w)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(w){this.ops.accelerationY.onChange(w)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(w){this.ops.maxVelocityX.onChange(w)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(w){this.ops.maxVelocityY.onChange(w)}},speed:{get:function(){return this.ops.speedX.current},set:function(w){this.ops.speedX.onChange(w),this.ops.speedY.onChange(w)}},speedX:{get:function(){return this.ops.speedX.current},set:function(w){this.ops.speedX.onChange(w)}},speedY:{get:function(){return this.ops.speedY.current},set:function(w){this.ops.speedY.onChange(w)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(w){this.ops.moveToX.onChange(w)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(w){this.ops.moveToY.onChange(w)}},bounce:{get:function(){return this.ops.bounce.current},set:function(w){this.ops.bounce.onChange(w)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(w){this.ops.scaleX.onChange(w)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(w){this.ops.scaleY.onChange(w)}},particleColor:{get:function(){return this.ops.color.current},set:function(w){this.ops.color.onChange(w)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(w){this.ops.color.setEase(w)}},particleTint:{get:function(){return this.ops.tint.current},set:function(w){this.ops.tint.onChange(w)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(w){this.ops.alpha.onChange(w)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(w){this.ops.lifespan.onChange(w)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(w){this.ops.angle.onChange(w)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(w){this.ops.rotate.onChange(w)}},quantity:{get:function(){return this.ops.quantity.current},set:function(w){this.ops.quantity.onChange(w)}},delay:{get:function(){return this.ops.delay.current},set:function(w){this.ops.delay.onChange(w)}},hold:{get:function(){return this.ops.hold.current},set:function(w){this.ops.hold.onChange(w)}},flowCounter:{get:function(){return this.counters[0]},set:function(w){this.counters[0]=w}},frameCounter:{get:function(){return this.counters[1]},set:function(w){this.counters[1]=w}},animCounter:{get:function(){return this.counters[2]},set:function(w){this.counters[2]=w}},elapsed:{get:function(){return this.counters[3]},set:function(w){this.counters[3]=w}},stopCounter:{get:function(){return this.counters[4]},set:function(w){this.counters[4]=w}},completeFlag:{get:function(){return this.counters[5]},set:function(w){this.counters[5]=w}},zoneIndex:{get:function(){return this.counters[6]},set:function(w){this.counters[6]=w}},zoneTotal:{get:function(){return this.counters[7]},set:function(w){this.counters[7]=w}},currentFrame:{get:function(){return this.counters[8]},set:function(w){this.counters[8]=w}},currentAnim:{get:function(){return this.counters[9]},set:function(w){this.counters[9]=w}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var w,V=this.ops;for(w=0;w<z.length;w++){var Y=z[w];V[Y].destroy()}for(w=0;w<this.alive.length;w++)this.alive[w].destroy();for(w=0;w<this.dead.length;w++)this.dead[w].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});p.exports=X},10456:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90205),c=t(69360),l=new c,r=new c,s=new c,e=new c,i=function(o,n,a,f){var u=l,d=r,v=s,g=e;f?(g.loadIdentity(),g.multiply(f),g.translate(n.x,n.y),g.rotate(n.rotation),g.scale(n.scaleX,n.scaleY)):g.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var x=o.currentContext,m=a.roundPixels,y=a.alpha,T=n.alpha,R=n.alive,P=R.length,D=n.viewBounds;if(!(!n.visible||P===0||D&&!h(D,a.worldView))){n.sortCallback&&n.depthSort(),a.addToRenderList(n);var O=n.scrollFactorX,B=n.scrollFactorY;x.save(),x.globalCompositeOperation=o.blendModes[n.blendMode];for(var G=0;G<P;G++){var b=R[G],k=b.alpha*T*y;if(!(k<=0||b.scaleX===0||b.scaleY===0)){v.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),u.copyFrom(a.matrix),u.multiplyWithOffset(g,-a.scrollX*O,-a.scrollY*B),v.e=b.x,v.f=b.y,u.multiply(v,d);var $=b.frame,W=$.canvasData;if(W.width>0&&W.height>0){var Z=-$.halfWidth,z=-$.halfHeight;x.globalAlpha=k,x.save(),d.setToContext(x),m&&(Z=Math.round(Z),z=Math.round(z)),x.imageSmoothingEnabled=!$.source.scaleMode,x.drawImage($.source.image,W.x,W.y,W.width,W.height,Z,z,W.width,W.height),x.restore()}}}x.restore()}};p.exports=i},765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(72632),s=t(9216);c.register("particles",function(e,i){e===void 0&&(e={});var o=l(e,"key",null),n=r(e,"config",null),a=new s(this.scene,0,0,o);return i!==void 0&&(e.add=i),h(this.scene,a,e),n&&a.setConfig(n),a})},81212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(9216);h.register("particles",function(l,r,s,e){return l!==void 0&&typeof l=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new c(this.scene,l,r,s,e))})},69116:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(10275),l=t(10456),p.exports={renderWebGL:c,renderCanvas:l}},10275:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90205),c=t(69360),l=t(75512),r=new c,s=new c,e=new c,i=new c,o=function(n,a,f,u){var d=n.pipelines.set(a.pipeline),v=r,g=s,x=e,m=i;u?(m.loadIdentity(),m.multiply(u),m.translate(a.x,a.y),m.rotate(a.rotation),m.scale(a.scaleX,a.scaleY)):m.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var y=f.roundPixels,T=l.getTintAppendFloatAlpha,R=f.alpha,P=a.alpha,D=a.frame.glTexture;n.pipelines.preBatch(a);var O=a.alive,B=O.length,G=a.viewBounds;if(!(B===0||G&&!h(G,f.worldView))){a.sortCallback&&a.depthSort();var b=d.setGameObject(a,a.frame);f.addToRenderList(a),v.copyFrom(f.matrix),v.multiplyWithOffset(m,-f.scrollX*a.scrollFactorX,-f.scrollY*a.scrollFactorY),n.setBlendMode(a.blendMode),a.mask&&(a.mask.preRenderWebGL(n,a,f),n.pipelines.set(a.pipeline));for(var k=a.tintFill,$=0;$<B;$++){var W=O[$],Z=W.alpha*P*R;if(!(Z<=0||W.scaleX===0||W.scaleY===0)){x.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),x.e=W.x,x.f=W.y,v.multiply(x,g);var z=W.frame,X=-z.halfWidth,w=-z.halfHeight,V=g.setQuad(X,w,X+z.width,w+z.height,y),Y=T(W.tint,Z);d.shouldFlush(6)&&(d.flush(),b=d.setGameObject(a,a.frame)),d.batchQuad(a,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],z.u0,z.v0,z.u1,z.v1,Y,Y,Y,Y,k,D,b)}}a.mask&&a.mask.postRenderWebGL(n,f),n.pipelines.postBatch(a)}};p.exports=o},30891:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s,e){r===void 0&&(r=0),s===void 0&&(s=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=s,this.active=e},update:function(){},destroy:function(){this.emitter=null}});p.exports=c},76100:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},26677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="deathzone"},62736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="explode"},56490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},85715:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},40629:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s){this.source=r,this.killOnEnter=s},willKill:function(l){var r=l.worldPosition,s=this.source.contains(r.x,r.y);return s&&this.killOnEnter||!s&&!this.killOnEnter}});p.exports=c},54213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s,e,i,o,n){i===void 0&&(i=!1),o===void 0&&(o=!0),n===void 0&&(n=-1),this.source=r,this.points=[],this.quantity=s,this.stepRate=e,this.yoyo=i,this.counter=-1,this.seamless=o,this._length=0,this._direction=0,this.total=n,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var l=this.points[0],r=this.points[this.points.length-1];l.x===r.x&&l.y===r.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(l){return this.source=l,this.updateSource()},getPoint:function(l){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(l.x=r.x,l.y=r.y)}});p.exports=c},68433:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(93736),l=new h({initialize:function(s){this.source=s,this._tempVec=new c,this.total=-1},getPoint:function(r){var s=this._tempVec;this.source.getRandomPoint(s),r.x=s.x,r.y=s.y}});p.exports=l},25962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(13747),r=new h({Extends:l,Mixins:[c.PathFollower],initialize:function(e,i,o,n,a,f){l.call(this,e,o,n,a,f),this.path=i},preUpdate:function(s,e){this.anims.update(s,e),this.pathUpdate(s)}});p.exports=r},19626:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(29598);h.register("follower",function(l,r,s,e,i){var o=new c(this.scene,l,r,s,e,i);return this.displayList.add(o),this.updateList.add(o),o})},33412:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),c=t(56694),l=t(99425),r=t(15978),s=t(83321),e=t(76583),i=new c({Extends:s,initialize:function(n,a,f,u,d,v,g,x){u||(u="__DEFAULT"),s.call(this,n,a,f,u,d),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(v,g,x),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(o,n,a){o===void 0&&(o=8),n===void 0&&(n=8),a===void 0&&(a=!1);var f=!1;return a&&(f=!0),this.gridWidth=o,this.gridHeight=n,this.isTiled=a,this.clear(),l({mesh:this,widthSegments:o,heightSegments:n,isOrtho:!1,tile:a,flipY:f}),this},setSizeToFrame:function(o){o===void 0&&(o=!0);var n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!o)return this;var a=this.gridWidth,f=this.gridHeight,u=this.vertices,d=n.u0,v=n.u1,g=n.v0,x=n.v1,m,y,T=0;if(this.isTiled)for(g=n.v1,x=n.v0,y=0;y<f;y++)for(m=0;m<a;m++)u[T++].setUVs(d,x),u[T++].setUVs(d,g),u[T++].setUVs(v,x),u[T++].setUVs(d,g),u[T++].setUVs(v,g),u[T++].setUVs(v,x);else{var R=a+1,P=f+1,D=v-d,O=x-g,B=[];for(y=0;y<P;y++)for(m=0;m<R;m++){var G=d+D*(m/a),b=g+O*(y/f);B.push(G,b)}for(y=0;y<f;y++)for(m=0;m<a;m++){var k=(m+R*y)*2,$=(m+R*(y+1))*2,W=(m+1+R*(y+1))*2,Z=(m+1+R*y)*2;u[T++].setUVs(B[k],B[k+1]),u[T++].setUVs(B[$],B[$+1]),u[T++].setUVs(B[Z],B[Z+1]),u[T++].setUVs(B[$],B[$+1]),u[T++].setUVs(B[W],B[W+1]),u[T++].setUVs(B[Z],B[Z+1])}}return this},setViewHeight:function(o){o===void 0&&(o=this.frame.height);var n=this.fov*(Math.PI/180);this.viewPosition.z=this.height/o/Math.tan(n/2),this.dirtyCache[10]=1},createCheckerboard:function(o,n,a,f,u){o===void 0&&(o=16777215),n===void 0&&(n=255),a===void 0&&(a=255),f===void 0&&(f=255),u===void 0&&(u=128);var d=this.scene.sys.renderer.gl,v=d.createTexture();d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,v),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST);for(var g=r(o),x=r(n),m=[],y=0;y<16;y++)for(var T=0;T<16;T++)y<8&&T<8||y>7&&T>7?m.push(g.r,g.g,g.b,a):m.push(x.r,x.g,x.b,f);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(m)),v.isAlphaPremultiplied=!0,v.isRenderTexture=!1,v.width=16,v.height=16;var R=this.scene.sys.textures.addGLTexture(e(),v,16,16);return this.removeCheckerboard(),this._checkerboard=R,d.bindTexture(d.TEXTURE_2D,null),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(u),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(o,n){return this.anims.play(o,n)},playReverse:function(o,n){return this.anims.playReverse(o,n)},playAfterDelay:function(o,n){return this.anims.playAfterDelay(o,n)},playAfterRepeat:function(o,n){return this.anims.playAfterRepeat(o,n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},preUpdate:function(o,n){s.prototype.preUpdate.call(this,o,n),this.anims.update(o,n)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});p.exports=i},10912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(32291),l=t(99325),r=t(20494),s=t(10850),e=t(33412);l.register("plane",function(i,o){i===void 0&&(i={});var n=r(i,"key",null),a=r(i,"frame",null),f=s(i,"width",8),u=s(i,"height",8),d=s(i,"tile",!1),v=new e(this.scene,0,0,n,a,f,u,d);o!==void 0&&(i.add=o);var g=s(i,"checkerboard",null);if(g){var x=s(g,"color1",16777215),m=s(g,"color2",255),y=s(g,"alpha1",255),T=s(g,"alpha2",255),R=s(g,"height",128);v.createCheckerboard(x,m,y,T,R)}return h(this.scene,v,i),c(v,i),v})},58322:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33412),c=t(61286);c.register("plane",function(l,r,s,e,i,o,n){return this.displayList.add(new h(this.scene,l,r,s,e,i,o,n))})},13171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(89980),r=t(74853),s=t(65641),e=t(71606),i=new h({Extends:l,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible,e],initialize:function(n,a,f,u,d,v,g){u===void 0&&(u=16777215),d===void 0&&(d=128),v===void 0&&(v=1),g===void 0&&(g=.1),l.call(this,n,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(a,f),this.color=r(u),this.intensity=v,this.attenuation=g,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this.width=o*2,this.height=o*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=i},162:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(13171);c.register("pointlight",function(s,e){s===void 0&&(s={});var i=l(s,"color",16777215),o=l(s,"radius",128),n=l(s,"intensity",1),a=l(s,"attenuation",.1),f=new r(this.scene,0,0,i,o,n,a);return e!==void 0&&(s.add=e),h(this.scene,f,s),f})},91201:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(13171);h.register("pointlight",function(l,r,s,e,i,o){return this.displayList.add(new c(this.scene,l,r,s,e,i,o))})},71606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(80590),p.exports={renderWebGL:c,renderCanvas:l}},80590:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=function(l,r,s,e){s.addToRenderList(r);var i=l.pipelines.set(r.pipeline),o=h(r,s,e).calc,n=r.width,a=r.height,f=-r._radius,u=-r._radius,d=f+n,v=u+a,g=o.getX(0,0),x=o.getY(0,0),m=o.getX(f,u),y=o.getY(f,u),T=o.getX(f,v),R=o.getY(f,v),P=o.getX(d,v),D=o.getY(d,v),O=o.getX(d,u),B=o.getY(d,u);l.pipelines.preBatch(r),i.batchPointLight(r,s,m,y,T,R,P,D,O,B,g,x),l.pipelines.postBatch(r)};p.exports=c},15996:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(845),l=t(1539),r=new h({Extends:l,initialize:function(e,i,o,n,a){i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n=32),a===void 0&&(a=32);var f=new c(e.sys.textures,"",n,a);l.call(this,e,i,o,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(s,e){this.width=s,this.height=e,this.texture.setSize(s,e),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=s,i.hitArea.height=e),this},resize:function(s,e){return this.setSize(s,e),this},saveTexture:function(s){var e=this.texture;return e.key=s,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(s,e,i,o,n,a){return this.texture.fill(s,e,i,o,n,a),this},clear:function(){return this.texture.clear(),this},stamp:function(s,e,i,o,n){return this.texture.stamp(s,e,i,o,n),this},erase:function(s,e,i){return this.texture.erase(s,e,i),this},draw:function(s,e,i,o,n){return this.texture.draw(s,e,i,o,n),this},drawFrame:function(s,e,i,o,n,a){return this.texture.drawFrame(s,e,i,o,n,a),this},repeat:function(s,e,i,o,n,a,f,u,d){return this.texture.repeat(s,e,i,o,n,a,f,u,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(s,e,i,o,n){return this.texture.batchDraw(s,e,i,o,n),this},batchDrawFrame:function(s,e,i,o,n,a){return this.texture.batchDrawFrame(s,e,i,o,n,a),this},endDraw:function(s){return this.texture.endDraw(s),this},snapshotArea:function(s,e,i,o,n,a,f){return this.texture.snapshotArea(s,e,i,o,n,a,f),this},snapshot:function(s,e,i){return this.snapshotArea(0,0,this.width,this.height,s,e,i)},snapshotPixel:function(s,e,i){return this.snapshotArea(s,e,1,1,i,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});p.exports=r},85692:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(15996);c.register("renderTexture",function(s,e){s===void 0&&(s={});var i=l(s,"x",0),o=l(s,"y",0),n=l(s,"width",32),a=l(s,"height",32),f=new r(this.scene,i,o,n,a);return e!==void 0&&(s.add=e),h(this.scene,f,s),f})},29599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(15996);h.register("renderTexture",function(l,r,s,e){return this.displayList.add(new c(this.scene,l,r,s,e))})},79968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),c=t(56694),l=t(64937),r=t(89980),s=t(65641),e=t(58912),i=t(93736),o=new c({Extends:r,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Flip,l.Mask,l.Pipeline,l.PostPipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,e],initialize:function(a,f,u,d,v,g,x,m,y){d===void 0&&(d="__DEFAULT"),g===void 0&&(g=2),x===void 0&&(x=!0),r.call(this,a,"Rope"),this.anims=new h(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=x,this._flipX=!1,this._flipY=!1,this._perp=new i,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,v),this.setPosition(f,u),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,m,y),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,a){var f=this.anims.currentFrame;this.anims.update(n,a),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(n,a,f){return this.anims.play(n,a,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,a,f){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,a,f))},setVertical:function(n,a,f){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,a,f)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,a){var f=this.points.length;if(f<1)return this;var u=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&a===void 0&&(n=[n]);var d,v=0;if(a!==void 0)for(d=0;d<f;d++)v=d*2,u[v]=n,u[v+1]=a;else if(n.length===f)for(d=0;d<f;d++)v=d*2,u[v]=n[d],u[v+1]=n[d];else{var g=n[0];for(d=0;d<f;d++)v=d*2,n.length>v&&(g=n[v]),u[v]=g,n.length>v+1&&(g=n[v+1]),u[v+1]=g}return this},setColors:function(n){var a=this.points.length;if(a<1)return this;var f=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var u,d=0;if(n.length===a)for(u=0;u<a;u++)d=u*2,f[d]=n[u],f[d+1]=n[u];else{var v=n[0];for(u=0;u<a;u++)d=u*2,n.length>d&&(v=n[d]),f[d]=v,n.length>d+1&&(v=n[d+1]),f[d+1]=v}return this},setPoints:function(n,a,f){if(n===void 0&&(n=2),typeof n=="number"){var u=n;u<2&&(u=2),n=[];var d,v,g;if(this.horizontal)for(g=-this.frame.halfWidth,v=this.frame.width/(u-1),d=0;d<u;d++)n.push({x:g+d*v,y:0});else for(g=-this.frame.halfHeight,v=this.frame.height/(u-1),d=0;d<u;d++)n.push({x:0,y:g+d*v})}var x=n.length,m=this.points.length;return x<1?(console.warn("Rope: Not enough points given"),this):(x===1&&(n.unshift({x:0,y:0}),x++),m!==x&&this.resizeArrays(x),this.dirty=!0,this.points=n,this.updateUVs(),a!=null&&this.setColors(a),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var n=this.uv,a=this.points.length,f=this.frame.u0,u=this.frame.v0,d=this.frame.u1,v=this.frame.v1,g=(d-f)/(a-1),x=(v-u)/(a-1),m=0;m<a;m++){var y=m*4,T,R,P,D;this.horizontal?(this._flipX?(T=d-m*g,P=d-m*g):(T=f+m*g,P=f+m*g),this._flipY?(R=v,D=u):(R=u,D=v)):(this._flipX?(T=f,P=d):(T=d,P=f),this._flipY?(R=v-m*x,D=v-m*x):(R=u+m*x,D=u+m*x)),n[y+0]=T,n[y+1]=R,n[y+2]=P,n[y+3]=D}return this},resizeArrays:function(n){var a=this.colors,f=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),a=new Uint32Array(n*2),f=new Float32Array(n*2);for(var u=0;u<n*2;u++)a[u]=16777215,f[u]=1;return this.colors=a,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var n=this._perp,a=this.points,f=this.vertices,u=a.length;if(this.dirty=!1,!(u<1)){for(var d,v=a[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,x=0;x<u;x++){var m=a[x],y=x*4;x<u-1?d=a[x+1]:d=m,n.x=d.y-v.y,n.y=-(d.x-v.x);var T=n.length();n.x/=T,n.y/=T,n.x*=g,n.y*=g,f[y]=m.x+n.x,f[y+1]=m.y+n.y,f[y+2]=m.x-n.x,f[y+3]=m.y-n.y,v=m}return this}},setDebug:function(n,a){return this.debugGraphic=n,!n&&!a?this.debugCallback=null:a?this.debugCallback=a:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,a,f){var u=n.debugGraphic,d=f[0],v=f[1],g=f[2],x=f[3];u.lineBetween(d,v,g,x);for(var m=4;m<a;m+=4){var y=f[m+0],T=f[m+1],R=f[m+2],P=f[m+3];u.lineBetween(d,v,y,T),u.lineBetween(g,x,R,P),u.lineBetween(g,x,y,T),u.lineBetween(y,T,R,P),d=y,v=T,g=R,x=P}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});p.exports=o},44598:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},96027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(10850),s=t(79968);c.register("rope",function(e,i){e===void 0&&(e={});var o=l(e,"key",null),n=l(e,"frame",null),a=l(e,"horizontal",!0),f=r(e,"points",void 0),u=r(e,"colors",void 0),d=r(e,"alphas",void 0),v=new s(this.scene,0,0,o,n,f,a,u,d);return i!==void 0&&(e.add=i),h(this.scene,v,e),v})},31982:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79968),c=t(61286);c.register("rope",function(l,r,s,e,i,o,n,a){return this.displayList.add(new h(this.scene,l,r,s,e,i,o,n,a))})},58912:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(49489),l=t(44598),p.exports={renderWebGL:c,renderCanvas:l}},49489:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(75512),l=function(r,s,e,i){e.addToRenderList(s);var o=r.pipelines.set(s.pipeline,s),n=h(s,e,i).calc,a=s.vertices,f=s.uv,u=s.colors,d=s.alphas,v=s.alpha,g=c.getTintAppendFloatAlpha,x=e.roundPixels,m=a.length,y=Math.floor(m*.5);o.flush(),r.pipelines.preBatch(s);var T=o.setGameObject(s),R=o.vertexViewF32,P=o.vertexViewU32,D=o.vertexCount*o.currentShader.vertexComponentCount-1,O=0,B=s.tintFill;s.dirty&&s.updateVertices();for(var G=s.debugCallback,b=[],k=0;k<m;k+=2){var $=a[k+0],W=a[k+1],Z=$*n.a+W*n.c+n.e,z=$*n.b+W*n.d+n.f;x&&(Z=Math.round(Z),z=Math.round(z)),R[++D]=Z,R[++D]=z,R[++D]=f[k+0],R[++D]=f[k+1],R[++D]=T,R[++D]=B,P[++D]=g(u[O],e.alpha*(d[O]*v)),O++,G&&(b[k+0]=Z,b[k+1]=z)}G&&G.call(s,s,m,b),o.vertexCount+=y,o.currentBatch.count=o.vertexCount-o.currentBatch.start,r.pipelines.postBatch(s)};p.exports=l},27902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(89980),r=t(72632),s=t(98611),e=t(22440),i=t(24252),o=t(69360),n=new h({Extends:l,Mixins:[c.ComputedSize,c.Depth,c.GetBounds,c.Mask,c.Origin,c.ScrollFactor,c.Transform,c.Visible,i],initialize:function(f,u,d,v,g,x,m,y){d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=128),x===void 0&&(x=128),l.call(this,f,"Shader"),this.blendMode=-1,this.shader;var T=f.sys.renderer;this.renderer=T,this.gl=T.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=T.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=T.width,this._rendererHeight=T.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,v),this.setSize(g,x),this.setOrigin(.5,.5),this.setShader(u,m,y)},willRender:function(a){return this.renderToTexture?!0:!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&a.id)},setRenderToTexture:function(a,f){if(f===void 0&&(f=!1),!this.renderToTexture){var u=this.width,d=this.height,v=this.renderer;this.glTexture=v.createTextureFromSource(null,u,d,0),this.glTexture.flipY=f,this.framebuffer=v.createFramebuffer(u,d,this.glTexture,!1),this._rendererWidth=u,this._rendererHeight=d,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),a&&(this.texture=this.scene.sys.textures.addGLTexture(a,this.glTexture,u,d))}return this.shader&&(v.pipelines.clear(),this.load(),this.flush(),v.pipelines.rebind()),this},setShader:function(a,f,u){if(f===void 0&&(f=[]),typeof a=="string"){var d=this.scene.sys.cache.shader;if(!d.has(a))return console.warn("Shader missing: "+a),this;this.shader=d.get(a)}else this.shader=a;var v=this.gl,g=this.renderer;this.program&&v.deleteProgram(this.program);var x=g.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);v.uniformMatrix4fv(v.getUniformLocation(x,"uViewMatrix"),!1,this.viewMatrix),v.uniformMatrix4fv(v.getUniformLocation(x,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(x,"uResolution"),this.width,this.height),this.program=x;var m=new Date,y={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[m.getFullYear(),m.getMonth(),m.getDate(),m.getHours()*60*60+m.getMinutes()*60+m.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,y):this.uniforms=y;for(var T=0;T<4;T++)f[T]&&this.setSampler2D("iChannel"+T,f[T],T,u);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(a){return this.pointer=a,this},projOrtho:function(a,f,u,d){var v=-1e3,g=1e3,x=1/(a-f),m=1/(u-d),y=1/(v-g),T=this.projectionMatrix;T[0]=-2*x,T[5]=-2*m,T[10]=2*y,T[12]=(a+f)*x,T[13]=(d+u)*m,T[14]=(g+v)*y;var R=this.program,P=this.gl,D=this.renderer;D.setProgram(R),P.uniformMatrix4fv(P.getUniformLocation(R,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=u},initUniforms:function(){var a=this.gl,f=this.renderer.glFuncMap,u=this.program;this._textureCount=0;for(var d in this.uniforms){var v=this.uniforms[d],g=v.type,x=f[g];v.uniformLocation=a.getUniformLocation(u,d),g!=="sampler2D"&&(v.glMatrix=x.matrix,v.glValueLength=x.length,v.glFunc=x.func)}},setSampler2DBuffer:function(a,f,u,d,v,g){v===void 0&&(v=0),g===void 0&&(g={});var x=this.uniforms[a];return x.value=f,g.width=u,g.height=d,x.textureData=g,this._textureCount=v,this.initSampler2D(x),this},setSampler2D:function(a,f,u,d){u===void 0&&(u=0);var v=this.scene.sys.textures;if(v.exists(f)){var g=v.getFrame(f);if(g.glTexture&&g.glTexture.isRenderTexture)return this.setSampler2DBuffer(a,g.glTexture,g.width,g.height,u,d);var x=this.uniforms[a],m=g.source;x.textureKey=f,x.source=m.image,x.value=g.glTexture,m.isGLTexture&&(d||(d={}),d.width=m.width,d.height=m.height),d&&(x.textureData=d),this._textureCount=u,this.initSampler2D(x)}return this},setUniform:function(a,f){return e(this.uniforms,a,f),this},getUniform:function(a){return r(this.uniforms,a,null)},setChannel0:function(a,f){return this.setSampler2D("iChannel0",a,0,f)},setChannel1:function(a,f){return this.setSampler2D("iChannel1",a,1,f)},setChannel2:function(a,f){return this.setSampler2D("iChannel2",a,2,f)},setChannel3:function(a,f){return this.setSampler2D("iChannel3",a,3,f)},initSampler2D:function(a){if(a.value){var f=this.gl;f.activeTexture(f.TEXTURE0+this._textureCount),f.bindTexture(f.TEXTURE_2D,a.value);var u=a.textureData;if(u&&!a.value.isRenderTexture){var d=f[r(u,"magFilter","linear").toUpperCase()],v=f[r(u,"minFilter","linear").toUpperCase()],g=f[r(u,"wrapS","repeat").toUpperCase()],x=f[r(u,"wrapT","repeat").toUpperCase()],m=f[r(u,"format","rgba").toUpperCase()];if(u.repeat&&(g=f.REPEAT,x=f.REPEAT),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!!u.flipY),u.width){var y=r(u,"width",512),T=r(u,"height",2),R=r(u,"border",0);f.texImage2D(f.TEXTURE_2D,0,m,y,T,R,m,f.UNSIGNED_BYTE,null)}else f.texImage2D(f.TEXTURE_2D,0,m,f.RGBA,f.UNSIGNED_BYTE,a.source);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,v),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,g),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,x)}this.renderer.setProgram(this.program),f.uniform1i(a.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var a=this.gl,f=this.uniforms,u,d,v,g,x,m=0;for(var y in f)u=f[y],v=u.glFunc,d=u.glValueLength,g=u.uniformLocation,x=u.value,x!==null&&(d===1?u.glMatrix?v.call(a,g,u.transpose,x):v.call(a,g,x):d===2?v.call(a,g,x.x,x.y):d===3?v.call(a,g,x.x,x.y,x.z):d===4?v.call(a,g,x.x,x.y,x.z,x.w):u.type==="sampler2D"&&(a.activeTexture(a.TEXTURE0+m),a.bindTexture(a.TEXTURE_2D,x),a.uniform1i(g,m),m++))},load:function(a){var f=this.gl,u=this.width,d=this.height,v=this.renderer,g=this.program,x=this.viewMatrix;if(!this.renderToTexture){var m=-this._displayOriginX,y=-this._displayOriginY;x[0]=a[0],x[1]=a[1],x[4]=a[2],x[5]=a[3],x[8]=a[4],x[9]=a[5],x[12]=x[0]*m+x[4]*y,x[13]=x[1]*m+x[5]*y}f.useProgram(g),f.uniformMatrix4fv(f.getUniformLocation(g,"uViewMatrix"),!1,x),f.uniform2f(f.getUniformLocation(g,"uResolution"),this.width,this.height);var T=this.uniforms,R=T.resolution;R.value.x=u,R.value.y=d,T.time.value=v.game.loop.getDuration();var P=this.pointer;if(P){var D=T.mouse,O=P.x/u,B=1-P.y/d;D.value.x=O.toFixed(2),D.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var a=this.width,f=this.height,u=this.program,d=this.gl,v=this.vertexBuffer,g=this.renderer,x=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(g.setFramebuffer(this.framebuffer),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)),d.bindBuffer(d.ARRAY_BUFFER,v);var m=d.getAttribLocation(u,"inPosition");m!==-1&&(d.enableVertexAttribArray(m),d.vertexAttribPointer(m,2,d.FLOAT,!1,x,0));var y=this.vertexViewF32;y[3]=f,y[4]=a,y[5]=f,y[8]=a,y[9]=f,y[10]=a;var T=6;d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,T*x)),d.drawArrays(d.TRIANGLES,0,T),this.renderToTexture&&g.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var a=this.gl;a.deleteProgram(this.program),a.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});p.exports=n},10612:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},13908:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(27902);c.register("shader",function(s,e){s===void 0&&(s={});var i=l(s,"key",null),o=l(s,"x",0),n=l(s,"y",0),a=l(s,"width",128),f=l(s,"height",128),u=new r(this.scene,i,o,n,a,f);return e!==void 0&&(s.add=e),h(this.scene,u,s),u})},51979:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27902),c=t(61286);c.register("shader",function(l,r,s,e,i,o,n){return this.displayList.add(new h(this.scene,l,r,s,e,i,o,n))})},24252:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(19782),l=t(10612),p.exports={renderWebGL:c,renderCanvas:l}},19782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=function(l,r,s,e){if(r.shader){if(s.addToRenderList(r),l.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var i=h(r,s,e).calc;(l.width!==r._rendererWidth||l.height!==r._rendererHeight)&&r.projOrtho(0,l.width,l.height,0),r.load(i.matrix),r.flush()}l.pipelines.rebind()}};p.exports=c},19543:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),c=function(l,r,s,e,i,o){for(var n=h.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*e),a=s.pathData,f=s.pathIndexes,u=0;u<f.length;u+=3){var d=f[u]*2,v=f[u+1]*2,g=f[u+2]*2,x=a[d+0]-i,m=a[d+1]-o,y=a[v+0]-i,T=a[v+1]-o,R=a[g+0]-i,P=a[g+1]-o,D=r.getX(x,m),O=r.getY(x,m),B=r.getX(y,T),G=r.getY(y,T),b=r.getX(R,P),k=r.getY(R,P);l.batchTri(s,D,O,B,G,b,k,0,0,1,1,n,n,n,2)}};p.exports=c},15608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=c||h.fillColor,s=l||h.fillAlpha,e=(r&16711680)>>>16,i=(r&65280)>>>8,o=r&255;t.fillStyle="rgba("+e+","+i+","+o+","+s+")"};p.exports=S},17876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=c||h.strokeColor,s=l||h.strokeAlpha,e=(r&16711680)>>>16,i=(r&65280)>>>8,o=r&255;t.strokeStyle="rgba("+e+","+i+","+o+","+s+")",t.lineWidth=h.lineWidth};p.exports=S},91461:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(89980),r=t(88829),s=new h({Extends:l,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible],initialize:function(i,o,n){o===void 0&&(o="Shape"),l.call(this,i,o),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,i){return i===void 0&&(i=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=i,this.isFilled=!0),this},setStrokeStyle:function(e,i,o){return o===void 0&&(o=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=i,this.strokeAlpha=o,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,i){return this.width=e,this.height=i,this},setDisplaySize:function(e,i){return this.displayWidth=e,this.displayHeight=i,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});p.exports=s},50262:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),c=function(l,r,s,e,i){var o=l.strokeTint,n=h.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*s);o.TL=n,o.TR=n,o.BL=n,o.BR=n;var a=r.pathData,f=a.length-1,u=r.lineWidth,d=u/2,v=a[0]-e,g=a[1]-i;r.closePath||(f-=2);for(var x=2;x<f;x+=2){var m=a[x]-e,y=a[x+1]-i;l.batchLine(v,g,m,y,d,d,u,x-2,r.closePath?x===f-1:!1),v=m,g=y}};p.exports=c},28593:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2213),c=t(56694),l=t(75606),r=t(11117),s=t(26673),e=t(83392),i=t(91461),o=new c({Extends:i,Mixins:[h],initialize:function(a,f,u,d,v,g,x,m,y){f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=128),v===void 0&&(v=0),g===void 0&&(g=360),x===void 0&&(x=!1),i.call(this,a,"Arc",new s(0,0,d)),this._startAngle=v,this._endAngle=g,this._anticlockwise=x,this._iterations=.01,this.setPosition(f,u);var T=this.geom.radius*2;this.setSize(T,T),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var a=n*2;this.setSize(a,a),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,a){return this._startAngle=n,a!==void 0&&(this._anticlockwise=a),this.updateData()},setEndAngle:function(n,a){return this._endAngle=n,a!==void 0&&(this._anticlockwise=a),this.updateData()},updateData:function(){var n=this._iterations,a=n,f=this.geom.radius,u=l(this._startAngle),d=l(this._endAngle),v=this._anticlockwise,g=f,x=f;d-=u,v?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var m=[g+Math.cos(u)*f,x+Math.sin(u)*f],y;a<1;)y=d*a+u,m.push(g+Math.cos(y)*f,x+Math.sin(y)*f),a+=n;return y=d+u,m.push(g+Math.cos(y)*f,x+Math.sin(y)*f),m.push(g+Math.cos(u)*f,x+Math.sin(u)*f),this.pathIndexes=r(m),this.pathData=m,this}});p.exports=o},23560:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75606),c=t(15608),l=t(17876),r=t(49584),s=function(e,i,o,n){o.addToRenderList(i);var a=e.currentContext;if(r(e,a,i,o,n)){var f=i.radius;a.beginPath(),a.arc(f-i.originX*(f*2),f-i.originY*(f*2),f,h(i._startAngle),h(i._endAngle),i.anticlockwise),i.closePath&&a.closePath(),i.isFilled&&(c(a,i),a.fill()),i.isStroked&&(l(a,i),a.stroke()),a.restore()}};p.exports=s},10369:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28593),c=t(61286);c.register("arc",function(l,r,s,e,i,o,n,a){return this.displayList.add(new h(this.scene,l,r,s,e,i,o,n,a))}),c.register("circle",function(l,r,s,e,i){return this.displayList.add(new h(this.scene,l,r,s,0,360,!1,e,i))})},2213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(58356),l=t(23560),p.exports={renderWebGL:c,renderCanvas:l}},58356:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(19543),l=t(50262),r=function(s,e,i,o){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=h(e,i,o),f=n.calcMatrix.copyFrom(a.calc),u=e._displayOriginX,d=e._displayOriginY,v=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&c(n,f,e,v,u,d),e.isStroked&&l(n,e,v,u,d),s.pipelines.postBatch(e)};p.exports=r},15220:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(87203),l=t(11117),r=t(74118),s=t(91461),e=new h({Extends:s,Mixins:[c],initialize:function(o,n,a,f,u,d){n===void 0&&(n=0),a===void 0&&(a=0),s.call(this,o,"Curve",f),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(n,a),u!==void 0&&this.setFillStyle(u,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){var i=this._curveBounds,o=this._smoothness;this.geom.getBounds(i,o),this.setSize(i.width,i.height),this.updateDisplayOrigin();for(var n=[],a=this.geom.getPoints(o),f=0;f<a.length;f++)n.push(a[f].x,a[f].y);return n.push(a[0].x,a[0].y),this.pathIndexes=l(n),this.pathData=n,this}});p.exports=e},4024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(17876),l=t(49584),r=function(s,e,i,o){i.addToRenderList(e);var n=s.currentContext;if(l(s,n,e,i,o)){var a=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,u=e.pathData,d=u.length-1,v=u[0]-a,g=u[1]-f;n.beginPath(),n.moveTo(v,g),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var m=u[x]-a,y=u[x+1]-f;n.lineTo(m,y)}e.closePath&&n.closePath(),e.isFilled&&(h(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};p.exports=r},10147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(15220);h.register("curve",function(l,r,s,e,i){return this.displayList.add(new c(this.scene,l,r,s,e,i))})},87203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(82958),l=t(4024),p.exports={renderWebGL:c,renderCanvas:l}},82958:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19543),c=t(73329),l=t(50262),r=function(s,e,i,o){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=c(e,i,o),f=n.calcMatrix.copyFrom(a.calc),u=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,v=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&h(n,f,e,v,u,d),e.isStroked&&l(n,e,v,u,d),s.pipelines.postBatch(e)};p.exports=r},28591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(11117),l=t(84171),r=t(95669),s=t(91461),e=new h({Extends:s,Mixins:[l],initialize:function(o,n,a,f,u,d,v){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=128),u===void 0&&(u=128),s.call(this,o,"Ellipse",new r(f/2,u/2,f,u)),this._smoothness=64,this.setPosition(n,a),this.width=f,this.height=u,d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSize:function(i,o){return this.width=i,this.height=o,this.geom.setPosition(i/2,o/2),this.geom.setSize(i,o),this.updateData()},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){for(var i=[],o=this.geom.getPoints(this._smoothness),n=0;n<o.length;n++)i.push(o[n].x,o[n].y);return i.push(o[0].x,o[0].y),this.pathIndexes=c(i),this.pathData=i,this}});p.exports=e},55881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(17876),l=t(49584),r=function(s,e,i,o){i.addToRenderList(e);var n=s.currentContext;if(l(s,n,e,i,o)){var a=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,v=u[0]-a,g=u[1]-f;n.beginPath(),n.moveTo(v,g),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var m=u[x]-a,y=u[x+1]-f;n.lineTo(m,y)}n.closePath(),e.isFilled&&(h(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};p.exports=r},99869:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28591),c=t(61286);c.register("ellipse",function(l,r,s,e,i,o){return this.displayList.add(new h(this.scene,l,r,s,e,i,o))})},84171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(17554),l=t(55881),p.exports={renderWebGL:c,renderCanvas:l}},17554:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19543),c=t(73329),l=t(50262),r=function(s,e,i,o){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=c(e,i,o),f=n.calcMatrix.copyFrom(a.calc),u=e._displayOriginX,d=e._displayOriginY,v=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&h(n,f,e,v,u,d),e.isStroked&&l(n,e,v,u,d),s.pipelines.postBatch(e)};p.exports=r},39169:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(91461),l=t(88059),r=new h({Extends:c,Mixins:[l],initialize:function(e,i,o,n,a,f,u,d,v,g,x){i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n=128),a===void 0&&(a=128),f===void 0&&(f=32),u===void 0&&(u=32),c.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=u,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(i,o),this.setSize(n,a),this.setFillStyle(d,v),g!==void 0&&this.setOutlineStyle(g,x),this.updateDisplayOrigin()},setFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(s,e){return e===void 0&&(e=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=e,this.showOutline=!0),this}});p.exports=r},95525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(17876),l=t(49584),r=function(s,e,i,o){i.addToRenderList(e);var n=s.currentContext;if(l(s,n,e,i,o)){var a=-e._displayOriginX,f=-e._displayOriginY,u=i.alpha*e.alpha,d=e.width,v=e.height,g=e.cellWidth,x=e.cellHeight,m=Math.ceil(d/g),y=Math.ceil(v/x),T=g,R=x,P=g-(m*g-d),D=x-(y*x-v),O=e.showCells,B=e.showAltCells,G=e.showOutline,b=0,k=0,$=0,W=0,Z=0;if(G&&(T--,R--,P===g&&P--,D===x&&D--),O&&e.fillAlpha>0)for(h(n,e),k=0;k<y;k++)for(B&&($=k%2),b=0;b<m;b++){if(B&&$){$=0;continue}$++,W=b<m-1?T:P,Z=k<y-1?R:D,n.fillRect(a+b*g,f+k*x,W,Z)}if(B&&e.altFillAlpha>0)for(h(n,e,e.altFillColor,e.altFillAlpha*u),k=0;k<y;k++)for(B&&($=k%2),b=0;b<m;b++){if(B&&!$){$=1;continue}$=0,W=b<m-1?T:P,Z=k<y-1?R:D,n.fillRect(a+b*g,f+k*x,W,Z)}if(G&&e.outlineFillAlpha>0){for(c(n,e,e.outlineFillColor,e.outlineFillAlpha*u),b=1;b<m;b++){var z=b*g;n.beginPath(),n.moveTo(z+a,f),n.lineTo(z+a,v+f),n.stroke()}for(k=1;k<y;k++){var X=k*x;n.beginPath(),n.moveTo(a,X+f),n.lineTo(a+d,X+f),n.stroke()}}n.restore()}};p.exports=r},9326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(39169);h.register("grid",function(l,r,s,e,i,o,n,a,f,u){return this.displayList.add(new c(this.scene,l,r,s,e,i,o,n,a,f,u))})},88059:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(50639),l=t(95525),p.exports={renderWebGL:c,renderCanvas:l}},50639:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(75512),l=function(r,s,e,i){e.addToRenderList(s);var o=r.pipelines.set(s.pipeline),n=h(s,e,i),a=o.calcMatrix.copyFrom(n.calc);a.translate(-s._displayOriginX,-s._displayOriginY);var f=e.alpha*s.alpha,u=s.width,d=s.height,v=s.cellWidth,g=s.cellHeight,x=Math.ceil(u/v),m=Math.ceil(d/g),y=v,T=g,R=v-(x*v-u),P=g-(m*g-d),D,O,B=s.showCells,G=s.showAltCells,b=s.showOutline,k=0,$=0,W=0,Z=0,z=0;if(b&&(y--,T--,R===v&&R--,P===g&&P--),r.pipelines.preBatch(s),B&&s.fillAlpha>0)for(D=o.fillTint,O=c.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*f),D.TL=O,D.TR=O,D.BL=O,D.BR=O,$=0;$<m;$++)for(G&&(W=$%2),k=0;k<x;k++){if(G&&W){W=0;continue}W++,Z=k<x-1?y:R,z=$<m-1?T:P,o.batchFillRect(k*v,$*g,Z,z)}if(G&&s.altFillAlpha>0)for(D=o.fillTint,O=c.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*f),D.TL=O,D.TR=O,D.BL=O,D.BR=O,$=0;$<m;$++)for(G&&(W=$%2),k=0;k<x;k++){if(G&&!W){W=1;continue}W=0,Z=k<x-1?y:R,z=$<m-1?T:P,o.batchFillRect(k*v,$*g,Z,z)}if(b&&s.outlineFillAlpha>0){var X=o.strokeTint,w=c.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*f);for(X.TL=w,X.TR=w,X.BL=w,X.BR=w,k=1;k<x;k++){var V=k*v;o.batchLine(V,0,V,d,1,1,1,0,!1)}for($=1;$<m;$++){var Y=$*g;o.batchLine(0,Y,u,Y,1,1,1,0,!1)}}r.pipelines.postBatch(s)};p.exports=l},4415:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72296),c=t(56694),l=t(91461),r=new c({Extends:l,Mixins:[h],initialize:function(e,i,o,n,a,f,u,d){i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n=48),a===void 0&&(a=32),f===void 0&&(f=15658734),u===void 0&&(u=10066329),d===void 0&&(d=13421772),l.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=u,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(i,o),this.setSize(n,a),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,e,i){return s===void 0&&(s=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=s,this.showLeft=e,this.showRight=i,this},setFillStyle:function(s,e,i){return this.fillTop=s,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});p.exports=r},32884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(49584),l=function(r,s,e,i){e.addToRenderList(s);var o=r.currentContext;if(c(r,o,s,e,i)&&s.isFilled){var n=s.width,a=s.height,f=n/2,u=n/s.projection;s.showTop&&(h(o,s,s.fillTop),o.beginPath(),o.moveTo(-f,-a),o.lineTo(0,-u-a),o.lineTo(f,-a),o.lineTo(f,-1),o.lineTo(0,u-1),o.lineTo(-f,-1),o.lineTo(-f,-a),o.fill()),s.showLeft&&(h(o,s,s.fillLeft),o.beginPath(),o.moveTo(-f,0),o.lineTo(0,u),o.lineTo(0,u-a),o.lineTo(-f,-a),o.lineTo(-f,0),o.fill()),s.showRight&&(h(o,s,s.fillRight),o.beginPath(),o.moveTo(f,0),o.lineTo(0,u),o.lineTo(0,u-a),o.lineTo(f,-a),o.lineTo(f,0),o.fill()),o.restore()}};p.exports=l},88154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(4415);h.register("isobox",function(l,r,s,e,i,o,n){return this.displayList.add(new c(this.scene,l,r,s,e,i,o,n))})},72296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(33101),l=t(32884),p.exports={renderWebGL:c,renderCanvas:l}},33101:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(75512),l=function(r,s,e,i){e.addToRenderList(s);var o=r.pipelines.set(s.pipeline),n=h(s,e,i),a=o.calcMatrix.copyFrom(n.calc),f=s.width,u=s.height,d=f/2,v=f/s.projection,g=e.alpha*s.alpha;if(s.isFilled){var x,m,y,T,R,P,D,O,B;r.pipelines.preBatch(s),s.showTop&&(x=c.getTintAppendFloatAlpha(s.fillTop,g),m=a.getX(-d,-u),y=a.getY(-d,-u),T=a.getX(0,-v-u),R=a.getY(0,-v-u),P=a.getX(d,-u),D=a.getY(d,-u),O=a.getX(0,v-u),B=a.getY(0,v-u),o.batchQuad(s,m,y,T,R,P,D,O,B,0,0,1,1,x,x,x,x,2)),s.showLeft&&(x=c.getTintAppendFloatAlpha(s.fillLeft,g),m=a.getX(-d,0),y=a.getY(-d,0),T=a.getX(0,v),R=a.getY(0,v),P=a.getX(0,v-u),D=a.getY(0,v-u),O=a.getX(-d,-u),B=a.getY(-d,-u),o.batchQuad(s,m,y,T,R,P,D,O,B,0,0,1,1,x,x,x,x,2)),s.showRight&&(x=c.getTintAppendFloatAlpha(s.fillRight,g),m=a.getX(d,0),y=a.getY(d,0),T=a.getX(0,v),R=a.getY(0,v),P=a.getX(0,v-u),D=a.getY(0,v-u),O=a.getX(d,-u),B=a.getY(d,-u),o.batchQuad(s,m,y,T,R,P,D,O,B,0,0,1,1,x,x,x,x,2)),r.pipelines.postBatch(s)}};p.exports=l},65159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(93387),l=t(91461),r=new h({Extends:l,Mixins:[c],initialize:function(e,i,o,n,a,f,u,d,v){i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n=48),a===void 0&&(a=32),f===void 0&&(f=!1),u===void 0&&(u=15658734),d===void 0&&(d=10066329),v===void 0&&(v=13421772),l.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(i,o),this.setSize(n,a),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,e,i){return s===void 0&&(s=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=s,this.showLeft=e,this.showRight=i,this},setFillStyle:function(s,e,i){return this.fillTop=s,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});p.exports=r},9923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(49584),l=function(r,s,e,i){e.addToRenderList(s);var o=r.currentContext;if(c(r,o,s,e,i)&&s.isFilled){var n=s.width,a=s.height,f=n/2,u=n/s.projection,d=s.isReversed;s.showTop&&d&&(h(o,s,s.fillTop),o.beginPath(),o.moveTo(-f,-a),o.lineTo(0,-u-a),o.lineTo(f,-a),o.lineTo(0,u-a),o.fill()),s.showLeft&&(h(o,s,s.fillLeft),o.beginPath(),d?(o.moveTo(-f,-a),o.lineTo(0,u),o.lineTo(0,u-a)):(o.moveTo(-f,0),o.lineTo(0,u),o.lineTo(0,u-a)),o.fill()),s.showRight&&(h(o,s,s.fillRight),o.beginPath(),d?(o.moveTo(f,-a),o.lineTo(0,u),o.lineTo(0,u-a)):(o.moveTo(f,0),o.lineTo(0,u),o.lineTo(0,u-a)),o.fill()),o.restore()}};p.exports=l},67765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(65159);h.register("isotriangle",function(l,r,s,e,i,o,n,a){return this.displayList.add(new c(this.scene,l,r,s,e,i,o,n,a))})},93387:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(54946),l=t(9923),p.exports={renderWebGL:c,renderCanvas:l}},54946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(75512),l=function(r,s,e,i){e.addToRenderList(s);var o=r.pipelines.set(s.pipeline),n=h(s,e,i),a=o.calcMatrix.copyFrom(n.calc),f=s.width,u=s.height,d=f/2,v=f/s.projection,g=s.isReversed,x=e.alpha*s.alpha;if(s.isFilled){r.pipelines.preBatch(s);var m,y,T,R,P,D,O;if(s.showTop&&g){m=c.getTintAppendFloatAlpha(s.fillTop,x),y=a.getX(-d,-u),T=a.getY(-d,-u),R=a.getX(0,-v-u),P=a.getY(0,-v-u),D=a.getX(d,-u),O=a.getY(d,-u);var B=a.getX(0,v-u),G=a.getY(0,v-u);o.batchQuad(s,y,T,R,P,D,O,B,G,0,0,1,1,m,m,m,m,2)}s.showLeft&&(m=c.getTintAppendFloatAlpha(s.fillLeft,x),g?(y=a.getX(-d,-u),T=a.getY(-d,-u),R=a.getX(0,v),P=a.getY(0,v),D=a.getX(0,v-u),O=a.getY(0,v-u)):(y=a.getX(-d,0),T=a.getY(-d,0),R=a.getX(0,v),P=a.getY(0,v),D=a.getX(0,v-u),O=a.getY(0,v-u)),o.batchTri(s,y,T,R,P,D,O,0,0,1,1,m,m,m,2)),s.showRight&&(m=c.getTintAppendFloatAlpha(s.fillRight,x),g?(y=a.getX(d,-u),T=a.getY(d,-u),R=a.getX(0,v),P=a.getY(0,v),D=a.getX(0,v-u),O=a.getY(0,v-u)):(y=a.getX(d,0),T=a.getY(d,0),R=a.getX(0,v),P=a.getY(0,v),D=a.getX(0,v-u),O=a.getY(0,v-u)),o.batchTri(s,y,T,R,P,D,O,0,0,1,1,m,m,m,2)),r.pipelines.postBatch(s)}};p.exports=l},579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(91461),l=t(88829),r=t(52660),s=new h({Extends:c,Mixins:[r],initialize:function(i,o,n,a,f,u,d,v,g){o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),u===void 0&&(u=128),d===void 0&&(d=0),c.call(this,i,"Line",new l(a,f,u,d));var x=Math.max(1,this.geom.right-this.geom.left),m=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(o,n),this.setSize(x,m),v!==void 0&&this.setStrokeStyle(1,v,g),this.updateDisplayOrigin()},setLineWidth:function(e,i){return i===void 0&&(i=e),this._startWidth=e,this._endWidth=i,this.lineWidth=e,this},setTo:function(e,i,o,n){return this.geom.setTo(e,i,o,n),this}});p.exports=s},52044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17876),c=t(49584),l=function(r,s,e,i){e.addToRenderList(s);var o=r.currentContext;if(c(r,o,s,e,i)){var n=s._displayOriginX,a=s._displayOriginY;s.isStroked&&(h(o,s),o.beginPath(),o.moveTo(s.geom.x1-n,s.geom.y1-a),o.lineTo(s.geom.x2-n,s.geom.y2-a),o.stroke()),o.restore()}};p.exports=l},85665:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(579);h.register("line",function(l,r,s,e,i,o,n,a){return this.displayList.add(new c(this.scene,l,r,s,e,i,o,n,a))})},52660:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(46952),l=t(52044),p.exports={renderWebGL:c,renderCanvas:l}},46952:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(75512),l=function(r,s,e,i){e.addToRenderList(s);var o=r.pipelines.set(s.pipeline),n=h(s,e,i);o.calcMatrix.copyFrom(n.calc);var a=s._displayOriginX,f=s._displayOriginY,u=e.alpha*s.alpha;if(r.pipelines.preBatch(s),s.isStroked){var d=o.strokeTint,v=c.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*u);d.TL=v,d.TR=v,d.BL=v,d.BR=v;var g=s._startWidth,x=s._endWidth;o.batchLine(s.geom.x1-a,s.geom.y1-f,s.geom.x2-a,s.geom.y2-f,g,x,1,0,!1,n.sprite,n.camera)}r.pipelines.postBatch(s)};p.exports=l},91249:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70573),c=t(56694),l=t(11117),r=t(14045),s=t(8580),e=t(91461),i=t(18974),o=new c({Extends:e,Mixins:[h],initialize:function(a,f,u,d,v,g){f===void 0&&(f=0),u===void 0&&(u=0),e.call(this,a,"Polygon",new s(d));var x=r(this.geom);this.setPosition(f,u),this.setSize(x.width,x.height),v!==void 0&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var a=0;a<n;a++)i(this.geom);return this.updateData()},setTo:function(n){this.geom.setTo(n);var a=r(this.geom);return this.setSize(a.width,a.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var n=[],a=this.geom.points,f=0;f<a.length;f++)n.push(a[f].x,a[f].y);return n.push(a[0].x,a[0].y),this.pathIndexes=l(n),this.pathData=n,this}});p.exports=o},40834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(17876),l=t(49584),r=function(s,e,i,o){i.addToRenderList(e);var n=s.currentContext;if(l(s,n,e,i,o)){var a=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,v=u[0]-a,g=u[1]-f;n.beginPath(),n.moveTo(v,g),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var m=u[x]-a,y=u[x+1]-f;n.lineTo(m,y)}e.closePath&&n.closePath(),e.isFilled&&(h(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};p.exports=r},88203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(91249);h.register("polygon",function(l,r,s,e,i){return this.displayList.add(new c(this.scene,l,r,s,e,i))})},70573:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(72841),l=t(40834),p.exports={renderWebGL:c,renderCanvas:l}},72841:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19543),c=t(73329),l=t(50262),r=function(s,e,i,o){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=c(e,i,o),f=n.calcMatrix.copyFrom(a.calc),u=e._displayOriginX,d=e._displayOriginY,v=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&h(n,f,e,v,u,d),e.isStroked&&l(n,e,v,u,d),s.pipelines.postBatch(e)};p.exports=r},517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(74118),l=t(91461),r=t(37673),s=new h({Extends:l,Mixins:[r],initialize:function(i,o,n,a,f,u,d){o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=128),f===void 0&&(f=128),l.call(this,i,"Rectangle",new c(0,0,a,f)),this.setPosition(o,n),this.setSize(a,f),u!==void 0&&this.setFillStyle(u,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,i){this.width=e,this.height=i,this.geom.setSize(e,i),this.updateData(),this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=e,o.hitArea.height=i),this},updateData:function(){var e=[],i=this.geom,o=this._tempLine;return i.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),i.getLineB(o),e.push(o.x2,o.y2),i.getLineC(o),e.push(o.x2,o.y2),i.getLineD(o),e.push(o.x2,o.y2),this.pathData=e,this}});p.exports=s},4091:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(17876),l=t(49584),r=function(s,e,i,o){i.addToRenderList(e);var n=s.currentContext;if(l(s,n,e,i,o)){var a=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(h(n,e),n.fillRect(-a,-f,e.width,e.height)),e.isStroked&&(c(n,e),n.beginPath(),n.rect(-a,-f,e.width,e.height),n.stroke()),n.restore()}};p.exports=r},94355:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(517);h.register("rectangle",function(l,r,s,e,i,o){return this.displayList.add(new c(this.scene,l,r,s,e,i,o))})},37673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(43532),l=t(4091),p.exports={renderWebGL:c,renderCanvas:l}},43532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(50262),l=t(75512),r=function(s,e,i,o){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=h(e,i,o);n.calcMatrix.copyFrom(a.calc);var f=e._displayOriginX,u=e._displayOriginY,d=i.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var v=n.fillTint,g=l.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);v.TL=g,v.TR=g,v.BL=g,v.BR=g,n.batchFillRect(-f,-u,e.width,e.height)}e.isStroked&&c(n,e,d,f,u),s.pipelines.postBatch(e)};p.exports=r},77843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87956),c=t(56694),l=t(11117),r=t(91461),s=new c({Extends:r,Mixins:[h],initialize:function(i,o,n,a,f,u,d,v){o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=5),f===void 0&&(f=32),u===void 0&&(u=64),r.call(this,i,"Star",null),this._points=a,this._innerRadius=f,this._outerRadius=u,this.setPosition(o,n),this.setSize(u*2,u*2),d!==void 0&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],i=this._points,o=this._innerRadius,n=this._outerRadius,a=Math.PI/2*3,f=Math.PI/i,u=n,d=n;e.push(u,d+-n);for(var v=0;v<i;v++)e.push(u+Math.cos(a)*n,d+Math.sin(a)*n),a+=f,e.push(u+Math.cos(a)*o,d+Math.sin(a)*o),a+=f;return e.push(u,d+-n),this.pathIndexes=l(e),this.pathData=e,this}});p.exports=s},11401:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(17876),l=t(49584),r=function(s,e,i,o){i.addToRenderList(e);var n=s.currentContext;if(l(s,n,e,i,o)){var a=e._displayOriginX,f=e._displayOriginY,u=e.pathData,d=u.length-1,v=u[0]-a,g=u[1]-f;n.beginPath(),n.moveTo(v,g),e.closePath||(d-=2);for(var x=2;x<d;x+=2){var m=u[x]-a,y=u[x+1]-f;n.lineTo(m,y)}n.closePath(),e.isFilled&&(h(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};p.exports=r},23962:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77843),c=t(61286);c.register("star",function(l,r,s,e,i,o,n){return this.displayList.add(new h(this.scene,l,r,s,e,i,o,n))})},87956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(12037),l=t(11401),p.exports={renderWebGL:c,renderCanvas:l}},12037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19543),c=t(73329),l=t(50262),r=function(s,e,i,o){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=c(e,i,o),f=n.calcMatrix.copyFrom(a.calc),u=e._displayOriginX,d=e._displayOriginY,v=i.alpha*e.alpha;s.pipelines.preBatch(e),e.isFilled&&h(n,f,e,v,u,d),e.isStroked&&l(n,e,v,u,d),s.pipelines.postBatch(e)};p.exports=r},21873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(91461),l=t(66349),r=t(70498),s=new h({Extends:c,Mixins:[r],initialize:function(i,o,n,a,f,u,d,v,g,x,m){o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=128),u===void 0&&(u=64),d===void 0&&(d=0),v===void 0&&(v=128),g===void 0&&(g=128),c.call(this,i,"Triangle",new l(a,f,u,d,v,g));var y=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(o,n),this.setSize(y,T),x!==void 0&&this.setFillStyle(x,m),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,i,o,n,a,f){return this.geom.setTo(e,i,o,n,a,f),this.updateData()},updateData:function(){var e=[],i=this.geom,o=this._tempLine;return i.getLineA(o),e.push(o.x1,o.y1,o.x2,o.y2),i.getLineB(o),e.push(o.x2,o.y2),i.getLineC(o),e.push(o.x2,o.y2),this.pathData=e,this}});p.exports=s},60213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),c=t(17876),l=t(49584),r=function(s,e,i,o){i.addToRenderList(e);var n=s.currentContext;if(l(s,n,e,i,o)){var a=e._displayOriginX,f=e._displayOriginY,u=e.geom.x1-a,d=e.geom.y1-f,v=e.geom.x2-a,g=e.geom.y2-f,x=e.geom.x3-a,m=e.geom.y3-f;n.beginPath(),n.moveTo(u,d),n.lineTo(v,g),n.lineTo(x,m),n.closePath(),e.isFilled&&(h(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};p.exports=r},79296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(21873);h.register("triangle",function(l,r,s,e,i,o,n,a,f,u){return this.displayList.add(new c(this.scene,l,r,s,e,i,o,n,a,f,u))})},70498:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(72291),l=t(60213),p.exports={renderWebGL:c,renderCanvas:l}},72291:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=t(50262),l=t(75512),r=function(s,e,i,o){i.addToRenderList(e);var n=s.pipelines.set(e.pipeline),a=h(e,i,o);n.calcMatrix.copyFrom(a.calc);var f=e._displayOriginX,u=e._displayOriginY,d=i.alpha*e.alpha;if(s.pipelines.preBatch(e),e.isFilled){var v=n.fillTint,g=l.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);v.TL=g,v.TR=g,v.BL=g,v.BR=g;var x=e.geom.x1-f,m=e.geom.y1-u,y=e.geom.x2-f,T=e.geom.y2-u,R=e.geom.x3-f,P=e.geom.y3-u;n.batchFillTriangle(x,m,y,T,R,P,a.sprite,a.camera)}e.isStroked&&c(n,e,d,f,u),s.pipelines.postBatch(e)};p.exports=r},13747:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),c=t(56694),l=t(64937),r=t(89980),s=t(20791),e=new c({Extends:r,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,s],initialize:function(o,n,a,f,u){r.call(this,o,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(f,u),this.setPosition(n,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,o){this.anims.update(i,o)},play:function(i,o){return this.anims.play(i,o)},playReverse:function(i,o){return this.anims.playReverse(i,o)},playAfterDelay:function(i,o){return this.anims.playAfterDelay(i,o)},playAfterRepeat:function(i,o){return this.anims.playAfterRepeat(i,o)},chain:function(i){return this.anims.chain(i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(i){return this.anims.stopAfterDelay(i)},stopAfterRepeat:function(i){return this.anims.stopAfterRepeat(i)},stopOnFrame:function(i){return this.anims.stopOnFrame(i)},toJSON:function(){return l.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=e},27573:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c.addToRenderList(h),t.batchSprite(h,h.frame,c,l)};p.exports=S},89219:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(32291),l=t(99325),r=t(20494),s=t(13747);l.register("sprite",function(e,i){e===void 0&&(e={});var o=r(e,"key",null),n=r(e,"frame",null),a=new s(this.scene,0,0,o,n);return i!==void 0&&(e.add=i),h(this.scene,a,e),c(a,e),a})},66135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(13747);h.register("sprite",function(l,r,s,e){return this.displayList.add(new c(this.scene,l,r,s,e))})},20791:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(21034),l=t(27573),p.exports={renderWebGL:c,renderCanvas:l}},21034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c.addToRenderList(h),h.pipeline.batchSprite(h,c,l)};p.exports=S},32979:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=t.canvas,r=t.context,s=t.style,e=[],i=0,o=c.length;s.maxLines>0&&s.maxLines<c.length&&(o=s.maxLines),s.syncFont(l,r);for(var n=0;n<o;n++){var a=s.strokeThickness;a+=r.measureText(c[n]).width,s.wordWrap&&(a-=r.measureText(" ").width),e[n]=Math.ceil(a),i=Math.max(i,e[n])}var f=h.fontSize+s.strokeThickness,u=f*o,d=t.lineSpacing;return o>1&&(u+=d*(o-1)),{width:i,height:u,lines:o,lineWidths:e,lineSpacing:d,lineHeight:f}};p.exports=S},27030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),c=function(l){var r=h.create(this),s=r.getContext("2d",{willReadFrequently:!0});l.syncFont(r,s);var e=s.measureText(l.testString);if("actualBoundingBoxAscent"in e){var i=e.actualBoundingBoxAscent,o=e.actualBoundingBoxDescent;return h.remove(r),{ascent:i,descent:o,fontSize:i+o}}var n=Math.ceil(e.width*l.baselineX),a=n,f=2*a;a=a*l.baselineY|0,r.width=n,r.height=f,s.fillStyle="#f00",s.fillRect(0,0,n,f),s.font=l._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(l.testString,0,a);var u={ascent:0,descent:0,fontSize:0},d=s.getImageData(0,0,n,f);if(!d)return u.ascent=a,u.descent=a+6,u.fontSize=u.ascent+u.descent,h.remove(r),u;var v=d.data,g=v.length,x=n*4,m,y,T=0,R=!1;for(m=0;m<a;m++){for(y=0;y<x;y+=4)if(v[T+y]!==255){R=!0;break}if(!R)T+=x;else break}for(u.ascent=a-m,T=g-x,R=!1,m=f;m>a;m--){for(y=0;y<x;y+=4)if(v[T+y]!==255){R=!0;break}if(!R)T-=x;else break}return u.descent=m-a,u.fontSize=u.ascent+u.descent,h.remove(r),u};p.exports=c},76555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99584),c=t(61068),l=t(56694),r=t(64937),s=t(89980),e=t(32979),i=t(10850),o=t(55638),n=t(80032),a=t(74744),f=new l({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,n],initialize:function(d,v,g,x,m){v===void 0&&(v=0),g===void 0&&(g=0),s.call(this,d,"Text"),this.renderer=d.sys.renderer,this.setPosition(v,g),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=c.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new a(this,m),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),m&&m.padding&&this.setPadding(m.padding),m&&m.lineSpacing&&this.setLineSpacing(m.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(u){var d=this.style;if(d.wordWrapCallback){var v=d.wordWrapCallback.call(d.wordWrapCallbackScope,u,this);return Array.isArray(v)&&(v=v.join(`
`)),v}else return d.wordWrapWidth?d.wordWrapUseAdvanced?this.advancedWordWrap(u,this.context,this.style.wordWrapWidth):this.basicWordWrap(u,this.context,this.style.wordWrapWidth):u},advancedWordWrap:function(u,d,v){for(var g="",x=u.replace(/ +/gi," ").split(this.splitRegExp),m=x.length,y=0;y<m;y++){var T=x[y],R="";T=T.replace(/^ *|\s*$/gi,"");var P=d.measureText(T).width;if(P<v){g+=T+`
`;continue}for(var D=v,O=T.split(" "),B=0;B<O.length;B++){var G=O[B],b=G+" ",k=d.measureText(b).width;if(k>D){if(B===0){for(var $=b;$.length&&($=$.slice(0,-1),k=d.measureText($).width,!(k<=D)););if(!$.length)throw new Error("wordWrapWidth < a single character");var W=G.substr($.length);O[B]=W,R+=$}var Z=O[B].length?B:B+1,z=O.slice(Z).join(" ").replace(/[ \n]*$/gi,"");x.splice(y+1,0,z),m=x.length;break}else R+=b,D-=k}g+=R.replace(/[ \n]*$/gi,"")+`
`}return g=g.replace(/[\s|\n]*$/gi,""),g},basicWordWrap:function(u,d,v){for(var g="",x=u.split(this.splitRegExp),m=x.length-1,y=d.measureText(" ").width,T=0;T<=m;T++){for(var R=v,P=x[T].split(" "),D=P.length-1,O=0;O<=D;O++){var B=P[O],G=d.measureText(B).width,b=G;O<D&&(b+=y),b>R&&O>0&&(g+=`
`,R=v),g+=B,O<D?(g+=" ",R-=b):R-=G}T<m&&(g+=`
`)}return g},getWrappedText:function(u){u===void 0&&(u=this._text),this.style.syncFont(this.canvas,this.context);var d=this.runWordWrap(u);return d.split(this.splitRegExp)},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this._text&&(this._text=u.toString(),this.updateText()),this},appendText:function(u,d){d===void 0&&(d=!0),!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u=u.toString();var v=this._text.concat(d?`
`+u:u);return v!==this._text&&(this._text=v,this.updateText()),this},setStyle:function(u){return this.style.setStyle(u)},setFont:function(u){return this.style.setFont(u)},setFontFamily:function(u){return this.style.setFontFamily(u)},setFontSize:function(u){return this.style.setFontSize(u)},setFontStyle:function(u){return this.style.setFontStyle(u)},setFixedSize:function(u,d){return this.style.setFixedSize(u,d)},setBackgroundColor:function(u){return this.style.setBackgroundColor(u)},setFill:function(u){return this.style.setFill(u)},setColor:function(u){return this.style.setColor(u)},setStroke:function(u,d){return this.style.setStroke(u,d)},setShadow:function(u,d,v,g,x,m){return this.style.setShadow(u,d,v,g,x,m)},setShadowOffset:function(u,d){return this.style.setShadowOffset(u,d)},setShadowColor:function(u){return this.style.setShadowColor(u)},setShadowBlur:function(u){return this.style.setShadowBlur(u)},setShadowStroke:function(u){return this.style.setShadowStroke(u)},setShadowFill:function(u){return this.style.setShadowFill(u)},setWordWrapWidth:function(u,d){return this.style.setWordWrapWidth(u,d)},setWordWrapCallback:function(u,d){return this.style.setWordWrapCallback(u,d)},setAlign:function(u){return this.style.setAlign(u)},setResolution:function(u){return this.style.setResolution(u)},setLineSpacing:function(u){return this.lineSpacing=u,this.updateText()},setPadding:function(u,d,v,g){if(typeof u=="object"){var x=u,m=i(x,"x",null);m!==null?(u=m,v=m):(u=i(x,"left",0),v=i(x,"right",u));var y=i(x,"y",null);y!==null?(d=y,g=y):(d=i(x,"top",0),g=i(x,"bottom",d))}else u===void 0&&(u=0),d===void 0&&(d=u),v===void 0&&(v=u),g===void 0&&(g=d);return this.padding.left=u,this.padding.top=d,this.padding.right=v,this.padding.bottom=g,this.updateText()},setMaxLines:function(u){return this.style.setMaxLines(u)},updateText:function(){var u=this.canvas,d=this.context,v=this.style,g=v.resolution,x=v.metrics;v.syncFont(u,d);var m=this._text;(v.wordWrapWidth||v.wordWrapCallback)&&(m=this.runWordWrap(this._text));var y=m.split(this.splitRegExp),T=e(this,x,y),R=this.padding,P;v.fixedWidth===0?(this.width=T.width+R.left+R.right,P=T.width):(this.width=v.fixedWidth,P=this.width-R.left-R.right,P<T.width&&(P=T.width)),v.fixedHeight===0?this.height=T.height+R.top+R.bottom:this.height=v.fixedHeight;var D=this.width,O=this.height;this.updateDisplayOrigin(),D*=g,O*=g,D=Math.max(D,1),O=Math.max(O,1),u.width!==D||u.height!==O?(u.width=D,u.height=O,this.frame.setSize(D,O),v.syncFont(u,d),v.rtl&&(d.direction="rtl")):d.clearRect(0,0,D,O),d.save(),d.scale(g,g),v.backgroundColor&&(d.fillStyle=v.backgroundColor,d.fillRect(0,0,D,O)),v.syncStyle(u,d),d.translate(R.left,R.top);for(var B,G,b=0;b<T.lines;b++){if(B=v.strokeThickness/2,G=v.strokeThickness/2+b*T.lineHeight+x.ascent,b>0&&(G+=T.lineSpacing*b),v.rtl)B=D-B-R.left-R.right;else if(v.align==="right")B+=P-T.lineWidths[b];else if(v.align==="center")B+=(P-T.lineWidths[b])/2;else if(v.align==="justify"){var k=.85;if(T.lineWidths[b]/T.width>=k){var $=T.width-T.lineWidths[b],W=d.measureText(" ").width,Z=y[b].trim(),z=Z.split(" ");$+=(y[b].length-Z.length)*W;for(var X=Math.floor($/W),w=0;X>0;)z[w]+=" ",w=(w+1)%(z.length-1||1),--X;y[b]=z.join(" ")}}this.autoRound&&(B=Math.round(B),G=Math.round(G)),v.strokeThickness&&(v.syncShadow(d,v.shadowStroke),d.strokeText(y[b],B,G)),v.color&&(v.syncShadow(d,v.shadowFill),d.fillText(y[b],B,G))}d.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(u,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var V=this.input;return V&&!V.customHitArea&&(V.hitArea.width=this.width,V.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(u){this.setText(u)}},toJSON:function(){var u=r.ToJSON(this),d={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return u.data=d,u},preDestroy:function(){this.style.rtl&&o(this.canvas),c.remove(this.canvas),this.texture.destroy()}});p.exports=f},71649:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){h.width===0||h.height===0||(c.addToRenderList(h),t.batchSprite(h,h.frame,c,l))};p.exports=S},75397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(76555);c.register("text",function(s,e){s===void 0&&(s={});var i=l(s,"text",""),o=l(s,"style",null),n=l(s,"padding",null);n!==null&&(o.padding=n);var a=new r(this.scene,0,0,i,o);return e!==void 0&&(s.add=e),h(this.scene,a,s),a.autoRound=l(s,"autoRound",!0),a.resolution=l(s,"resolution",1),a})},94627:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76555),c=t(61286);c.register("text",function(l,r,s,e){return this.displayList.add(new h(this.scene,l,r,s,e))})},80032:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(76128),l=t(71649),p.exports={renderWebGL:c,renderCanvas:l}},74744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(20494),l=t(10850),r=t(27030),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new h({initialize:function(o,n){this.parent=o,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0)},setStyle:function(i,o,n){o===void 0&&(o=!0),n===void 0&&(n=!1),i&&i.hasOwnProperty("fontSize")&&typeof i.fontSize=="number"&&(i.fontSize=i.fontSize.toString()+"px");for(var a in s){var f=n?s[a][1]:this[a];a==="wordWrapCallback"||a==="wordWrapCallbackScope"?this[a]=l(i,s[a][0],f):this[a]=c(i,s[a][0],f)}var u=l(i,"font",null);u!==null&&this.setFont(u,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=l(i,"fill",null);d!==null&&(this.color=d);var v=l(i,"metrics",!1);return v?this.metrics={ascent:l(v,"ascent",0),descent:l(v,"descent",0),fontSize:l(v,"fontSize",0)}:(o||!this.metrics)&&(this.metrics=r(this)),o?this.parent.updateText():this.parent},syncFont:function(i,o){o.font=this._font},syncStyle:function(i,o){o.textBaseline="alphabetic",o.fillStyle=this.color,o.strokeStyle=this.stroke,o.lineWidth=this.strokeThickness,o.lineCap="round",o.lineJoin="round"},syncShadow:function(i,o){o?(i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY,i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur):(i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowColor=0,i.shadowBlur=0)},update:function(i){return i&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(i,o){o===void 0&&(o=!0);var n=i,a="",f="";if(typeof i!="string")n=l(i,"fontFamily","Courier"),a=l(i,"fontSize","16px"),f=l(i,"fontStyle","");else{var u=i.split(" "),d=0;f=u.length>2?u[d++]:"",a=u[d++]||"16px",n=u[d++]||"Courier"}return(n!==this.fontFamily||a!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=a,this.fontStyle=f,o&&this.update(!0)),this.parent},setFontFamily:function(i){return this.fontFamily!==i&&(this.fontFamily=i,this.update(!0)),this.parent},setFontStyle:function(i){return this.fontStyle!==i&&(this.fontStyle=i,this.update(!0)),this.parent},setFontSize:function(i){return typeof i=="number"&&(i=i.toString()+"px"),this.fontSize!==i&&(this.fontSize=i,this.update(!0)),this.parent},setTestString:function(i){return this.testString=i,this.update(!0)},setFixedSize:function(i,o){return this.fixedWidth=i,this.fixedHeight=o,i&&(this.parent.width=i),o&&(this.parent.height=o),this.update(!1)},setBackgroundColor:function(i){return this.backgroundColor=i,this.update(!1)},setFill:function(i){return this.color=i,this.update(!1)},setColor:function(i){return this.color=i,this.update(!1)},setResolution:function(i){return this.resolution=i,this.update(!1)},setStroke:function(i,o){return o===void 0&&(o=this.strokeThickness),i===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==i||this.strokeThickness!==o)&&(this.stroke=i,this.strokeThickness=o,this.update(!0)),this.parent},setShadow:function(i,o,n,a,f,u){return i===void 0&&(i=0),o===void 0&&(o=0),n===void 0&&(n="#000"),a===void 0&&(a=0),f===void 0&&(f=!1),u===void 0&&(u=!0),this.shadowOffsetX=i,this.shadowOffsetY=o,this.shadowColor=n,this.shadowBlur=a,this.shadowStroke=f,this.shadowFill=u,this.update(!1)},setShadowOffset:function(i,o){return i===void 0&&(i=0),o===void 0&&(o=i),this.shadowOffsetX=i,this.shadowOffsetY=o,this.update(!1)},setShadowColor:function(i){return i===void 0&&(i="#000"),this.shadowColor=i,this.update(!1)},setShadowBlur:function(i){return i===void 0&&(i=0),this.shadowBlur=i,this.update(!1)},setShadowStroke:function(i){return this.shadowStroke=i,this.update(!1)},setShadowFill:function(i){return this.shadowFill=i,this.update(!1)},setWordWrapWidth:function(i,o){return o===void 0&&(o=!1),this.wordWrapWidth=i,this.wordWrapUseAdvanced=o,this.update(!1)},setWordWrapCallback:function(i,o){return o===void 0&&(o=null),this.wordWrapCallback=i,this.wordWrapCallbackScope=o,this.update(!1)},setAlign:function(i){return i===void 0&&(i="left"),this.align=i,this.update(!1)},setMaxLines:function(i){return i===void 0&&(i=0),this.maxLines=i,this.update(!1)},getTextMetrics:function(){var i=this.metrics;return{ascent:i.ascent,descent:i.descent,fontSize:i.fontSize}},toJSON:function(){var i={};for(var o in s)i[o]=this[o];return i.metrics=this.getTextMetrics(),i},destroy:function(){this.parent=void 0}});p.exports=e},76128:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),c=function(l,r,s,e){if(!(r.width===0||r.height===0)){s.addToRenderList(r);var i=r.frame,o=i.width,n=i.height,a=h.getTintAppendFloatAlpha,f=l.pipelines.set(r.pipeline,r),u=f.setTexture2D(i.glTexture,r);f.batchTexture(r,i.glTexture,o,n,r.x,r.y,o/r.style.resolution,n/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,o,n,a(r.tintTopLeft,s.alpha*r._alphaTL),a(r.tintTopRight,s.alpha*r._alphaTR),a(r.tintBottomLeft,s.alpha*r._alphaBL),a(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,0,0,s,e,!1,u)}};p.exports=c},35856:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),c=t(56694),l=t(64937),r=t(89980),s=t(3504),e=t(8213),i=t(9271),o=t(93736),n=8,a=new c({Extends:r,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,i],initialize:function(u,d,v,g,x,m,y){var T=u.sys.renderer;r.call(this,u,"TileSprite");var R=u.sys.textures.get(m),P=R.get(y);P.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),R=u.sys.textures.get("__MISSING"),P=R.get()),R.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),R=u.sys.textures.get("__MISSING"),P=R.get()),!g||!x?(g=P.width,x=P.height):(g=Math.floor(g),x=Math.floor(x)),this._tilePosition=new o,this._tileScale=new o(1,1),this.dirty=!1,this.renderer=T,this.canvas=h.create(this,g,x),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=R,this.displayFrame=P,this._crop=this.resetCropObject(),this.texture=u.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=s(P.width),this.potHeight=s(P.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(d,v),this.setSize(g,x),this.setFrame(y),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,u){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(u)},setFrame:function(f){var u=this.displayTexture.get(f);return this.potWidth=s(u.width),this.potHeight=s(u.height),this.canvas.width=0,!u.cutWidth||!u.cutHeight?this.renderFlags&=~n:this.renderFlags|=n,this.displayFrame=u,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,u){return f!==void 0&&(this.tilePositionX=f),u!==void 0&&(this.tilePositionY=u),this},setTileScale:function(f,u){return f===void 0&&(f=this.tileScaleX),u===void 0&&(u=f),this.tileScaleX=f,this.tileScaleY=u,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var u=this.fillContext,d=this.fillCanvas,v=this.potWidth,g=this.potHeight;(!this.renderer||!this.renderer.gl)&&(v=f.cutWidth,g=f.cutHeight),u.clearRect(0,0,v,g),d.width=v,d.height=g,u.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,v,g),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(d,this.fillPattern):this.fillPattern=u.createPattern(d,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var u=this.context;this.scene.sys.game.config.antialias||e.disable(u);var d=this._tileScale.x,v=this._tileScale.y,g=this._tilePosition.x,x=this._tilePosition.y;u.clearRect(0,0,this.width,this.height),u.save(),u.scale(d,v),u.translate(-g,-x),u.fillStyle=this.fillPattern,u.fillRect(g,x,this.width/d,this.height/v),u.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});p.exports=a},93305:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){h.updateCanvas(),c.addToRenderList(h),t.batchSprite(h,h.frame,c,l)};p.exports=S},63950:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(35856);c.register("tileSprite",function(s,e){s===void 0&&(s={});var i=l(s,"x",0),o=l(s,"y",0),n=l(s,"width",512),a=l(s,"height",512),f=l(s,"key",""),u=l(s,"frame",""),d=new r(this.scene,i,o,n,a,f,u);return e!==void 0&&(s.add=e),h(this.scene,d,s),d})},20509:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35856),c=t(61286);c.register("tileSprite",function(l,r,s,e,i,o){return this.displayList.add(new h(this.scene,l,r,s,e,i,o))})},9271:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(74287),l=t(93305),p.exports={renderWebGL:c,renderCanvas:l}},74287:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),c=function(l,r,s,e){r.updateCanvas();var i=r.width,o=r.height;if(!(i===0||o===0)){s.addToRenderList(r);var n=h.getTintAppendFloatAlpha,a=l.pipelines.set(r.pipeline,r),f=a.setTexture2D(r.fillPattern,r);a.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,i,o,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*i,r.originY*o,0,0,i,o,n(r.tintTopLeft,s.alpha*r._alphaTL),n(r.tintTopRight,s.alpha*r._alphaTR),n(r.tintBottomLeft,s.alpha*r._alphaBL),n(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,s,e,!1,f)}};p.exports=c},8630:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(64937),r=t(56631),s=t(97081),e=t(89980),i=t(83392),o=t(76038),n=t(76583),a=t(77974),f=new c({Extends:e,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,a],initialize:function(d,v,g,x){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=n(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var m=d.sys.game;this._device=m.device.video,this.setPosition(v,g),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),m.events.on(s.PAUSE,this.globalPause,this),m.events.on(s.RESUME,this.globalResume,this);var y=d.sys.sound;y&&y.on(o.GLOBAL_MUTE,this.globalMute,this),x&&this.load(x)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(u){var d=this.scene.sys.cache.video.get(u);return d?(this.cacheKey=u,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+u),this},changeSource:function(u,d,v,g,x){d===void 0&&(d=!0),v===void 0&&(v=!1),this.cacheKey!==u&&(this.load(u),d&&this.play(v,g,x))},getVideoKey:function(){return this.cacheKey},loadURL:function(u,d,v){d===void 0&&(d=!1);var g=this._device.getVideoURL(u);return g?(this.cacheKey="",this.loadHandler(g.url,d,v)):console.warn("No supported video format found for "+u),this},loadMediaStream:function(u,d,v){return this.loadHandler(null,d,v,u)},loadHandler:function(u,d,v,g){d||(d=!1);var x=this.video;if(x?(this.removeLoadEventHandlers(),this.stop()):(x=document.createElement("video"),x.controls=!1,x.setAttribute("playsinline","playsinline"),x.setAttribute("preload","auto"),x.setAttribute("disablePictureInPicture","true")),d?(x.muted=!0,x.defaultMuted=!0,x.setAttribute("autoplay","autoplay")):(x.muted=!1,x.defaultMuted=!1,x.removeAttribute("autoplay")),v?x.setAttribute("crossorigin",v):x.removeAttribute("crossorigin"),g)if("srcObject"in x)try{x.srcObject=g}catch(m){if(m.name!=="TypeError")throw m;x.src=URL.createObjectURL(g)}else x.src=URL.createObjectURL(g);else x.src=u;return this.addLoadEventHandlers(),this.retry=0,this.video=x,this._playCalled=!1,x.load(),this},requestVideoFrame:function(u,d){var v=this.video;if(v){var g=d.width,x=d.height,m=this.videoTexture,y=this.videoTextureSource,T=!m||y.source!==v;T?(this._codePaused=v.paused,this._codeMuted=v.muted,m?(y.source=v,y.width=g,y.height=x,m.get().setSize(g,x)):(m=this.scene.sys.textures.create(this._key,v,g,x),m.add("__BASE",0,0,0,g,x),this.setTexture(m),this.videoTexture=m,this.videoTextureSource=m.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,m)),this.setSizeToFrame(),this.updateDisplayOrigin()):y.update(),this.isStalled=!1,this.metadata=d;var R=d.mediaTime;T&&(this._lastUpdate=R,this.emit(r.VIDEO_CREATED,this,g,x),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=R,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(u,d,v){d===void 0&&(d=-1),v===void 0&&(v=i.MAX_SAFE_INTEGER);var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(u===void 0&&(u=g.loop),g.loop=u,this._markerIn=d,this._markerOut=v,this._playingMarker=d>-1&&v>d&&v<i.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var u=this.video;u&&(u.addEventListener("error",this._loadCallbackHandler),u.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var u=this.video;u&&(u.removeEventListener("error",this._loadCallbackHandler),u.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var v in d)u.addEventListener(v,d[v])}},removeEventHandlers:function(){var u=this.video;if(u){var d=this._callbacks;for(var v in d)u.removeEventListener(v,d[v])}},createPlayPromise:function(u){u===void 0&&(u=!0);var d=this.video,v=d.play();if(v!==void 0){var g=this.playSuccess.bind(this),x=this.playError.bind(this);if(!u){var m=this;x=function(){m.failedPlayAttempts++}}v.then(g).catch(x)}else d.addEventListener("playing",this._callbacks.legacy),u||this.failedPlayAttempts++},addMarker:function(u,d,v){return!isNaN(d)&&d>=0&&!isNaN(v)&&v>d&&(this.markers[u]=[d,v]),this},playMarker:function(u,d){var v=this.markers[u];return v&&this.play(d,v[0],v[1]),this},removeMarker:function(u){return delete this.markers[u],this},snapshot:function(u,d){return u===void 0&&(u=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,u,d)},snapshotArea:function(u,d,v,g,x,m){u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=this.width),g===void 0&&(g=this.height),x===void 0&&(x=v),m===void 0&&(m=g);var y=this.video,T=this.snapshotTexture;return T?(T.setSize(x,m),y&&T.context.drawImage(y,u,d,v,g,0,0,x,m)):(T=this.scene.sys.textures.createCanvas(n(),x,m),this.snapshotTexture=T,y&&T.context.drawImage(y,u,d,v,g,0,0,x,m)),T.update()},saveSnapshotTexture:function(u){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,u):this.snapshotTexture=this.scene.sys.textures.createCanvas(u,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var u=this.scene.sys.sound;u&&u.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(u){var d=u.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,u)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,u))},legacyPlayHandler:function(){var u=this.video;u&&(this.playSuccess(),u.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(u){this.stop(!1),this.emit(r.VIDEO_ERROR,this,u)},stalledHandler:function(u){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,u)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(u,d){var v=this.video;!v||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(u){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v)){var g=v*u;this.setCurrentTime(g)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(u){var d=this.video;if(d){if(typeof u=="string"){var v=u[0],g=parseFloat(u.substr(1));v==="+"?u=d.currentTime+g:v==="-"&&(u=d.currentTime-g)}d.currentTime=u}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var u=this.video;if(u){var d=u.duration;if(d!==1/0&&!isNaN(d))return u.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(u){u===void 0&&(u=!0),this._codeMuted=u;var d=this.video;return d&&(d.muted=this._systemMuted?!0:u),this},isMuted:function(){return this._codeMuted},globalMute:function(u,d){this._systemMuted=d;var v=this.video;v&&(v.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(u){u===void 0&&(u=!0);var d=this.video;return this._codePaused=u,d&&!d.ended&&(u?d.paused||(this.removeEventHandlers(),d.pause()):u||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(u){return u===void 0&&(u=1),this.video&&(this.video.volume=h(u,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(u){return this.video&&(this.video.playbackRate=u),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(u){return u===void 0&&(u=!0),this.video&&(this.video.loop=u),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(u,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,u),this.videoTextureSource.setFlipY(d)),this._key=u,this.flipY=d,!!this.videoTexture},stop:function(u){u===void 0&&(u=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,u&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var u=this.video;if(u){for(u.parentNode&&u.parentNode.removeChild(u);u.hasChildNodes();)u.removeChild(u.firstChild);u.removeAttribute("autoplay"),u.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var u=this.scene.sys.game.events;u.off(s.PAUSE,this.globalPause,this),u.off(s.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(o.GLOBAL_MUTE,this.globalMute,this)}});p.exports=f},56933:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){h.videoTexture&&(c.addToRenderList(h),t.batchSprite(h,h.frame,c,l))};p.exports=S},65601:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),c=t(99325),l=t(20494),r=t(8630);c.register("video",function(s,e){s===void 0&&(s={});var i=l(s,"key",null),o=new r(this.scene,0,0,i);return e!==void 0&&(s.add=e),h(this.scene,o,s),o})},215:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8630),c=t(61286);c.register("video",function(l,r,s){return this.displayList.add(new h(this.scene,l,r,s))})},77974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(83572),l=t(56933),p.exports={renderWebGL:c,renderCanvas:l}},83572:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){h.videoTexture&&(c.addToRenderList(h),h.pipeline.batchSprite(h,c,l))};p.exports=S},71030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),c=t(26673),l=t(65650),r=t(56694),s=t(64937),e=t(89980),i=t(74118),o=t(94287),n=new r({Extends:e,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(f,u,d,v,g){v===void 0&&(v=1),g===void 0&&(g=v),e.call(this,f,"Zone"),this.setPosition(u,d),this.width=v,this.height=g,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,f,u){u===void 0&&(u=!0),this.width=a,this.height=f,this.updateDisplayOrigin();var d=this.input;return u&&d&&!d.customHitArea&&(d.hitArea.width=a,d.hitArea.height=f),this},setDisplaySize:function(a,f){return this.displayWidth=a,this.displayHeight=f,this},setCircleDropZone:function(a){return this.setDropZone(new c(0,0,a),l)},setRectangleDropZone:function(a,f){return this.setDropZone(new i(0,0,a,f),o)},setDropZone:function(a,f){return this.input||this.setInteractive(a,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(a,f,u){u.addToRenderList(f)},renderWebGL:function(a,f,u){u.addToRenderList(f)}});p.exports=n},24067:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99325),c=t(20494),l=t(71030);h.register("zone",function(r){var s=c(r,"x",0),e=c(r,"y",0),i=c(r,"width",1),o=c(r,"height",i);return new l(this.scene,s,e,i,o)})},34546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71030),c=t(61286);c.register("zone",function(l,r,s,e){return this.displayList.add(new h(this.scene,l,r,s,e))})},95847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};p.exports=S},26673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(65650),l=t(94026),r=t(62941),s=t(52394),e=t(30977),i=new h({initialize:function(n,a,f){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),this.type=s.CIRCLE,this.x=n,this.y=a,this._radius=f,this._diameter=f*2},contains:function(o,n){return c(this,o,n)},getPoint:function(o,n){return l(this,o,n)},getPoints:function(o,n,a){return r(this,o,n,a)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,n,a){return this.x=o,this.y=n,this._radius=a,this._diameter=a*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(o,n){return n===void 0&&(n=o),this.x=o,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(o){this._radius=o,this._diameter=o*2}},diameter:{get:function(){return this._diameter},set:function(o){this._diameter=o,this._radius=o*.5}},left:{get:function(){return this.x-this._radius},set:function(o){this.x=o+this._radius}},right:{get:function(){return this.x+this._radius},set:function(o){this.x=o-this._radius}},top:{get:function(){return this.y-this._radius},set:function(o){this.y=o+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(o){this.y=o-this._radius}}});p.exports=i},37964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};p.exports=S},72233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r,s){return s===void 0&&(s=new h),s.x=l.x+l.radius*Math.cos(r),s.y=l.y+l.radius*Math.sin(r),s};p.exports=c},61761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673),c=function(l){return new h(l.x,l.y,l.radius)};p.exports=c},65650:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(t.radius>0&&h>=t.left&&h<=t.right&&c>=t.top&&c<=t.bottom){var l=(t.x-h)*(t.x-h),r=(t.y-c)*(t.y-c);return l+r<=t.radius*t.radius}else return!1};p.exports=S},39187:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65650),c=function(l,r){return h(l,r.x,r.y)};p.exports=c},58672:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65650),c=function(l,r){return h(l,r.x,r.y)&&h(l,r.right,r.y)&&h(l,r.x,r.bottom)&&h(l,r.right,r.bottom)};p.exports=c},42997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.radius)};p.exports=S},94894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};p.exports=S},48027:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=function(l,r){return r===void 0&&(r=new h),r.x=l.left,r.y=l.top,r.width=l.diameter,r.height=l.diameter,r};p.exports=c},94026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72233),c=t(91806),l=t(83392),r=t(79967),s=function(e,i,o){o===void 0&&(o=new r);var n=c(i,0,l.PI2);return h(e,n,o)};p.exports=s},62941:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37964),c=t(72233),l=t(91806),r=t(83392),s=function(e,i,o,n){n===void 0&&(n=[]),!i&&o>0&&(i=h(e)/o);for(var a=0;a<i;a++){var f=l(a/i,0,r.PI2);n.push(c(e,f))}return n};p.exports=s},34585:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t.x+=h,t.y+=c,t};p.exports=S},88665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};p.exports=S},30977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){r===void 0&&(r=new h);var s=2*Math.PI*Math.random(),e=Math.random()+Math.random(),i=e>1?2-e:e,o=i*Math.cos(s),n=i*Math.sin(s);return r.x=l.x+o*l.radius,r.y=l.y+n*l.radius,r};p.exports=c},6112:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673);h.Area=t(95847),h.Circumference=t(37964),h.CircumferencePoint=t(72233),h.Clone=t(61761),h.Contains=t(65650),h.ContainsPoint=t(39187),h.ContainsRect=t(58672),h.CopyFrom=t(42997),h.Equals=t(94894),h.GetBounds=t(48027),h.GetPoint=t(94026),h.GetPoints=t(62941),h.Offset=t(34585),h.OffsetPoint=t(88665),h.Random=t(30977),p.exports=h},52394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=S},58605:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};p.exports=S},39507:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.width/2,c=t.height/2,l=Math.pow(h-c,2)/Math.pow(h+c,2);return Math.PI*(h+c)*(1+3*l/(10+Math.sqrt(4-3*l)))};p.exports=S},86998:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r,s){s===void 0&&(s=new h);var e=l.width/2,i=l.height/2;return s.x=l.x+e*Math.cos(r),s.y=l.y+i*Math.sin(r),s};p.exports=c},81773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95669),c=function(l){return new h(l.x,l.y,l.width,l.height)};p.exports=c},72313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(t.width<=0||t.height<=0)return!1;var l=(h-t.x)/t.width,r=(c-t.y)/t.height;return l*=l,r*=r,l+r<.25};p.exports=S},34368:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72313),c=function(l,r){return h(l,r.x,r.y)};p.exports=c},71431:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72313),c=function(l,r){return h(l,r.x,r.y)&&h(l,r.right,r.y)&&h(l,r.x,r.bottom)&&h(l,r.right,r.bottom)};p.exports=c},75459:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};p.exports=S},95669:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72313),l=t(95340),r=t(54978),s=t(52394),e=t(72006),i=new h({initialize:function(n,a,f,u){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=s.ELLIPSE,this.x=n,this.y=a,this.width=f,this.height=u},contains:function(o,n){return c(this,o,n)},getPoint:function(o,n){return l(this,o,n)},getPoints:function(o,n,a){return r(this,o,n,a)},getRandomPoint:function(o){return e(this,o)},setTo:function(o,n,a,f){return this.x=o,this.y=n,this.width=a,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(o,n){return n===void 0&&(n=o),this.x=o,this.y=n,this},setSize:function(o,n){return n===void 0&&(n=o),this.width=o,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(o){this.x=o+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(o){this.y=o+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});p.exports=i},98068:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};p.exports=S},72897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=function(l,r){return r===void 0&&(r=new h),r.x=l.left,r.y=l.top,r.width=l.width,r.height=l.height,r};p.exports=c},95340:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86998),c=t(91806),l=t(83392),r=t(79967),s=function(e,i,o){o===void 0&&(o=new r);var n=c(i,0,l.PI2);return h(e,n,o)};p.exports=s},54978:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39507),c=t(86998),l=t(91806),r=t(83392),s=function(e,i,o,n){n===void 0&&(n=[]),!i&&o>0&&(i=h(e)/o);for(var a=0;a<i;a++){var f=l(a/i,0,r.PI2);n.push(c(e,f))}return n};p.exports=s},77951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t.x+=h,t.y+=c,t};p.exports=S},36233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};p.exports=S},72006:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){r===void 0&&(r=new h);var s=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=l.x+e*Math.cos(s)*l.width/2,r.y=l.y+e*Math.sin(s)*l.height/2,r};p.exports=c},40652:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95669);h.Area=t(58605),h.Circumference=t(39507),h.CircumferencePoint=t(86998),h.Clone=t(81773),h.Contains=t(72313),h.ContainsPoint=t(34368),h.ContainsRect=t(71431),h.CopyFrom=t(75459),h.Equals=t(98068),h.GetBounds=t(72897),h.GetPoint=t(95340),h.GetPoints=t(54978),h.Offset=t(77951),h.OffsetPoint=t(36233),h.Random=t(72006),p.exports=h},84068:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52394),c=t(98611),l={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};l=c(!1,l,h),p.exports=l},22184:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53996),c=function(l,r){return h(l.x,l.y,r.x,r.y)<=l.radius+r.radius};p.exports=c},26535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=h.width/2,l=h.height/2,r=Math.abs(t.x-h.x-c),s=Math.abs(t.y-h.y-l),e=c+t.radius,i=l+t.radius;if(r>e||s>i)return!1;if(r<=c||s<=l)return!0;var o=r-c,n=s-l,a=o*o,f=n*n,u=t.radius*t.radius;return a+f<=u};p.exports=S},71145:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=t(22184),l=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=r.x,o=r.y,n=r.radius,a=s.x,f=s.y,u=s.radius,d,v,g,x,m;if(o===f)m=(u*u-n*n-a*a+i*i)/(2*(i-a)),d=1,v=-2*f,g=a*a+m*m-2*a*m+f*f-u*u,x=v*v-4*d*g,x===0?e.push(new h(m,-v/(2*d))):x>0&&(e.push(new h(m,(-v+Math.sqrt(x))/(2*d))),e.push(new h(m,(-v-Math.sqrt(x))/(2*d))));else{var y=(i-a)/(o-f),T=(u*u-n*n-a*a+i*i-f*f+o*o)/(2*(o-f));d=y*y+1,v=2*o*y-2*T*y-2*i,g=i*i+o*o+T*T-n*n-2*o*T,x=v*v-4*d*g,x===0?(m=-v/(2*d),e.push(new h(m,T-m*y))):x>0&&(m=(-v+Math.sqrt(x))/(2*d),e.push(new h(m,T-m*y)),m=(-v-Math.sqrt(x))/(2*d),e.push(new h(m,T-m*y)))}}return e};p.exports=l},62508:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26111),c=t(26535),l=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=s.getLineA(),o=s.getLineB(),n=s.getLineC(),a=s.getLineD();h(i,r,e),h(o,r,e),h(n,r,e),h(a,r,e)}return e};p.exports=l},26111:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=t(61472),l=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=r.x1,o=r.y1,n=r.x2,a=r.y2,f=s.x,u=s.y,d=s.radius,v=n-i,g=a-o,x=i-f,m=o-u,y=v*v+g*g,T=2*(v*x+g*m),R=x*x+m*m-d*d,P=T*T-4*y*R,D,O;if(P===0){var B=-T/(2*y);D=i+B*v,O=o+B*g,B>=0&&B<=1&&e.push(new h(D,O))}else if(P>0){var G=(-T-Math.sqrt(P))/(2*y);D=i+G*v,O=o+G*g,G>=0&&G<=1&&e.push(new h(D,O));var b=(-T+Math.sqrt(P))/(2*y);D=i+b*v,O=o+b*g,b>=0&&b<=1&&e.push(new h(D,O))}}return e};p.exports=l},96537:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70015),c=function(l,r,s,e){s===void 0&&(s=!1);var i=l.x1,o=l.y1,n=l.x2,a=l.y2,f=r.x1,u=r.y1,d=r.x2,v=r.y2,g=n-i,x=a-o,m=d-f,y=v-u,T=g*y-x*m;if(T===0)return null;var R,P,D;if(s){if(R=(g*(u-o)+x*(i-f))/(m*x-y*g),P=(f+m*R-i)/g,P<0||R<0||R>1)return null;D=P}else{if(R=((f-i)*y-(u-o)*m)/T,P=((o-u)*g-(i-f)*x)/T,R<0||R>1||P<0||P>1)return null;D=R}return e===void 0&&(e=new h),e.set(i+g*D,o+x*D,D)};p.exports=c},17647:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96537),c=t(88829),l=t(70015),r=new c,s=new l,e=function(i,o,n,a){n===void 0&&(n=!1),a===void 0&&(a=new l);var f=!1;a.set(),s.set();for(var u=o[0],d=1;d<o.length;d++){var v=o[d];r.setTo(u.x,u.y,v.x,v.y),u=v,h(i,r,n,s)&&(!f||s.z<a.z)&&(a.copy(s),f=!0)}return f?a:null};p.exports=e},68439:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70015),c=t(51729),l=t(17647),r=new h,s=function(e,i,o,n){n===void 0&&(n=new c),Array.isArray(i)||(i=[i]);var a=!1;n.set(),r.set();for(var f=0;f<i.length;f++)l(e,i[f].points,o,r)&&(!a||r.z<n.z)&&(n.set(r.x,r.y,r.z,f),a=!0);return a?n:null};p.exports=s},9569:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=t(25227),l=t(47910),r=function(s,e,i){if(i===void 0&&(i=[]),l(s,e))for(var o=e.getLineA(),n=e.getLineB(),a=e.getLineC(),f=e.getLineD(),u=[new h,new h,new h,new h],d=[c(o,s,u[0]),c(n,s,u[1]),c(a,s,u[2]),c(f,s,u[3])],v=0;v<4;v++)d[v]&&i.push(u[v]);return i};p.exports=r},7449:(p,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51729),c=t(68439),l=t(88829),r=new l;function s(o,n,a,f,u){var d=Math.cos(o),v=Math.sin(o);r.setTo(n,a,n+d,a+v);var g=c(r,f,!0);g&&u.push(new h(g.x,g.y,o,g.w))}function e(o,n){return o.z-n.z}var i=function(o,n,a){Array.isArray(a)||(a=[a]);for(var f=[],u=[],d=0;d<a.length;d++)for(var v=a[d].points,g=0;g<v.length;g++){var x=Math.atan2(v[g].y-n,v[g].x-o);u.indexOf(x)===-1&&(s(x,o,n,a,f),s(x-1e-5,o,n,a,f),s(x+1e-5,o,n,a,f),u.push(x))}return f.sort(e)};p.exports=i},82931:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=t(90205),l=function(r,s,e){return e===void 0&&(e=new h),c(r,s)&&(e.x=Math.max(r.x,s.x),e.y=Math.max(r.y,s.y),e.width=Math.min(r.right,s.right)-e.x,e.height=Math.min(r.bottom,s.bottom)-e.y),e};p.exports=l},1946:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9569),c=t(90205),l=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=r.getLineA(),o=r.getLineB(),n=r.getLineC(),a=r.getLineD();h(i,s,e),h(o,s,e),h(n,s,e),h(a,s,e)}return e};p.exports=l},34211:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20370),c=t(9569),l=function(r,s,e){if(e===void 0&&(e=[]),h(r,s)){var i=s.getLineA(),o=s.getLineB(),n=s.getLineC();c(i,r,e),c(o,r,e),c(n,r,e)}return e};p.exports=l},80511:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26111),c=t(48411),l=function(r,s,e){if(e===void 0&&(e=[]),c(r,s)){var i=r.getLineA(),o=r.getLineB(),n=r.getLineC();h(i,s,e),h(o,s,e),h(n,s,e)}return e};p.exports=l},31343:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=t(86117),l=t(25227),r=function(s,e,i){if(i===void 0&&(i=[]),c(s,e))for(var o=s.getLineA(),n=s.getLineB(),a=s.getLineC(),f=[new h,new h,new h],u=[l(o,e,f[0]),l(n,e,f[1]),l(a,e,f[2])],d=0;d<3;d++)u[d]&&i.push(f[d]);return i};p.exports=r},70534:(p,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23589),c=t(31343),l=function(r,s,e){if(e===void 0&&(e=[]),h(r,s)){var i=s.getLineA(),o=s.getLineB(),n=s.getLineC();c(r,i,e),c(r,o,e),c(r,n,e)}return e};p.exports=l},61472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65650),c=t(79967),l=new c,r=function(s,e,i){if(i===void 0&&(i=l),h(e,s.x1,s.y1))return i.x=s.x1,i.y=s.y1,!0;if(h(e,s.x2,s.y2))return i.x=s.x2,i.y=s.y2,!0;var o=s.x2-s.x1,n=s.y2-s.y1,a=e.x-s.x1,f=e.y-s.y1,u=o*o+n*n,d=o,v=n;if(u>0){var g=(a*o+f*n)/u;d*=g,v*=g}i.x=s.x1+d,i.y=s.y1+v;var x=d*d+v*v;return x<=u&&d*o+v*n>=0&&h(e,i.x,i.y)};p.exports=r},25227:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=t.x1,r=t.y1,s=t.x2,e=t.y2,i=h.x1,o=h.y1,n=h.x2,a=h.y2;if(l===s&&r===e||i===n&&o===a)return!1;var f=(a-o)*(s-l)-(n-i)*(e-r);if(f===0)return!1;var u=((n-i)*(r-o)-(a-o)*(l-i))/f,d=((s-l)*(r-o)-(e-r)*(l-i))/f;return u<0||u>1||d<0||d>1?!1:(c&&(c.x=l+u*(s-l),c.y=r+u*(e-r)),!0)};p.exports=S},47910:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.x1,l=t.y1,r=t.x2,s=t.y2,e=h.x,i=h.y,o=h.right,n=h.bottom,a=0;if(c>=e&&c<=o&&l>=i&&l<=n||r>=e&&r<=o&&s>=i&&s<=n)return!0;if(c<e&&r>=e){if(a=l+(s-l)*(e-c)/(r-c),a>i&&a<=n)return!0}else if(c>o&&r<=o&&(a=l+(s-l)*(o-c)/(r-c),a>=i&&a<=n))return!0;if(l<i&&s>=i){if(a=c+(r-c)*(i-l)/(s-l),a>=e&&a<=o)return!0}else if(l>n&&s<=n&&(a=c+(r-c)*(n-l)/(s-l),a>=e&&a<=o))return!0;return!1};p.exports=S},34426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){c===void 0&&(c=1);var l=h.x1,r=h.y1,s=h.x2,e=h.y2,i=t.x,o=t.y,n=(s-l)*(s-l)+(e-r)*(e-r);if(n===0)return!1;var a=((i-l)*(s-l)+(o-r)*(e-r))/n;if(a<0)return Math.sqrt((l-i)*(l-i)+(r-o)*(r-o))<=c;if(a>=0&&a<=1){var f=((r-o)*(s-l)-(l-i)*(e-r))/n;return Math.abs(f)*Math.sqrt(n)<=c}else return Math.sqrt((s-i)*(s-i)+(e-o)*(e-o))<=c};p.exports=S},81414:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(34426),c=function(l,r){if(!h(l,r))return!1;var s=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),i=Math.min(r.y1,r.y2),o=Math.max(r.y1,r.y2);return l.x>=s&&l.x<=e&&l.y>=i&&l.y<=o};p.exports=c},90205:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};p.exports=S},20370:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25227),c=t(94287),l=t(86875),r=t(87279),s=function(e,i){if(i.left>e.right||i.right<e.left||i.top>e.bottom||i.bottom<e.top)return!1;var o=i.getLineA(),n=i.getLineB(),a=i.getLineC();if(c(e,o.x1,o.y1)||c(e,o.x2,o.y2)||c(e,n.x1,n.y1)||c(e,n.x2,n.y2)||c(e,a.x1,a.y1)||c(e,a.x2,a.y2))return!0;var f=e.getLineA(),u=e.getLineB(),d=e.getLineC(),v=e.getLineD();if(h(o,f)||h(o,u)||h(o,d)||h(o,v)||h(n,f)||h(n,u)||h(n,d)||h(n,v)||h(a,f)||h(a,u)||h(a,d)||h(a,v))return!0;var g=r(e),x=l(i,g,!0);return x.length>0};p.exports=s},8786:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r,s){return s===void 0&&(s=0),!(h>t.right+s||c<t.left-s||l>t.bottom+s||r<t.top-s)};p.exports=S},48411:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61472),c=t(60689),l=function(r,s){return r.left>s.right||r.right<s.left||r.top>s.bottom||r.bottom<s.top?!1:!!(c(r,s.x,s.y)||h(r.getLineA(),s)||h(r.getLineB(),s)||h(r.getLineC(),s))};p.exports=l},86117:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25227),c=function(l,r){return!!(l.contains(r.x1,r.y1)||l.contains(r.x2,r.y2)||h(l.getLineA(),r)||h(l.getLineB(),r)||h(l.getLineC(),r))};p.exports=c},23589:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86875),c=t(18680),l=t(25227),r=function(s,e){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var i=s.getLineA(),o=s.getLineB(),n=s.getLineC(),a=e.getLineA(),f=e.getLineB(),u=e.getLineC();if(l(i,a)||l(i,f)||l(i,u)||l(o,a)||l(o,f)||l(o,u)||l(n,a)||l(n,f)||l(n,u))return!0;var d=c(s),v=h(e,d,!0);return v.length>0||(d=c(e),v=h(s,d,!0),v.length>0)};p.exports=r},7563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};p.exports=S},58813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){h===void 0&&(h=1),c===void 0&&(c=[]);var l=Math.round(t.x1),r=Math.round(t.y1),s=Math.round(t.x2),e=Math.round(t.y2),i=Math.abs(s-l),o=Math.abs(e-r),n=l<s?1:-1,a=r<e?1:-1,f=i-o;c.push({x:l,y:r});for(var u=1;!(l===s&&r===e);){var d=f<<1;d>-o&&(f-=o,l+=n),d<i&&(f+=i,r+=a),u%h===0&&c.push({x:l,y:r}),u++}return c};p.exports=S},88513:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=h-(t.x1+t.x2)/2,r=c-(t.y1+t.y2)/2;return t.x1+=l,t.y1+=r,t.x2+=l,t.y2+=r,t};p.exports=S},26718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88829),c=function(l){return new h(l.x1,l.y1,l.x2,l.y2)};p.exports=c},88930:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};p.exports=S},90656:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};p.exports=S},30897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),c=function(l,r,s){s===void 0&&(s=r);var e=h(l),i=l.x2-l.x1,o=l.y2-l.y1;return r&&(l.x1=l.x1-i/e*r,l.y1=l.y1-o/e*r),s&&(l.x2=l.x2+i/e*s,l.y2=l.y2+o/e*s),l};p.exports=c},30684:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92951),c=t(21902),l=t(79967),r=function(s,e,i,o,n){o===void 0&&(o=0),n===void 0&&(n=[]);var a=[],f=s.x1,u=s.y1,d=s.x2-f,v=s.y2-u,g=c(e,n),x,m,y=i-1;for(x=0;x<y;x++)m=g(x/y),a.push(new l(f+d*m,u+v*m));if(m=g(1),a.push(new l(f+d*m,u+v*m)),o>0){var T=a[0],R=[T];for(x=1;x<a.length-1;x++){var P=a[x];h(T,P)>=o&&(R.push(P),T=P)}var D=a[a.length-1];return h(T,D)<o&&R.pop(),R.push(D),R}else return a};p.exports=r},20487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){return r===void 0&&(r=new h),r.x=(l.x1+l.x2)/2,r.y=(l.y1+l.y2)/2,r};p.exports=c},11222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r,s){s===void 0&&(s=new h);var e=l.x1,i=l.y1,o=l.x2,n=l.y2,a=(o-e)*(o-e)+(n-i)*(n-i);if(a===0)return s;var f=((r.x-e)*(o-e)+(r.y-i)*(n-i))/a;return s.x=e+f*(o-e),s.y=i+f*(n-i),s};p.exports=c},7377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=t(50599),l=t(79967),r=function(s,e){e===void 0&&(e=new l);var i=c(s)-h.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e};p.exports=r},66464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r,s){return s===void 0&&(s=new h),s.x=l.x1+(l.x2-l.x1)*r,s.y=l.y1+(l.y2-l.y1)*r,s};p.exports=c},8570:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),c=t(79967),l=function(r,s,e,i){i===void 0&&(i=[]),!s&&e>0&&(s=h(r)/e);for(var o=r.x1,n=r.y1,a=r.x2,f=r.y2,u=0;u<s;u++){var d=u/s,v=o+(a-o)*d,g=n+(f-n)*d;i.push(new c(v,g))}return i};p.exports=l},65269:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.x1,l=t.y1,r=t.x2,s=t.y2,e=(r-c)*(r-c)+(s-l)*(s-l);if(e===0)return!1;var i=((l-h.y)*(r-c)-(c-h.x)*(s-l))/e;return Math.abs(i)*Math.sqrt(e)};p.exports=S},82996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};p.exports=S},16028:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};p.exports=S},88829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(66464),l=t(8570),r=t(52394),s=t(74077),e=t(93736),i=new h({initialize:function(n,a,f,u){n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),u===void 0&&(u=0),this.type=r.LINE,this.x1=n,this.y1=a,this.x2=f,this.y2=u},getPoint:function(o,n){return c(this,o,n)},getPoints:function(o,n,a){return l(this,o,n,a)},getRandomPoint:function(o){return s(this,o)},setTo:function(o,n,a,f){return o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),this.x1=o,this.y1=n,this.x2=a,this.y2=f,this},getPointA:function(o){return o===void 0&&(o=new e),o.set(this.x1,this.y1),o},getPointB:function(o){return o===void 0&&(o=new e),o.set(this.x2,this.y2),o},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(o){this.x1<=this.x2?this.x1=o:this.x2=o}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(o){this.x1>this.x2?this.x1=o:this.x2=o}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(o){this.y1<=this.y2?this.y1=o:this.y2=o}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(o){this.y1>this.y2?this.y1=o:this.y2=o}}});p.exports=i},73273:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=t(1071),l=t(50599),r=function(s){var e=l(s)-h.TAU;return c(e,-Math.PI,Math.PI)};p.exports=r},96936:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=t(50599),l=function(r){return Math.cos(c(r)-h.TAU)};p.exports=l},43581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=t(50599),l=function(r){return Math.sin(c(r)-h.TAU)};p.exports=l},13990:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t.x1+=h,t.y1+=c,t.x2+=h,t.y2+=c,t};p.exports=S},1298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};p.exports=S},74077:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){r===void 0&&(r=new h);var s=Math.random();return r.x=l.x1+s*(l.x2-l.x1),r.y=l.y1+s*(l.y2-l.y1),r};p.exports=c},30473:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50599),c=t(73273),l=function(r,s){return 2*c(s)-Math.PI-h(r)};p.exports=l},25968:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1809),c=function(l,r){var s=(l.x1+l.x2)/2,e=(l.y1+l.y2)/2;return h(l,s,e,r)};p.exports=c},24296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1809),c=function(l,r,s){return h(l,r.x,r.y,s)};p.exports=c},1809:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=Math.cos(l),s=Math.sin(l),e=t.x1-h,i=t.y1-c;return t.x1=e*r-i*s+h,t.y1=e*s+i*r+c,e=t.x2-h,i=t.y2-c,t.x2=e*r-i*s+h,t.y2=e*s+i*r+c,t};p.exports=S},88171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r){return t.x1=h,t.y1=c,t.x2=h+Math.cos(l)*r,t.y2=c+Math.sin(l)*r,t};p.exports=S},82797:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};p.exports=S},41067:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};p.exports=S},28482:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88829);h.Angle=t(50599),h.BresenhamPoints=t(58813),h.CenterOn=t(88513),h.Clone=t(26718),h.CopyFrom=t(88930),h.Equals=t(90656),h.Extend=t(30897),h.GetEasedPoints=t(30684),h.GetMidPoint=t(20487),h.GetNearestPoint=t(11222),h.GetNormal=t(7377),h.GetPoint=t(66464),h.GetPoints=t(8570),h.GetShortestDistance=t(65269),h.Height=t(82996),h.Length=t(16028),h.NormalAngle=t(73273),h.NormalX=t(96936),h.NormalY=t(43581),h.Offset=t(13990),h.PerpSlope=t(1298),h.Random=t(74077),h.ReflectAngle=t(30473),h.Rotate=t(25968),h.RotateAroundPoint=t(24296),h.RotateAroundXY=t(1809),h.SetToAngle=t(88171),h.Slope=t(82797),h.Width=t(41067),p.exports=h},18693:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(74118),l=t(93736);function r(e,i,o,n){var a=e-o,f=i-n,u=a*a+f*f;return Math.sqrt(u)}var s=new h({initialize:function(i,o,n){this.vertex1=i,this.vertex2=o,this.vertex3=n,this.bounds=new c,this._inCenter=new l},getInCenter:function(e){e===void 0&&(e=!0);var i=this.vertex1,o=this.vertex2,n=this.vertex3,a,f,u,d,v,g;e?(a=i.x,f=i.y,u=o.x,d=o.y,v=n.x,g=n.y):(a=i.vx,f=i.vy,u=o.vx,d=o.vy,v=n.vx,g=n.vy);var x=r(v,g,u,d),m=r(a,f,v,g),y=r(u,d,a,f),T=x+m+y;return this._inCenter.set((a*x+u*m+v*y)/T,(f*x+d*m+g*y)/T)},contains:function(e,i,o){var n=this.vertex1,a=this.vertex2,f=this.vertex3,u=n.vx,d=n.vy,v=a.vx,g=a.vy,x=f.vx,m=f.vy;if(o){var y=o.a,T=o.b,R=o.c,P=o.d,D=o.e,O=o.f;u=n.vx*y+n.vy*R+D,d=n.vx*T+n.vy*P+O,v=a.vx*y+a.vy*R+D,g=a.vx*T+a.vy*P+O,x=f.vx*y+f.vy*R+D,m=f.vx*T+f.vy*P+O}var B=x-u,G=m-d,b=v-u,k=g-d,$=e-u,W=i-d,Z=B*B+G*G,z=B*b+G*k,X=B*$+G*W,w=b*b+k*k,V=b*$+k*W,Y=Z*w-z*z,j=Y===0?0:1/Y,J=(w*X-z*V)*j,_=(Z*V-z*X)*j;return J>=0&&_>=0&&J+_<1},isCounterClockwise:function(e){var i=this.vertex1,o=this.vertex2,n=this.vertex3,a=(o.vx-i.vx)*(n.vy-i.vy)-(o.vy-i.vy)*(n.vx-i.vx);return e<=0?a>=0:a<0},load:function(e,i,o,n,a){return o=this.vertex1.load(e,i,o,n,a),o=this.vertex2.load(e,i,o,n,a),o=this.vertex3.load(e,i,o,n,a),o},transformCoordinatesLocal:function(e,i,o,n){return this.vertex1.transformCoordinatesLocal(e,i,o,n),this.vertex2.transformCoordinatesLocal(e,i,o,n),this.vertex3.transformCoordinatesLocal(e,i,o,n),this},updateBounds:function(){var e=this.vertex1,i=this.vertex2,o=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,i.vx,o.vx),n.y=Math.min(e.vy,i.vy,o.vy),n.width=Math.max(e.vx,i.vx,o.vx)-n.x,n.height=Math.max(e.vy,i.vy,o.vy)-n.y,this},isInView:function(e,i,o,n,a,f,u,d,v,g,x){this.update(n,a,f,u,d,v,g,x);var m=this.vertex1,y=this.vertex2,T=this.vertex3;if(m.ta<=0&&y.ta<=0&&T.ta<=0||i&&!this.isCounterClockwise(o))return!1;var R=this.bounds;R.x=Math.min(m.tx,y.tx,T.tx),R.y=Math.min(m.ty,y.ty,T.ty),R.width=Math.max(m.tx,y.tx,T.tx)-R.x,R.height=Math.max(m.ty,y.ty,T.ty)-R.y;var P=e.x+e.width,D=e.y+e.height;return R.width<=0||R.height<=0||e.width<=0||e.height<=0?!1:!(R.right<e.x||R.bottom<e.y||R.x>P||R.y>D)},scrollUV:function(e,i){return this.vertex1.scrollUV(e,i),this.vertex2.scrollUV(e,i),this.vertex3.scrollUV(e,i),this},scaleUV:function(e,i){return this.vertex1.scaleUV(e,i),this.vertex2.scaleUV(e,i),this.vertex3.scaleUV(e,i),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,i,o,n,a,f,u,d){return this.vertex1.update(i,o,n,a,f,u,d,e),this.vertex2.update(i,o,n,a,f,u,d,e),this.vertex3.update(i,o,n,a,f,u,d,e),this},translate:function(e,i){i===void 0&&(i=0);var o=this.vertex1,n=this.vertex2,a=this.vertex3;return o.x+=e,o.y+=i,n.x+=e,n.y+=i,a.x+=e,a.y+=i,this},x:{get:function(){return this.getInCenter().x},set:function(e){var i=this.getInCenter();this.translate(e-i.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var i=this.getInCenter();this.translate(0,e-i.y)}},alpha:{get:function(){var e=this.vertex1,i=this.vertex2,o=this.vertex3;return(e.alpha+i.alpha+o.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,i=this.vertex2,o=this.vertex3;return(e.vz+i.vz+o.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=s},99425:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18693),c=t(72632),l=t(16650),r=t(70015),s=t(85769),e=new r,i=new r,o=new l,n=function(a){var f=c(a,"mesh"),u=c(a,"texture",null),d=c(a,"frame"),v=c(a,"width",1),g=c(a,"height",v),x=c(a,"widthSegments",1),m=c(a,"heightSegments",x),y=c(a,"x",0),T=c(a,"y",0),R=c(a,"z",0),P=c(a,"rotateX",0),D=c(a,"rotateY",0),O=c(a,"rotateZ",0),B=c(a,"zIsUp",!0),G=c(a,"isOrtho",f?f.dirtyCache[11]:!1),b=c(a,"colors",[16777215]),k=c(a,"alphas",[1]),$=c(a,"tile",!1),W=c(a,"flipY",!1),Z=c(a,"width",null),z={faces:[],verts:[]};e.set(y,T,R),i.set(P,D,O),o.fromRotationXYTranslation(i,e,B);var X;if(!u&&f)u=f.texture,d||(X=f.frame);else if(f&&typeof u=="string")u=f.scene.sys.textures.get(u);else if(!u)return z;X||(X=u.get(d)),!Z&&G&&u&&f&&(v=X.width/f.height,g=X.height/f.height);var w=v/2,V=g/2,Y=Math.floor(x),j=Math.floor(m),J=Y+1,_=j+1,tt=v/Y,it=g/j,st=[],ot=[],ht,ct,ft=0,Et=1,Mt=0,Dt=1;X&&(ft=X.u0,Et=X.u1,W?(Mt=X.v1,Dt=X.v0):(Mt=X.v0,Dt=X.v1));var It=Et-ft,pt=Dt-Mt;for(ct=0;ct<_;ct++){var Lt=ct*it-V;for(ht=0;ht<J;ht++){var Pt=ht*tt-w;ot.push(Pt,-Lt);var Jt=ft+It*(ht/Y),$t=Mt+pt*(ct/j);st.push(Jt,$t)}}Array.isArray(b)||(b=[b]),Array.isArray(k)||(k=[k]);var fe=0,de=0;for(ct=0;ct<j;ct++)for(ht=0;ht<Y;ht++){var re=(ht+J*ct)*2,Qt=(ht+J*(ct+1))*2,ae=(ht+1+J*(ct+1))*2,Se=(ht+1+J*ct)*2,De=b[de],we=k[fe],Qe=new s(ot[re],ot[re+1],0,st[re],st[re+1],De,we).transformMat4(o),Ni=new s(ot[Qt],ot[Qt+1],0,st[Qt],st[Qt+1],De,we).transformMat4(o),Ui=new s(ot[Se],ot[Se+1],0,st[Se],st[Se+1],De,we).transformMat4(o),Si=new s(ot[Qt],ot[Qt+1],0,st[Qt],st[Qt+1],De,we).transformMat4(o),Gi=new s(ot[ae],ot[ae+1],0,st[ae],st[ae+1],De,we).transformMat4(o),Ai=new s(ot[Se],ot[Se+1],0,st[Se],st[Se+1],De,we).transformMat4(o);$&&(Qe.setUVs(ft,Dt),Ni.setUVs(ft,Mt),Ui.setUVs(Et,Dt),Si.setUVs(ft,Mt),Gi.setUVs(Et,Mt),Ai.setUVs(Et,Dt)),de++,de===b.length&&(de=0),fe++,fe===k.length&&(fe=0),z.verts.push(Qe,Ni,Ui,Si,Gi,Ai),z.faces.push(new h(Qe,Ni,Ui),new h(Si,Gi,Ai))}return f&&(f.faces=f.faces.concat(z.faces),f.vertices=f.vertices.concat(z.verts)),z};p.exports=n},53267:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18693),c=t(16650),l=t(70015),r=t(85769),s=new l,e=new l,i=new c,o=function(n,a,f,u,d,v,g,x,m,y){f===void 0&&(f=1),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),x===void 0&&(x=0),m===void 0&&(m=0),y===void 0&&(y=!0);var T={faces:[],verts:[]},R=n.materials;s.set(u,d,v),e.set(g,x,m),i.fromRotationXYTranslation(e,s,y);for(var P=0;P<n.models.length;P++)for(var D=n.models[P],O=D.vertices,B=D.textureCoords,G=D.faces,b=0;b<G.length;b++){var k=G[b],$=k.vertices[0],W=k.vertices[1],Z=k.vertices[2],z=O[$.vertexIndex],X=O[W.vertexIndex],w=O[Z.vertexIndex],V=$.textureCoordsIndex,Y=W.textureCoordsIndex,j=Z.textureCoordsIndex,J=V===-1?{u:0,v:1}:B[V],_=Y===-1?{u:0,v:0}:B[Y],tt=j===-1?{u:1,v:1}:B[j],it=16777215;k.material!==""&&R[k.material]&&(it=R[k.material]);var st=new r(z.x*f,z.y*f,z.z*f,J.u,J.v,it).transformMat4(i),ot=new r(X.x*f,X.y*f,X.z*f,_.u,_.v,it).transformMat4(i),ht=new r(w.x*f,w.y*f,w.z*f,tt.u,tt.v,it).transformMat4(i);T.verts.push(st,ot,ht),T.faces.push(new h(st,ot,ht))}return a&&(a.faces=a.faces.concat(T.faces),a.vertices=a.vertices.concat(T.verts)),T};p.exports=o},67623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18693),c=t(85769),l=function(r,s,e,i,o,n,a,f){if(i===void 0&&(i=!1),n===void 0&&(n=16777215),a===void 0&&(a=1),f===void 0&&(f=!1),r.length!==s.length&&!i){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u={faces:[],vertices:[]},d,v,g,x,m,y,T,R,P,D,O,B=i?3:2,G=Array.isArray(n),b=Array.isArray(a);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var k=e[d],$=e[d]*2,W=e[d]*B;v=r[W],g=r[W+1],x=i?r[W+2]:0,m=s[$],y=s[$+1],f&&(y=1-y),T=G?n[k]:n,R=b?a[k]:a,P=0,D=0,O=0,o&&(P=o[W],D=o[W+1],O=i?o[W+2]:0),u.vertices.push(new c(v,g,x,m,y,T,R,P,D,O))}else{var Z=0,z=0;for(d=0;d<r.length;d+=B)v=r[d],g=r[d+1],x=i?r[d+2]:0,m=s[Z],y=s[Z+1],T=G?n[z]:n,R=b?a[z]:a,P=0,D=0,O=0,o&&(P=o[d],D=o[d+1],O=i?o[d+2]:0),u.vertices.push(new c(v,g,x,m,y,T,R,P,D,O)),Z+=2,z++}for(d=0;d<u.vertices.length;d+=3){var X=u.vertices[d],w=u.vertices[d+1],V=u.vertices[d+2];u.faces.push(new h(X,w,V))}return u};p.exports=l},27291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",h="",c="";function l(v){var g=v.indexOf("#");return g>-1?v.substring(0,g):v}function r(v){return v.models.length===0&&v.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",v.models[v.models.length-1]}function s(v,g){var x=v.length>=2?v[1]:t;g.models.push({faces:[],name:x,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function e(v){v.length===2&&(h=v[1])}function i(v,g){var x=v.length,m=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;r(g).vertices.push({x:m,y,z:T})}function o(v,g){var x=v.length,m=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;isNaN(m)&&(m=0),isNaN(y)&&(y=0),isNaN(T)&&(T=0),S&&(y=1-y),r(g).textureCoords.push({u:m,v:y,w:T})}function n(v,g){var x=v.length,m=x>=2?parseFloat(v[1]):0,y=x>=3?parseFloat(v[2]):0,T=x>=4?parseFloat(v[3]):0;r(g).vertexNormals.push({x:m,y,z:T})}function a(v,g){var x=v.length-1;if(!(x<3)){for(var m={group:h,material:c,vertices:[]},y=0;y<x;y++){var T=v[y+1],R=T.split("/"),P=R.length;if(!(P<1||P>3)){var D=0,O=0,B=0;D=parseInt(R[0],10),P>1&&R[1]!==""&&(O=parseInt(R[1],10)),P>2&&(B=parseInt(R[2],10)),D!==0&&(D<0&&(D=r(g).vertices.length+1+D),O-=1,D-=1,B-=1,m.vertices.push({textureCoordsIndex:O,vertexIndex:D,vertexNormalIndex:B}))}}r(g).faces.push(m)}}function f(v,g){v.length>=2&&g.materialLibraries.push(v[1])}function u(v){v.length>=2&&(c=v[1])}var d=function(v,g){g===void 0&&(g=!0),S=g;var x={materials:{},materialLibraries:[],models:[]};h="",c="";for(var m=v.split(`
`),y=0;y<m.length;y++){var T=l(m[y]),R=T.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":s(R,x);break;case"g":e(R);break;case"v":i(R,x);break;case"vt":o(R,x);break;case"vn":n(R,x);break;case"f":a(R,x);break;case"mtllib":f(R,x);break;case"usemtl":u(R);break}}return x};p.exports=d},76799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22946),c=function(l){for(var r={},s=l.split(`
`),e="",i=0;i<s.length;i++){var o=s[i].trim();if(!(o.indexOf("#")===0||o==="")){var n=o.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{e=n[1];break}case"kd":{var a=Math.floor(n[1]*255),f=n.length>=2?Math.floor(n[2]*255):a,u=n.length>=3?Math.floor(n[3]*255):a;r[e]=h(a,f,u);break}}}}return r};p.exports=c},15313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r,s;if(c===void 0&&l===void 0){var e=t.getInCenter();r=e.x,s=e.y}var i=Math.cos(h),o=Math.sin(h),n=t.vertex1,a=t.vertex2,f=t.vertex3,u=n.x-r,d=n.y-s;n.set(u*i-d*o+r,u*o+d*i+s),u=a.x-r,d=a.y-s,a.set(u*i-d*o+r,u*o+d*i+s),u=f.x-r,d=f.y-s,f.set(u*i-d*o+r,u*o+d*i+s)};p.exports=S},85769:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(75512),l=t(70015),r=new h({Extends:l,initialize:function(e,i,o,n,a,f,u,d,v,g){f===void 0&&(f=16777215),u===void 0&&(u=1),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),l.call(this,e,i,o),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=v,this.nz=g,this.u=n,this.v=a,this.color=f,this.alpha=u,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=a},setUVs:function(s,e){return this.u=s,this.v=e,this.tu=s,this.tv=e,this},scrollUV:function(s,e){return this.tu+=s,this.tv+=e,this},scaleUV:function(s,e){return this.tu=this.u*s,this.tv=this.v*e,this},transformCoordinatesLocal:function(s,e,i,o){var n=this.x,a=this.y,f=this.z,u=s.val,d=n*u[0]+a*u[4]+f*u[8]+u[12],v=n*u[1]+a*u[5]+f*u[9]+u[13],g=n*u[2]+a*u[6]+f*u[10]+u[14],x=n*u[3]+a*u[7]+f*u[11]+u[15];this.vx=d/x*e,this.vy=-(v/x)*i,o<=0?this.vz=g/x:this.vz=-(g/x)},resize:function(s,e,i,o,n,a){return this.x=s,this.y=e,this.vx=this.x*i,this.vy=-this.y*o,this.vz=0,n<.5?this.vx+=i*(.5-n):n>.5&&(this.vx-=i*(n-.5)),a<.5?this.vy+=o*(.5-a):a>.5&&(this.vy-=o*(a-.5)),this},update:function(s,e,i,o,n,a,f,u){var d=this.vx*s+this.vy*i+n,v=this.vx*e+this.vy*o+a;return f&&(d=Math.round(d),v=Math.round(v)),this.tx=d,this.ty=v,this.ta=this.alpha*u,this},load:function(s,e,i,o,n){return s[++i]=this.tx,s[++i]=this.ty,s[++i]=this.tu,s[++i]=this.tv,s[++i]=o,s[++i]=n,e[++i]=c.getTintAppendFloatAlpha(this.color,this.ta),i}});p.exports=r},14293:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};p.exports=h},77601:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};p.exports=S},38933:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l){return new h(l.x,l.y)};p.exports=c},47103:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y)};p.exports=S},13625:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y};p.exports=S},12536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};p.exports=S},54205:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){if(r===void 0&&(r=new h),!Array.isArray(l))throw new Error("GetCentroid points argument must be an array");var s=l.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)r.x=l[0].x,r.y=l[0].y;else{for(var e=0;e<s;e++)r.x+=l[e].x,r.y+=l[e].y;r.x/=s,r.y/=s}return r};p.exports=c},50083:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};p.exports=S},82712:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};p.exports=S},20052:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=function(l,r){r===void 0&&(r=new h);for(var s=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,n=0;n<l.length;n++){var a=l[n];a.x>s&&(s=a.x),a.x<e&&(e=a.x),a.y>i&&(i=a.y),a.y<o&&(o=a.y)}return r.x=e,r.y=o,r.width=s-e,r.height=i-o,r};p.exports=c},77154:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r,s,e){return s===void 0&&(s=0),e===void 0&&(e=new h),e.x=l.x+(r.x-l.x)*s,e.y=l.y+(r.y-l.y)*s,e};p.exports=c},42397:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};p.exports=S},59464:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){return r===void 0&&(r=new h),r.setTo(-l.x,-l.y)};p.exports=c},79967:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(52394),l=new h({initialize:function(s,e){s===void 0&&(s=0),e===void 0&&(e=s),this.type=c.POINT,this.x=s,this.y=e},setTo:function(r,s){return r===void 0&&(r=0),s===void 0&&(s=r),this.x=r,this.y=s,this}});p.exports=l},53581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=t(82712),l=function(r,s,e){e===void 0&&(e=new h);var i=r.x*s.x+r.y*s.y,o=i/c(s);return o!==0&&(e.x=o*s.x,e.y=o*s.y),e};p.exports=l},50817:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r,s){s===void 0&&(s=new h);var e=l.x*r.x+l.y*r.y;return e!==0&&(s.x=e*r.x,s.y=e*r.y),s};p.exports=c},40525:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50083),c=function(l,r){if(l.x!==0||l.y!==0){var s=h(l);l.x/=s,l.y/=s}return l.x*=r,l.y*=r,l};p.exports=c},63472:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967);h.Ceil=t(77601),h.Clone=t(38933),h.CopyFrom=t(47103),h.Equals=t(13625),h.Floor=t(12536),h.GetCentroid=t(54205),h.GetMagnitude=t(50083),h.GetMagnitudeSq=t(82712),h.GetRectangleFromPoints=t(20052),h.Interpolate=t(77154),h.Invert=t(42397),h.Negative=t(59464),h.Project=t(53581),h.ProjectUnit=t(50817),h.SetMagnitude=t(40525),p.exports=h},19631:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8580),c=function(l){return new h(l.points)};p.exports=c},45604:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){for(var l=!1,r=-1,s=t.points.length-1;++r<t.points.length;s=r){var e=t.points[r].x,i=t.points[r].y,o=t.points[s].x,n=t.points[s].y;(i<=c&&c<n||n<=c&&c<i)&&h<(o-e)*(c-i)/(n-i)+e&&(l=!l)}return l};p.exports=S},87289:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45604),c=function(l,r){return h(l,r.x,r.y)};p.exports=c},11117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(z,X,w){w=w||2;var V=X&&X.length,Y=V?X[0]*w:z.length,j=t(z,0,Y,w,!0),J=[];if(!j||j.next===j.prev)return J;var _,tt,it,st,ot,ht,ct;if(V&&(j=i(z,X,j,w)),z.length>80*w){_=it=z[0],tt=st=z[1];for(var ft=w;ft<Y;ft+=w)ot=z[ft],ht=z[ft+1],ot<_&&(_=ot),ht<tt&&(tt=ht),ot>it&&(it=ot),ht>st&&(st=ht);ct=Math.max(it-_,st-tt),ct=ct!==0?32767/ct:0}return c(j,J,w,_,tt,ct,0),J}function t(z,X,w,V,Y){var j,J;if(Y===Z(z,X,w,V)>0)for(j=X;j<w;j+=V)J=k(j,z[j],z[j+1],J);else for(j=w-V;j>=X;j-=V)J=k(j,z[j],z[j+1],J);return J&&T(J,J.next)&&($(J),J=J.next),J}function h(z,X){if(!z)return z;X||(X=z);var w=z,V;do if(V=!1,!w.steiner&&(T(w,w.next)||y(w.prev,w,w.next)===0)){if($(w),w=X=w.prev,w===w.next)break;V=!0}else w=w.next;while(V||w!==X);return X}function c(z,X,w,V,Y,j,J){if(z){!J&&j&&u(z,V,Y,j);for(var _=z,tt,it;z.prev!==z.next;){if(tt=z.prev,it=z.next,j?r(z,V,Y,j):l(z)){X.push(tt.i/w|0),X.push(z.i/w|0),X.push(it.i/w|0),$(z),z=it.next,_=it.next;continue}if(z=it,z===_){J?J===1?(z=s(h(z),X,w),c(z,X,w,V,Y,j,2)):J===2&&e(z,X,w,V,Y,j):c(h(z),X,w,V,Y,j,1);break}}}}function l(z){var X=z.prev,w=z,V=z.next;if(y(X,w,V)>=0)return!1;for(var Y=X.x,j=w.x,J=V.x,_=X.y,tt=w.y,it=V.y,st=Y<j?Y<J?Y:J:j<J?j:J,ot=_<tt?_<it?_:it:tt<it?tt:it,ht=Y>j?Y>J?Y:J:j>J?j:J,ct=_>tt?_>it?_:it:tt>it?tt:it,ft=V.next;ft!==X;){if(ft.x>=st&&ft.x<=ht&&ft.y>=ot&&ft.y<=ct&&x(Y,_,j,tt,J,it,ft.x,ft.y)&&y(ft.prev,ft,ft.next)>=0)return!1;ft=ft.next}return!0}function r(z,X,w,V){var Y=z.prev,j=z,J=z.next;if(y(Y,j,J)>=0)return!1;for(var _=Y.x,tt=j.x,it=J.x,st=Y.y,ot=j.y,ht=J.y,ct=_<tt?_<it?_:it:tt<it?tt:it,ft=st<ot?st<ht?st:ht:ot<ht?ot:ht,Et=_>tt?_>it?_:it:tt>it?tt:it,Mt=st>ot?st>ht?st:ht:ot>ht?ot:ht,Dt=v(ct,ft,X,w,V),It=v(Et,Mt,X,w,V),pt=z.prevZ,Lt=z.nextZ;pt&&pt.z>=Dt&&Lt&&Lt.z<=It;){if(pt.x>=ct&&pt.x<=Et&&pt.y>=ft&&pt.y<=Mt&&pt!==Y&&pt!==J&&x(_,st,tt,ot,it,ht,pt.x,pt.y)&&y(pt.prev,pt,pt.next)>=0||(pt=pt.prevZ,Lt.x>=ct&&Lt.x<=Et&&Lt.y>=ft&&Lt.y<=Mt&&Lt!==Y&&Lt!==J&&x(_,st,tt,ot,it,ht,Lt.x,Lt.y)&&y(Lt.prev,Lt,Lt.next)>=0))return!1;Lt=Lt.nextZ}for(;pt&&pt.z>=Dt;){if(pt.x>=ct&&pt.x<=Et&&pt.y>=ft&&pt.y<=Mt&&pt!==Y&&pt!==J&&x(_,st,tt,ot,it,ht,pt.x,pt.y)&&y(pt.prev,pt,pt.next)>=0)return!1;pt=pt.prevZ}for(;Lt&&Lt.z<=It;){if(Lt.x>=ct&&Lt.x<=Et&&Lt.y>=ft&&Lt.y<=Mt&&Lt!==Y&&Lt!==J&&x(_,st,tt,ot,it,ht,Lt.x,Lt.y)&&y(Lt.prev,Lt,Lt.next)>=0)return!1;Lt=Lt.nextZ}return!0}function s(z,X,w){var V=z;do{var Y=V.prev,j=V.next.next;!T(Y,j)&&R(Y,V,V.next,j)&&B(Y,j)&&B(j,Y)&&(X.push(Y.i/w|0),X.push(V.i/w|0),X.push(j.i/w|0),$(V),$(V.next),V=z=j),V=V.next}while(V!==z);return h(V)}function e(z,X,w,V,Y,j){var J=z;do{for(var _=J.next.next;_!==J.prev;){if(J.i!==_.i&&m(J,_)){var tt=b(J,_);J=h(J,J.next),tt=h(tt,tt.next),c(J,X,w,V,Y,j,0),c(tt,X,w,V,Y,j,0);return}_=_.next}J=J.next}while(J!==z)}function i(z,X,w,V){var Y=[],j,J,_,tt,it;for(j=0,J=X.length;j<J;j++)_=X[j]*V,tt=j<J-1?X[j+1]*V:z.length,it=t(z,_,tt,V,!1),it===it.next&&(it.steiner=!0),Y.push(g(it));for(Y.sort(o),j=0;j<Y.length;j++)w=n(Y[j],w);return w}function o(z,X){return z.x-X.x}function n(z,X){var w=a(z,X);if(!w)return X;var V=b(w,z);return h(V,V.next),h(w,w.next)}function a(z,X){var w=X,V=z.x,Y=z.y,j=-1/0,J;do{if(Y<=w.y&&Y>=w.next.y&&w.next.y!==w.y){var _=w.x+(Y-w.y)*(w.next.x-w.x)/(w.next.y-w.y);if(_<=V&&_>j&&(j=_,J=w.x<w.next.x?w:w.next,_===V))return J}w=w.next}while(w!==X);if(!J)return null;var tt=J,it=J.x,st=J.y,ot=1/0,ht;w=J;do V>=w.x&&w.x>=it&&V!==w.x&&x(Y<st?V:j,Y,it,st,Y<st?j:V,Y,w.x,w.y)&&(ht=Math.abs(Y-w.y)/(V-w.x),B(w,z)&&(ht<ot||ht===ot&&(w.x>J.x||w.x===J.x&&f(J,w)))&&(J=w,ot=ht)),w=w.next;while(w!==tt);return J}function f(z,X){return y(z.prev,z,X.prev)<0&&y(X.next,z,z.next)<0}function u(z,X,w,V){var Y=z;do Y.z===0&&(Y.z=v(Y.x,Y.y,X,w,V)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==z);Y.prevZ.nextZ=null,Y.prevZ=null,d(Y)}function d(z){var X,w,V,Y,j,J,_,tt,it=1;do{for(w=z,z=null,j=null,J=0;w;){for(J++,V=w,_=0,X=0;X<it&&(_++,V=V.nextZ,!!V);X++);for(tt=it;_>0||tt>0&&V;)_!==0&&(tt===0||!V||w.z<=V.z)?(Y=w,w=w.nextZ,_--):(Y=V,V=V.nextZ,tt--),j?j.nextZ=Y:z=Y,Y.prevZ=j,j=Y;w=V}j.nextZ=null,it*=2}while(J>1);return z}function v(z,X,w,V,Y){return z=(z-w)*Y|0,X=(X-V)*Y|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,z|X<<1}function g(z){var X=z,w=z;do(X.x<w.x||X.x===w.x&&X.y<w.y)&&(w=X),X=X.next;while(X!==z);return w}function x(z,X,w,V,Y,j,J,_){return(Y-J)*(X-_)>=(z-J)*(j-_)&&(z-J)*(V-_)>=(w-J)*(X-_)&&(w-J)*(j-_)>=(Y-J)*(V-_)}function m(z,X){return z.next.i!==X.i&&z.prev.i!==X.i&&!O(z,X)&&(B(z,X)&&B(X,z)&&G(z,X)&&(y(z.prev,z,X.prev)||y(z,X.prev,X))||T(z,X)&&y(z.prev,z,z.next)>0&&y(X.prev,X,X.next)>0)}function y(z,X,w){return(X.y-z.y)*(w.x-X.x)-(X.x-z.x)*(w.y-X.y)}function T(z,X){return z.x===X.x&&z.y===X.y}function R(z,X,w,V){var Y=D(y(z,X,w)),j=D(y(z,X,V)),J=D(y(w,V,z)),_=D(y(w,V,X));return!!(Y!==j&&J!==_||Y===0&&P(z,w,X)||j===0&&P(z,V,X)||J===0&&P(w,z,V)||_===0&&P(w,X,V))}function P(z,X,w){return X.x<=Math.max(z.x,w.x)&&X.x>=Math.min(z.x,w.x)&&X.y<=Math.max(z.y,w.y)&&X.y>=Math.min(z.y,w.y)}function D(z){return z>0?1:z<0?-1:0}function O(z,X){var w=z;do{if(w.i!==z.i&&w.next.i!==z.i&&w.i!==X.i&&w.next.i!==X.i&&R(w,w.next,z,X))return!0;w=w.next}while(w!==z);return!1}function B(z,X){return y(z.prev,z,z.next)<0?y(z,X,z.next)>=0&&y(z,z.prev,X)>=0:y(z,X,z.prev)<0||y(z,z.next,X)<0}function G(z,X){var w=z,V=!1,Y=(z.x+X.x)/2,j=(z.y+X.y)/2;do w.y>j!=w.next.y>j&&w.next.y!==w.y&&Y<(w.next.x-w.x)*(j-w.y)/(w.next.y-w.y)+w.x&&(V=!V),w=w.next;while(w!==z);return V}function b(z,X){var w=new W(z.i,z.x,z.y),V=new W(X.i,X.x,X.y),Y=z.next,j=X.prev;return z.next=X,X.prev=z,w.next=Y,Y.prev=w,V.next=w,w.prev=V,j.next=V,V.prev=j,V}function k(z,X,w,V){var Y=new W(z,X,w);return V?(Y.next=V.next,Y.prev=V,V.next.prev=Y,V.next=Y):(Y.prev=Y,Y.next=Y),Y}function $(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function W(z,X,w){this.i=z,this.x=X,this.y=w,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(z,X,w,V){var Y=X&&X.length,j=Y?X[0]*w:z.length,J=Math.abs(Z(z,0,j,w));if(Y)for(var _=0,tt=X.length;_<tt;_++){var it=X[_]*w,st=_<tt-1?X[_+1]*w:z.length;J-=Math.abs(Z(z,it,st,w))}var ot=0;for(_=0;_<V.length;_+=3){var ht=V[_]*w,ct=V[_+1]*w,ft=V[_+2]*w;ot+=Math.abs((z[ht]-z[ft])*(z[ct+1]-z[ht+1])-(z[ht]-z[ct])*(z[ft+1]-z[ht+1]))}return J===0&&ot===0?0:Math.abs((ot-J)/J)};function Z(z,X,w,V){for(var Y=0,j=X,J=w-V;j<w;j+=V)Y+=(z[J]-z[j])*(z[j+1]+z[J+1]),J=j;return Y}S.flatten=function(z){for(var X=z[0][0].length,w={vertices:[],holes:[],dimensions:X},V=0,Y=0;Y<z.length;Y++){for(var j=0;j<z[Y].length;j++)for(var J=0;J<X;J++)w.vertices.push(z[Y][j][J]);Y>0&&(V+=z[Y-1].length,w.holes.push(V))}return w},p.exports=S},14045:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=function(l,r){r===void 0&&(r=new h);for(var s=1/0,e=1/0,i=-s,o=-e,n,a=0;a<l.points.length;a++)n=l.points[a],s=Math.min(s,n.x),e=Math.min(e,n.y),i=Math.max(i,n.x),o=Math.max(o,n.y);return r.x=s,r.y=e,r.width=i-s,r.height=o-e,r};p.exports=c},98286:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var c=0;c<t.points.length;c++)h.push(t.points[c].x),h.push(t.points[c].y);return h};p.exports=S},89294:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),c=t(88829),l=t(5159),r=function(s,e,i,o){o===void 0&&(o=[]);var n=s.points,a=l(s);!e&&i>0&&(e=a/i);for(var f=0;f<e;f++)for(var u=a*(f/e),d=0,v=0;v<n.length;v++){var g=n[v],x=n[(v+1)%n.length],m=new c(g.x,g.y,x.x,x.y),y=h(m);if(u<d||u>d+y){d+=y;continue}var T=m.getPoint((u-d)/y);o.push(T);break}return o};p.exports=r},5159:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),c=t(88829),l=function(r){for(var s=r.points,e=0,i=0;i<s.length;i++){var o=s[i],n=s[(i+1)%s.length],a=new c(o.x,o.y,n.x,n.y);e+=h(a)}return e};p.exports=l},8580:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(45604),l=t(89294),r=t(52394),s=new h({initialize:function(i){this.type=r.POLYGON,this.area=0,this.points=[],i&&this.setTo(i)},contains:function(e,i){return c(this,e,i)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var i,o=Number.MAX_VALUE,n=0;n<e.length;n++)i={x:0,y:0},typeof e[n]=="number"||typeof e[n]=="string"?(i.x=parseFloat(e[n]),i.y=parseFloat(e[n+1]),n++):Array.isArray(e[n])?(i.x=e[n][0],i.y=e[n][1]):(i.x=e[n].x,i.y=e[n].y),this.points.push(i),i.y<o&&(o=i.y);return this.calculateArea(o),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,i,o,n=0;n<this.points.length-1;n++)i=this.points[n],o=this.points[n+1],e+=(o.x-i.x)*(i.y+o.y);return i=this.points[0],o=this.points[this.points.length-1],e+=(i.x-o.x)*(o.y+i.y),this.area=-e*.5,this.area},getPoints:function(e,i,o){return l(this,e,i,o)}});p.exports=s},32244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};p.exports=S},95874:p=>{function S(s,e){var i=s.x-e.x,o=s.y-e.y;return i*i+o*o}function t(s,e,i){var o=e.x,n=e.y,a=i.x-o,f=i.y-n;if(a!==0||f!==0){var u=((s.x-o)*a+(s.y-n)*f)/(a*a+f*f);u>1?(o=i.x,n=i.y):u>0&&(o+=a*u,n+=f*u)}return a=s.x-o,f=s.y-n,a*a+f*f}function h(s,e){for(var i=s[0],o=[i],n,a=1,f=s.length;a<f;a++)n=s[a],S(n,i)>e&&(o.push(n),i=n);return i!==n&&o.push(n),o}function c(s,e,i,o,n){for(var a=o,f,u=e+1;u<i;u++){var d=t(s[u],s[e],s[i]);d>a&&(f=u,a=d)}a>o&&(f-e>1&&c(s,e,f,o,n),n.push(s[f]),i-f>1&&c(s,f,i,o,n))}function l(s,e){var i=s.length-1,o=[s[0]];return c(s,0,i,e,o),o.push(s[i]),o}var r=function(s,e,i){e===void 0&&(e=1),i===void 0&&(i=!1);var o=s.points;if(o.length>2){var n=e*e;i||(o=h(o,n)),s.setTo(l(o,n))}return s};p.exports=r},18974:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(h,c){return h[0]=c[0],h[1]=c[1],h},t=function(h){var c,l=[],r=h.points;for(c=0;c<r.length;c++)l.push([r[c].x,r[c].y]);var s=[];for(l.length>0&&s.push(S([0,0],l[0])),c=0;c<l.length-1;c++){var e=l[c],i=l[c+1],o=e[0],n=e[1],a=i[0],f=i[1];s.push([.85*o+.15*a,.85*n+.15*f]),s.push([.15*o+.85*a,.15*n+.85*f])}return l.length>1&&s.push(S([0,0],l[l.length-1])),h.setTo(s)};p.exports=t},23490:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){for(var l=t.points,r=0;r<l.length;r++)l[r].x+=h,l[r].y+=c;return t};p.exports=S},44359:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8580);h.Clone=t(19631),h.Contains=t(45604),h.ContainsPoint=t(87289),h.Earcut=t(11117),h.GetAABB=t(14045),h.GetNumberArray=t(98286),h.GetPoints=t(89294),h.Perimeter=t(5159),h.Reverse=t(32244),h.Simplify=t(95874),h.Smooth=t(18974),h.Translate=t(23490),p.exports=h},1653:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};p.exports=S},33943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};p.exports=S},58662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};p.exports=S},79993:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t.x=h-t.width/2,t.y=c-t.height/2,t};p.exports=S},81572:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=function(l){return new h(l.x,l.y,l.width,l.height)};p.exports=c},94287:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=c&&t.y+t.height>=c};p.exports=S},28687:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94287),c=function(l,r){return h(l,r.x,r.y)};p.exports=c},73222:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};p.exports=S},29538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};p.exports=S},87279:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};p.exports=S},19989:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};p.exports=S},92628:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6700),c=function(l,r){var s=h(l);return s<h(r)?l.setSize(r.height*s,r.height):l.setSize(r.width,r.width/s),l.setPosition(r.centerX-l.width/2,r.centerY-l.height/2)};p.exports=c},85028:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6700),c=function(l,r){var s=h(l);return s>h(r)?l.setSize(r.height*s,r.height):l.setSize(r.width,r.width/s),l.setPosition(r.centerX-l.width/2,r.centerY-l.height/2)};p.exports=c},71356:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};p.exports=S},21687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};p.exports=S},80222:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=t(83392),l=function(r,s){if(s===void 0&&(s=new h),r.length===0)return s;for(var e=Number.MAX_VALUE,i=Number.MAX_VALUE,o=c.MIN_SAFE_INTEGER,n=c.MIN_SAFE_INTEGER,a,f,u,d=0;d<r.length;d++)a=r[d],Array.isArray(a)?(f=a[0],u=a[1]):(f=a.x,u=a.y),e=Math.min(e,f),i=Math.min(i,u),o=Math.max(o,f),n=Math.max(n,u);return s.x=e,s.y=i,s.width=o-e,s.height=n-i,s};p.exports=l},75785:(p,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=function(l,r,s,e,i){return i===void 0&&(i=new h),i.setTo(Math.min(l,s),Math.min(r,e),Math.abs(l-s),Math.abs(r-e))};p.exports=c},6700:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};p.exports=S},35242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){return r===void 0&&(r=new h),r.x=l.centerX,r.y=l.centerY,r};p.exports=c},47698:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85876),c=t(79967),l=function(r,s,e){if(e===void 0&&(e=new c),s<=0||s>=1)return e.x=r.x,e.y=r.y,e;var i=h(r)*s;return s>.5?(i-=r.width+r.height,i<=r.width?(e.x=r.right-i,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(i-r.width))):i<=r.width?(e.x=r.x+i,e.y=r.y):(e.x=r.right,e.y=r.y+(i-r.width)),e};p.exports=l},54932:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47698),c=t(85876),l=function(r,s,e,i){i===void 0&&(i=[]),!s&&e>0&&(s=c(r)/e);for(var o=0;o<s;o++){var n=o/s;i.push(h(r,n))}return i};p.exports=l},31591:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){return r===void 0&&(r=new h),r.x=l.width,r.y=l.height,r};p.exports=c},7782:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79993),c=function(l,r,s){var e=l.centerX,i=l.centerY;return l.setSize(l.width+r*2,l.height+s*2),h(l,e,i)};p.exports=c},66217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=t(90205),l=function(r,s,e){return e===void 0&&(e=new h),c(r,s)?(e.x=Math.max(r.x,s.x),e.y=Math.max(r.y,s.y),e.width=Math.min(r.right,s.right)-e.x,e.height=Math.min(r.bottom,s.bottom)-e.y):e.setEmpty(),e};p.exports=l},40053:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85876),c=t(79967),l=function(r,s,e,i){if(i===void 0&&(i=[]),!s&&!e)return i;s?e=Math.round(h(r)/s):s=h(r)/e;for(var o=r.x,n=r.y,a=0,f=0;f<e;f++)switch(i.push(new c(o,n)),a){case 0:o+=s,o>=r.right&&(a=1,n+=o-r.right,o=r.right);break;case 1:n+=s,n>=r.bottom&&(a=2,o-=n-r.bottom,n=r.bottom);break;case 2:o-=s,o<=r.left&&(a=3,n-=r.left-o,o=r.left);break;case 3:n-=s,n<=r.top&&(a=0,n=r.top);break}return i};p.exports=l},86673:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var c=t.x,l=t.right,r=t.y,s=t.bottom,e=0;e<h.length;e++)c=Math.min(c,h[e].x),l=Math.max(l,h[e].x),r=Math.min(r,h[e].y),s=Math.max(s,h[e].y);return t.x=c,t.y=r,t.width=l-c,t.height=s-r,t};p.exports=S},14655:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=Math.min(t.x,h.x),l=Math.max(t.right,h.right);t.x=c,t.width=l-c;var r=Math.min(t.y,h.y),s=Math.max(t.bottom,h.bottom);return t.y=r,t.height=s-r,t};p.exports=S},44755:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=Math.min(t.x,h),r=Math.max(t.right,h);t.x=l,t.width=r-l;var s=Math.min(t.y,c),e=Math.max(t.bottom,c);return t.y=s,t.height=e-s,t};p.exports=S},74466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t.x+=h,t.y+=c,t};p.exports=S},55946:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};p.exports=S},97474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};p.exports=S},85876:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};p.exports=S},20243:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=t(75606),l=function(r,s,e){e===void 0&&(e=new h),s=c(s);var i=Math.sin(s),o=Math.cos(s),n=o>0?r.width/2:r.width/-2,a=i>0?r.height/2:r.height/-2;return Math.abs(n*i)<Math.abs(a*o)?a=n*i/o:n=a*o/i,e.x=n+r.centerX,e.y=a+r.centerY,e};p.exports=l},30001:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){return r===void 0&&(r=new h),r.x=l.x+Math.random()*l.width,r.y=l.y+Math.random()*l.height,r};p.exports=c},97691:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17489),c=t(73222),l=t(79967),r=function(s,e,i){if(i===void 0&&(i=new l),c(s,e))switch(h(0,3)){case 0:i.x=s.x+Math.random()*(e.right-s.x),i.y=s.y+Math.random()*(e.top-s.y);break;case 1:i.x=e.x+Math.random()*(s.right-e.x),i.y=e.bottom+Math.random()*(s.bottom-e.bottom);break;case 2:i.x=s.x+Math.random()*(e.x-s.x),i.y=e.y+Math.random()*(s.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(s.right-e.right),i.y=s.y+Math.random()*(e.bottom-s.y);break}return i};p.exports=r},74118:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(94287),l=t(47698),r=t(54932),s=t(52394),e=t(88829),i=t(30001),o=new h({initialize:function(a,f,u,d){a===void 0&&(a=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=s.RECTANGLE,this.x=a,this.y=f,this.width=u,this.height=d},contains:function(n,a){return c(this,n,a)},getPoint:function(n,a){return l(this,n,a)},getPoints:function(n,a,f){return r(this,n,a,f)},getRandomPoint:function(n){return i(this,n)},setTo:function(n,a,f,u){return this.x=n,this.y=a,this.width=f,this.height=u,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,a){return a===void 0&&(a=n),this.x=n,this.y=a,this},setSize:function(n,a){return a===void 0&&(a=n),this.width=n,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});p.exports=o},51828:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width===h.width&&t.height===h.height};p.exports=S},5691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return c===void 0&&(c=h),t.width*=h,t.height*=c,t};p.exports=S},58795:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=function(l,r,s){s===void 0&&(s=new h);var e=Math.min(l.x,r.x),i=Math.min(l.y,r.y),o=Math.max(l.right,r.right)-e,n=Math.max(l.bottom,r.bottom)-i;return s.setTo(e,i,o,n)};p.exports=c},66658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118);h.Area=t(1653),h.Ceil=t(33943),h.CeilAll=t(58662),h.CenterOn=t(79993),h.Clone=t(81572),h.Contains=t(94287),h.ContainsPoint=t(28687),h.ContainsRect=t(73222),h.CopyFrom=t(29538),h.Decompose=t(87279),h.Equals=t(19989),h.FitInside=t(92628),h.FitOutside=t(85028),h.Floor=t(71356),h.FloorAll=t(21687),h.FromPoints=t(80222),h.FromXY=t(75785),h.GetAspectRatio=t(6700),h.GetCenter=t(35242),h.GetPoint=t(47698),h.GetPoints=t(54932),h.GetSize=t(31591),h.Inflate=t(7782),h.Intersection=t(66217),h.MarchingAnts=t(40053),h.MergePoints=t(86673),h.MergeRect=t(14655),h.MergeXY=t(44755),h.Offset=t(74466),h.OffsetPoint=t(55946),h.Overlaps=t(97474),h.Perimeter=t(85876),h.PerimeterPoint=t(20243),h.Random=t(30001),h.RandomOutside=t(97691),h.SameDimensions=t(51828),h.Scale=t(5691),h.Union=t(58795),p.exports=h},19108:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.x1,c=t.y1,l=t.x2,r=t.y2,s=t.x3,e=t.y3;return Math.abs(((s-h)*(r-c)-(l-h)*(e-c))/2)};p.exports=S},41199:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66349),c=function(l,r,s){var e=s*(Math.sqrt(3)/2),i=l,o=r,n=l+s/2,a=r+e,f=l-s/2,u=r+e;return new h(i,o,n,a,f,u)};p.exports=c},88730:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11117),c=t(66349),l=function(r,s,e,i,o){s===void 0&&(s=null),e===void 0&&(e=1),i===void 0&&(i=1),o===void 0&&(o=[]);for(var n=h(r,s),a,f,u,d,v,g,x,m,y,T=0;T<n.length;T+=3)a=n[T],f=n[T+1],u=n[T+2],d=r[a*2]*e,v=r[a*2+1]*i,g=r[f*2]*e,x=r[f*2+1]*i,m=r[u*2]*e,y=r[u*2+1]*i,o.push(new c(d,v,g,x,m,y));return o};p.exports=l},3635:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66349),c=function(l,r,s,e){e===void 0&&(e=s);var i=l,o=r,n=l,a=r-e,f=l+s,u=r;return new h(i,o,n,a,f,u)};p.exports=c},1882:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56595),c=t(9640),l=function(r,s,e,i){i===void 0&&(i=h);var o=i(r),n=s-o.x,a=e-o.y;return c(r,n,a)};p.exports=l},56595:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){return r===void 0&&(r=new h),r.x=(l.x1+l.x2+l.x3)/3,r.y=(l.y1+l.y2+l.y3)/3,r};p.exports=c},91835:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736);function c(r,s,e,i){return r*i-s*e}var l=function(r,s){s===void 0&&(s=new h);var e=r.x3,i=r.y3,o=r.x1-e,n=r.y1-i,a=r.x2-e,f=r.y2-i,u=2*c(o,n,a,f),d=c(n,o*o+n*n,f,a*a+f*f),v=c(o,o*o+n*n,a,a*a+f*f);return s.x=e-d/u,s.y=i+v/u,s};p.exports=l},97073:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673),c=function(l,r){r===void 0&&(r=new h);var s=l.x1,e=l.y1,i=l.x2,o=l.y2,n=l.x3,a=l.y3,f=i-s,u=o-e,d=n-s,v=a-e,g=f*(s+i)+u*(e+o),x=d*(s+n)+v*(e+a),m=2*(f*(a-o)-u*(n-i)),y,T;if(Math.abs(m)<1e-6){var R=Math.min(s,i,n),P=Math.min(e,o,a);y=(Math.max(s,i,n)-R)*.5,T=(Math.max(e,o,a)-P)*.5,r.x=R+y,r.y=P+T,r.radius=Math.sqrt(y*y+T*T)}else r.x=(v*g-u*x)/m,r.y=(f*x-d*g)/m,y=r.x-s,T=r.y-e,r.radius=Math.sqrt(y*y+T*T);return r};p.exports=c},75974:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66349),c=function(l){return new h(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)};p.exports=c},60689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=t.x3-t.x1,r=t.y3-t.y1,s=t.x2-t.x1,e=t.y2-t.y1,i=h-t.x1,o=c-t.y1,n=l*l+r*r,a=l*s+r*e,f=l*i+r*o,u=s*s+e*e,d=s*i+e*o,v=n*u-a*a,g=v===0?0:1/v,x=(u*f-a*d)*g,m=(n*d-a*f)*g;return x>=0&&m>=0&&x+m<1};p.exports=S},86875:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c===void 0&&(c=!1),l===void 0&&(l=[]);for(var r=t.x3-t.x1,s=t.y3-t.y1,e=t.x2-t.x1,i=t.y2-t.y1,o=r*r+s*s,n=r*e+s*i,a=e*e+i*i,f=o*a-n*n,u=f===0?0:1/f,d,v,g,x,m,y,T=t.x1,R=t.y1,P=0;P<h.length&&(g=h[P].x-T,x=h[P].y-R,m=r*g+s*x,y=e*g+i*x,d=(a*m-n*y)*u,v=(o*y-n*m)*u,!(d>=0&&v>=0&&d+v<1&&(l.push({x:h[P].x,y:h[P].y}),c)));P++);return l};p.exports=S},51532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60689),c=function(l,r){return h(l,r.x,r.y)};p.exports=c},42538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};p.exports=S},18680:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};p.exports=S},29977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};p.exports=S},56088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=t(16028),l=function(r,s,e){e===void 0&&(e=new h);var i=r.getLineA(),o=r.getLineB(),n=r.getLineC();if(s<=0||s>=1)return e.x=i.x1,e.y=i.y1,e;var a=c(i),f=c(o),u=c(n),d=a+f+u,v=d*s,g=0;return v<a?(g=v/a,e.x=i.x1+(i.x2-i.x1)*g,e.y=i.y1+(i.y2-i.y1)*g):v>a+f?(v-=a+f,g=v/u,e.x=n.x1+(n.x2-n.x1)*g,e.y=n.y1+(n.y2-n.y1)*g):(v-=a,g=v/f,e.x=o.x1+(o.x2-o.x1)*g,e.y=o.y1+(o.y2-o.y1)*g),e};p.exports=l},24402:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),c=t(79967),l=function(r,s,e,i){i===void 0&&(i=[]);var o=r.getLineA(),n=r.getLineB(),a=r.getLineC(),f=h(o),u=h(n),d=h(a),v=f+u+d;!s&&e>0&&(s=v/e);for(var g=0;g<s;g++){var x=v*(g/s),m=0,y=new c;x<f?(m=x/f,y.x=o.x1+(o.x2-o.x1)*m,y.y=o.y1+(o.y2-o.y1)*m):x>f+u?(x-=f+u,m=x/d,y.x=a.x1+(a.x2-a.x1)*m,y.y=a.y1+(a.y2-a.y1)*m):(x-=f,m=x/u,y.x=n.x1+(n.x2-n.x1)*m,y.y=n.y1+(n.y2-n.y1)*m),i.push(y)}return i};p.exports=l},83648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967);function c(r,s,e,i){var o=r-e,n=s-i,a=o*o+n*n;return Math.sqrt(a)}var l=function(r,s){s===void 0&&(s=new h);var e=r.x1,i=r.y1,o=r.x2,n=r.y2,a=r.x3,f=r.y3,u=c(a,f,o,n),d=c(e,i,a,f),v=c(o,n,e,i),g=u+d+v;return s.x=(e*u+o*d+a*v)/g,s.y=(i*u+n*d+f*v)/g,s};p.exports=l},9640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t.x1+=h,t.y1+=c,t.x2+=h,t.y2+=c,t.x3+=h,t.y3+=c,t};p.exports=S},95290:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),c=function(l){var r=l.getLineA(),s=l.getLineB(),e=l.getLineC();return h(r)+h(s)+h(e)};p.exports=c},99761:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),c=function(l,r){r===void 0&&(r=new h);var s=l.x2-l.x1,e=l.y2-l.y1,i=l.x3-l.x1,o=l.y3-l.y1,n=Math.random(),a=Math.random();return n+a>=1&&(n=1-n,a=1-a),r.x=l.x1+(s*n+i*a),r.y=l.y1+(e*n+o*a),r};p.exports=c},21934:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19211),c=t(83648),l=function(r,s){var e=c(r);return h(r,e.x,e.y,s)};p.exports=l},68454:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19211),c=function(l,r,s){return h(l,r.x,r.y,s)};p.exports=c},19211:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=Math.cos(l),s=Math.sin(l),e=t.x1-h,i=t.y1-c;return t.x1=e*r-i*s+h,t.y1=e*s+i*r+c,e=t.x2-h,i=t.y2-c,t.x2=e*r-i*s+h,t.y2=e*s+i*r+c,e=t.x3-h,i=t.y3-c,t.x3=e*r-i*s+h,t.y3=e*s+i*r+c,t};p.exports=S},66349:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(60689),l=t(56088),r=t(24402),s=t(52394),e=t(88829),i=t(99761),o=new h({initialize:function(a,f,u,d,v,g){a===void 0&&(a=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),this.type=s.TRIANGLE,this.x1=a,this.y1=f,this.x2=u,this.y2=d,this.x3=v,this.y3=g},contains:function(n,a){return c(this,n,a)},getPoint:function(n,a){return l(this,n,a)},getPoints:function(n,a,f){return r(this,n,a,f)},getRandomPoint:function(n){return i(this,n)},setTo:function(n,a,f,u,d,v){return n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=0),v===void 0&&(v=0),this.x1=n,this.y1=a,this.x2=f,this.y2=u,this.x3=d,this.y3=v,this},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var a=0;this.x1<=this.x2&&this.x1<=this.x3?a=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?a=this.x2-n:a=this.x3-n,this.x1-=a,this.x2-=a,this.x3-=a}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var a=0;this.x1>=this.x2&&this.x1>=this.x3?a=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?a=this.x2-n:a=this.x3-n,this.x1-=a,this.x2-=a,this.x3-=a}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var a=0;this.y1<=this.y2&&this.y1<=this.y3?a=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?a=this.y2-n:a=this.y3-n,this.y1-=a,this.y2-=a,this.y3-=a}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var a=0;this.y1>=this.y2&&this.y1>=this.y3?a=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?a=this.y2-n:a=this.y3-n,this.y1-=a,this.y2-=a,this.y3-=a}}});p.exports=o},87619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66349);h.Area=t(19108),h.BuildEquilateral=t(41199),h.BuildFromPolygon=t(88730),h.BuildRight=t(3635),h.CenterOn=t(1882),h.Centroid=t(56595),h.CircumCenter=t(91835),h.CircumCircle=t(97073),h.Clone=t(75974),h.Contains=t(60689),h.ContainsArray=t(86875),h.ContainsPoint=t(51532),h.CopyFrom=t(42538),h.Decompose=t(18680),h.Equals=t(29977),h.GetPoint=t(56088),h.GetPoints=t(24402),h.InCenter=t(83648),h.Perimeter=t(95290),h.Offset=t(9640),h.Random=t(99761),h.Rotate=t(21934),h.RotateAroundPoint=t(68454),h.RotateAroundXY=t(19211),p.exports=h},27395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:c,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=S},18104:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return function(c,l,r,s){var e=t.getPixelAlpha(l,r,s.texture.key,s.frame.name);return e&&e>=h}};p.exports=S},69898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72687),l=t(6659),r=t(33963),s=t(97081),e=t(71064),i=t(7905),o=t(40398),n=t(37579),a=t(69360),f=t(64462),u=new h({initialize:function(v,g){this.game=v,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new l,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new e(this):null,this.mouse=g.inputMouse?new i(this):null,this.touch=g.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers,g.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var x=0;x<=this.pointersTotal;x++){var m=new o(this,x);m.smoothFactor=g.inputSmoothFactor,this.pointers.push(m)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new a,this._tempMatrix2=new a,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],v.events.once(s.BOOT,this.boot,this)},boot:function(){var d=this.game,v=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(r.MANAGER_BOOT),v.on(s.PRE_RENDER,this.preRender,this),v.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(r.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(r.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,v=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(r.MANAGER_UPDATE);for(var x=0;x<g.length;x++){var m=g[x];if(m.sys.input&&m.sys.input.updatePoll(d,v)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var v=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var g=0;g<d;g++){var x=this.pointers.length,m=new o(this,x);m.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(m),this.pointersTotal++,v.push(m)}return v},updateInputPlugins:function(d,v){var g=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var x=0;x<g.length;x++){var m=g[x];if(m.sys.input){var y=m.sys.input.update(d,v);if(y&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var v=this.pointers,g=[],x=0;x<d.changedTouches.length;x++)for(var m=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(!T.active){T.touchstart(m,d),this.activePointer=T,g.push(T);break}}this.updateInputPlugins(c.TOUCH_START,g)},onTouchMove:function(d){for(var v=this.pointers,g=[],x=0;x<d.changedTouches.length;x++)for(var m=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===m.identifier){var R=document.elementFromPoint(m.pageX,m.pageY),P=R===this.canvas;!this.isOver&&P?this.setCanvasOver(d):this.isOver&&!P&&this.setCanvasOut(d),this.isOver&&(T.touchmove(m,d),this.activePointer=T,g.push(T));break}}this.updateInputPlugins(c.TOUCH_MOVE,g)},onTouchEnd:function(d){for(var v=this.pointers,g=[],x=0;x<d.changedTouches.length;x++)for(var m=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===m.identifier){T.touchend(m,d),g.push(T);break}}this.updateInputPlugins(c.TOUCH_END,g)},onTouchCancel:function(d){for(var v=this.pointers,g=[],x=0;x<d.changedTouches.length;x++)for(var m=d.changedTouches[x],y=1;y<this.pointersTotal;y++){var T=v[y];if(T.active&&T.identifier===m.identifier){T.touchcancel(m,d),g.push(T);break}}this.updateInputPlugins(c.TOUCH_CANCEL,g)},onMouseDown:function(d){var v=this.mousePointer;v.down(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var v=this.mousePointer;v.move(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var v=this.mousePointer;v.up(d),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(c.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var v=this.mousePointer;v.wheel(d),this.activePointer=v,this.updateInputPlugins(c.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var v=this.mouse.locked;this.mousePointer.locked=v,this.events.emit(r.POINTERLOCK_CHANGE,d,v)},inputCandidate:function(d,v){var g=d.input;if(!g||!g.enabled||!d.willRender(v))return!1;var x=!0,m=d.parentContainer;if(m)do{if(!m.willRender(v)){x=!1;break}m=m.parentContainer}while(m);return x},hitTest:function(d,v,g,x){x===void 0&&(x=this._tempHitTest);var m=this._tempPoint,y=g.scrollX,T=g.scrollY;x.length=0;var R=d.x,P=d.y;g.getWorldPoint(R,P,m),d.worldX=m.x,d.worldY=m.y;for(var D={x:0,y:0},O=this._tempMatrix,B=this._tempMatrix2,G=0;G<v.length;G++){var b=v[G];if(this.inputCandidate(b,g)){var k=m.x+y*b.scrollFactorX-y,$=m.y+T*b.scrollFactorY-T;b.parentContainer?(b.getWorldTransformMatrix(O,B),O.applyInverse(k,$,D)):f(k,$,b.x,b.y,b.rotation,b.scaleX,b.scaleY,D),this.pointWithinHitArea(b,D.x,D.y)&&x.push(b)}}return x},pointWithinHitArea:function(d,v,g){v+=d.displayOriginX,g+=d.displayOriginY;var x=d.input;return x&&x.hitAreaCallback(x.hitArea,v,g,d)?(x.localX=v,x.localY=g,!0):!1},pointWithinInteractiveObject:function(d,v,g){return d.hitArea?(v+=d.gameObject.displayOriginX,g+=d.gameObject.displayOriginY,d.localX=v,d.localY=g,d.hitAreaCallback(d.hitArea,v,g,d)):!1},transformPointer:function(d,v,g,x){var m=d.position,y=d.prevPosition;y.x=m.x,y.y=m.y;var T=this.scaleManager.transformX(v),R=this.scaleManager.transformY(g),P=d.smoothFactor;!x||P===0?(m.x=T,m.y=R):(m.x=T*P+y.x*(1-P),m.y=R*P+y.y*(1-P))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=u},12499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673),c=t(65650),l=t(56694),r=t(72687),s=t(27395),e=t(18104),i=t(53996),o=t(95669),n=t(72313),a=t(33963),f=t(6659),u=t(72632),d=t(52394),v=t(63399),g=t(42911),x=t(91963),m=t(74118),y=t(94287),T=t(7599),R=t(66349),P=t(60689),D=new l({Extends:f,initialize:function(B){f.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,v.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var G={cancelled:!1};this._eventContainer={stopPropagation:function(){G.cancelled=!0}},this._eventData=G,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(T.BOOT,this.boot,this),B.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(a.BOOT)},start:function(){var O=this.systems.events;O.on(T.TRANSITION_START,this.transitionIn,this),O.on(T.TRANSITION_OUT,this.transitionOut,this),O.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),O.on(T.PRE_UPDATE,this.preUpdate,this),O.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(a.GAME_OUT,this.onGameOut,this),this.manager.events.on(a.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(a.START)},onGameOver:function(O){this.isActive()&&this.emit(a.GAME_OVER,O.timeStamp,O)},onGameOut:function(O){this.isActive()&&this.emit(a.GAME_OUT,O.timeStamp,O)},preUpdate:function(){this.pluginEvents.emit(a.PRE_UPDATE);var O=this._pendingRemoval,B=this._pendingInsertion,G=O.length,b=B.length;if(!(G===0&&b===0)){for(var k=this._list,$=0;$<G;$++){var W=O[$],Z=k.indexOf(W);Z>-1&&(k.splice(Z,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=k.concat(B.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(O,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(a.UPDATE,O,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var G,b=this.manager,k=b.pointers,$=b.pointersTotal;for(G=0;G<$;G++)k[G].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=B,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Z=!1;for(G=0;G<$;G++){var z=0,X=k[G];this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),z+=this.processOverOutEvents(X),this.getDragState(X)===2&&this.processDragThresholdEvent(X,O),z>0&&(Z=!0)}return Z},update:function(O,B){if(!this.isActive())return!1;for(var G=B.length,b=!1,k=0;k<G;k++){var $=0,W=B[k];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O){case r.MOUSE_DOWN:$+=this.processDragDownEvent(W),$+=this.processDownEvents(W),$+=this.processOverOutEvents(W);break;case r.MOUSE_UP:$+=this.processDragUpEvent(W),$+=this.processUpEvents(W),$+=this.processOverOutEvents(W);break;case r.TOUCH_START:$+=this.processDragDownEvent(W),$+=this.processDownEvents(W),$+=this.processOverEvents(W);break;case r.TOUCH_END:case r.TOUCH_CANCEL:$+=this.processDragUpEvent(W),$+=this.processUpEvents(W),$+=this.processOutEvents(W);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:$+=this.processDragMoveEvent(W),$+=this.processMoveEvents(W),$+=this.processOverOutEvents(W);break;case r.MOUSE_WHEEL:$+=this.processWheelEvent(W);break}$>0&&(b=!0)}return this._updatedThisFrame=!0,b},clear:function(O,B){B===void 0&&(B=!1),this.disable(O);var G=O.input;G&&(this.removeDebug(O),G.gameObject=void 0,G.target=void 0,G.hitArea=void 0,G.hitAreaCallback=void 0,G.callbackContext=void 0,O.input=null),B||this.queueForRemoval(O);var b=this._draggable.indexOf(O);return b>-1&&this._draggable.splice(b,1),O},disable:function(O){var B=O.input;B&&(B.enabled=!1,B.dragState=0);var G=this._temp,b=this._drag,k=this._over,$=this.manager,W=G.indexOf(O);W>-1&&G.splice(W,1);for(var Z=0;Z<$.pointersTotal;Z++)W=b[Z].indexOf(O),W>-1&&b[Z].splice(W,1),W=k[Z].indexOf(O),W>-1&&(k[Z].splice(W,1),$.resetCursor(B));return this},enable:function(O,B,G,b){return b===void 0&&(b=!1),O.input?O.input.enabled=!0:this.setHitArea(O,B,G),O.input&&b&&!O.input.dropZone&&(O.input.dropZone=b),this},hitTestPointer:function(O){for(var B=this.cameras.getCamerasBelowPointer(O),G=0;G<B.length;G++){for(var b=B[G],k=this.manager.hitTest(O,this._list,b),$=0;$<k.length;$++){var W=k[$];W.input.dropZone&&this._tempZones.push(W)}if(k.length>0)return O.camera=b,k}return O.camera=B[0],[]},processDownEvents:function(O){var B=0,G=this._temp,b=this._eventData,k=this._eventContainer;b.cancelled=!1;for(var $=!1,W=0;W<G.length;W++){var Z=G[W];if(!(!Z.input||!Z.input.enabled)){if(B++,Z.emit(a.GAMEOBJECT_POINTER_DOWN,O,Z.input.localX,Z.input.localY,k),b.cancelled||!Z.input||!Z.input.enabled){$=!0;break}if(this.emit(a.GAMEOBJECT_DOWN,O,Z,k),b.cancelled||!Z.input){$=!0;break}}}return!$&&this.manager&&(O.downElement===this.manager.game.canvas?this.emit(a.POINTER_DOWN,O,G):this.emit(a.POINTER_DOWN_OUTSIDE,O)),B},getDragState:function(O){return this._dragState[O.id]},setDragState:function(O,B){this._dragState[O.id]=B},processDragThresholdEvent:function(O,B){var G=!1,b=this.dragTimeThreshold,k=this.dragDistanceThreshold;if((k>0&&i(O.x,O.y,O.downX,O.downY)>=k||b>0&&B>=O.downTime+b)&&(G=!0),G)return this.setDragState(O,3),this.processDragStartList(O)},processDragStartList:function(O){if(this.getDragState(O)!==3)return 0;for(var B=this._drag[O.id],G=0;G<B.length;G++){var b=B[G],k=b.input;k.dragState=2,k.dragStartX=b.x,k.dragStartY=b.y,k.dragStartXGlobal=O.worldX,k.dragStartYGlobal=O.worldY,k.dragX=k.dragStartXGlobal-k.dragStartX,k.dragY=k.dragStartYGlobal-k.dragStartY,b.emit(a.GAMEOBJECT_DRAG_START,O,k.dragX,k.dragY),this.emit(a.DRAG_START,O,b)}return this.setDragState(O,4),B.length},processDragDownEvent:function(O){var B=this._temp;if(this._draggable.length===0||B.length===0||!O.primaryDown||this.getDragState(O)!==0)return 0;this.setDragState(O,1);for(var G=[],b=0;b<B.length;b++){var k=B[b];k.input.draggable&&k.input.dragState===0&&G.push(k)}return G.length===0?(this.setDragState(O,0),0):(G.length>1&&(this.sortGameObjects(G,O),this.topOnly&&G.splice(1)),this._drag[O.id]=G,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(O,3),this.processDragStartList(O)):(this.setDragState(O,2),0))},processDragMoveEvent:function(O){if(this.getDragState(O)===2&&this.processDragThresholdEvent(O,this.manager.game.loop.now),this.getDragState(O)!==4)return 0;for(var B=this._tempZones,G=this._drag[O.id],b=0;b<G.length;b++){var k=G[b],$=k.input,W=$.target;if(W){var Z=B.indexOf(W);Z===0?(k.emit(a.GAMEOBJECT_DRAG_OVER,O,W),this.emit(a.DRAG_OVER,O,k,W)):Z>0?(k.emit(a.GAMEOBJECT_DRAG_LEAVE,O,W),this.emit(a.DRAG_LEAVE,O,k,W),$.target=B[0],W=$.target,k.emit(a.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(a.DRAG_ENTER,O,k,W)):(k.emit(a.GAMEOBJECT_DRAG_LEAVE,O,W),this.emit(a.DRAG_LEAVE,O,k,W),B[0]?($.target=B[0],W=$.target,k.emit(a.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(a.DRAG_ENTER,O,k,W)):$.target=null)}else!W&&B[0]&&($.target=B[0],W=$.target,k.emit(a.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(a.DRAG_ENTER,O,k,W));var z,X;if(!k.parentContainer)z=O.worldX-$.dragX,X=O.worldY-$.dragY;else{var w=O.worldX-$.dragStartXGlobal,V=O.worldY-$.dragStartYGlobal,Y=k.getParentRotation(),j=w*Math.cos(Y)+V*Math.sin(Y),J=V*Math.cos(Y)-w*Math.sin(Y);j*=1/k.parentContainer.scaleX,J*=1/k.parentContainer.scaleY,z=j+$.dragStartX,X=J+$.dragStartY}k.emit(a.GAMEOBJECT_DRAG,O,z,X),this.emit(a.DRAG,O,k,z,X)}return G.length},processDragUpEvent:function(O){for(var B=this._drag[O.id],G=0;G<B.length;G++){var b=B[G],k=b.input;if(k&&k.dragState===2){k.dragState=0,k.dragX=k.localX-b.displayOriginX,k.dragY=k.localY-b.displayOriginY;var $=!1,W=k.target;W&&(b.emit(a.GAMEOBJECT_DROP,O,W),this.emit(a.DROP,O,b,W),k.target=null,$=!0),b.input&&b.input.enabled&&(b.emit(a.GAMEOBJECT_DRAG_END,O,k.dragX,k.dragY,$),this.emit(a.DRAG_END,O,b,$))}}return this.setDragState(O,0),B.splice(0),0},processMoveEvents:function(O){var B=0,G=this._temp,b=this._eventData,k=this._eventContainer;b.cancelled=!1;for(var $=!1,W=0;W<G.length;W++){var Z=G[W];if(!(!Z.input||!Z.input.enabled)){if(B++,Z.emit(a.GAMEOBJECT_POINTER_MOVE,O,Z.input.localX,Z.input.localY,k),b.cancelled||!Z.input||!Z.input.enabled){$=!0;break}if(this.emit(a.GAMEOBJECT_MOVE,O,Z,k),b.cancelled||!Z.input||!Z.input.enabled){$=!0;break}if(this.topOnly)break}}return $||this.emit(a.POINTER_MOVE,O,G),B},processWheelEvent:function(O){var B=0,G=this._temp,b=this._eventData,k=this._eventContainer;b.cancelled=!1;for(var $=!1,W=O.deltaX,Z=O.deltaY,z=O.deltaZ,X=0;X<G.length;X++){var w=G[X];if(!(!w.input||!w.input.enabled)){if(B++,w.emit(a.GAMEOBJECT_POINTER_WHEEL,O,W,Z,z,k),b.cancelled||!w.input||!w.input.enabled){$=!0;break}if(this.emit(a.GAMEOBJECT_WHEEL,O,w,W,Z,z,k),b.cancelled||!w.input||!w.input.enabled){$=!0;break}}}return $||this.emit(a.POINTER_WHEEL,O,G,W,Z,z),B},processOverEvents:function(O){var B=this._temp,G=0,b=B.length,k=[];if(b>0){var $=this.manager,W=this._eventData,Z=this._eventContainer;W.cancelled=!1;for(var z=!1,X=0;X<b;X++){var w=B[X];if(!(!w.input||!w.input.enabled)){if(k.push(w),$.setCursor(w.input),w.emit(a.GAMEOBJECT_POINTER_OVER,O,w.input.localX,w.input.localY,Z),G++,W.cancelled||!w.input||!w.input.enabled){z=!0;break}if(this.emit(a.GAMEOBJECT_OVER,O,w,Z),W.cancelled||!w.input||!w.input.enabled){z=!0;break}}}z||this.emit(a.POINTER_OVER,O,k)}return this._over[O.id]=k,G},processOutEvents:function(O){var B=this._over[O.id],G=0,b=B.length;if(b>0){var k=this.manager,$=this._eventData,W=this._eventContainer;$.cancelled=!1;var Z=!1;this.sortGameObjects(B,O);for(var z=0;z<b;z++){var X=B[z];if(X=B[z],!(!X.input||!X.input.enabled)){if(k.resetCursor(X.input),X.emit(a.GAMEOBJECT_POINTER_OUT,O,W),G++,$.cancelled||!X.input||!X.input.enabled){Z=!0;break}if(this.emit(a.GAMEOBJECT_OUT,O,X,W),$.cancelled||!X.input||!X.input.enabled){Z=!0;break}Z||this.emit(a.POINTER_OUT,O,B)}}this._over[O.id]=[]}return G},processOverOutEvents:function(O){var B=this._temp,G,b,k=[],$=[],W=[],Z=this._over[O.id],z=this._drag[O.id],X=this.manager;for(G=0;G<Z.length;G++)b=Z[G],B.indexOf(b)===-1&&z.indexOf(b)===-1?k.push(b):W.push(b);for(G=0;G<B.length;G++)b=B[G],Z.indexOf(b)===-1&&$.push(b);var w=k.length,V=0,Y=this._eventData,j=this._eventContainer;Y.cancelled=!1;var J=!1;if(w>0){for(this.sortGameObjects(k,O),G=0;G<w;G++)if(b=k[G],!(!b.input||!b.input.enabled)){if(X.resetCursor(b.input),b.emit(a.GAMEOBJECT_POINTER_OUT,O,j),V++,Y.cancelled||!b.input||!b.input.enabled){J=!0;break}if(this.emit(a.GAMEOBJECT_OUT,O,b,j),Y.cancelled||!b.input||!b.input.enabled){J=!0;break}}J||this.emit(a.POINTER_OUT,O,k)}if(w=$.length,Y.cancelled=!1,J=!1,w>0){for(this.sortGameObjects($,O),G=0;G<w;G++)if(b=$[G],!(!b.input||!b.input.enabled)){if(X.setCursor(b.input),b.emit(a.GAMEOBJECT_POINTER_OVER,O,b.input.localX,b.input.localY,j),V++,Y.cancelled||!b.input||!b.input.enabled){J=!0;break}if(this.emit(a.GAMEOBJECT_OVER,O,b,j),Y.cancelled||!b.input||!b.input.enabled){J=!0;break}}J||this.emit(a.POINTER_OVER,O,$)}return Z=W.concat($),this._over[O.id]=this.sortGameObjects(Z,O),V},processUpEvents:function(O){var B=this._temp,G=this._eventData,b=this._eventContainer;G.cancelled=!1;for(var k=!1,$=0;$<B.length;$++){var W=B[$];if(!(!W.input||!W.input.enabled)){if(W.emit(a.GAMEOBJECT_POINTER_UP,O,W.input.localX,W.input.localY,b),G.cancelled||!W.input||!W.input.enabled){k=!0;break}if(this.emit(a.GAMEOBJECT_UP,O,W,b),G.cancelled||!W.input||!W.input.enabled){k=!0;break}}}return!k&&this.manager&&(O.upElement===this.manager.game.canvas?this.emit(a.POINTER_UP,O,B):this.emit(a.POINTER_UP_OUTSIDE,O)),B.length},queueForInsertion:function(O){return this._pendingInsertion.indexOf(O)===-1&&this._list.indexOf(O)===-1&&this._pendingInsertion.push(O),this},queueForRemoval:function(O){return this._pendingRemoval.push(O),this},setDraggable:function(O,B){B===void 0&&(B=!0),Array.isArray(O)||(O=[O]);for(var G=0;G<O.length;G++){var b=O[G];b.input.draggable=B;var k=this._draggable.indexOf(b);B&&k===-1?this._draggable.push(b):!B&&k>-1&&this._draggable.splice(k,1)}return this},makePixelPerfect:function(O){O===void 0&&(O=1);var B=this.systems.textures;return e(B,O)},setHitArea:function(O,B,G){if(B===void 0)return this.setHitAreaFromTexture(O);Array.isArray(O)||(O=[O]);var b=!1,k=!1,$=!1,W=!1,Z=!1,z=!0;if(g(B)){var X=B;B=u(X,"hitArea",null),G=u(X,"hitAreaCallback",null),b=u(X,"draggable",!1),k=u(X,"dropZone",!1),$=u(X,"cursor",!1),W=u(X,"useHandCursor",!1),Z=u(X,"pixelPerfect",!1);var w=u(X,"alphaTolerance",1);Z&&(B={},G=this.makePixelPerfect(w)),(!B||!G)&&(this.setHitAreaFromTexture(O),z=!1)}else typeof B=="function"&&!G&&(G=B,B={});for(var V=0;V<O.length;V++){var Y=O[V];if(Z&&Y.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var j=Y.input?Y.input:s(Y,B,G);j.customHitArea=z,j.dropZone=k,j.cursor=W?"pointer":$,Y.input=j,b&&this.setDraggable(Y),this.queueForInsertion(Y)}return this},setHitAreaCircle:function(O,B,G,b,k){k===void 0&&(k=c);var $=new h(B,G,b);return this.setHitArea(O,$,k)},setHitAreaEllipse:function(O,B,G,b,k,$){$===void 0&&($=n);var W=new o(B,G,b,k);return this.setHitArea(O,W,$)},setHitAreaFromTexture:function(O,B){B===void 0&&(B=y),Array.isArray(O)||(O=[O]);for(var G=0;G<O.length;G++){var b=O[G],k=b.frame,$=0,W=0;if(b.width?($=b.width,W=b.height):k&&($=k.realWidth,W=k.realHeight),b.type==="Container"&&($===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}$!==0&&W!==0&&(b.input=s(b,new m(0,0,$,W),B),this.queueForInsertion(b))}return this},setHitAreaRectangle:function(O,B,G,b,k,$){$===void 0&&($=y);var W=new m(B,G,b,k);return this.setHitArea(O,W,$)},setHitAreaTriangle:function(O,B,G,b,k,$,W,Z){Z===void 0&&(Z=P);var z=new R(B,G,b,k,$,W);return this.setHitArea(O,z,Z)},enableDebug:function(O,B){B===void 0&&(B=65280);var G=O.input;if(!G||!G.hitArea)return this;var b=G.hitArea,k=b.type,$=G.hitAreaDebug,W=this.systems.add,Z=this.systems.updateList;$&&(Z.remove($),$.destroy(),$=null);var z=0,X=0;switch(k){case d.CIRCLE:$=W.arc(0,0,b.radius),z=b.x-b.radius,X=b.y-b.radius;break;case d.ELLIPSE:$=W.ellipse(0,0,b.width,b.height),z=b.x-b.width/2,X=b.y-b.height/2;break;case d.LINE:$=W.line(0,0,b.x1,b.y1,b.x2,b.y2);break;case d.POLYGON:$=W.polygon(0,0,b.points);break;case d.RECTANGLE:$=W.rectangle(0,0,b.width,b.height),z=b.x,X=b.y;break;case d.TRIANGLE:$=W.triangle(0,0,b.x1,b.y1,b.x2,b.y2,b.x3,b.y3);break}return $&&($.isFilled=!1,$.strokeColor=B,$.preUpdate=function(){$.setStrokeStyle(1/O.scale,$.strokeColor),$.setDisplayOrigin(O.displayOriginX,O.displayOriginY);var w=O.x,V=O.y,Y=O.rotation,j=O.scaleX,J=O.scaleY;if(O.parentContainer){var _=O.getWorldTransformMatrix();w=_.tx,V=_.ty,Y=_.rotation,j=_.scaleX,J=_.scaleY}$.setRotation(Y),$.setScale(j,J),$.setPosition(w+z*j,V+X*J),$.setScrollFactor(O.scrollFactorX,O.scrollFactorY),$.setDepth(O.depth)},Z.add($),G.hitAreaDebug=$),this},removeDebug:function(O){var B=O.input;if(B&&B.hitAreaDebug){var G=B.hitAreaDebug;this.systems.updateList.remove(G),G.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(O){return this.pollRate=O,this._pollTimer=0,this},setGlobalTopOnly:function(O){return this.manager.globalTopOnly=O,this},setTopOnly:function(O){return this.topOnly=O,this},sortGameObjects:function(O,B){if(O.length<2||!B.camera)return O;var G=B.camera.renderList;return O.sort(function(b,k){var $=Math.max(G.indexOf(b),0),W=Math.max(G.indexOf(k),0);return W-$})},sortDropZones:function(O){return O.length<2?O:(this.scene.sys.depthSort(),O.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(O,B){if(!O.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(O);if(O.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-O.parentContainer.getIndex(O);if(O.parentContainer===B)return-1;if(B.parentContainer===O)return 1;for(var G=O.getIndexList(),b=B.getIndexList(),k=Math.min(G.length,b.length),$=0;$<k;$++){var W=G[$],Z=b[$];if(W!==Z)return Z-W}return b.length-G.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(O){return this.manager.addPointer(O)},setDefaultCursor:function(O){return this.manager.setDefaultCursor(O),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(a.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var O=0;O<10;O++)this._drag[O]=[],this._over[O]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var G=this.systems.events;G.off(T.TRANSITION_START,this.transitionIn,this),G.off(T.TRANSITION_OUT,this.transitionOut,this),G.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),G.off(T.PRE_UPDATE,this.preUpdate,this),B.events.off(a.GAME_OUT,this.onGameOut,this),B.events.off(a.GAME_OVER,this.onGameOver,this),G.off(T.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var O=this.manager.pointers,B=0;B<O.length;B++)O[B].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(a.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});x.register("InputPlugin",D,"input"),p.exports=D},63399:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),c={},l={};l.register=function(r,s,e,i,o){c[r]={plugin:s,mapping:e,settingsKey:i,configKey:o}},l.getPlugin=function(r){return c[r]},l.install=function(r){var s=r.scene.sys,e=s.settings.input,i=s.game.config;for(var o in c){var n=c[o].plugin,a=c[o].mapping,f=c[o].settingsKey,u=c[o].configKey;h(e,f,i[u])&&(r[a]=new n(r))}},l.remove=function(r){c.hasOwnProperty(r)&&delete c[r]},p.exports=l},40398:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90447),c=t(56694),l=t(53996),r=t(88456),s=t(44521),e=t(93736),i=t(36580),o=new c({initialize:function(a,f){this.manager=a,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var a=n.getWorldPoint(this.x,this.y);return this.worldX=a.x,this.worldY=a.y,this},positionToCamera:function(n,a){return n.getWorldPoint(this.x,this.y,a)},updateMotion:function(){var n=this.position.x,a=this.position.y,f=this.midPoint.x,u=this.midPoint.y;if(!(n===f&&a===u)){var d=s(this.motionFactor,f,n),v=s(this.motionFactor,u,a);r(d,n,.1)&&(d=n),r(v,a,.1)&&(v=a),this.midPoint.set(d,v);var g=n-d,x=a-v;this.velocity.set(g,x),this.angle=h(d,v,n,a),this.distance=Math.sqrt(g*g+x*x)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),i.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,a){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=a,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=a.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,a){this.event=a,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=a.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,a){this.buttons=0,this.event=a,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=a.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,a){this.buttons=0,this.event=a,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=a.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,a){n===void 0&&(n=10),a===void 0&&(a=[]);for(var f=this.prevPosition.x,u=this.prevPosition.y,d=this.position.x,v=this.position.y,g=0;g<n;g++){var x=1/n*g;a[g]={x:s(x,f,d),y:s(x,u,v)}}return a},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=o},72687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=S},14874:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},54168:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},526:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},81623:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},94472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},9304:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},34265:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},50151:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},98134:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},56773:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},45824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},39578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},72072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},82569:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},70833:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},81442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},32936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},99658:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},60515:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},55254:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},34782:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},41769:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},65588:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},61640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},49342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},82662:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},13058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},52426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},78072:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},1545:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},67137:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},27678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},22257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},90379:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},88909:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},36548:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},18483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},22355:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},7997:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},66318:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},94812:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},37310:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},24196:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},27053:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},29413:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},25165:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},33963:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s){this.pad=r,this.events=r.events,this.index=s,this.value=0,this.threshold=.1},update:function(l){this.value=l},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=c},21274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(43200),l=new h({initialize:function(s,e){this.pad=s,this.events=s.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var s=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(c.BUTTON_DOWN,s,this,r),this.pad.emit(c.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(c.BUTTON_UP,s,this,r),this.pad.emit(c.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=l},75956:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70848),c=t(21274),l=t(56694),r=t(6659),s=t(93736),e=new l({Extends:r,initialize:function(o,n){r.call(this),this.manager=o,this.pad=n,this.id=n.id,this.index=n.index;for(var a=[],f=0;f<n.buttons.length;f++)a.push(new c(this,f));this.buttons=a;var u=[];for(f=0;f<n.axes.length;f++)u.push(new h(this,f));this.axes=u,this.vibration=n.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=a[14]?a[14]:d,this._LCRight=a[15]?a[15]:d,this._LCTop=a[12]?a[12]:d,this._LCBottom=a[13]?a[13]:d,this._RCLeft=a[2]?a[2]:d,this._RCRight=a[1]?a[1]:d,this._RCTop=a[3]?a[3]:d,this._RCBottom=a[0]?a[0]:d,this._FBLeftTop=a[4]?a[4]:d,this._FBLeftBottom=a[6]?a[6]:d,this._FBRightTop=a[5]?a[5]:d,this._FBRightBottom=a[7]?a[7]:d;var v={value:0};this._HAxisLeft=u[0]?u[0]:v,this._VAxisLeft=u[1]?u[1]:v,this._HAxisRight=u[2]?u[2]:v,this._VAxisRight=u[3]?u[3]:v,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(i){return this.axes[i].getValue()},setAxisThreshold:function(i){for(var o=0;o<this.axes.length;o++)this.axes[o].threshold=i},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(i){return this.buttons[i].value},isButtonDown:function(i){return this.buttons[i].pressed},update:function(i){if(!(i.timestamp<this._created)){var o,n=this.buttons,a=i.buttons,f=n.length;for(o=0;o<f;o++)n[o].update(a[o].value);var u=this.axes,d=i.axes;for(f=u.length,o=0;o<f;o++)u[o].update(d[o]);f>=2&&(this.leftStick.set(u[0].getValue(),u[1].getValue()),f>=4&&this.rightStick.set(u[2].getValue(),u[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var i;for(i=0;i<this.buttons.length;i++)this.buttons[i].destroy();for(i=0;i<this.axes.length;i++)this.axes[i].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=e},1379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(6659),l=t(43200),r=t(75956),s=t(10850),e=t(63399),i=t(33963),o=new h({Extends:c,initialize:function(a){c.call(this),this.scene=a.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=a,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,a.pluginEvents.once(i.BOOT,this.boot,this),a.pluginEvents.on(i.START,this.start,this)},boot:function(){var n=this.scene.sys.game,a=this.settings.input,f=n.config;this.enabled=s(a,"gamepad",f.inputGamepad)&&n.device.input.gamepads,this.target=s(a,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,a=this.target,f=function(u){u.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(u))};this.onGamepadHandler=f,a.addEventListener("gamepadconnected",f,!1),a.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(i.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(i.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var a=this.gamepads,f=0;f<n.length;f++){var u=n[f];if(u){var d=u.id,v=u.index,g=a[v];if(g)g.id!==d?(g.destroy(),a[v]=new r(this,u)):g.update(u);else{var x=new r(this,u);a[v]=x,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=x):this._pad3=x:this._pad2=x:this._pad1=x}}}},getAll:function(){for(var n=[],a=this.gamepads,f=0;f<a.length;f++)a[f]&&n.push(a[f]);return n},getPad:function(n){for(var a=this.gamepads,f=0;f<a.length;f++)if(a[f]&&a[f].index===n)return a[f]},update:function(){if(this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var a=this.queue.splice(0,n),f=0;f<n;f++){var u=a[f],d=this.getPad(u.gamepad.index);u.type==="gamepadconnected"?this.emit(l.CONNECTED,d,u):u.type==="gamepaddisconnected"&&this.emit(l.DISCONNECTED,d,u)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",o,"gamepad","gamepad","inputGamepad"),p.exports=o},33171:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},36635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},85724:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},55832:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},772:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},33608:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},43200:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72687),c=t(98611),l={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};l=c(!1,l,h),p.exports=l},71064:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66458),c=t(56694),l=t(97081),r=t(33963),s=t(11873),e=t(72283),i=new c({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,n.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputKeyboard,this.target=o.inputKeyboardEventTarget,this.addCapture(o.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(l.POST_STEP,this.postUpdate,this)},startListeners:function(){var o=this;this.onKeyDown=function(a){if(!(a.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(a),o.manager.events.emit(r.MANAGER_PROCESS);var f=a.altKey||a.ctrlKey||a.shiftKey||a.metaKey;o.preventDefault&&!f&&o.captures.indexOf(a.keyCode)>-1&&a.preventDefault()}},this.onKeyUp=function(a){if(!(a.defaultPrevented||!o.enabled||!o.manager)){o.queue.push(a),o.manager.events.emit(r.MANAGER_PROCESS);var f=a.altKey||a.ctrlKey||a.shiftKey||a.metaKey;o.preventDefault&&!f&&o.captures.indexOf(a.keyCode)>-1&&a.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var o=this.target;o.removeEventListener("keydown",this.onKeyDown,!1),o.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var n=this.captures,a=0;a<o.length;a++){var f=o[a];typeof f=="string"&&(f=s[f.trim().toUpperCase()]),n.indexOf(f)===-1&&n.push(f)}this.preventDefault=n.length>0},removeCapture:function(o){typeof o=="string"&&(o=o.split(",")),Array.isArray(o)||(o=[o]);for(var n=this.captures,a=0;a<o.length;a++){var f=o[a];typeof f=="string"&&(f=s[f.toUpperCase()]),h(n,f)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(l.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=i},89666:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(6659),l=t(94030),r=t(97081),s=t(10850),e=t(33963),i=t(63399),o=t(50165),n=t(11873),a=t(95625),f=t(48044),u=t(7599),d=t(84314),v=new h({Extends:c,initialize:function(x){c.call(this),this.game=x.systems.game,this.scene=x.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=x,this.manager=x.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,x.pluginEvents.once(e.BOOT,this.boot,this),x.pluginEvents.on(e.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=s(g,"keyboard",!0);var x=s(g,"keyboard.capture",null);x&&this.addCaptures(x),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(u.PAUSE,this.resetKeys,this),this.scene.sys.events.on(u.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(g,x,m){x===void 0&&(x=!0),m===void 0&&(m=!1);var y={};if(typeof g=="string"){g=g.split(",");for(var T=0;T<g.length;T++){var R=g[T].trim();R&&(y[R]=this.addKey(R,x,m))}}else for(var P in g)y[P]=this.addKey(g[P],x,m);return y},addKey:function(g,x,m){x===void 0&&(x=!0),m===void 0&&(m=!1);var y=this.keys;if(g instanceof o){var T=y.indexOf(g);return T>-1?y[T]=g:y[g.keyCode]=g,x&&this.addCapture(g.keyCode),g.setEmitOnRepeat(m),g}return typeof g=="string"&&(g=n[g.toUpperCase()]),y[g]||(y[g]=new o(this,g),x&&this.addCapture(g),y[g].setEmitOnRepeat(m)),y[g]},removeKey:function(g,x,m){x===void 0&&(x=!1),m===void 0&&(m=!1);var y=this.keys,T;if(g instanceof o){var R=y.indexOf(g);R>-1&&(T=this.keys[R],this.keys[R]=void 0)}else typeof g=="string"&&(g=n[g.toUpperCase()]);return y[g]&&(T=y[g],y[g]=void 0),T&&(T.plugin=null,m&&this.removeCapture(T.keyCode),x&&T.destroy()),this},removeAllKeys:function(g,x){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var m=this.keys,y=0;y<m.length;y++){var T=m[y];T&&(m[y]=void 0,x&&this.removeCapture(T.keyCode),g&&T.destroy())}return this},createCombo:function(g,x){return new a(this,g,x)},checkDown:function(g,x){if(x===void 0&&(x=0),this.enabled&&g.isDown){var m=d(this.time-g.timeDown,x);if(m>g._tick)return g._tick=m,!0}return!1},update:function(){var g=this.manager.queue,x=g.length;if(!(!this.isActive()||x===0))for(var m=this.keys,y=0;y<x;y++){var T=g[y],R=T.keyCode,P=m[R],D=!1;T.cancelled===void 0&&(T.cancelled=0,T.stopImmediatePropagation=function(){T.cancelled=1},T.stopPropagation=function(){T.cancelled=-1}),T.cancelled!==-1&&(R===this.prevCode&&T.timeStamp===this.prevTime&&T.type===this.prevType||(this.prevCode=R,this.prevTime=T.timeStamp,this.prevType=T.type,T.type==="keydown"?(P&&(D=P.isDown,P.onDown(T)),!T.cancelled&&(!P||!D)&&(f[R]&&this.emit(l.KEY_DOWN+f[R],T),T.cancelled||this.emit(l.ANY_KEY_DOWN,T))):(P&&P.onUp(T),T.cancelled||(f[R]&&this.emit(l.KEY_UP+f[R],T),T.cancelled||this.emit(l.ANY_KEY_UP,T))),T.cancelled===1&&(T.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,x=0;x<g.length;x++)g[x]&&g[x].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(u.PAUSE,this.resetKeys,this),this.scene.sys.events.off(u.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,x=0;x<g.length;x++)g[x]&&g[x].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});i.register("KeyboardPlugin",v,"keyboard","keyboard","inputKeyboard"),p.exports=v},60258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};p.exports=S},95625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(94030),l=t(72632),r=t(2544),s=t(88754),e=new h({initialize:function(o,n,a){if(a===void 0&&(a={}),n.length<2)return!1;this.manager=o,this.enabled=!0,this.keyCodes=[];for(var f=0;f<n.length;f++){var u=n[f];typeof u=="string"?this.keyCodes.push(u.toUpperCase().charCodeAt(0)):typeof u=="number"?this.keyCodes.push(u):u.hasOwnProperty("keyCode")&&this.keyCodes.push(u.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=l(a,"resetOnWrongKey",!0),this.maxKeyDelay=l(a,"maxKeyDelay",0),this.resetOnMatch=l(a,"resetOnMatch",!1),this.deleteOnMatch=l(a,"deleteOnMatch",!1);var d=this,v=function(g){if(!(d.matched||!d.enabled)){var x=r(g,d);x&&(d.manager.emit(c.COMBO_MATCH,d,g),d.resetOnMatch?s(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=v,this.manager.on(c.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(c.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=e},2544:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60258),c=function(l,r){if(r.matched)return!0;var s=!1,e=!1;if(l.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var i=r.timeLastMatched+r.maxKeyDelay;l.timeStamp<=i&&(e=!0,s=h(l,r))}else e=!0,s=h(l,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),s&&(r.timeLastMatched=l.timeStamp,r.matched=!0,r.timeMatched=l.timeStamp),s};p.exports=c},88754:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};p.exports=S},5044:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},40813:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},89319:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},43267:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},78595:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},30056:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},81939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},94030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var c=t.plugin.game.loop.time-t.timeDown;return t.isDown&&c<h};p.exports=S},42460:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};p.exports=S},53162:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};p.exports=S},50165:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(6659),l=t(94030),r=new h({Extends:c,initialize:function(e,i){c.call(this),this.plugin=e,this.keyCode=i,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(l.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(l.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(l.UP,this,s))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=r},11873:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=S},48044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11873),c={};for(var l in h)c[h[l]]=l;p.exports=c},70331:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var c=t.plugin.game.loop.time-t.timeUp;return t.isUp&&c<h};p.exports=S},7905:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(90185),l=t(33963),r=t(72283),s=new h({initialize:function(i){this.manager=i,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,i.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(c.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){c.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var i=this,o=this.manager,n=o.canvas,a=window&&window.focus&&o.game.config.autoFocus;this.onMouseMove=function(u){!u.defaultPrevented&&i.enabled&&o&&o.enabled&&(o.onMouseMove(u),i.preventDefaultMove&&u.preventDefault())},this.onMouseDown=function(u){a&&window.focus(),!u.defaultPrevented&&i.enabled&&o&&o.enabled&&(o.onMouseDown(u),i.preventDefaultDown&&u.target===n&&u.preventDefault())},this.onMouseDownWindow=function(u){!u.defaultPrevented&&i.enabled&&o&&o.enabled&&u.target!==n&&o.onMouseDown(u)},this.onMouseUp=function(u){!u.defaultPrevented&&i.enabled&&o&&o.enabled&&(o.onMouseUp(u),i.preventDefaultUp&&u.target===n&&u.preventDefault())},this.onMouseUpWindow=function(u){!u.defaultPrevented&&i.enabled&&o&&o.enabled&&u.target!==n&&o.onMouseUp(u)},this.onMouseOver=function(u){!u.defaultPrevented&&i.enabled&&o&&o.enabled&&o.setCanvasOver(u)},this.onMouseOut=function(u){!u.defaultPrevented&&i.enabled&&o&&o.enabled&&o.setCanvasOut(u)},this.onMouseWheel=function(u){!u.defaultPrevented&&i.enabled&&o&&o.enabled&&o.onMouseWheel(u),i.preventDefaultWheel&&u.target===n&&u.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&o.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}c.pointerLock&&(this.pointerLockChange=function(u){var d=i.target;i.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,o.onPointerLockChange(u)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),c.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},11343:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(7905)}},37579:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(33963),l=t(72283),r=new h({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=l,this.onTouchStartWindow=l,this.onTouchMove=l,this.onTouchEnd=l,this.onTouchEndWindow=l,this.onTouchCancel=l,this.onTouchCancelWindow=l,this.isTop=!0,e.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this.target;if(s){var e=this,i=this.manager,o=i.canvas,n=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){n&&window.focus(),!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchStart(d),e.capture&&d.cancelable&&d.target===o&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&d.target!==o&&i.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchEnd(d),e.capture&&d.cancelable&&d.target===o&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&d.target!==o&&i.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&i.onTouchCancel(d)};var a=this.capture,f={passive:!0},u={passive:!1};if(s.addEventListener("touchstart",this.onTouchStart,a?u:f),s.addEventListener("touchmove",this.onTouchMove,a?u:f),s.addEventListener("touchend",this.onTouchEnd,a?u:f),s.addEventListener("touchcancel",this.onTouchCancel,a?u:f),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,u),window.top.addEventListener("touchend",this.onTouchEndWindow,u),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,u)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,u),window.addEventListener("touchend",this.onTouchEndWindow,u),window.addEventListener("touchcancel",this.onTouchCancelWindow,u),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),window&&(s=this.isTop?window.top:window,s.removeEventListener("touchstart",this.onTouchStartWindow),s.removeEventListener("touchend",this.onTouchEndWindow),s.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},77423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(37579)}},98035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(683),r=t(72632),s=t(30750),e=t(43531),i=t(88490),o=t(33868),n=new h({initialize:function(f,u){if(this.loader=f,this.cache=r(u,"cache",!1),this.type=r(u,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(u,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var v=r(u,"url");v===void 0?v=f.path+d+"."+r(u,"extension",""):typeof v=="string"&&!v.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(v=f.path+v),this.url=v,this.src="",this.xhrSettings=o(r(u,"responseType",void 0)),r(u,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(u,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?c.FILE_POPULATED:c.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(u,"config",{}),this.multiFile,this.linkFile},setLink:function(a){this.linkFile=a,a.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===c.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=c.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=i(this,this.loader.xhr))},onLoad:function(a,f){var u=a.responseURL&&this.loader.localSchemes.some(function(g){return a.responseURL.indexOf(g)===0}),d=u&&f.target.status===0,v=!(f.target&&f.target.status!==200)||d;a.readyState===4&&a.status>=400&&a.status<=599&&(v=!1),this.state=c.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(a){a.lengthComputable&&(this.bytesLoaded=a.loaded,this.bytesTotal=a.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=c.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=c.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=c.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(a){if(this.state!==c.FILE_PENDING_DESTROY){a===void 0&&(a=this.data);var f=this.key,u=this.type;this.loader.emit(l.FILE_COMPLETE,f,u,a),this.loader.emit(l.FILE_KEY_COMPLETE+u+"-"+f,f,u,a),this.loader.flagForRemoval(this),this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(a,f,u){if(typeof URL=="function")a.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){a.removeAttribute("crossOrigin"),a.src="data:"+(f.type||u)+";base64,"+d.result.split(",")[1]},d.onerror=a.onerror,d.readAsDataURL(f)}},n.revokeObjectURL=function(a){typeof URL=="function"&&URL.revokeObjectURL(a.src)},p.exports=n},76846:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(h){for(var c in S)h[c]=S[c]},register:function(h,c){S[h]=c},destroy:function(){S={}}};p.exports=t},30750:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};p.exports=S},67285:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(58403),r=t(6659),s=t(683),e=t(76846),i=t(72632),o=t(10850),n=t(91963),a=t(7599),f=t(33868),u=new h({Extends:r,initialize:function(v){r.call(this);var g=v.sys.game.config,x=v.sys.settings.loader;this.scene=v,this.systems=v.sys,this.cacheManager=v.sys.cache,this.textureManager=v.sys.textures,this.sceneManager=v.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(i(x,"baseURL",g.loaderBaseURL)),this.setPath(i(x,"path",g.loaderPath)),this.setPrefix(i(x,"prefix",g.loaderPrefix)),this.maxParallelDownloads=i(x,"maxParallelDownloads",g.loaderMaxParallelDownloads),this.xhr=f(i(x,"responseType",g.loaderResponseType),i(x,"async",g.loaderAsync),i(x,"user",g.loaderUser),i(x,"password",g.loaderPassword),i(x,"timeout",g.loaderTimeout),i(x,"withCredentials",g.loaderWithCredentials)),this.crossOrigin=i(x,"crossOrigin",g.loaderCrossOrigin),this.imageLoadType=i(x,"imageLoadType",g.loaderImageLoadType),this.localSchemes=i(x,"localScheme",g.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new l,this.inflight=new l,this.queue=new l,this._deleteQueue=new l,this.totalFailed=0,this.totalComplete=0,this.state=c.LOADER_IDLE,this.multiKeyIndex=0,v.sys.events.once(a.BOOT,this.boot,this),v.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var g=d[v];this.keyExists(g)||(this.list.set(g),this.emit(s.ADD,g.key,g.type,this,g),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var v=d.hasCacheConflict();return v||this.list.iterate(function(g){if(g.type===d.type&&g.key===d.key)return v=!0,!1}),!v&&this.isLoading()&&(this.inflight.iterate(function(g){if(g.type===d.type&&g.key===d.key)return v=!0,!1}),this.queue.iterate(function(g){if(g.type===d.type&&g.key===d.key)return v=!0,!1})),v},addPack:function(d,v){if(typeof v=="string"){var g=o(d,v);g&&(d={packKey:g})}var x=0,m=this.baseURL,y=this.path,T=this.prefix;for(var R in d)if(Object.prototype.hasOwnProperty.call(d,R)){var P=d[R],D=i(P,"baseURL",m),O=i(P,"path",y),B=i(P,"prefix",T),G=i(P,"files",null),b=i(P,"defaultType","void");if(Array.isArray(G)){this.setBaseURL(D),this.setPath(O),this.setPrefix(B);for(var k=0;k<G.length;k++){var $=G[k],W=$.hasOwnProperty("type")?$.type:b;this[W]&&(this[W]($),x++)}}}return this.setBaseURL(m),this.setPath(y),this.setPrefix(T),x>0},isLoading:function(){return this.state===c.LOADER_LOADING||this.state===c.LOADER_PROCESSING},isReady:function(){return this.state===c.LOADER_IDLE||this.state===c.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=c.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(a.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===c.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===c.FILE_POPULATED||d.state===c.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,v){this.inflight&&(this.inflight.delete(d),this.updateProgress(),v?(this.totalComplete++,this.queue.set(d),this.emit(s.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(s.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===c.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===c.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=c.LOADER_COMPLETE,this.systems.events.off(a.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,v){return this.save(JSON.stringify(d),v)},save:function(d,v,g){v===void 0&&(v="file.json"),g===void 0&&(g="application/json");var x=new Blob([d],{type:g}),m=URL.createObjectURL(x),y=document.createElement("a");return y.download=v,y.textContent="Download "+v,y.href=m,y.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,v=this.systems.settings.loader;this.setBaseURL(i(v,"baseURL",d.loaderBaseURL)),this.setPath(i(v,"path",d.loaderPath)),this.setPrefix(i(v,"prefix",d.loaderPrefix)),this.state=c.LOADER_IDLE},shutdown:function(){this.reset(),this.state=c.LOADER_SHUTDOWN,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=c.LOADER_DESTROYED,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});n.register("Loader",u,"load"),p.exports=u},43531:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),c=t(33868),l=function(r,s){var e=r===void 0?c():h({},r);if(s)for(var i in s)s[i]!==void 0&&(e[i]=s[i]);return e};p.exports=l},45176:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(683),r=new h({initialize:function(e,i,o,n){var a=[];n.forEach(function(u){u&&a.push(u)}),this.loader=e,this.type=i,this.key=o,this.multiKeyIndex=e.multiKeyIndex++,this.files=a,this.state=c.FILE_PENDING,this.complete=!1,this.pending=a.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var f=0;f<a.length;f++)a[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var e=this.files.indexOf(s);e!==-1&&this.pending--},onFileFailed:function(s){var e=this.files.indexOf(s);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==c.FILE_PENDING_DESTROY){var s=this.key,e=this.type;this.loader.emit(l.FILE_COMPLETE,s,e),this.loader.emit(l.FILE_KEY_COMPLETE+e+"-"+s,s,e),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});p.exports=r},88490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43531),c=function(l,r){var s=h(r,l.xhrSettings),e=new XMLHttpRequest;if(e.open("GET",l.src,s.async,s.user,s.password),e.responseType=l.xhrSettings.responseType,e.timeout=s.timeout,s.headers)for(var i in s.headers)e.setRequestHeader(i,s.headers[i]);return s.header&&s.headerValue&&e.setRequestHeader(s.header,s.headerValue),s.requestedWith&&e.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&e.overrideMimeType(s.overrideMimeType),s.withCredentials&&(e.withCredentials=!0),e.onload=l.onLoad.bind(l,e),e.onerror=l.onError.bind(l,e),e.onprogress=l.onProgress.bind(l),e.send(),e};p.exports=c},33868:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r,s){return t===void 0&&(t=""),h===void 0&&(h=!0),c===void 0&&(c=""),l===void 0&&(l=""),r===void 0&&(r=0),s===void 0&&(s=!1),{responseType:t,async:h,user:c,password:l,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};p.exports=S},12117:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};p.exports=S},7398:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},52187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},36627:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},81925:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},29774:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},20943:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},74693:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},71176:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},88984:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},72753:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},683:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(70806),r=t(683),s=new h({Extends:l,initialize:function(i,o,n,a,f){l.call(this,i,o,n,a,f),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),l.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});c.register("animation",function(e,i,o,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new s(this,e[a]));else this.addFile(new s(this,e,i,n,o));return this}),p.exports=s},31648:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),o=new h({Extends:i,initialize:function(a,f,u,d,v,g){var x,m;if(s(f)){var y=f;f=l(y,"key"),x=new r(a,{key:f,url:l(y,"textureURL"),extension:l(y,"textureExtension","png"),normalMap:l(y,"normalMap"),xhrSettings:l(y,"textureXhrSettings")}),m=new e(a,{key:f,url:l(y,"atlasURL"),extension:l(y,"atlasExtension","json"),xhrSettings:l(y,"atlasXhrSettings")})}else x=new r(a,f,u,v),m=new e(a,f,d,g);x.linkFile?i.call(this,a,"atlasjson",f,[x,m,x.linkFile]):i.call(this,a,"atlasjson",f,[x,m])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,a.data,f),a.addToCache(),this.complete=!0}}});c.register("aseprite",function(n,a,f,u,d){var v;if(Array.isArray(n))for(var g=0;g<n.length;g++)v=new o(this,n[g]),this.addFile(v.files);else v=new o(this,n,a,f,u,d),this.addFile(v.files);return this}),p.exports=o},73152:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),o=new h({Extends:i,initialize:function(a,f,u,d,v,g){var x,m;if(s(f)){var y=f;f=l(y,"key"),x=new r(a,{key:f,url:l(y,"textureURL"),extension:l(y,"textureExtension","png"),normalMap:l(y,"normalMap"),xhrSettings:l(y,"textureXhrSettings")}),m=new e(a,{key:f,url:l(y,"atlasURL"),extension:l(y,"atlasExtension","json"),xhrSettings:l(y,"atlasXhrSettings")})}else x=new r(a,f,u,v),m=new e(a,f,d,g);x.linkFile?i.call(this,a,"atlasjson",f,[x,m,x.linkFile]):i.call(this,a,"atlasjson",f,[x,m])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,a.data,f),this.complete=!0}}});c.register("atlas",function(n,a,f,u,d){var v;if(Array.isArray(n))for(var g=0;g<n.length;g++)v=new o(this,n[g]),this.addFile(v.files);else v=new o(this,n,a,f,u,d),this.addFile(v.files);return this}),p.exports=o},24616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(15297),o=new h({Extends:e,initialize:function(a,f,u,d,v,g){var x,m;if(s(f)){var y=f;f=l(y,"key"),x=new r(a,{key:f,url:l(y,"textureURL"),extension:l(y,"textureExtension","png"),normalMap:l(y,"normalMap"),xhrSettings:l(y,"textureXhrSettings")}),m=new i(a,{key:f,url:l(y,"atlasURL"),extension:l(y,"atlasExtension","xml"),xhrSettings:l(y,"atlasXhrSettings")})}else x=new r(a,f,u,v),m=new i(a,f,d,g);x.linkFile?e.call(this,a,"atlasxml",f,[x,m,x.linkFile]):e.call(this,a,"atlasxml",f,[x,m])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,a.data,f),this.complete=!0}}});c.register("atlasXML",function(n,a,f,u,d){var v;if(Array.isArray(n))for(var g=0;g<n.length;g++)v=new o(this,n[g]),this.addFile(v.files);else v=new o(this,n,a,f,u,d),this.addFile(v.files);return this}),p.exports=o},67448:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(30929),i=t(42911),o=new h({Extends:l,initialize:function(a,f,u,d,v){if(i(f)){var g=f;f=s(g,"key"),d=s(g,"xhrSettings"),v=s(g,"context",v)}var x={type:"audio",cache:a.cacheManager.audio,extension:u.type,responseType:"arraybuffer",key:f,url:u.url,xhrSettings:d,config:{context:v}};l.call(this,a,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(a){n.data=a,n.onProcessComplete()},function(a){console.error("Error decoding audio: "+n.key+" - ",a?a.message:null),n.onProcessError()}),this.config.context=null}});o.create=function(n,a,f,u,d){var v=n.systems.game,g=v.config.audio,x=v.device.audio;i(a)&&(f=s(a,"url",[]),u=s(a,"config",{}));var m=o.getAudioURL(v,f);return m?x.webAudio&&!g.disableWebAudio?new o(n,a,m,d,v.sound.context):new e(n,a,m,u):(console.warn('No audio URLs for "%s" matched this device',a),null)},o.getAudioURL=function(n,a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++){var u=s(a[f],"url",a[f]);if(u.indexOf("blob:")===0||u.indexOf("data:")===0)return{url:u,type:""};var d=u.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=s(a[f],"type",d?d[1]:"").toLowerCase(),n.device.audio[d])return{url:u,type:d}}return null},r.register("audio",function(n,a,f,u){var d=this.systems.game,v=d.config.audio,g=d.device.audio;if(v.noAudio||!g.webAudio&&!g.audioData)return this;var x;if(Array.isArray(n))for(var m=0;m<n.length;m++)x=o.create(this,n[m]),x&&this.addFile(x);else x=o.create(this,n,a,f,u),x&&this.addFile(x);return this}),p.exports=o},66109:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67448),c=t(56694),l=t(76846),r=t(72632),s=t(42911),e=t(70806),i=t(45176),o=new c({Extends:i,initialize:function(a,f,u,d,v,g,x){if(s(f)){var m=f;f=r(m,"key"),u=r(m,"jsonURL"),d=r(m,"audioURL"),v=r(m,"audioConfig"),g=r(m,"audioXhrSettings"),x=r(m,"jsonXhrSettings")}var y;if(!d)y=new e(a,f,u,x),i.call(this,a,"audiosprite",f,[y]),this.config.resourceLoad=!0,this.config.audioConfig=v,this.config.audioXhrSettings=g;else{var T=h.create(a,f,d,v,g);T&&(y=new e(a,f,u,x),i.call(this,a,"audiosprite",f,[T,y]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var a=this.files.indexOf(n);if(a!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var f=n.data.resources,u=r(this.config,"audioConfig"),d=r(this.config,"audioXhrSettings"),v=h.create(this.loader,n.key,f,u,d);v&&(this.addToMultiFile(v),this.loader.addFile(v))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1];n.addToCache(),a.addToCache(),this.complete=!0}}});l.register("audioSprite",function(n,a,f,u,d,v){var g=this.systems.game,x=g.config.audio,m=g.device.audio;if(x&&x.noAudio||!m.webAudio&&!m.audioData)return this;var y;if(Array.isArray(n))for(var T=0;T<n.length;T++)y=new o(this,n[T]),y.files&&this.addFile(y.files);else y=new o(this,n,a,f,u,d,v),y.files&&this.addFile(y.files);return this})},40612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u,d){var v="bin";if(e(a)){var g=a;a=s(g,"key"),f=s(g,"url"),u=s(g,"xhrSettings"),v=s(g,"extension",v),d=s(g,"dataType",d)}var x={type:"binary",cache:n.cacheManager.binary,extension:v,responseType:"arraybuffer",key:a,url:f,xhrSettings:u,config:{dataType:d}};l.call(this,n,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var o=this.config.dataType;this.data=o?new o(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(o,n,a,f){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new i(this,o[u]));else this.addFile(new i(this,o,n,f,a));return this}),p.exports=i},54565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(31476),o=t(15297),n=new h({Extends:e,initialize:function(f,u,d,v,g,x){var m,y;if(s(u)){var T=u;u=l(T,"key"),m=new r(f,{key:u,url:l(T,"textureURL"),extension:l(T,"textureExtension","png"),normalMap:l(T,"normalMap"),xhrSettings:l(T,"textureXhrSettings")}),y=new o(f,{key:u,url:l(T,"fontDataURL"),extension:l(T,"fontDataExtension","xml"),xhrSettings:l(T,"fontDataXhrSettings")})}else m=new r(f,u,d,g),y=new o(f,u,v,x);m.linkFile?e.call(this,f,"bitmapfont",u,[m,y,m.linkFile]):e.call(this,f,"bitmapfont",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],f=this.files[1];a.addToCache();var u=a.cache.get(a.key),d=i(f.data,a.cache.getFrame(a.key),0,0,u);this.loader.cacheManager.bitmapFont.add(a.key,{data:d,texture:a.key,frame:null}),this.complete=!0}}});c.register("bitmapFont",function(a,f,u,d,v){var g;if(Array.isArray(a))for(var x=0;x<a.length;x++)g=new n(this,a[x]),this.addFile(g.files);else g=new n(this,a,f,u,d,v),this.addFile(g.files);return this}),p.exports=n},99898:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u){var d="css";if(e(a)){var v=a;a=s(v,"key"),f=s(v,"url"),u=s(v,"xhrSettings"),d=s(v,"extension",d)}var g={type:"script",cache:!1,extension:d,responseType:"text",key:a,url:f,xhrSettings:u};l.call(this,n,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(o,n,a){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new i(this,o[f]));else this.addFile(new i(this,o,n,a));return this}),p.exports=i},47375:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73152),c=t(40612),l=t(56694),r=t(76846),s=t(72632),e=t(42927),i=t(42911),o=t(70806),n=t(67409),a=t(30657),f=t(80802),u=t(45176),d=t(24904),v=new l({Extends:u,initialize:function(x,m,y,T){if(y.multiAtlasURL){var R=new o(x,{key:m,url:y.multiAtlasURL,xhrSettings:T,config:y});u.call(this,x,"texture",m,[R])}else{var P=y.textureURL.substr(y.textureURL.length-3);y.type||(y.type=P.toLowerCase()==="ktx"?"KTX":"PVR");var D=new c(x,{key:m,url:y.textureURL,extension:P,xhrSettings:T,config:y});if(y.atlasURL){var O=new o(x,{key:m,url:y.atlasURL,xhrSettings:T,config:y});u.call(this,x,"texture",m,[D,O])}else u.call(this,x,"texture",m,[D])}this.config=y},onFileComplete:function(g){var x=this.files.indexOf(g);if(x!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(g.type==="json"&&g.data.hasOwnProperty("textures")){var m=g.data.textures,y=this.config,T=this.loader,R=T.baseURL,P=T.path,D=T.prefix,O=s(y,"multiBaseURL",this.baseURL),B=s(y,"multiPath",this.path),G=s(y,"prefix",this.prefix),b=s(y,"textureXhrSettings");O&&T.setBaseURL(O),B&&T.setPath(B),G&&T.setPrefix(G);for(var k=0;k<m.length;k++){var $=m[k].image,W="CMA"+this.multiKeyIndex+"_"+$,Z=new c(T,W,$,b);if(this.addToMultiFile(Z),T.addFile(Z),m[k].normalMap){var z=new c(T,W,m[k].normalMap,b);z.type="normalMap",Z.setLink(z),this.addToMultiFile(z),T.addFile(z)}}T.setBaseURL(R),T.setPath(P),T.setPrefix(D)}}},addToCache:function(){if(this.isReadyToProcess()){var g=this.config;if(g.multiAtlasURL)this.addMultiToCache();else{var x=this.loader.systems.renderer,m=this.loader.textureManager,y,T=this.files[0],R=this.files[1];if(g.type==="PVR"?y=d(T.data):g.type==="KTX"&&(y=n(T.data)),y&&x.supportsCompressedTexture(g.format,y.internalFormat)){y.format=x.getCompressedTextureName(g.format,y.internalFormat);var P=R&&R.data?R.data:null;m.addCompressedTexture(T.key,y,P)}}this.complete=!0}},addMultiToCache:function(){for(var g=this.config,x=this.files[0],m=[],y=[],T=[],R=this.loader.systems.renderer,P=this.loader.textureManager,D,O=1;O<this.files.length;O++){var B=this.files[O];if(B.type!=="normalMap")for(var G=B.key.indexOf("_"),b=B.key.substr(G+1),k=B.data,$=0;$<x.data.textures.length;$++){var W=x.data.textures[$];if(W.image===b){g.type==="PVR"?D=d(k):g.type==="KTX"&&(D=n(k)),D&&R.supportsCompressedTexture(g.format,D.internalFormat)&&(D.format=R.getCompressedTextureName(g.format,D.internalFormat),y.push(D),m.push(W),B.linkFile&&T.push(B.linkFile.data));break}}}T.length===0&&(T=void 0),P.addAtlasJSONArray(this.key,y,m,T),this.complete=!0}});r.register("texture",function(g,x,m){var y=this.systems.renderer,T=function(P,D,O,B){var G={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(i(D)){var b=D;D=s(b,"key"),O=s(b,"url"),B=s(b,"xhrSettings")}var k=!1;for(var $ in O)if(y.supportsCompressedTexture($)){var W=O[$];typeof W=="string"?G.textureURL=W:G=a(W,G),G.format=$.toUpperCase(),k=!0;break}if(!k)console.warn("No supported compressed texture format or IMG fallback",D);else if(G.format==="IMG"){var Z,z;G.multiAtlasURL?(z=new f(P,D,G.multiAtlasURL,G.multiPath,G.multiBaseURL,B),Z=z.files):G.atlasURL?(z=new h(P,D,G.textureURL,G.atlasURL,B),Z=z.files):Z=new e(P,D,G.textureURL,B),P.addFile(Z)}else{var X=new v(P,D,G,B);P.addFile(X.files)}};if(Array.isArray(g))for(var R=0;R<g.length;R++)T(this,g[R]);else T(this,g,x,m);return this}),p.exports=v},46568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(31053),o=new h({Extends:l,initialize:function(a,f,u,d,v){var g="glsl";if(e(f)){var x=f;f=s(x,"key"),u=s(x,"url"),d=s(x,"shaderType","fragment"),v=s(x,"xhrSettings"),g=s(x,"extension",g)}else d===void 0&&(d="fragment");var m={type:"glsl",cache:a.cacheManager.shader,extension:g,responseType:"text",key:f,url:u,config:{shaderType:d},xhrSettings:v};l.call(this,a,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),a=this.extractBlock(n,0);if(a)for(;a;){var f=this.getShaderName(a.header),u=this.getShaderType(a.header),d=this.getShaderUniforms(a.header),v=a.shader;if(this.cache.has(f)){var g=this.cache.get(f);u==="fragment"?g.fragmentSrc=v:g.vertexSrc=v,g.uniforms||(g.uniforms=d)}else u==="fragment"?this.cache.add(f,new i(f,v,"",d)):this.cache.add(f,new i(f,"",v,d));a=this.extractBlock(n,a.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new i(this.key,this.data)):this.cache.add(this.key,new i(this.key,"",this.data))},getShaderName:function(n){for(var a=0;a<n.length;a++){var f=n[a].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(n){for(var a=0;a<n.length;a++){var f=n[a].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var a={},f=0;f<n.length;f++){var u=n[f].trim();if(u.substring(0,8)==="uniform."){var d=u.indexOf(":");if(d){var v=u.substring(8,d);try{a[v]=JSON.parse(u.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+v)}}}}return a},extractBlock:function(n,a){for(var f=-1,u=-1,d=-1,v=!1,g=!1,x=[],m=[],y=a;y<n.length;y++){var T=n[y].trim();if(T==="---")if(f===-1)f=y,v=!0;else if(v)u=y,v=!1,g=!0;else{g=!1;break}else v?x.push(T):g&&(m.push(T),d=y)}return!v&&u!==-1?{header:x,shader:m.join(`
`),offset:d}:null}});r.register("glsl",function(n,a,f,u){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new o(this,n[d]));else this.addFile(new o(this,n,a,f,u));return this}),p.exports=o},30929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(683),l=t(98035),r=t(72632),s=t(30750),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u){if(e(a)){var d=a;a=r(d,"key"),u=r(d,"config",u)}var v={type:"audio",cache:n.cacheManager.audio,extension:f.type,key:a,url:f.url,config:u};l.call(this,n,v),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var o=0;o<this.data.length;o++){var n=this.data[o];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(o){var n=o.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var o=this.config&&this.config.instances||1;this.filesTotal=o,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<o;n++){var a=new Audio;a.dataset||(a.dataset={}),a.dataset.name=this.key+("0"+n).slice(-2),a.dataset.used="false",this.locked?a.dataset.locked="true":(a.dataset.locked="false",a.preload="auto",a.oncanplaythrough=this.onProgress.bind(this),a.onerror=this.onError.bind(this)),this.data.push(a)}for(n=0;n<this.data.length;n++)a=this.data[n],a.src=s(this,this.loader.baseURL),this.locked||a.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=i},77459:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u){var d="html";if(e(a)){var v=a;a=s(v,"key"),f=s(v,"url"),u=s(v,"xhrSettings"),d=s(v,"extension",d)}var g={type:"text",cache:n.cacheManager.html,extension:d,responseType:"text",key:a,url:f,xhrSettings:u};l.call(this,n,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(o,n,a){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new i(this,o[f]));else this.addFile(new i(this,o,n,a));return this}),p.exports=i},9755:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u,d,v){u===void 0&&(u=512),d===void 0&&(d=512);var g="html";if(e(a)){var x=a;a=s(x,"key"),f=s(x,"url"),v=s(x,"xhrSettings"),g=s(x,"extension",g),u=s(x,"width",u),d=s(x,"height",d)}var m={type:"html",cache:n.textureManager,extension:g,responseType:"text",key:a,url:f,xhrSettings:v,config:{width:u,height:d}};l.call(this,n,m)},onProcess:function(){this.state=c.FILE_PROCESSING;var o=this.config.width,n=this.config.height,a=[];a.push('<svg width="'+o+'px" height="'+n+'px" viewBox="0 0 '+o+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),a.push('<foreignObject width="100%" height="100%">'),a.push('<body xmlns="http://www.w3.org/1999/xhtml">'),a.push(this.xhrLoader.responseText),a.push("</body>"),a.push("</foreignObject>"),a.push("</svg>");var f=[a.join(`
`)],u=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{u.state=c.FILE_ERRORED,u.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){l.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(u.data),u.onProcessError()},l.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(o,n,a,f,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new i(this,o[d]));else this.addFile(new i(this,o,n,a,f,u));return this}),p.exports=i},42927:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(30750),o=new h({Extends:l,initialize:function n(a,f,u,d,v){var g="png",x;if(e(f)){var m=f;f=s(m,"key"),u=s(m,"url"),x=s(m,"normalMap"),d=s(m,"xhrSettings"),g=s(m,"extension",g),v=s(m,"frameConfig")}Array.isArray(u)&&(x=u[1],u=u[0]);var y={type:"image",cache:a.textureManager,extension:g,responseType:"blob",key:f,url:u,xhrSettings:d,config:v};if(l.call(this,a,y),x){var T=new n(a,this.key,x,d,v);T.type="normalMap",this.setLink(T),a.addFile(T)}this.useImageElementLoad=a.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){l.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(n.data),n.onProcessError()},l.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var n=this.state;this.state=c.FILE_PROCESSING,n===c.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=c.FILE_LOADING,this.src=i(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){n.state=c.FILE_LOADED,n.loader.nextFile(n,!0)},this.data.onerror=function(){n.loader.nextFile(n,!1)},this.data.src=this.src}},addToCache:function(){var n=this.linkFile;n?n.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,n.data,this.data):this.cache.addImage(this.key,this.data,n.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(n,a,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new o(this,n[u]));else this.addFile(new o(this,n,a,f));return this}),p.exports=o},70806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(10850),i=t(42911),o=new h({Extends:l,initialize:function(a,f,u,d,v){var g="json";if(i(f)){var x=f;f=s(x,"key"),u=s(x,"url"),d=s(x,"xhrSettings"),g=s(x,"extension",g),v=s(x,"dataKey",v)}var m={type:"json",cache:a.cacheManager.json,extension:g,responseType:"text",key:f,url:u,xhrSettings:d,config:v};l.call(this,a,m),i(u)&&(v?this.data=e(u,v):this.data=u,this.state=c.FILE_POPULATED)},onProcess:function(){if(this.state!==c.FILE_POPULATED){this.state=c.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var a=this.config;typeof a=="string"?this.data=e(n,a,n):this.data=n}this.onProcessComplete()}});r.register("json",function(n,a,f,u){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new o(this,n[d]));else this.addFile(new o(this,n,a,u,f));return this}),p.exports=o},80802:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(72632),r=t(42927),s=t(42911),e=t(70806),i=t(45176),o=new h({Extends:i,initialize:function(a,f,u,d,v,g,x){if(s(f)){var m=f;f=l(m,"key"),l(m,"url",!1)?u=l(m,"url"):u=l(m,"atlasURL"),g=l(m,"xhrSettings"),d=l(m,"path"),v=l(m,"baseURL"),x=l(m,"textureXhrSettings")}var y=new e(a,f,u,g);i.call(this,a,"multiatlas",f,[y]),this.config.path=d,this.config.baseURL=v,this.config.textureXhrSettings=x},onFileComplete:function(n){var a=this.files.indexOf(n);if(a!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var f=n.data.textures,u=this.config,d=this.loader,v=d.baseURL,g=d.path,x=d.prefix,m=l(u,"baseURL",this.baseURL),y=l(u,"path",this.path),T=l(u,"prefix",this.prefix),R=l(u,"textureXhrSettings");d.setBaseURL(m),d.setPath(y),d.setPrefix(T);for(var P=0;P<f.length;P++){var D=f[P].image,O="MA"+this.multiKeyIndex+"_"+D,B=new r(d,O,D,R);if(this.addToMultiFile(B),d.addFile(B),f[P].normalMap){var G=new r(d,O,f[P].normalMap,R);G.type="normalMap",B.setLink(G),this.addToMultiFile(G),d.addFile(G)}}d.setBaseURL(v),d.setPath(g),d.setPrefix(x)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],a=[],f=[],u=[],d=1;d<this.files.length;d++){var v=this.files[d];if(v.type!=="normalMap")for(var g=v.key.indexOf("_"),x=v.key.substr(g+1),m=v.data,y=0;y<n.data.textures.length;y++){var T=n.data.textures[y];if(T.image===x){f.push(m),a.push(T),v.linkFile&&u.push(v.linkFile.data);break}}}u.length===0&&(u=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,a,u),this.complete=!0}}});c.register("multiatlas",function(n,a,f,u,d){var v;if(Array.isArray(n))for(var g=0;g<n.length;g++)v=new o(this,n[g]),this.addFile(v.files);else v=new o(this,n,a,f,u,d),this.addFile(v.files);return this}),p.exports=o},39034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(72632),r=t(42911),s=t(45176),e=t(55188),i=new h({Extends:s,initialize:function(n,a,f,u){var d="js",v=[];if(r(a)){var g=a;a=l(g,"key"),f=l(g,"url"),u=l(g,"xhrSettings"),d=l(g,"extension",d)}Array.isArray(f)||(f=[f]);for(var x=0;x<f.length;x++){var m=new e(n,{key:a+"_"+x.toString(),url:f[x],extension:d,xhrSettings:u});m.onProcess=function(){this.onProcessComplete()},v.push(m)}s.call(this,n,"scripts",a,v)},addToCache:function(){if(this.isReadyToProcess()){for(var o=0;o<this.files.length;o++){var n=this.files[o];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});c.register("scripts",function(o,n,a){var f;if(Array.isArray(o))for(var u=0;u<o.length;u++)f=new i(this,o[u]),this.addFile(f.files);else f=new i(this,o,n,a),this.addFile(f.files);return this}),p.exports=i},85527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(72632),r=t(42911),s=t(45176),e=t(27291),i=t(76799),o=t(86897),n=new h({Extends:s,initialize:function(f,u,d,v,g,x){var m,y,T=f.cacheManager.obj;if(r(u)){var R=u;u=l(R,"key"),m=new o(f,{key:u,type:"obj",cache:T,url:l(R,"url"),extension:l(R,"extension","obj"),xhrSettings:l(R,"xhrSettings"),config:{flipUV:l(R,"flipUV",g)}}),v=l(R,"matURL"),v&&(y=new o(f,{key:u,type:"mat",cache:T,url:v,extension:l(R,"matExtension","mat"),xhrSettings:l(R,"xhrSettings")}))}else m=new o(f,{key:u,url:d,type:"obj",cache:T,extension:"obj",xhrSettings:x,config:{flipUV:g}}),v&&(y=new o(f,{key:u,url:v,type:"mat",cache:T,extension:"mat",xhrSettings:x}));s.call(this,f,"obj",u,[m,y])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],f=this.files[1],u=e(a.data,a.config.flipUV);f&&(u.materials=i(f.data)),a.cache.add(a.key,u),this.complete=!0}}});c.register("obj",function(a,f,u,d,v){var g;if(Array.isArray(a))for(var x=0;x<a.length;x++)g=new n(this,a[x]),this.addFile(g.files);else g=new n(this,a,f,u,d,v),this.addFile(g.files);return this}),p.exports=n},3616:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(76846),r=t(70806),s=new h({Extends:r,initialize:function(i,o,n,a,f){r.call(this,i,o,n,a,f),this.type="packfile"},onProcess:function(){if(this.state!==c.FILE_POPULATED&&(this.state=c.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});l.register("pack",function(e,i,o,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new s(this,e[a]));else this.addFile(new s(this,e,i,n,o));return this}),p.exports=s},12217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u,d,v){var g="js";if(e(a)){var x=a;a=s(x,"key"),f=s(x,"url"),v=s(x,"xhrSettings"),g=s(x,"extension",g),u=s(x,"start"),d=s(x,"mapping")}var m={type:"plugin",cache:!1,extension:g,responseType:"text",key:a,url:f,xhrSettings:v,config:{start:u,mapping:d}};l.call(this,n,m),typeof f=="function"&&(this.data=f,this.state=c.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,n=this.config,a=s(n,"start",!1),f=s(n,"mapping",null);if(this.state===c.FILE_POPULATED)o.install(this.key,this.data,a,f);else{this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var u=o.install(this.key,window[this.key],a,f);(a||f)&&(this.loader.systems[f]=u,this.loader.scene[f]=u)}this.onProcessComplete()}});r.register("plugin",function(o,n,a,f,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new i(this,o[d]));else this.addFile(new i(this,o,n,a,f,u));return this}),p.exports=i},4474:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u,d){var v="svg";if(e(a)){var g=a;a=s(g,"key"),f=s(g,"url"),u=s(g,"svgConfig",{}),d=s(g,"xhrSettings"),v=s(g,"extension",v)}var x={type:"svg",cache:n.textureManager,extension:v,responseType:"text",key:a,url:f,xhrSettings:d,config:{width:s(u,"width"),height:s(u,"height"),scale:s(u,"scale")}};l.call(this,n,x)},onProcess:function(){this.state=c.FILE_PROCESSING;var o=this.xhrLoader.responseText,n=[o],a=this.config.width,f=this.config.height,u=this.config.scale;t:if(a&&f||u){var d=null,v=new DOMParser;d=v.parseFromString(o,"text/xml");var g=d.getElementsByTagName("svg")[0],x=g.hasAttribute("viewBox"),m=parseFloat(g.getAttribute("width")),y=parseFloat(g.getAttribute("height"));if(!x&&m&&y)g.setAttribute("viewBox","0  0 "+m+" "+y);else if(x&&!m&&!y){var T=g.getAttribute("viewBox").split(/\s+|,/);m=T[2],y=T[3]}if(u)if(m&&y)a=m*u,f=y*u;else break t;g.setAttribute("width",a.toString()+"px"),g.setAttribute("height",f.toString()+"px"),n=[new XMLSerializer().serializeToString(g)]}try{var R=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var P=this,D=!1;this.data.onload=function(){D||l.revokeObjectURL(P.data),P.onProcessComplete()},this.data.onerror=function(){D?P.onProcessError():(D=!0,l.revokeObjectURL(P.data),P.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},l.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(o,n,a,f){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new i(this,o[u]));else this.addFile(new i(this,o,n,a,f));return this}),p.exports=i},95171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u){var d="js";if(e(a)){var v=a;a=s(v,"key"),f=s(v,"url"),u=s(v,"xhrSettings"),d=s(v,"extension",d)}var g={type:"text",extension:d,responseType:"text",key:a,url:f,xhrSettings:u};l.call(this,n,g)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(o)),this.complete=!0}});r.register("sceneFile",function(o,n,a){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new i(this,o[f]));else this.addFile(new i(this,o,n,a));return this}),p.exports=i},82458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u,d,v){var g="js";if(e(a)){var x=a;a=s(x,"key"),f=s(x,"url"),v=s(x,"xhrSettings"),g=s(x,"extension",g),u=s(x,"systemKey"),d=s(x,"sceneKey")}var m={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:a,url:f,xhrSettings:v,config:{systemKey:u,sceneKey:d}};l.call(this,n,m),typeof f=="function"&&(this.data=f,this.state=c.FILE_POPULATED)},onProcess:function(){var o=this.loader.systems.plugins,n=this.config,a=this.key,f=s(n,"systemKey",a),u=s(n,"sceneKey",a);this.state===c.FILE_POPULATED?o.installScenePlugin(f,this.data,u,this.loader.scene,!0):(this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),o.installScenePlugin(f,window[this.key],u,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(o,n,a,f,u){if(Array.isArray(o))for(var d=0;d<o.length;d++)this.addFile(new i(this,o[d]));else this.addFile(new i(this,o,n,a,f,u));return this}),p.exports=i},55188:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u,d){var v="js";if(e(a)){var g=a;a=s(g,"key"),f=s(g,"url"),u=s(g,"type","script"),d=s(g,"xhrSettings"),v=s(g,"extension",v)}else u===void 0&&(u="script");var x={type:u,cache:!1,extension:v,responseType:"text",key:a,url:f,xhrSettings:d};l.call(this,n,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(o,n,a,f){if(Array.isArray(o))for(var u=0;u<o.length;u++)this.addFile(new i(this,o[u]));else this.addFile(new i(this,o,n,a,f));return this}),p.exports=i},33536:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(76846),r=t(42927),s=new h({Extends:r,initialize:function(i,o,n,a,f){r.call(this,i,o,n,f,a),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});l.register("spritesheet",function(e,i,o,n){if(Array.isArray(e))for(var a=0;a<e.length;a++)this.addFile(new s(this,e[a]));else this.addFile(new s(this,e,i,o,n));return this}),p.exports=s},86897:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=new h({Extends:l,initialize:function(n,a,f,u){var d="text",v="txt",g=n.cacheManager.text;if(e(a)){var x=a;a=s(x,"key"),f=s(x,"url"),u=s(x,"xhrSettings"),v=s(x,"extension",v),d=s(x,"type",d),g=s(x,"cache",g)}var m={type:d,cache:g,extension:v,responseType:"text",key:a,url:f,xhrSettings:u};l.call(this,n,m)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(o,n,a){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new i(this,o[f]));else this.addFile(new i(this,o,n,a));return this}),p.exports=i},58673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(93560),o=new h({Extends:l,initialize:function(a,f,u,d){var v="csv";if(e(f)){var g=f;f=s(g,"key"),u=s(g,"url"),d=s(g,"xhrSettings"),v=s(g,"extension",v)}var x={type:"tilemapCSV",cache:a.cacheManager.tilemap,extension:v,responseType:"text",key:f,url:u,xhrSettings:d};l.call(this,a,x),this.tilemapFormat=i.CSV},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n)}});r.register("tilemapCSV",function(n,a,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new o(this,n[u]));else this.addFile(new o(this,n,a,f));return this}),p.exports=o},98896:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(70806),r=t(93560),s=new h({Extends:l,initialize:function(i,o,n,a){l.call(this,i,o,n,a),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapImpact",function(e,i,o){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new s(this,e[n]));else this.addFile(new s(this,e,i,o));return this}),p.exports=s},50563:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(70806),r=t(93560),s=new h({Extends:l,initialize:function(i,o,n,a){l.call(this,i,o,n,a),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapTiledJSON",function(e,i,o){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new s(this,e[n]));else this.addFile(new s(this,e,i,o));return this}),p.exports=s},82857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(76846),l=t(72632),r=t(42927),s=t(42911),e=t(45176),i=t(86897),o=new h({Extends:e,initialize:function(a,f,u,d,v,g){var x,m;if(s(f)){var y=f;f=l(y,"key"),x=new r(a,{key:f,url:l(y,"textureURL"),extension:l(y,"textureExtension","png"),normalMap:l(y,"normalMap"),xhrSettings:l(y,"textureXhrSettings")}),m=new i(a,{key:f,url:l(y,"atlasURL"),extension:l(y,"atlasExtension","txt"),xhrSettings:l(y,"atlasXhrSettings")})}else x=new r(a,f,u,v),m=new i(a,f,d,g);x.linkFile?e.call(this,a,"unityatlas",f,[x,m,x.linkFile]):e.call(this,a,"unityatlas",f,[x,m])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],a=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,a.data,f),this.complete=!0}}});c.register("unityAtlas",function(n,a,f,u,d){var v;if(Array.isArray(n))for(var g=0;g<n.length;g++)v=new o(this,n[g]),this.addFile(v.files);else v=new o(this,n,a,f,u,d),this.addFile(v.files);return this}),p.exports=o},22833:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(30750),e=t(72632),i=t(42911),o=new h({Extends:l,initialize:function(a,f,u,d){if(d===void 0&&(d=!1),i(f)){var v=f;f=e(v,"key"),u=e(v,"url",[]),d=e(v,"noAudio",!1)}var g=a.systems.game.device.video.getVideoURL(u);g||console.warn("VideoFile: No supported format for "+f);var x={type:"video",cache:a.cacheManager.video,extension:g.type,key:f,url:g.url,config:{noAudio:d}};l.call(this,a,x)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=s(this,this.loader.baseURL),this.state=c.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(n,a,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new o(this,n[u]));else this.addFile(new o(this,n,a,f));return this}),p.exports=o},15297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12117),l=t(98035),r=t(76846),s=t(72632),e=t(42911),i=t(89200),o=new h({Extends:l,initialize:function(a,f,u,d){var v="xml";if(e(f)){var g=f;f=s(g,"key"),u=s(g,"url"),d=s(g,"xhrSettings"),v=s(g,"extension",v)}var x={type:"xml",cache:a.cacheManager.xml,extension:v,responseType:"text",key:f,url:u,xhrSettings:d};l.call(this,a,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=i(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(n,a,f){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new o(this,n[u]));else this.addFile(new o(this,n,a,f));return this}),p.exports=o},34034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12117),c=t(98611),l={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};l=c(!1,l,h),p.exports=l},26042:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0,c=0;c<t.length;c++)h+=+t[c];return h/t.length};p.exports=S},22824:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8034),c=function(l,r){return h(l)/h(r)/h(l-r)};p.exports=c},17489:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};p.exports=S},14976:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r){var s=(l-h)*.5,e=(r-c)*.5,i=t*t,o=t*i;return(2*c-2*l+s+e)*o+(-3*c+3*l-2*s-e)*i+s*t+c};p.exports=S},89129:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){h===void 0&&(h=0),c===void 0&&(c=10);var l=Math.pow(c,-h);return Math.ceil(t*l)/l};p.exports=S},82897:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return Math.max(h,Math.min(c,t))};p.exports=S},75606:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=function(l){return l*h.DEG_TO_RAD};p.exports=c},767:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.abs(t-h)};p.exports=S},9849:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(16650),r=t(72283),s=new l,e=new c({initialize:function i(o,n,a,f){o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f=i.DefaultOrder),this._x=o,this._y=n,this._z=a,this._order=f,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(i){this._x=i,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(i){this._y=i,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(i){this._z=i,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(i){this._order=i,this.onChangeCallback(this)}},set:function(i,o,n,a){return a===void 0&&(a=this._order),this._x=i,this._y=o,this._z=n,this._order=a,this.onChangeCallback(this),this},copy:function(i){return this.set(i.x,i.y,i.z,i.order)},setFromQuaternion:function(i,o,n){return o===void 0&&(o=this._order),n===void 0&&(n=!1),s.fromQuat(i),this.setFromRotationMatrix(s,o,n)},setFromRotationMatrix:function(i,o,n){o===void 0&&(o=this._order),n===void 0&&(n=!1);var a=i.val,f=a[0],u=a[4],d=a[8],v=a[1],g=a[5],x=a[9],m=a[2],y=a[6],T=a[10],R=0,P=0,D=0,O=.99999;switch(o){case"XYZ":{P=Math.asin(h(d,-1,1)),Math.abs(d)<O?(R=Math.atan2(-x,T),D=Math.atan2(-u,f)):R=Math.atan2(y,g);break}case"YXZ":{R=Math.asin(-h(x,-1,1)),Math.abs(x)<O?(P=Math.atan2(d,T),D=Math.atan2(v,g)):P=Math.atan2(-m,f);break}case"ZXY":{R=Math.asin(h(y,-1,1)),Math.abs(y)<O?(P=Math.atan2(-m,T),D=Math.atan2(-u,g)):D=Math.atan2(v,f);break}case"ZYX":{P=Math.asin(-h(m,-1,1)),Math.abs(m)<O?(R=Math.atan2(y,T),D=Math.atan2(v,f)):D=Math.atan2(-u,g);break}case"YZX":{D=Math.asin(h(v,-1,1)),Math.abs(v)<O?(R=Math.atan2(-x,g),P=Math.atan2(-m,f)):P=Math.atan2(d,T);break}case"XZY":{D=Math.asin(-h(u,-1,1)),Math.abs(u)<O?(R=Math.atan2(y,g),P=Math.atan2(d,f)):R=Math.atan2(-x,T);break}}return this._x=R,this._y=P,this._z=D,this._order=o,n&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",p.exports=e},8034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};p.exports=S},61616:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.random()*(h-t)+t};p.exports=S},60679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){h===void 0&&(h=0),c===void 0&&(c=10);var l=Math.pow(c,-h);return Math.floor(t*l)/l};p.exports=S},91806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=function(l,r,s){return l=h(l,0,1),(s-r)*l+r};p.exports=c},79366:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t/h/1e3};p.exports=S},43776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};p.exports=S},58442:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};p.exports=S},42798:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return(h-t)*c+t};p.exports=S},61072:p=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return c===void 0&&(c=0),t.clone().lerp(h,c)};p.exports=S},5341:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new c(this)},set:function(l){return this.copy(l)},copy:function(l){var r=this.val,s=l.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this},fromMat4:function(l){var r=l.val,s=this.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[4],s[4]=r[5],s[5]=r[6],s[6]=r[8],s[7]=r[9],s[8]=r[10],this},fromArray:function(l){var r=this.val;return r[0]=l[0],r[1]=l[1],r[2]=l[2],r[3]=l[3],r[4]=l[4],r[5]=l[5],r[6]=l[6],r[7]=l[7],r[8]=l[8],this},identity:function(){var l=this.val;return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=0,l[8]=1,this},transpose:function(){var l=this.val,r=l[1],s=l[2],e=l[5];return l[1]=l[3],l[2]=l[6],l[3]=r,l[5]=l[7],l[6]=s,l[7]=e,this},invert:function(){var l=this.val,r=l[0],s=l[1],e=l[2],i=l[3],o=l[4],n=l[5],a=l[6],f=l[7],u=l[8],d=u*o-n*f,v=-u*i+n*a,g=f*i-o*a,x=r*d+s*v+e*g;return x?(x=1/x,l[0]=d*x,l[1]=(-u*s+e*f)*x,l[2]=(n*s-e*o)*x,l[3]=v*x,l[4]=(u*r-e*a)*x,l[5]=(-n*r+e*i)*x,l[6]=g*x,l[7]=(-f*r+s*a)*x,l[8]=(o*r-s*i)*x,this):null},adjoint:function(){var l=this.val,r=l[0],s=l[1],e=l[2],i=l[3],o=l[4],n=l[5],a=l[6],f=l[7],u=l[8];return l[0]=o*u-n*f,l[1]=e*f-s*u,l[2]=s*n-e*o,l[3]=n*a-i*u,l[4]=r*u-e*a,l[5]=e*i-r*n,l[6]=i*f-o*a,l[7]=s*a-r*f,l[8]=r*o-s*i,this},determinant:function(){var l=this.val,r=l[0],s=l[1],e=l[2],i=l[3],o=l[4],n=l[5],a=l[6],f=l[7],u=l[8];return r*(u*o-n*f)+s*(-u*i+n*a)+e*(f*i-o*a)},multiply:function(l){var r=this.val,s=r[0],e=r[1],i=r[2],o=r[3],n=r[4],a=r[5],f=r[6],u=r[7],d=r[8],v=l.val,g=v[0],x=v[1],m=v[2],y=v[3],T=v[4],R=v[5],P=v[6],D=v[7],O=v[8];return r[0]=g*s+x*o+m*f,r[1]=g*e+x*n+m*u,r[2]=g*i+x*a+m*d,r[3]=y*s+T*o+R*f,r[4]=y*e+T*n+R*u,r[5]=y*i+T*a+R*d,r[6]=P*s+D*o+O*f,r[7]=P*e+D*n+O*u,r[8]=P*i+D*a+O*d,this},translate:function(l){var r=this.val,s=l.x,e=l.y;return r[6]=s*r[0]+e*r[3]+r[6],r[7]=s*r[1]+e*r[4]+r[7],r[8]=s*r[2]+e*r[5]+r[8],this},rotate:function(l){var r=this.val,s=r[0],e=r[1],i=r[2],o=r[3],n=r[4],a=r[5],f=Math.sin(l),u=Math.cos(l);return r[0]=u*s+f*o,r[1]=u*e+f*n,r[2]=u*i+f*a,r[3]=u*o-f*s,r[4]=u*n-f*e,r[5]=u*a-f*i,this},scale:function(l){var r=this.val,s=l.x,e=l.y;return r[0]=s*r[0],r[1]=s*r[1],r[2]=s*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(l){var r=l.x,s=l.y,e=l.z,i=l.w,o=r+r,n=s+s,a=e+e,f=r*o,u=r*n,d=r*a,v=s*n,g=s*a,x=e*a,m=i*o,y=i*n,T=i*a,R=this.val;return R[0]=1-(v+x),R[3]=u+T,R[6]=d-y,R[1]=u-T,R[4]=1-(f+x),R[7]=g+m,R[2]=d+y,R[5]=g-m,R[8]=1-(f+v),this},normalFromMat4:function(l){var r=l.val,s=this.val,e=r[0],i=r[1],o=r[2],n=r[3],a=r[4],f=r[5],u=r[6],d=r[7],v=r[8],g=r[9],x=r[10],m=r[11],y=r[12],T=r[13],R=r[14],P=r[15],D=e*f-i*a,O=e*u-o*a,B=e*d-n*a,G=i*u-o*f,b=i*d-n*f,k=o*d-n*u,$=v*T-g*y,W=v*R-x*y,Z=v*P-m*y,z=g*R-x*T,X=g*P-m*T,w=x*P-m*R,V=D*w-O*X+B*z+G*Z-b*W+k*$;return V?(V=1/V,s[0]=(f*w-u*X+d*z)*V,s[1]=(u*Z-a*w-d*W)*V,s[2]=(a*X-f*Z+d*$)*V,s[3]=(o*X-i*w-n*z)*V,s[4]=(e*w-o*Z+n*W)*V,s[5]=(i*Z-e*X-n*$)*V,s[6]=(T*k-R*b+P*G)*V,s[7]=(R*B-y*k-P*O)*V,s[8]=(y*b-T*B+P*D)*V,this):null}});p.exports=c},16650:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(70015),l=1e-6,r=new h({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new r(this)},set:function(a){return this.copy(a)},setValues:function(a,f,u,d,v,g,x,m,y,T,R,P,D,O,B,G){var b=this.val;return b[0]=a,b[1]=f,b[2]=u,b[3]=d,b[4]=v,b[5]=g,b[6]=x,b[7]=m,b[8]=y,b[9]=T,b[10]=R,b[11]=P,b[12]=D,b[13]=O,b[14]=B,b[15]=G,this},copy:function(a){var f=a.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(a){return this.setValues(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(a,f,u){var d=s.fromQuat(u),v=d.val,g=f.x,x=f.y,m=f.z;return this.setValues(v[0]*g,v[1]*g,v[2]*g,0,v[4]*x,v[5]*x,v[6]*x,0,v[8]*m,v[9]*m,v[10]*m,0,a.x,a.y,a.z,1)},xyz:function(a,f,u){this.identity();var d=this.val;return d[12]=a,d[13]=f,d[14]=u,this},scaling:function(a,f,u){this.zero();var d=this.val;return d[0]=a,d[5]=f,d[10]=u,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var a=this.val,f=a[1],u=a[2],d=a[3],v=a[6],g=a[7],x=a[11];return a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=f,a[6]=a[9],a[7]=a[13],a[8]=u,a[9]=v,a[11]=a[14],a[12]=d,a[13]=g,a[14]=x,this},getInverse:function(a){return this.copy(a),this.invert()},invert:function(){var a=this.val,f=a[0],u=a[1],d=a[2],v=a[3],g=a[4],x=a[5],m=a[6],y=a[7],T=a[8],R=a[9],P=a[10],D=a[11],O=a[12],B=a[13],G=a[14],b=a[15],k=f*x-u*g,$=f*m-d*g,W=f*y-v*g,Z=u*m-d*x,z=u*y-v*x,X=d*y-v*m,w=T*B-R*O,V=T*G-P*O,Y=T*b-D*O,j=R*G-P*B,J=R*b-D*B,_=P*b-D*G,tt=k*_-$*J+W*j+Z*Y-z*V+X*w;return tt?(tt=1/tt,this.setValues((x*_-m*J+y*j)*tt,(d*J-u*_-v*j)*tt,(B*X-G*z+b*Z)*tt,(P*z-R*X-D*Z)*tt,(m*Y-g*_-y*V)*tt,(f*_-d*Y+v*V)*tt,(G*W-O*X-b*$)*tt,(T*X-P*W+D*$)*tt,(g*J-x*Y+y*w)*tt,(u*Y-f*J-v*w)*tt,(O*z-B*W+b*k)*tt,(R*W-T*z-D*k)*tt,(x*V-g*j-m*w)*tt,(f*j-u*V+d*w)*tt,(B*$-O*Z-G*k)*tt,(T*Z-R*$+P*k)*tt)):this},adjoint:function(){var a=this.val,f=a[0],u=a[1],d=a[2],v=a[3],g=a[4],x=a[5],m=a[6],y=a[7],T=a[8],R=a[9],P=a[10],D=a[11],O=a[12],B=a[13],G=a[14],b=a[15];return this.setValues(x*(P*b-D*G)-R*(m*b-y*G)+B*(m*D-y*P),-(u*(P*b-D*G)-R*(d*b-v*G)+B*(d*D-v*P)),u*(m*b-y*G)-x*(d*b-v*G)+B*(d*y-v*m),-(u*(m*D-y*P)-x*(d*D-v*P)+R*(d*y-v*m)),-(g*(P*b-D*G)-T*(m*b-y*G)+O*(m*D-y*P)),f*(P*b-D*G)-T*(d*b-v*G)+O*(d*D-v*P),-(f*(m*b-y*G)-g*(d*b-v*G)+O*(d*y-v*m)),f*(m*D-y*P)-g*(d*D-v*P)+T*(d*y-v*m),g*(R*b-D*B)-T*(x*b-y*B)+O*(x*D-y*R),-(f*(R*b-D*B)-T*(u*b-v*B)+O*(u*D-v*R)),f*(x*b-y*B)-g*(u*b-v*B)+O*(u*y-v*x),-(f*(x*D-y*R)-g*(u*D-v*R)+T*(u*y-v*x)),-(g*(R*G-P*B)-T*(x*G-m*B)+O*(x*P-m*R)),f*(R*G-P*B)-T*(u*G-d*B)+O*(u*P-d*R),-(f*(x*G-m*B)-g*(u*G-d*B)+O*(u*m-d*x)),f*(x*P-m*R)-g*(u*P-d*R)+T*(u*m-d*x))},determinant:function(){var a=this.val,f=a[0],u=a[1],d=a[2],v=a[3],g=a[4],x=a[5],m=a[6],y=a[7],T=a[8],R=a[9],P=a[10],D=a[11],O=a[12],B=a[13],G=a[14],b=a[15],k=f*x-u*g,$=f*m-d*g,W=f*y-v*g,Z=u*m-d*x,z=u*y-v*x,X=d*y-v*m,w=T*B-R*O,V=T*G-P*O,Y=T*b-D*O,j=R*G-P*B,J=R*b-D*B,_=P*b-D*G;return k*_-$*J+W*j+Z*Y-z*V+X*w},multiply:function(a){var f=this.val,u=f[0],d=f[1],v=f[2],g=f[3],x=f[4],m=f[5],y=f[6],T=f[7],R=f[8],P=f[9],D=f[10],O=f[11],B=f[12],G=f[13],b=f[14],k=f[15],$=a.val,W=$[0],Z=$[1],z=$[2],X=$[3];return f[0]=W*u+Z*x+z*R+X*B,f[1]=W*d+Z*m+z*P+X*G,f[2]=W*v+Z*y+z*D+X*b,f[3]=W*g+Z*T+z*O+X*k,W=$[4],Z=$[5],z=$[6],X=$[7],f[4]=W*u+Z*x+z*R+X*B,f[5]=W*d+Z*m+z*P+X*G,f[6]=W*v+Z*y+z*D+X*b,f[7]=W*g+Z*T+z*O+X*k,W=$[8],Z=$[9],z=$[10],X=$[11],f[8]=W*u+Z*x+z*R+X*B,f[9]=W*d+Z*m+z*P+X*G,f[10]=W*v+Z*y+z*D+X*b,f[11]=W*g+Z*T+z*O+X*k,W=$[12],Z=$[13],z=$[14],X=$[15],f[12]=W*u+Z*x+z*R+X*B,f[13]=W*d+Z*m+z*P+X*G,f[14]=W*v+Z*y+z*D+X*b,f[15]=W*g+Z*T+z*O+X*k,this},multiplyLocal:function(a){var f=this.val,u=a.val;return this.setValues(f[0]*u[0]+f[1]*u[4]+f[2]*u[8]+f[3]*u[12],f[0]*u[1]+f[1]*u[5]+f[2]*u[9]+f[3]*u[13],f[0]*u[2]+f[1]*u[6]+f[2]*u[10]+f[3]*u[14],f[0]*u[3]+f[1]*u[7]+f[2]*u[11]+f[3]*u[15],f[4]*u[0]+f[5]*u[4]+f[6]*u[8]+f[7]*u[12],f[4]*u[1]+f[5]*u[5]+f[6]*u[9]+f[7]*u[13],f[4]*u[2]+f[5]*u[6]+f[6]*u[10]+f[7]*u[14],f[4]*u[3]+f[5]*u[7]+f[6]*u[11]+f[7]*u[15],f[8]*u[0]+f[9]*u[4]+f[10]*u[8]+f[11]*u[12],f[8]*u[1]+f[9]*u[5]+f[10]*u[9]+f[11]*u[13],f[8]*u[2]+f[9]*u[6]+f[10]*u[10]+f[11]*u[14],f[8]*u[3]+f[9]*u[7]+f[10]*u[11]+f[11]*u[15],f[12]*u[0]+f[13]*u[4]+f[14]*u[8]+f[15]*u[12],f[12]*u[1]+f[13]*u[5]+f[14]*u[9]+f[15]*u[13],f[12]*u[2]+f[13]*u[6]+f[14]*u[10]+f[15]*u[14],f[12]*u[3]+f[13]*u[7]+f[14]*u[11]+f[15]*u[15])},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,f){var u=a.val,d=f.val,v=u[0],g=u[4],x=u[8],m=u[12],y=u[1],T=u[5],R=u[9],P=u[13],D=u[2],O=u[6],B=u[10],G=u[14],b=u[3],k=u[7],$=u[11],W=u[15],Z=d[0],z=d[4],X=d[8],w=d[12],V=d[1],Y=d[5],j=d[9],J=d[13],_=d[2],tt=d[6],it=d[10],st=d[14],ot=d[3],ht=d[7],ct=d[11],ft=d[15];return this.setValues(v*Z+g*V+x*_+m*ot,y*Z+T*V+R*_+P*ot,D*Z+O*V+B*_+G*ot,b*Z+k*V+$*_+W*ot,v*z+g*Y+x*tt+m*ht,y*z+T*Y+R*tt+P*ht,D*z+O*Y+B*tt+G*ht,b*z+k*Y+$*tt+W*ht,v*X+g*j+x*it+m*ct,y*X+T*j+R*it+P*ct,D*X+O*j+B*it+G*ct,b*X+k*j+$*it+W*ct,v*w+g*J+x*st+m*ft,y*w+T*J+R*st+P*ft,D*w+O*J+B*st+G*ft,b*w+k*J+$*st+W*ft)},translate:function(a){return this.translateXYZ(a.x,a.y,a.z)},translateXYZ:function(a,f,u){var d=this.val;return d[12]=d[0]*a+d[4]*f+d[8]*u+d[12],d[13]=d[1]*a+d[5]*f+d[9]*u+d[13],d[14]=d[2]*a+d[6]*f+d[10]*u+d[14],d[15]=d[3]*a+d[7]*f+d[11]*u+d[15],this},scale:function(a){return this.scaleXYZ(a.x,a.y,a.z)},scaleXYZ:function(a,f,u){var d=this.val;return d[0]=d[0]*a,d[1]=d[1]*a,d[2]=d[2]*a,d[3]=d[3]*a,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*u,d[9]=d[9]*u,d[10]=d[10]*u,d[11]=d[11]*u,this},makeRotationAxis:function(a,f){var u=Math.cos(f),d=Math.sin(f),v=1-u,g=a.x,x=a.y,m=a.z,y=v*g,T=v*x;return this.setValues(y*g+u,y*x-d*m,y*m+d*x,0,y*x+d*m,T*x+u,T*m-d*g,0,y*m-d*x,T*m+d*g,v*m*m+u,0,0,0,0,1)},rotate:function(a,f){var u=this.val,d=f.x,v=f.y,g=f.z,x=Math.sqrt(d*d+v*v+g*g);if(Math.abs(x)<l)return this;x=1/x,d*=x,v*=x,g*=x;var m=Math.sin(a),y=Math.cos(a),T=1-y,R=u[0],P=u[1],D=u[2],O=u[3],B=u[4],G=u[5],b=u[6],k=u[7],$=u[8],W=u[9],Z=u[10],z=u[11],X=u[12],w=u[13],V=u[14],Y=u[15],j=d*d*T+y,J=v*d*T+g*m,_=g*d*T-v*m,tt=d*v*T-g*m,it=v*v*T+y,st=g*v*T+d*m,ot=d*g*T+v*m,ht=v*g*T-d*m,ct=g*g*T+y;return this.setValues(R*j+B*J+$*_,P*j+G*J+W*_,D*j+b*J+Z*_,O*j+k*J+z*_,R*tt+B*it+$*st,P*tt+G*it+W*st,D*tt+b*it+Z*st,O*tt+k*it+z*st,R*ot+B*ht+$*ct,P*ot+G*ht+W*ct,D*ot+b*ht+Z*ct,O*ot+k*ht+z*ct,X,w,V,Y)},rotateX:function(a){var f=this.val,u=Math.sin(a),d=Math.cos(a),v=f[4],g=f[5],x=f[6],m=f[7],y=f[8],T=f[9],R=f[10],P=f[11];return f[4]=v*d+y*u,f[5]=g*d+T*u,f[6]=x*d+R*u,f[7]=m*d+P*u,f[8]=y*d-v*u,f[9]=T*d-g*u,f[10]=R*d-x*u,f[11]=P*d-m*u,this},rotateY:function(a){var f=this.val,u=Math.sin(a),d=Math.cos(a),v=f[0],g=f[1],x=f[2],m=f[3],y=f[8],T=f[9],R=f[10],P=f[11];return f[0]=v*d-y*u,f[1]=g*d-T*u,f[2]=x*d-R*u,f[3]=m*d-P*u,f[8]=v*u+y*d,f[9]=g*u+T*d,f[10]=x*u+R*d,f[11]=m*u+P*d,this},rotateZ:function(a){var f=this.val,u=Math.sin(a),d=Math.cos(a),v=f[0],g=f[1],x=f[2],m=f[3],y=f[4],T=f[5],R=f[6],P=f[7];return f[0]=v*d+y*u,f[1]=g*d+T*u,f[2]=x*d+R*u,f[3]=m*d+P*u,f[4]=y*d-v*u,f[5]=T*d-g*u,f[6]=R*d-x*u,f[7]=P*d-m*u,this},fromRotationTranslation:function(a,f){var u=a.x,d=a.y,v=a.z,g=a.w,x=u+u,m=d+d,y=v+v,T=u*x,R=u*m,P=u*y,D=d*m,O=d*y,B=v*y,G=g*x,b=g*m,k=g*y;return this.setValues(1-(D+B),R+k,P-b,0,R-k,1-(T+B),O+G,0,P+b,O-G,1-(T+D),0,f.x,f.y,f.z,1)},fromQuat:function(a){var f=a.x,u=a.y,d=a.z,v=a.w,g=f+f,x=u+u,m=d+d,y=f*g,T=f*x,R=f*m,P=u*x,D=u*m,O=d*m,B=v*g,G=v*x,b=v*m;return this.setValues(1-(P+O),T+b,R-G,0,T-b,1-(y+O),D+B,0,R+G,D-B,1-(y+P),0,0,0,0,1)},frustum:function(a,f,u,d,v,g){var x=1/(f-a),m=1/(d-u),y=1/(v-g);return this.setValues(v*2*x,0,0,0,0,v*2*m,0,0,(f+a)*x,(d+u)*m,(g+v)*y,-1,0,0,g*v*2*y,0)},perspective:function(a,f,u,d){var v=1/Math.tan(a/2),g=1/(u-d);return this.setValues(v/f,0,0,0,0,v,0,0,0,0,(d+u)*g,-1,0,0,2*d*u*g,0)},perspectiveLH:function(a,f,u,d){return this.setValues(2*u/a,0,0,0,0,2*u/f,0,0,0,0,-d/(u-d),1,0,0,u*d/(u-d),0)},ortho:function(a,f,u,d,v,g){var x=a-f,m=u-d,y=v-g;return x=x===0?x:1/x,m=m===0?m:1/m,y=y===0?y:1/y,this.setValues(-2*x,0,0,0,0,-2*m,0,0,0,0,2*y,0,(a+f)*x,(d+u)*m,(g+v)*y,1)},lookAtRH:function(a,f,u){var d=this.val;return n.subVectors(a,f),n.getLengthSquared()===0&&(n.z=1),n.normalize(),i.crossVectors(u,n),i.getLengthSquared()===0&&(Math.abs(u.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),i.crossVectors(u,n)),i.normalize(),o.crossVectors(n,i),d[0]=i.x,d[1]=i.y,d[2]=i.z,d[4]=o.x,d[5]=o.y,d[6]=o.z,d[8]=n.x,d[9]=n.y,d[10]=n.z,this},lookAt:function(a,f,u){var d=a.x,v=a.y,g=a.z,x=u.x,m=u.y,y=u.z,T=f.x,R=f.y,P=f.z;if(Math.abs(d-T)<l&&Math.abs(v-R)<l&&Math.abs(g-P)<l)return this.identity();var D=d-T,O=v-R,B=g-P,G=1/Math.sqrt(D*D+O*O+B*B);D*=G,O*=G,B*=G;var b=m*B-y*O,k=y*D-x*B,$=x*O-m*D;G=Math.sqrt(b*b+k*k+$*$),G?(G=1/G,b*=G,k*=G,$*=G):(b=0,k=0,$=0);var W=O*$-B*k,Z=B*b-D*$,z=D*k-O*b;return G=Math.sqrt(W*W+Z*Z+z*z),G?(G=1/G,W*=G,Z*=G,z*=G):(W=0,Z=0,z=0),this.setValues(b,W,D,0,k,Z,O,0,$,z,B,0,-(b*d+k*v+$*g),-(W*d+Z*v+z*g),-(D*d+O*v+B*g),1)},yawPitchRoll:function(a,f,u){this.zero(),s.zero(),e.zero();var d=this.val,v=s.val,g=e.val,x=Math.sin(u),m=Math.cos(u);return d[10]=1,d[15]=1,d[0]=m,d[1]=x,d[4]=-x,d[5]=m,x=Math.sin(f),m=Math.cos(f),v[0]=1,v[15]=1,v[5]=m,v[10]=m,v[9]=-x,v[6]=x,x=Math.sin(a),m=Math.cos(a),g[5]=1,g[15]=1,g[0]=m,g[2]=-x,g[8]=x,g[10]=m,this.multiplyLocal(s),this.multiplyLocal(e),this},setWorldMatrix:function(a,f,u,d,v){return this.yawPitchRoll(a.y,a.x,a.z),s.scaling(u.x,u.y,u.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(s),this.multiplyLocal(e),d&&this.multiplyLocal(d),v&&this.multiplyLocal(v),this},multiplyToMat4:function(a,f){var u=this.val,d=a.val,v=u[0],g=u[1],x=u[2],m=u[3],y=u[4],T=u[5],R=u[6],P=u[7],D=u[8],O=u[9],B=u[10],G=u[11],b=u[12],k=u[13],$=u[14],W=u[15],Z=d[0],z=d[1],X=d[2],w=d[3],V=d[4],Y=d[5],j=d[6],J=d[7],_=d[8],tt=d[9],it=d[10],st=d[11],ot=d[12],ht=d[13],ct=d[14],ft=d[15];return f.setValues(Z*v+z*y+X*D+w*b,z*g+z*T+X*O+w*k,X*x+z*R+X*B+w*$,w*m+z*P+X*G+w*W,V*v+Y*y+j*D+J*b,V*g+Y*T+j*O+J*k,V*x+Y*R+j*B+J*$,V*m+Y*P+j*G+J*W,_*v+tt*y+it*D+st*b,_*g+tt*T+it*O+st*k,_*x+tt*R+it*B+st*$,_*m+tt*P+it*G+st*W,ot*v+ht*y+ct*D+ft*b,ot*g+ht*T+ct*O+ft*k,ot*x+ht*R+ct*B+ft*$,ot*m+ht*P+ct*G+ft*W)},fromRotationXYTranslation:function(a,f,u){var d=f.x,v=f.y,g=f.z,x=Math.sin(a.x),m=Math.cos(a.x),y=Math.sin(a.y),T=Math.cos(a.y),R=d,P=v,D=g,O=-x,B=0-O*y,G=0-m*y,b=O*T,k=m*T;return u||(R=T*d+y*g,P=B*d+m*v+b*g,D=G*d+x*v+k*g),this.setValues(T,B,G,0,0,m,x,0,y,b,k,0,R,P,D,1)},getMaxScaleOnAxis:function(){var a=this.val,f=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],u=a[4]*a[4]+a[5]*a[5]+a[6]*a[6],d=a[8]*a[8]+a[9]*a[9]+a[10]*a[10];return Math.sqrt(Math.max(f,u,d))}}),s=new r,e=new r,i=new c,o=new c,n=new c;p.exports=r},69635:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return Math.min(t+h,c)};p.exports=S},37394:p=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.length;if(h===0)return 0;t.sort(function(l,r){return l-r});var c=Math.floor(h/2);return h%2===0?(t[c]+t[c-1])/2:t[c]};p.exports=S},17259:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return Math.max(t-h,c)};p.exports=S},61820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){c===void 0&&(c=h+1);var r=(t-h)/(c-h);return r>1?l!==void 0?(r=(l-t)/(l-c),r<0&&(r=0)):r=1:r<0&&(r=0),r};p.exports=S},75003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(5341),l=t(72283),r=t(70015),s=1e-6,e=new Int8Array([1,2,0]),i=new Float32Array([0,0,0]),o=new r(1,0,0),n=new r(0,1,0),a=new r,f=new c,u=new h({initialize:function(v,g,x,m){this.onChangeCallback=l,this.set(v,g,x,m)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,v,g,x,m){return m===void 0&&(m=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=v||0,this._z=g||0,this._w=x||0),m&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,v=this.y,g=this.z,x=this.w;return Math.sqrt(d*d+v*v+g*g+x*x)},lengthSq:function(){var d=this.x,v=this.y,g=this.z,x=this.w;return d*d+v*v+g*g+x*x},normalize:function(){var d=this.x,v=this.y,g=this.z,x=this.w,m=d*d+v*v+g*g+x*x;return m>0&&(m=1/Math.sqrt(m),this._x=d*m,this._y=v*m,this._z=g*m,this._w=x*m),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,v){v===void 0&&(v=0);var g=this.x,x=this.y,m=this.z,y=this.w;return this.set(g+v*(d.x-g),x+v*(d.y-x),m+v*(d.z-m),y+v*(d.w-y))},rotationTo:function(d,v){var g=d.x*v.x+d.y*v.y+d.z*v.z;return g<-.999999?(a.copy(o).cross(d).length()<s&&a.copy(n).cross(d),a.normalize(),this.setAxisAngle(a,Math.PI)):g>.999999?this.set(0,0,0,1):(a.copy(d).cross(v),this._x=a.x,this._y=a.y,this._z=a.z,this._w=1+g,this.normalize())},setAxes:function(d,v,g){var x=f.val;return x[0]=v.x,x[3]=v.y,x[6]=v.z,x[1]=g.x,x[4]=g.y,x[7]=g.z,x[2]=-d.x,x[5]=-d.y,x[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,v){v=v*.5;var g=Math.sin(v);return this.set(g*d.x,g*d.y,g*d.z,Math.cos(v))},multiply:function(d){var v=this.x,g=this.y,x=this.z,m=this.w,y=d.x,T=d.y,R=d.z,P=d.w;return this.set(v*P+m*y+g*R-x*T,g*P+m*T+x*y-v*R,x*P+m*R+v*T-g*y,m*P-v*y-g*T-x*R)},slerp:function(d,v){var g=this.x,x=this.y,m=this.z,y=this.w,T=d.x,R=d.y,P=d.z,D=d.w,O=g*T+x*R+m*P+y*D;O<0&&(O=-O,T=-T,R=-R,P=-P,D=-D);var B=1-v,G=v;if(1-O>s){var b=Math.acos(O),k=Math.sin(b);B=Math.sin((1-v)*b)/k,G=Math.sin(v*b)/k}return this.set(B*g+G*T,B*x+G*R,B*m+G*P,B*y+G*D)},invert:function(){var d=this.x,v=this.y,g=this.z,x=this.w,m=d*d+v*v+g*g+x*x,y=m?1/m:0;return this.set(-d*y,-v*y,-g*y,x*y)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var v=this.x,g=this.y,x=this.z,m=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T+m*y,g*T+x*y,x*T-g*y,m*T-v*y)},rotateY:function(d){d*=.5;var v=this.x,g=this.y,x=this.z,m=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T-x*y,g*T+m*y,x*T+v*y,m*T-g*y)},rotateZ:function(d){d*=.5;var v=this.x,g=this.y,x=this.z,m=this.w,y=Math.sin(d),T=Math.cos(d);return this.set(v*T+g*y,g*T-v*y,x*T+m*y,m*T-x*y)},calculateW:function(){var d=this.x,v=this.y,g=this.z;return this.w=-Math.sqrt(1-d*d-v*v-g*g),this},setFromEuler:function(d,v){var g=d.x/2,x=d.y/2,m=d.z/2,y=Math.cos(g),T=Math.cos(x),R=Math.cos(m),P=Math.sin(g),D=Math.sin(x),O=Math.sin(m);switch(d.order){case"XYZ":{this.set(P*T*R+y*D*O,y*D*R-P*T*O,y*T*O+P*D*R,y*T*R-P*D*O,v);break}case"YXZ":{this.set(P*T*R+y*D*O,y*D*R-P*T*O,y*T*O-P*D*R,y*T*R+P*D*O,v);break}case"ZXY":{this.set(P*T*R-y*D*O,y*D*R+P*T*O,y*T*O+P*D*R,y*T*R-P*D*O,v);break}case"ZYX":{this.set(P*T*R-y*D*O,y*D*R+P*T*O,y*T*O-P*D*R,y*T*R+P*D*O,v);break}case"YZX":{this.set(P*T*R+y*D*O,y*D*R+P*T*O,y*T*O-P*D*R,y*T*R-P*D*O,v);break}case"XZY":{this.set(P*T*R-y*D*O,y*D*R-P*T*O,y*T*O+P*D*R,y*T*R+P*D*O,v);break}}return this},setFromRotationMatrix:function(d){var v=d.val,g=v[0],x=v[4],m=v[8],y=v[1],T=v[5],R=v[9],P=v[2],D=v[6],O=v[10],B=g+T+O,G;return B>0?(G=.5/Math.sqrt(B+1),this.set((D-R)*G,(m-P)*G,(y-x)*G,.25/G)):g>T&&g>O?(G=2*Math.sqrt(1+g-T-O),this.set(.25*G,(x+y)/G,(m+P)/G,(D-R)/G)):T>O?(G=2*Math.sqrt(1+T-g-O),this.set((x+y)/G,.25*G,(R+D)/G,(m-P)/G)):(G=2*Math.sqrt(1+O-g-T),this.set((m+P)/G,(R+D)/G,.25*G,(y-x)/G)),this},fromMat3:function(d){var v=d.val,g=v[0]+v[4]+v[8],x;if(g>0)x=Math.sqrt(g+1),this.w=.5*x,x=.5/x,this._x=(v[7]-v[5])*x,this._y=(v[2]-v[6])*x,this._z=(v[3]-v[1])*x;else{var m=0;v[4]>v[0]&&(m=1),v[8]>v[m*3+m]&&(m=2);var y=e[m],T=e[y];x=Math.sqrt(v[m*3+m]-v[y*3+y]-v[T*3+T]+1),i[m]=.5*x,x=.5/x,i[y]=(v[y*3+m]+v[m*3+y])*x,i[T]=(v[T*3+m]+v[m*3+T])*x,this._x=i[0],this._y=i[1],this._z=i[2],this._w=(v[T*3+y]-v[y*3+T])*x}return this.onChangeCallback(this),this}});p.exports=u},23701:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=function(l){return l*h.RAD_TO_DEG};p.exports=c},16906:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var c=Math.random()*2*Math.PI;return t.x=Math.cos(c)*h,t.y=Math.sin(c)*h,t};p.exports=S},52417:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var c=Math.random()*2*Math.PI,l=Math.random()*2-1,r=Math.sqrt(1-l*l)*h;return t.x=Math.cos(c)*r,t.y=Math.sin(c)*r,t.z=l*h,t};p.exports=S},17915:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};p.exports=S},52257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.x,l=t.y;return t.x=c*Math.cos(h)-l*Math.sin(h),t.y=c*Math.sin(h)+l*Math.cos(h),t};p.exports=S},2386:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=Math.cos(l),s=Math.sin(l),e=t.x-h,i=t.y-c;return t.x=e*r-i*s+h,t.y=e*s+i*r+c,t};p.exports=S},72395:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r){var s=l+Math.atan2(t.y-c,t.x-h);return t.x=h+r*Math.cos(s),t.y=c+r*Math.sin(s),t};p.exports=S},41061:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r){return t.x=h+r*Math.cos(l),t.y=c+r*Math.sin(l),t};p.exports=S},93709:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70015),c=t(16650),l=t(75003),r=new c,s=new l,e=new h,i=function(o,n,a){return s.setAxisAngle(n,a),r.fromRotationTranslation(s,e.set(0,0,0)),o.transformMat4(r)};p.exports=i},67233:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};p.exports=S},64333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){h===void 0&&(h=0),c===void 0&&(c=10);var l=Math.pow(c,-h);return Math.round(t*l)/l};p.exports=S},59533:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){h===void 0&&(h=1),c===void 0&&(c=1),l===void 0&&(l=1),l*=Math.PI/t;for(var r=[],s=[],e=0;e<t;e++)c-=h*l,h+=c*l,r[e]=c,s[e]=h;return{sin:s,cos:r,length:t}};p.exports=S},5514:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t<=h?0:t>=c?1:(t=(t-h)/(c-h),t*t*(3-2*t))};p.exports=S},87736:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t=Math.max(0,Math.min(1,(t-h)/(c-h))),t*t*t*(t*(t*6-15)+10)};p.exports=S},55805:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e){e===void 0&&(e=new h);var i=0,o=0,n=r*s;return l>0&&l<=n&&(l>r-1?(o=Math.floor(l/r),i=l-o*r):i=l),e.set(i,o)};p.exports=c},64462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i,o,n,a){a===void 0&&(a=new h);var f=Math.sin(i),u=Math.cos(i),d=u*o,v=f*o,g=-f*n,x=u*n,m=1/(d*x+g*-v);return a.x=x*m*l+-g*m*r+(e*g-s*x)*m,a.y=d*m*r+-v*m*l+(-e*d+s*v)*m,a};p.exports=c},93736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(88456),l=new h({initialize:function(s,e){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(e===void 0&&(e=s),this.x=s||0,this.y=e||0)},clone:function(){return new l(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,s){return s===void 0&&(s=r),this.x=r,this.y=s,this},setTo:function(r,s){return this.set(r,s)},setToPolar:function(r,s){return s==null&&(s=1),this.x=Math.cos(r)*s,this.y=Math.sin(r)*s,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,s){return c(this.x,r.x,s)&&c(this.y,r.y,s)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var s=r.x-this.x,e=r.y-this.y;return Math.sqrt(s*s+e*e)},distanceSq:function(r){var s=r.x-this.x,e=r.y-this.y;return s*s+e*e},length:function(){var r=this.x,s=this.y;return Math.sqrt(r*r+s*s)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,s=this.y;return r*r+s*s},normalize:function(){var r=this.x,s=this.y,e=r*r+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=s*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,s){s===void 0&&(s=0);var e=this.x,i=this.y;return this.x=e+s*(r.x-e),this.y=i+s*(r.y-i),this},transformMat3:function(r){var s=this.x,e=this.y,i=r.val;return this.x=i[0]*s+i[3]*e+i[6],this.y=i[1]*s+i[4]*e+i[7],this},transformMat4:function(r){var s=this.x,e=this.y,i=r.val;return this.x=i[0]*s+i[4]*e+i[12],this.y=i[1]*s+i[5]*e+i[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var s=this.length();return s&&s>r&&this.scale(r/s),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var s=Math.cos(r),e=Math.sin(r);return this.set(s*this.x-e*this.y,e*this.x+s*this.y)},project:function(r){var s=this.dot(r)/r.dot(r);return this.copy(r).scale(s)}});l.ZERO=new l,l.RIGHT=new l(1,0),l.LEFT=new l(-1,0),l.UP=new l(0,-1),l.DOWN=new l(0,1),l.ONE=new l(1,1),p.exports=l},70015:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=s||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this},max:function(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this},clone:function(){return new c(this.x,this.y,this.z)},addVectors:function(l,r){return this.x=l.x+r.x,this.y=l.y+r.y,this.z=l.z+r.z,this},crossVectors:function(l,r){var s=l.x,e=l.y,i=l.z,o=r.x,n=r.y,a=r.z;return this.x=e*a-i*n,this.y=i*o-s*a,this.z=s*n-e*o,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this},set:function(l,r,s){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=r||0,this.z=s||0),this},setFromMatrixPosition:function(l){return this.fromArray(l.val,12)},setFromMatrixColumn:function(l,r){return this.fromArray(l.val,r*4)},fromArray:function(l,r){return r===void 0&&(r=0),this.x=l[r],this.y=l[r+1],this.z=l[r+2],this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this},addScalar:function(l){return this.x+=l,this.y+=l,this.z+=l,this},addScale:function(l,r){return this.x+=l.x*r,this.y+=l.y*r,this.z+=l.z*r||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l,this.z*=l):(this.x=0,this.y=0,this.z=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(l){var r=l.x-this.x,s=l.y-this.y,e=l.z-this.z||0;return Math.sqrt(r*r+s*s+e*e)},distanceSq:function(l){var r=l.x-this.x,s=l.y-this.y,e=l.z-this.z||0;return r*r+s*s+e*e},length:function(){var l=this.x,r=this.y,s=this.z;return Math.sqrt(l*l+r*r+s*s)},lengthSq:function(){var l=this.x,r=this.y,s=this.z;return l*l+r*r+s*s},normalize:function(){var l=this.x,r=this.y,s=this.z,e=l*l+r*r+s*s;return e>0&&(e=1/Math.sqrt(e),this.x=l*e,this.y=r*e,this.z=s*e),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z},cross:function(l){var r=this.x,s=this.y,e=this.z,i=l.x,o=l.y,n=l.z;return this.x=s*n-e*o,this.y=e*i-r*n,this.z=r*o-s*i,this},lerp:function(l,r){r===void 0&&(r=0);var s=this.x,e=this.y,i=this.z;return this.x=s+r*(l.x-s),this.y=e+r*(l.y-e),this.z=i+r*(l.z-i),this},applyMatrix3:function(l){var r=this.x,s=this.y,e=this.z,i=l.val;return this.x=i[0]*r+i[3]*s+i[6]*e,this.y=i[1]*r+i[4]*s+i[7]*e,this.z=i[2]*r+i[5]*s+i[8]*e,this},applyMatrix4:function(l){var r=this.x,s=this.y,e=this.z,i=l.val,o=1/(i[3]*r+i[7]*s+i[11]*e+i[15]);return this.x=(i[0]*r+i[4]*s+i[8]*e+i[12])*o,this.y=(i[1]*r+i[5]*s+i[9]*e+i[13])*o,this.z=(i[2]*r+i[6]*s+i[10]*e+i[14])*o,this},transformMat3:function(l){var r=this.x,s=this.y,e=this.z,i=l.val;return this.x=r*i[0]+s*i[3]+e*i[6],this.y=r*i[1]+s*i[4]+e*i[7],this.z=r*i[2]+s*i[5]+e*i[8],this},transformMat4:function(l){var r=this.x,s=this.y,e=this.z,i=l.val;return this.x=i[0]*r+i[4]*s+i[8]*e+i[12],this.y=i[1]*r+i[5]*s+i[9]*e+i[13],this.z=i[2]*r+i[6]*s+i[10]*e+i[14],this},transformCoordinates:function(l){var r=this.x,s=this.y,e=this.z,i=l.val,o=r*i[0]+s*i[4]+e*i[8]+i[12],n=r*i[1]+s*i[5]+e*i[9]+i[13],a=r*i[2]+s*i[6]+e*i[10]+i[14],f=r*i[3]+s*i[7]+e*i[11]+i[15];return this.x=o/f,this.y=n/f,this.z=a/f,this},transformQuat:function(l){var r=this.x,s=this.y,e=this.z,i=l.x,o=l.y,n=l.z,a=l.w,f=a*r+o*e-n*s,u=a*s+n*r-i*e,d=a*e+i*s-o*r,v=-i*r-o*s-n*e;return this.x=f*a+v*-i+u*-n-d*-o,this.y=u*a+v*-o+d*-i-f*-n,this.z=d*a+v*-n+f*-o-u*-i,this},project:function(l){var r=this.x,s=this.y,e=this.z,i=l.val,o=i[0],n=i[1],a=i[2],f=i[3],u=i[4],d=i[5],v=i[6],g=i[7],x=i[8],m=i[9],y=i[10],T=i[11],R=i[12],P=i[13],D=i[14],O=i[15],B=1/(r*f+s*g+e*T+O);return this.x=(r*o+s*u+e*x+R)*B,this.y=(r*n+s*d+e*m+P)*B,this.z=(r*a+s*v+e*y+D)*B,this},projectViewMatrix:function(l,r){return this.applyMatrix4(l).applyMatrix4(r)},unprojectViewMatrix:function(l,r){return this.applyMatrix4(l).applyMatrix4(r)},unproject:function(l,r){var s=l.x,e=l.y,i=l.z,o=l.w,n=this.x-s,a=o-this.y-1-e,f=this.z;return this.x=2*n/i-1,this.y=2*a/o-1,this.z=2*f-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});c.ZERO=new c,c.RIGHT=new c(1,0,0),c.LEFT=new c(-1,0,0),c.UP=new c(0,-1,0),c.DOWN=new c(0,1,0),c.FORWARD=new c(0,0,1),c.BACK=new c(0,0,-1),c.ONE=new c(1,1,1),p.exports=c},51729:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s,e,i){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=s||0,this.z=e||0,this.w=i||0)},clone:function(){return new c(this.x,this.y,this.z,this.w)},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this.w=l.w||0,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z&&this.w===l.w},set:function(l,r,s,e){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=r||0,this.z=s||0,this.w=e||0),this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this.w+=l.w||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this.w-=l.w||0,this},scale:function(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this},length:function(){var l=this.x,r=this.y,s=this.z,e=this.w;return Math.sqrt(l*l+r*r+s*s+e*e)},lengthSq:function(){var l=this.x,r=this.y,s=this.z,e=this.w;return l*l+r*r+s*s+e*e},normalize:function(){var l=this.x,r=this.y,s=this.z,e=this.w,i=l*l+r*r+s*s+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=l*i,this.y=r*i,this.z=s*i,this.w=e*i),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w},lerp:function(l,r){r===void 0&&(r=0);var s=this.x,e=this.y,i=this.z,o=this.w;return this.x=s+r*(l.x-s),this.y=e+r*(l.y-e),this.z=i+r*(l.z-i),this.w=o+r*(l.w-o),this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this.w*=l.w||1,this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this.w/=l.w||1,this},distance:function(l){var r=l.x-this.x,s=l.y-this.y,e=l.z-this.z||0,i=l.w-this.w||0;return Math.sqrt(r*r+s*s+e*e+i*i)},distanceSq:function(l){var r=l.x-this.x,s=l.y-this.y,e=l.z-this.z||0,i=l.w-this.w||0;return r*r+s*s+e*e+i*i},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(l){var r=this.x,s=this.y,e=this.z,i=this.w,o=l.val;return this.x=o[0]*r+o[4]*s+o[8]*e+o[12]*i,this.y=o[1]*r+o[5]*s+o[9]*e+o[13]*i,this.z=o[2]*r+o[6]*s+o[10]*e+o[14]*i,this.w=o[3]*r+o[7]*s+o[11]*e+o[15]*i,this},transformQuat:function(l){var r=this.x,s=this.y,e=this.z,i=l.x,o=l.y,n=l.z,a=l.w,f=a*r+o*e-n*s,u=a*s+n*r-i*e,d=a*e+i*s-o*r,v=-i*r-o*s-n*e;return this.x=f*a+v*-i+u*-n-d*-o,this.y=u*a+v*-o+d*-i-f*-n,this.z=d*a+v*-n+f*-o-u*-i,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});c.prototype.sub=c.prototype.subtract,c.prototype.mul=c.prototype.multiply,c.prototype.div=c.prototype.divide,c.prototype.dist=c.prototype.distance,c.prototype.distSq=c.prototype.distanceSq,c.prototype.len=c.prototype.length,c.prototype.lenSq=c.prototype.lengthSq,p.exports=c},9557:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return Math.abs(t-h)<=c};p.exports=S},1071:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(t>=h&&t<=c)return t;var l=c-h;return h+((t-h)%l+l)%l};p.exports=S},90447:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){return Math.atan2(l-h,c-t)};p.exports=S},94240:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};p.exports=S},84066:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};p.exports=S},9678:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){return Math.atan2(c-t,l-h)};p.exports=S},76861:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=function(l){return l>Math.PI&&(l-=h.PI2),Math.abs(((l+h.TAU)%h.PI2-h.PI2)%h.PI2)};p.exports=c},37570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};p.exports=S},87597:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61616),c=function(){return h(-Math.PI,Math.PI)};p.exports=c},74493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61616),c=function(){return h(-180,180)};p.exports=c},19049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37570),c=function(l){return h(l+Math.PI)};p.exports=c},90612:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=function(l,r,s){return s===void 0&&(s=.05),l===r||(Math.abs(r-l)<=s||Math.abs(r-l)>=h.PI2-s?l=r:(Math.abs(r-l)>Math.PI&&(r<l?r+=h.PI2:r-=h.PI2),r>l?l+=s:r<l&&(l-=s))),l};p.exports=c},93954:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=h-t;if(c===0)return 0;var l=Math.floor((c- -180)/360);return c-l*360};p.exports=S},35786:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1071),c=function(l){return h(l,-Math.PI,Math.PI)};p.exports=c},62138:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1071),c=function(l){return h(l,-180,180)};p.exports=c},22153:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=S},53996:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=t-c,s=h-l;return Math.sqrt(r*r+s*s)};p.exports=S},92951:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.x-h.x,l=t.y-h.y;return Math.sqrt(c*c+l*l)};p.exports=S},12161:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.x-h.x,l=t.y-h.y;return c*c+l*l};p.exports=S},38057:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){return Math.max(Math.abs(t-c),Math.abs(h-l))};p.exports=S},33297:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(c-t,r)+Math.pow(l-h,r))};p.exports=S},90366:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){return Math.abs(t-c)+Math.abs(h-l)};p.exports=S},35032:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=t-c,s=h-l;return r*r+s*s};p.exports=S},10130:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25265),c=t(57428),l=t(73214),r=t(71778),s=t(36468),e=t(88258),i=t(52910),o=t(67799),n=t(74083),a=t(92284),f=t(28035),u=t(8754);p.exports={Power0:i,Power1:o.Out,Power2:r.Out,Power3:n.Out,Power4:a.Out,Linear:i,Quad:o.Out,Cubic:r.Out,Quart:n.Out,Quint:a.Out,Sine:f.Out,Expo:e.Out,Circ:l.Out,Elastic:s.Out,Back:h.Out,Bounce:c.Out,Stepped:u,"Quad.easeIn":o.In,"Cubic.easeIn":r.In,"Quart.easeIn":n.In,"Quint.easeIn":a.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":l.In,"Elastic.easeIn":s.In,"Back.easeIn":h.In,"Bounce.easeIn":c.In,"Quad.easeOut":o.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":n.Out,"Quint.easeOut":a.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":l.Out,"Elastic.easeOut":s.Out,"Back.easeOut":h.Out,"Bounce.easeOut":c.Out,"Quad.easeInOut":o.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":a.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":l.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":c.InOut}},25860:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};p.exports=S},45264:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1.70158);var c=h*1.525;return(t*=2)<1?.5*(t*t*((c+1)*t-c)):.5*((t-=2)*t*((c+1)*t+c)+2)};p.exports=S},36699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};p.exports=S},25265:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};p.exports=S},24799:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};p.exports=S},60819:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};p.exports=S},57428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};p.exports=S},7280:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};p.exports=S},18058:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};p.exports=S},73214:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};p.exports=S},63180:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};p.exports=S},16518:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};p.exports=S},71778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(h===void 0&&(h=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var l=c/4;return h<1?h=1:l=c*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/c))};p.exports=S},50325:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(h===void 0&&(h=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var l=c/4;return h<1?h=1:l=c*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/c)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/c)*.5+1};p.exports=S},84074:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(h===void 0&&(h=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var l=c/4;return h<1?h=1:l=c*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-l)*(2*Math.PI)/c)+1};p.exports=S},36468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};p.exports=S},10357:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};p.exports=S},14894:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};p.exports=S},88258:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};p.exports=S},52910:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(43927)},77471:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};p.exports=S},83863:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};p.exports=S},44383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};p.exports=S},67799:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};p.exports=S},55248:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};p.exports=S},23135:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};p.exports=S},74083:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};p.exports=S},98759:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};p.exports=S},26670:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};p.exports=S},92284:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};p.exports=S},66333:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};p.exports=S},37255:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};p.exports=S},28035:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};p.exports=S},8754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(52770)},17247:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};p.exports=S},88456:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return c===void 0&&(c=1e-4),Math.abs(t-h)<c};p.exports=S},61824:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};p.exports=S},41935:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return c===void 0&&(c=1e-4),t>h-c};p.exports=S},54726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return c===void 0&&(c=1e-4),t<h+c};p.exports=S},52778:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),c=t(98611),l={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};l=c(!1,l,h),p.exports=l},63210:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22824),c=function(l,r){for(var s=0,e=l.length-1,i=0;i<=e;i++)s+=Math.pow(1-r,e-i)*Math.pow(r,i)*l[i]*h(e,i);return s};p.exports=c},88332:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14976),c=function(l,r){var s=l.length-1,e=s*r,i=Math.floor(e);return l[0]===l[s]?(r<0&&(i=Math.floor(e=s*(1+r))),h(e-i,l[(i-1+s)%s],l[i],l[(i+1)%s],l[(i+2)%s])):r<0?l[0]-(h(-e,l[0],l[0],l[1],l[1])-l[0]):r>1?l[s]-(h(e-s,l[s],l[s],l[s-1],l[s-1])-l[s]):h(e-i,l[i?i-1:0],l[i],l[s<i+1?s:i+1],l[s<i+2?s:i+2])};p.exports=c},34631:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r,s){var e=1-r;return e*e*e*s}function t(r,s){var e=1-r;return 3*e*e*r*s}function h(r,s){return 3*(1-r)*r*r*s}function c(r,s){return r*r*r*s}var l=function(r,s,e,i,o){return S(r,s)+t(r,e)+h(r,i)+c(r,o)};p.exports=l},47614:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42798),c=function(l,r){var s=l.length-1,e=s*r,i=Math.floor(e);return r<0?h(l[0],l[1],e):r>1?h(l[s],l[s-1],s-e):h(l[i],l[i+1>s?s:i+1],e-i)};p.exports=c},16252:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(l,r){var s=1-l;return s*s*r}function t(l,r){return 2*(1-l)*l*r}function h(l,r){return l*l*r}var c=function(l,r,s,e){return S(l,r)+t(l,s)+h(l,e)};p.exports=c},44521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5514),c=function(l,r,s){return r+(s-r)*h(l,0,1)};p.exports=c},45507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87736),c=function(l,r,s){return r+(s-r)*h(l,0,1)};p.exports=c},48528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};p.exports=S},28621:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};p.exports=S},2018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};p.exports=S},73773:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var l=2091639*this.s0+this.c*23283064365386963e-26;return this.c=l|0,this.s0=this.s1,this.s1=this.s2,this.s2=l-this.c,this.s2},hash:function(l){var r,s=this.n;l=l.toString();for(var e=0;e<l.length;e++)s+=l.charCodeAt(e),r=.02519603282416938*s,s=r>>>0,r-=s,r*=s,s=r>>>0,r-=s,s+=r*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(l){typeof l=="string"?this.state(l):this.sow(l)},sow:function(l){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!l)for(var r=0;r<l.length&&l[r]!=null;r++){var s=l[r];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(l,r){return Math.floor(this.realInRange(0,r-l+1)+l)},between:function(l,r){return Math.floor(this.realInRange(0,r-l+1)+l)},realInRange:function(l,r){return this.frac()*(r-l)+l},normal:function(){return 1-2*this.frac()},uuid:function(){var l="",r="";for(r=l="";l++<36;r+=~l%5|l*3&4?(l^15?8^this.frac()*(l^20?16:4):4).toString(16):"-");return r},pick:function(l){return l[this.integerInRange(0,l.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(l){return l[~~(Math.pow(this.frac(),2)*(l.length-1)+.5)]},timestamp:function(l,r){return this.realInRange(l||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(l){return typeof l=="string"&&l.match(/^!rnd/)&&(l=l.split(","),this.c=parseFloat(l[1]),this.s0=parseFloat(l[2]),this.s1=parseFloat(l[3]),this.s2=parseFloat(l[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(l){for(var r=l.length-1,s=r;s>0;s--){var e=Math.floor(this.frac()*(s+1)),i=l[e];l[e]=l[s],l[s]=i}return l}});p.exports=c},82127:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){return c===void 0&&(c=0),h===0?t:(t-=c,t=h*Math.ceil(t/h),l?(c+t)/h:c+t)};p.exports=S},84314:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){return c===void 0&&(c=0),h===0?t:(t-=c,t=h*Math.floor(t/h),l?(c+t)/h:c+t)};p.exports=S},88462:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){return c===void 0&&(c=0),h===0?t:(t-=c,t=h*Math.round(t/h),l?(c+t)/h:c+t)};p.exports=S},23679:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(75205);var h=t(86459),c=t(98611),l={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};l.Sound=t(56751),l=c(!1,l,h),p.exports=l,t.g.Phaser=l},62832:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(7864),l=t(1539),r=new h({Extends:l,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,i,o,n,a){l.call(this,e,i,o,n,a),this.body=null}});p.exports=r},66150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(75606),l=t(53996),r=t(35032),s=t(99523),e=t(72632),i=t(30657),o=t(2732),n=t(15147),a=t(91963),f=t(7599),u=t(93736),d=t(85233),v=new h({initialize:function(x){this.scene=x,this.systems=x.sys,this.config=this.getConfig(),this.world,this.add,x.sys.events.once(f.BOOT,this.boot,this),x.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new s(this.world));var g=this.systems.events;e(this.config,"customUpdate",!1)||g.on(f.UPDATE,this.world.update,this.world),g.on(f.POST_UPDATE,this.world.postUpdate,this.world),g.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,x=this.systems.settings.physics,m=i(e(x,"arcade",{}),e(g,"arcade",{}));return m},overlap:function(g,x,m,y,T){return m===void 0&&(m=null),y===void 0&&(y=null),T===void 0&&(T=m),this.world.collideObjects(g,x,m,y,T,!0)},collide:function(g,x,m,y,T){return m===void 0&&(m=null),y===void 0&&(y=null),T===void 0&&(T=m),this.world.collideObjects(g,x,m,y,T,!1)},collideTiles:function(g,x,m,y,T){return this.world.collideTiles(g,x,m,y,T)},overlapTiles:function(g,x,m,y,T){return this.world.overlapTiles(g,x,m,y,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,x,m,y,T,R){y===void 0&&(y=60);var P=Math.atan2(m-g.y,x-g.x);return g.body.acceleration.setToPolar(P,y),T!==void 0&&R!==void 0&&g.body.maxVelocity.set(T,R),P},accelerateToObject:function(g,x,m,y,T){return this.accelerateTo(g,x.x,x.y,m,y,T)},closest:function(g,x){x||(x=this.world.bodies.entries);for(var m=Number.MAX_VALUE,y=null,T=g.x,R=g.y,P=x.length,D=0;D<P;D++){var O=x[D],B=O.body||O;if(!(g===O||g===B||g===B.gameObject||g===B.center)){var G=r(T,R,B.center.x,B.center.y);G<m&&(y=O,m=G)}}return y},furthest:function(g,x){x||(x=this.world.bodies.entries);for(var m=-1,y=null,T=g.x,R=g.y,P=x.length,D=0;D<P;D++){var O=x[D],B=O.body||O;if(!(g===O||g===B||g===B.gameObject||g===B.center)){var G=r(T,R,B.center.x,B.center.y);G>m&&(y=O,m=G)}}return y},moveTo:function(g,x,m,y,T){y===void 0&&(y=60),T===void 0&&(T=0);var R=Math.atan2(m-g.y,x-g.x);return T>0&&(y=l(g.x,g.y,x,m)/(T/1e3)),g.body.velocity.setToPolar(R,y),R},moveToObject:function(g,x,m,y){return this.moveTo(g,x.x,x.y,m,y)},velocityFromAngle:function(g,x,m){return x===void 0&&(x=60),m===void 0&&(m=new u),m.setToPolar(c(g),x)},velocityFromRotation:function(g,x,m){return x===void 0&&(x=60),m===void 0&&(m=new u),m.setToPolar(g,x)},overlapRect:function(g,x,m,y,T,R){return n(this.world,g,x,m,y,T,R)},overlapCirc:function(g,x,m,y,T){return o(this.world,g,x,m,y,T)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(f.UPDATE,this.world.update,this.world),g.off(f.POST_UPDATE,this.world.postUpdate,this.world),g.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});a.register("ArcadePhysics",v,"arcadePhysics"),p.exports=v},25084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(7864),l=t(13747),r=new h({Extends:l,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,i,o,n,a){l.call(this,e,i,o,n,a),this.body=null}});p.exports=r},97602:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(47401),l=t(27037),r=t(23701),s=t(74118),e=t(94287),i=t(93736),o=new h({initialize:function(a,f){var u=64,d=64,v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=f!==void 0;g&&f.displayWidth&&(u=f.displayWidth,d=f.displayHeight),g||(f=v),this.world=a,this.gameObject=g?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=a.defaults.debugShowBody,this.debugShowVelocity=a.defaults.debugShowVelocity,this.debugBodyColor=a.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=u,this.height=d,this.sourceWidth=u,this.sourceHeight=d,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(u/2),this.halfHeight=Math.abs(d/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=a.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s},updateBounds:function(){var n=this.gameObject,a=this.transform;if(n.parentContainer){var f=n.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);a.x=f.tx,a.y=f.ty,a.rotation=r(f.rotation),a.scaleX=f.scaleX,a.scaleY=f.scaleY,a.displayOriginX=n.displayOriginX,a.displayOriginY=n.displayOriginY}else a.x=n.x,a.y=n.y,a.rotation=n.angle,a.scaleX=n.scaleX,a.scaleY=n.scaleY,a.displayOriginX=n.displayOriginX,a.displayOriginY=n.displayOriginY;var u=!1;if(this.syncBounds){var d=n.getBounds(this._bounds);this.width=d.width,this.height=d.height,u=!0}else{var v=Math.abs(a.scaleX),g=Math.abs(a.scaleY);(this._sx!==v||this._sy!==g)&&(this.width=this.sourceWidth*v,this.height=this.sourceHeight*g,this._sx=v,this._sy=g,u=!0)}u&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var n=this.transform;this.position.x=n.x+n.scaleX*(this.offset.x-n.displayOriginX),this.position.y=n.y+n.scaleY*(this.offset.y-n.displayOriginY),this.updateCenter()},resetFlags:function(n){n===void 0&&(n=!1);var a=this.wasTouching,f=this.touching,u=this.blocked;n?(a.none=!0,a.up=!1,a.down=!1,a.left=!1,a.right=!1):(a.none=f.none,a.up=f.up,a.down=f.down,a.left=f.left,a.right=f.right),f.none=!0,f.up=!1,f.down=!1,f.left=!1,f.right=!1,u.none=!0,u.up=!1,u.down=!1,u.left=!1,u.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(n,a){n&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),n&&this.update(a)},update:function(n){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,n);var a=this.velocity.x,f=this.velocity.y;this.newVelocity.set(a*n,f*n),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(f,a),this.speed=Math.sqrt(a*a+f*f),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(l.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var n=this.position.x-this.prevFrame.x,a=this.position.y-this.prevFrame.y,f=this.gameObject;if(this.moves){var u=this.deltaMax.x,d=this.deltaMax.y;u!==0&&n!==0&&(n<0&&n<-u?n=-u:n>0&&n>u&&(n=u)),d!==0&&a!==0&&(a<0&&a<-d?a=-d:a>0&&a>d&&(a=d)),f&&(f.x+=n,f.y+=a)}n<0?this.facing=c.FACING_LEFT:n>0&&(this.facing=c.FACING_RIGHT),a<0?this.facing=c.FACING_UP:a>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&f&&(f.angle+=this.deltaZ()),this._tx=n,this._ty=a},setBoundsRectangle:function(n){return this.customBoundsRectangle=n||this.world.bounds,this},checkWorldBounds:function(){var n=this.position,a=this.customBoundsRectangle,f=this.world.checkCollision,u=this.worldBounce?-this.worldBounce.x:-this.bounce.x,d=this.worldBounce?-this.worldBounce.y:-this.bounce.y,v=!1;return n.x<a.x&&f.left?(n.x=a.x,this.velocity.x*=u,this.blocked.left=!0,v=!0):this.right>a.right&&f.right&&(n.x=a.right-this.width,this.velocity.x*=u,this.blocked.right=!0,v=!0),n.y<a.y&&f.up?(n.y=a.y,this.velocity.y*=d,this.blocked.up=!0,v=!0):this.bottom>a.bottom&&f.down&&(n.y=a.bottom-this.height,this.velocity.y*=d,this.blocked.down=!0,v=!0),v&&(this.blocked.none=!1,this.updateCenter()),v},setOffset:function(n,a){return a===void 0&&(a=n),this.offset.set(n,a),this},setGameObject:function(n,a){return a===void 0&&(a=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=n,n.body&&(n.body=this),this.setSize(),this.world.add(this),this.enable=a,this},setSize:function(n,a,f){f===void 0&&(f=!0);var u=this.gameObject;if(u&&(!n&&u.frame&&(n=u.frame.realWidth),!a&&u.frame&&(a=u.frame.realHeight)),this.sourceWidth=n,this.sourceHeight=a,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&u&&u.getCenter){var d=(u.width-n)/2,v=(u.height-a)/2;this.offset.set(d,v)}return this.isCircle=!1,this.radius=0,this},setCircle:function(n,a,f){return a===void 0&&(a=this.offset.x),f===void 0&&(f=this.offset.y),n>0?(this.isCircle=!0,this.radius=n,this.sourceWidth=n*2,this.sourceHeight=n*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(a,f),this.updateCenter()):this.isCircle=!1,this},reset:function(n,a){this.stop();var f=this.gameObject;f&&(f.setPosition(n,a),this.rotation=f.angle,this.preRotation=f.angle);var u=this.position;f&&f.getTopLeft?f.getTopLeft(u):u.set(n,a),this.prev.copy(u),this.prevFrame.copy(u),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,a){if(!this.isCircle)return e(this,n,a);if(this.radius>0&&n>=this.left&&n<=this.right&&a>=this.top&&a<=this.bottom){var f=(this.center.x-n)*(this.center.x-n),u=(this.center.y-a)*(this.center.y-a);return f+u<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(n){var a=this.position,f=a.x+this.halfWidth,u=a.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor),this.isCircle?n.strokeCircle(f,u,this.width/2):(this.checkCollision.up&&n.lineBetween(a.x,a.y,a.x+this.width,a.y),this.checkCollision.right&&n.lineBetween(a.x+this.width,a.y,a.x+this.width,a.y+this.height),this.checkCollision.down&&n.lineBetween(a.x,a.y+this.height,a.x+this.width,a.y+this.height),this.checkCollision.left&&n.lineBetween(a.x,a.y,a.x,a.y+this.height))),this.debugShowVelocity&&(n.lineStyle(n.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),n.lineBetween(f,u,f+this.velocity.x/2,u+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(n,a,f,u){n===void 0&&(n=!0),this.collideWorldBounds=n;var d=a!==void 0,v=f!==void 0;return(d||v)&&(this.worldBounce||(this.worldBounce=new i),d&&(this.worldBounce.x=a),v&&(this.worldBounce.y=f)),u!==void 0&&(this.onWorldBounds=u),this},setVelocity:function(n,a){return this.velocity.set(n,a),n=this.velocity.x,a=this.velocity.y,this.speed=Math.sqrt(n*n+a*a),this},setVelocityX:function(n){return this.setVelocity(n,this.velocity.y)},setVelocityY:function(n){return this.setVelocity(this.velocity.x,n)},setMaxVelocity:function(n,a){return this.maxVelocity.set(n,a),this},setMaxVelocityX:function(n){return this.maxVelocity.x=n,this},setMaxVelocityY:function(n){return this.maxVelocity.y=n,this},setMaxSpeed:function(n){return this.maxSpeed=n,this},setBounce:function(n,a){return this.bounce.set(n,a),this},setBounceX:function(n){return this.bounce.x=n,this},setBounceY:function(n){return this.bounce.y=n,this},setAcceleration:function(n,a){return this.acceleration.set(n,a),this},setAccelerationX:function(n){return this.acceleration.x=n,this},setAccelerationY:function(n){return this.acceleration.y=n,this},setAllowDrag:function(n){return n===void 0&&(n=!0),this.allowDrag=n,this},setAllowGravity:function(n){return n===void 0&&(n=!0),this.allowGravity=n,this},setAllowRotation:function(n){return n===void 0&&(n=!0),this.allowRotation=n,this},setDrag:function(n,a){return this.drag.set(n,a),this},setDamping:function(n){return this.useDamping=n,this},setDragX:function(n){return this.drag.x=n,this},setDragY:function(n){return this.drag.y=n,this},setGravity:function(n,a){return this.gravity.set(n,a),this},setGravityX:function(n){return this.gravity.x=n,this},setGravityY:function(n){return this.gravity.y=n,this},setFriction:function(n,a){return this.friction.set(n,a),this},setFrictionX:function(n){return this.friction.x=n,this},setFrictionY:function(n){return this.friction.y=n,this},setAngularVelocity:function(n){return this.angularVelocity=n,this},setAngularAcceleration:function(n){return this.angularAcceleration=n,this},setAngularDrag:function(n){return this.angularDrag=n,this},setMass:function(n){return this.mass=n,this},setImmovable:function(n){return n===void 0&&(n=!0),this.immovable=n,this},setEnable:function(n){return n===void 0&&(n=!0),this.enable=n,this},processX:function(n,a,f,u){this.x+=n,this.updateCenter(),a!==null&&(this.velocity.x=a);var d=this.blocked;f&&(d.left=!0,d.none=!1),u&&(d.right=!0,d.none=!1)},processY:function(n,a,f,u){this.y+=n,this.updateCenter(),a!==null&&(this.velocity.y=a);var d=this.blocked;f&&(d.up=!0,d.none=!1),u&&(d.down=!0,d.none=!1)},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=o},3909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s,e,i,o,n,a){this.world=r,this.name="",this.active=!0,this.overlapOnly=s,this.object1=e,this.object2=i,this.collideCallback=o,this.processCallback=n,this.callbackContext=a},setName:function(l){return this.name=l,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=c},99523:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62832),c=t(25084),l=t(97602),r=t(56694),s=t(47401),e=t(10481),i=t(66634),o=t(46346),n=new r({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(a,f,u,d,v){return this.world.addCollider(a,f,u,d,v)},overlap:function(a,f,u,d,v){return this.world.addOverlap(a,f,u,d,v)},existing:function(a,f){var u=f?s.STATIC_BODY:s.DYNAMIC_BODY;return this.world.enableBody(a,u),a},staticImage:function(a,f,u,d){var v=new h(this.scene,a,f,u,d);return this.sys.displayList.add(v),this.world.enableBody(v,s.STATIC_BODY),v},image:function(a,f,u,d){var v=new h(this.scene,a,f,u,d);return this.sys.displayList.add(v),this.world.enableBody(v,s.DYNAMIC_BODY),v},staticSprite:function(a,f,u,d){var v=new c(this.scene,a,f,u,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,s.STATIC_BODY),v},sprite:function(a,f,u,d){var v=new c(this.scene,a,f,u,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,s.DYNAMIC_BODY),v},staticGroup:function(a,f){return this.sys.updateList.add(new o(this.world,this.world.scene,a,f))},group:function(a,f){return this.sys.updateList.add(new e(this.world,this.world.scene,a,f))},body:function(a,f,u,d){var v=new l(this.world);return v.position.set(a,f),u&&d&&v.setSize(u,d),this.world.add(v,s.DYNAMIC_BODY),v},staticBody:function(a,f,u,d){var v=new i(this.world);return v.position.set(a,f),u&&d&&v.setSize(u,d),this.world.add(v,s.STATIC_BODY),v},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=n},75671:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47401),c=function(l,r,s,e){var i=0,o=l.deltaAbsX()+r.deltaAbsX()+e;return l._dx===0&&r._dx===0?(l.embedded=!0,r.embedded=!0):l._dx>r._dx?(i=l.right-r.x,i>o&&!s||l.checkCollision.right===!1||r.checkCollision.left===!1?i=0:(l.touching.none=!1,l.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===h.STATIC_BODY&&!s&&(l.blocked.none=!1,l.blocked.right=!0),l.physicsType===h.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.left=!0))):l._dx<r._dx&&(i=l.x-r.width-r.x,-i>o&&!s||l.checkCollision.left===!1||r.checkCollision.right===!1?i=0:(l.touching.none=!1,l.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===h.STATIC_BODY&&!s&&(l.blocked.none=!1,l.blocked.left=!0),l.physicsType===h.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.right=!0))),l.overlapX=i,r.overlapX=i,i};p.exports=c},66185:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47401),c=function(l,r,s,e){var i=0,o=l.deltaAbsY()+r.deltaAbsY()+e;return l._dy===0&&r._dy===0?(l.embedded=!0,r.embedded=!0):l._dy>r._dy?(i=l.bottom-r.y,i>o&&!s||l.checkCollision.down===!1||r.checkCollision.up===!1?i=0:(l.touching.none=!1,l.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===h.STATIC_BODY&&!s&&(l.blocked.none=!1,l.blocked.down=!0),l.physicsType===h.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.up=!0))):l._dy<r._dy&&(i=l.y-r.bottom,-i>o&&!s||l.checkCollision.up===!1||r.checkCollision.down===!1?i=0:(l.touching.none=!1,l.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===h.STATIC_BODY&&!s&&(l.blocked.none=!1,l.blocked.up=!0),l.physicsType===h.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.down=!0))),l.overlapY=i,r.overlapY=i,i};p.exports=c},10481:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25084),c=t(56694),l=t(47401),r=t(72632),s=t(59192),e=t(42911),i=new c({Extends:s,initialize:function(n,a,f,u){if(!f&&!u)u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(e(f))u=f,f=null,u.internalCreateCallback=this.createCallbackHandler,u.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&e(f[0])){u=f[0];var d=this;f.forEach(function(v){v.internalCreateCallback=d.createCallbackHandler,v.internalRemoveCallback=d.removeCallbackHandler}),f=null}else u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=n,u.classType=r(u,"classType",h),this.physicsType=l.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(u,"collideWorldBounds",!1),setBoundsRectangle:r(u,"customBoundsRectangle",null),setAccelerationX:r(u,"accelerationX",0),setAccelerationY:r(u,"accelerationY",0),setAllowDrag:r(u,"allowDrag",!0),setAllowGravity:r(u,"allowGravity",!0),setAllowRotation:r(u,"allowRotation",!0),setDamping:r(u,"useDamping",!1),setBounceX:r(u,"bounceX",0),setBounceY:r(u,"bounceY",0),setDragX:r(u,"dragX",0),setDragY:r(u,"dragY",0),setEnable:r(u,"enable",!0),setGravityX:r(u,"gravityX",0),setGravityY:r(u,"gravityY",0),setFrictionX:r(u,"frictionX",0),setFrictionY:r(u,"frictionY",0),setMaxSpeed:r(u,"maxSpeed",-1),setMaxVelocityX:r(u,"maxVelocityX",1e4),setMaxVelocityY:r(u,"maxVelocityY",1e4),setVelocityX:r(u,"velocityX",0),setVelocityY:r(u,"velocityY",0),setAngularVelocity:r(u,"angularVelocity",0),setAngularAcceleration:r(u,"angularAcceleration",0),setAngularDrag:r(u,"angularDrag",0),setMass:r(u,"mass",1),setImmovable:r(u,"immovable",!1)},s.call(this,a,f,u),this.type="PhysicsGroup"},createCallbackHandler:function(o){o.body||this.world.enableBody(o,l.DYNAMIC_BODY);var n=o.body;for(var a in this.defaults)n[a](this.defaults[a])},removeCallbackHandler:function(o){o.body&&this.world.disableBody(o)},setVelocity:function(o,n,a){a===void 0&&(a=0);for(var f=this.getChildren(),u=0;u<f.length;u++)f[u].body.velocity.set(o+u*a,n+u*a);return this},setVelocityX:function(o,n){n===void 0&&(n=0);for(var a=this.getChildren(),f=0;f<a.length;f++)a[f].body.velocity.x=o+f*n;return this},setVelocityY:function(o,n){n===void 0&&(n=0);for(var a=this.getChildren(),f=0;f<a.length;f++)a[f].body.velocity.y=o+f*n;return this}});p.exports=i},22916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,c,l,r,s,e,i,o,n,a,f,u,d,v,g,x=function(D,O,B){S=D,t=O;var G=S.velocity.x,b=t.velocity.x;return h=S.pushable,i=S._dx<0,o=S._dx>0,n=S._dx===0,d=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),s=b-G*S.bounce.x,c=t.pushable,a=t._dx<0,f=t._dx>0,u=t._dx===0,v=!d,e=G-b*t.bounce.x,g=Math.abs(B),m()},m=function(){return o&&d&&t.blocked.right?(S.processX(-g,s,!1,!0),1):i&&v&&t.blocked.left?(S.processX(g,s,!0),1):f&&v&&S.blocked.right?(t.processX(-g,e,!1,!0),2):a&&d&&S.blocked.left?(t.processX(g,e,!0),2):0},y=function(){var D=S.velocity.x,O=t.velocity.x,B=Math.sqrt(O*O*t.mass/S.mass)*(O>0?1:-1),G=Math.sqrt(D*D*S.mass/t.mass)*(D>0?1:-1),b=(B+G)*.5;return B-=b,G-=b,l=b+B*S.bounce.x,r=b+G*t.bounce.x,i&&v?T(0):a&&d?T(1):o&&d?T(2):f&&v?T(3):!1},T=function(D){if(h&&c)g*=.5,D===0||D===3?(S.processX(g,l),t.processX(-g,r)):(S.processX(-g,l),t.processX(g,r));else if(h&&!c)D===0||D===3?S.processX(g,s,!0):S.processX(-g,s,!1,!0);else if(!h&&c)D===0||D===3?t.processX(-g,e,!1,!0):t.processX(g,e,!0);else{var O=g*.5;D===0?u?(S.processX(g,0,!0),t.processX(0,null,!1,!0)):f?(S.processX(O,0,!0),t.processX(-O,0,!1,!0)):(S.processX(O,t.velocity.x,!0),t.processX(-O,null,!1,!0)):D===1?n?(S.processX(0,null,!1,!0),t.processX(g,0,!0)):o?(S.processX(-O,0,!1,!0),t.processX(O,0,!0)):(S.processX(-O,null,!1,!0),t.processX(O,S.velocity.x,!0)):D===2?u?(S.processX(-g,0,!1,!0),t.processX(0,null,!0)):a?(S.processX(-O,0,!1,!0),t.processX(O,0,!0)):(S.processX(-O,t.velocity.x,!1,!0),t.processX(O,null,!0)):D===3&&(n?(S.processX(0,null,!0),t.processX(-g,0,!1,!0)):i?(S.processX(O,0,!0),t.processX(-O,0,!1,!0)):(S.processX(O,t.velocity.y,!0),t.processX(-O,null,!1,!0)))}return!0},R=function(D){D===1?t.velocity.x=0:d?t.processX(g,e,!0):t.processX(-g,e,!1,!0),S.moves&&(t.y+=(S.y-S.prev.y)*S.friction.y,t._dy=t.y-t.prev.y)},P=function(D){D===2?S.velocity.x=0:v?S.processX(g,s,!0):S.processX(-g,s,!1,!0),t.moves&&(S.y+=(t.y-t.prev.y)*t.friction.y,S._dy=S.y-S.prev.y)};p.exports={BlockCheck:m,Check:y,Set:x,Run:T,RunImmovableBody1:R,RunImmovableBody2:P}},67050:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,c,l,r,s,e,i,o,n,a,f,u,d,v,g,x=function(D,O,B){S=D,t=O;var G=S.velocity.y,b=t.velocity.y;return h=S.pushable,i=S._dy<0,o=S._dy>0,n=S._dy===0,d=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),s=b-G*S.bounce.y,c=t.pushable,a=t._dy<0,f=t._dy>0,u=t._dy===0,v=!d,e=G-b*t.bounce.y,g=Math.abs(B),m()},m=function(){return o&&d&&t.blocked.down?(S.processY(-g,s,!1,!0),1):i&&v&&t.blocked.up?(S.processY(g,s,!0),1):f&&v&&S.blocked.down?(t.processY(-g,e,!1,!0),2):a&&d&&S.blocked.up?(t.processY(g,e,!0),2):0},y=function(){var D=S.velocity.y,O=t.velocity.y,B=Math.sqrt(O*O*t.mass/S.mass)*(O>0?1:-1),G=Math.sqrt(D*D*S.mass/t.mass)*(D>0?1:-1),b=(B+G)*.5;return B-=b,G-=b,l=b+B*S.bounce.y,r=b+G*t.bounce.y,i&&v?T(0):a&&d?T(1):o&&d?T(2):f&&v?T(3):!1},T=function(D){if(h&&c)g*=.5,D===0||D===3?(S.processY(g,l),t.processY(-g,r)):(S.processY(-g,l),t.processY(g,r));else if(h&&!c)D===0||D===3?S.processY(g,s,!0):S.processY(-g,s,!1,!0);else if(!h&&c)D===0||D===3?t.processY(-g,e,!1,!0):t.processY(g,e,!0);else{var O=g*.5;D===0?u?(S.processY(g,0,!0),t.processY(0,null,!1,!0)):f?(S.processY(O,0,!0),t.processY(-O,0,!1,!0)):(S.processY(O,t.velocity.y,!0),t.processY(-O,null,!1,!0)):D===1?n?(S.processY(0,null,!1,!0),t.processY(g,0,!0)):o?(S.processY(-O,0,!1,!0),t.processY(O,0,!0)):(S.processY(-O,null,!1,!0),t.processY(O,S.velocity.y,!0)):D===2?u?(S.processY(-g,0,!1,!0),t.processY(0,null,!0)):a?(S.processY(-O,0,!1,!0),t.processY(O,0,!0)):(S.processY(-O,t.velocity.y,!1,!0),t.processY(O,null,!0)):D===3&&(n?(S.processY(0,null,!0),t.processY(-g,0,!1,!0)):i?(S.processY(O,0,!0),t.processY(-O,0,!1,!0)):(S.processY(O,t.velocity.y,!0),t.processY(-O,null,!1,!0)))}return!0},R=function(D){D===1?t.velocity.y=0:d?t.processY(g,e,!0):t.processY(-g,e,!1,!0),S.moves&&(t.x+=(S.x-S.prev.x)*S.friction.x,t._dx=t.x-t.prev.x)},P=function(D){D===2?S.velocity.y=0:v?S.processY(g,s,!0):S.processY(-g,s,!1,!0),t.moves&&(S.x+=(t.x-t.prev.x)*t.friction.x,S._dx=S.x-S.prev.x)};p.exports={BlockCheck:m,Check:y,Set:x,Run:T,RunImmovableBody1:R,RunImmovableBody2:P}},61777:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75671),c=t(22916),l=function(r,s,e,i,o){o===void 0&&(o=h(r,s,e,i));var n=r.immovable,a=s.immovable;if(e||o===0||n&&a||r.customSeparateX||s.customSeparateX)return o!==0||r.embedded&&s.embedded;var f=c.Set(r,s,o);return!n&&!a?f>0?!0:c.Check():(n?c.RunImmovableBody1(f):a&&c.RunImmovableBody2(f),!0)};p.exports=l},25299:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66185),c=t(67050),l=function(r,s,e,i,o){o===void 0&&(o=h(r,s,e,i));var n=r.immovable,a=s.immovable;if(e||o===0||n&&a||r.customSeparateY||s.customSeparateY)return o!==0||r.embedded&&s.embedded;var f=c.Set(r,s,o);return!n&&!a?f>0?!0:c.Check():(n?c.RunImmovableBody1(f):a&&c.RunImmovableBody2(f),!0)};p.exports=l},66634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65650),c=t(56694),l=t(47401),r=t(94287),s=t(93736),e=new c({initialize:function(o,n){var a=64,f=64,u={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},d=n!==void 0;d&&n.displayWidth&&(a=n.displayWidth,f=n.displayHeight),d||(n=u),this.world=o,this.gameObject=d?n:void 0,this.isBody=!0,this.debugShowBody=o.defaults.debugShowStaticBody,this.debugBodyColor=o.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(n.x-a*n.originX,n.y-f*n.originY),this.width=a,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=l.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(i,o){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),o&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,o){return o===void 0&&(o=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,o),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,o,n){n===void 0&&(n=!0);var a=this.gameObject;if(!i&&a.frame&&(i=a.frame.realWidth),!o&&a.frame&&(o=a.frame.realHeight),this.world.staticTree.remove(this),this.width=i,this.height=o,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(o/2),n&&a.getCenter){var f=a.displayWidth/2,u=a.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,u-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,o,n){return o===void 0&&(o=this.offset.x),n===void 0&&(n=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,n),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,o){var n=this.gameObject;i===void 0&&(i=n.x),o===void 0&&(o=n.y),this.world.staticTree.remove(this),n.setPosition(i,o),n.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,o){return this.isCircle?h(this,i,o):r(this,i,o)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var o=this.position,n=o.x+this.halfWidth,a=o.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(n,a,this.width/2):i.strokeRect(o.x,o.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=e},46346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25084),c=t(56694),l=t(47401),r=t(72632),s=t(59192),e=t(42911),i=new c({Extends:s,initialize:function(n,a,f,u){!f&&!u?u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:e(f)?(u=f,f=null,u.internalCreateCallback=this.createCallbackHandler,u.internalRemoveCallback=this.removeCallbackHandler,u.createMultipleCallback=this.createMultipleCallbackHandler,u.classType=r(u,"classType",h)):Array.isArray(f)&&e(f[0])?(u=f,f=null,u.forEach(function(d){d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=r(d,"classType",h)})):u={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=n,this.physicsType=l.STATIC_BODY,s.call(this,a,f,u),this.type="StaticPhysicsGroup"},createCallbackHandler:function(o){o.body||this.world.enableBody(o,l.STATIC_BODY)},removeCallbackHandler:function(o){o.body&&this.world.disableBody(o)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var o=this.children.entries,n=0;n<o.length;n++)o[n].body.reset();return this}});p.exports=i},85233:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94240),c=t(97602),l=t(82897),r=t(56694),s=t(3909),e=t(47401),i=t(53996),o=t(92951),n=t(6659),a=t(27037),f=t(88456),u=t(41935),d=t(54726),v=t(75671),g=t(66185),x=t(44662),m=t(10850),y=t(83392),T=t(74623),R=t(25163),P=t(74118),D=t(68687),O=t(27354),B=t(61777),G=t(25299),b=t(58403),k=t(66634),$=t(28808),W=t(69360),Z=t(93736),z=t(1071),X=new r({Extends:n,initialize:function(V,Y){n.call(this),this.scene=V,this.bodies=new b,this.staticBodies=new b,this.pendingDestroy=new b,this.colliders=new T,this.gravity=new Z(m(Y,"gravity.x",0),m(Y,"gravity.y",0)),this.bounds=new P(m(Y,"x",0),m(Y,"y",0),m(Y,"width",V.sys.scale.width),m(Y,"height",V.sys.scale.height)),this.checkCollision={up:m(Y,"checkCollision.up",!0),down:m(Y,"checkCollision.down",!0),left:m(Y,"checkCollision.left",!0),right:m(Y,"checkCollision.right",!0)},this.fps=m(Y,"fps",60),this.fixedStep=m(Y,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=m(Y,"timeScale",1),this.OVERLAP_BIAS=m(Y,"overlapBias",4),this.TILE_BIAS=m(Y,"tileBias",16),this.forceX=m(Y,"forceX",!1),this.isPaused=m(Y,"isPaused",!1),this._total=0,this.drawDebug=m(Y,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:m(Y,"debugShowBody",!0),debugShowStaticBody:m(Y,"debugShowStaticBody",!0),debugShowVelocity:m(Y,"debugShowVelocity",!0),bodyDebugColor:m(Y,"debugBodyColor",16711935),staticBodyDebugColor:m(Y,"debugStaticBodyColor",255),velocityDebugColor:m(Y,"debugVelocityColor",65280)},this.maxEntries=m(Y,"maxEntries",16),this.useTree=m(Y,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(w,V){V===void 0&&(V=e.DYNAMIC_BODY),Array.isArray(w)||(w=[w]);for(var Y=0;Y<w.length;Y++){var j=w[Y];if(j.isParent)for(var J=j.getChildren(),_=0;_<J.length;_++){var tt=J[_];tt.isParent?this.enable(tt,V):this.enableBody(tt,V)}else this.enableBody(j,V)}},enableBody:function(w,V){return V===void 0&&(V=e.DYNAMIC_BODY),w.hasTransformComponent&&(w.body||(V===e.DYNAMIC_BODY?w.body=new c(this,w):V===e.STATIC_BODY&&(w.body=new k(this,w))),this.add(w.body)),w},add:function(w){return w.physicsType===e.DYNAMIC_BODY?this.bodies.set(w):w.physicsType===e.STATIC_BODY&&(this.staticBodies.set(w),this.staticTree.insert(w)),w.enable=!0,w},disable:function(w){Array.isArray(w)||(w=[w]);for(var V=0;V<w.length;V++){var Y=w[V];if(Y.isParent)for(var j=Y.getChildren(),J=0;J<j.length;J++){var _=j[J];_.isParent?this.disable(_):this.disableBody(_.body)}else this.disableBody(Y.body)}},disableBody:function(w){this.remove(w),w.enable=!1},remove:function(w){w.physicsType===e.DYNAMIC_BODY?(this.tree.remove(w),this.bodies.delete(w)):w.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(w),this.staticTree.remove(w))},createDebugGraphic:function(){var w=this.scene.sys.add.graphics({x:0,y:0});return w.setDepth(Number.MAX_VALUE),this.debugGraphic=w,this.drawDebug=!0,w},setBounds:function(w,V,Y,j,J,_,tt,it){return this.bounds.setTo(w,V,Y,j),J!==void 0&&this.setBoundsCollision(J,_,tt,it),this},setBoundsCollision:function(w,V,Y,j){return w===void 0&&(w=!0),V===void 0&&(V=!0),Y===void 0&&(Y=!0),j===void 0&&(j=!0),this.checkCollision.left=w,this.checkCollision.right=V,this.checkCollision.up=Y,this.checkCollision.down=j,this},pause:function(){return this.isPaused=!0,this.emit(a.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(a.RESUME),this},addCollider:function(w,V,Y,j,J){Y===void 0&&(Y=null),j===void 0&&(j=null),J===void 0&&(J=Y);var _=new s(this,!1,w,V,Y,j,J);return this.colliders.add(_),_},addOverlap:function(w,V,Y,j,J){Y===void 0&&(Y=null),j===void 0&&(j=null),J===void 0&&(J=Y);var _=new s(this,!0,w,V,Y,j,J);return this.colliders.add(_),_},removeCollider:function(w){return this.colliders.remove(w),this},setFPS:function(w){return this.fps=w,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(w,V){if(!(this.isPaused||this.bodies.size===0)){var Y,j=this._frameTime,J=this._frameTimeMS*this.timeScale;this._elapsed+=V;var _,tt=this.bodies.entries,it=this._elapsed>=J;for(this.fixedStep||(j=V*.001,it=!0,this._elapsed=0),Y=0;Y<tt.length;Y++)_=tt[Y],_.enable&&_.preUpdate(it,j);if(it){this._elapsed-=J,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(tt));var st=this.colliders.update();for(Y=0;Y<st.length;Y++){var ot=st[Y];ot.active&&ot.update()}this.emit(a.WORLD_STEP,j)}for(;this._elapsed>=J;)this._elapsed-=J,this.step(j)}},step:function(w){var V,Y,j=this.bodies.entries,J=j.length;for(V=0;V<J;V++)Y=j[V],Y.enable&&Y.update(w);this.useTree&&(this.tree.clear(),this.tree.load(j));var _=this.colliders.update();for(V=0;V<_.length;V++){var tt=_[V];tt.active&&tt.update()}this.emit(a.WORLD_STEP,w),this.stepsLastFrame++},postUpdate:function(){var w,V,Y=this.bodies.entries,j=Y.length,J=this.bodies,_=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,w=0;w<j;w++)V=Y[w],V.enable&&V.postUpdate();if(this.drawDebug){var tt=this.debugGraphic;for(tt.clear(),w=0;w<j;w++)V=Y[w],V.willDrawDebug()&&V.drawDebug(tt);for(Y=_.entries,j=Y.length,w=0;w<j;w++)V=Y[w],V.willDrawDebug()&&V.drawDebug(tt)}var it=this.pendingDestroy;if(it.size>0){var st=this.tree,ot=this.staticTree;for(Y=it.entries,j=Y.length,w=0;w<j;w++)V=Y[w],V.physicsType===e.DYNAMIC_BODY?(st.remove(V),J.delete(V)):V.physicsType===e.STATIC_BODY&&(ot.remove(V),_.delete(V)),V.world=void 0,V.gameObject=void 0;it.clear()}},updateMotion:function(w,V){w.allowRotation&&this.computeAngularVelocity(w,V),this.computeVelocity(w,V)},computeAngularVelocity:function(w,V){var Y=w.angularVelocity,j=w.angularAcceleration,J=w.angularDrag,_=w.maxAngular;j?Y+=j*V:w.allowDrag&&J&&(J*=V,u(Y-J,0,.1)?Y-=J:d(Y+J,0,.1)?Y+=J:Y=0),Y=l(Y,-_,_);var tt=Y-w.angularVelocity;w.angularVelocity+=tt,w.rotation+=w.angularVelocity*V},computeVelocity:function(w,V){var Y=w.velocity.x,j=w.acceleration.x,J=w.drag.x,_=w.maxVelocity.x,tt=w.velocity.y,it=w.acceleration.y,st=w.drag.y,ot=w.maxVelocity.y,ht=w.speed,ct=w.maxSpeed,ft=w.allowDrag,Et=w.useDamping;w.allowGravity&&(Y+=(this.gravity.x+w.gravity.x)*V,tt+=(this.gravity.y+w.gravity.y)*V),j?Y+=j*V:ft&&J&&(Et?(J=Math.pow(J,V),Y*=J,ht=Math.sqrt(Y*Y+tt*tt),f(ht,0,.001)&&(Y=0)):(J*=V,u(Y-J,0,.01)?Y-=J:d(Y+J,0,.01)?Y+=J:Y=0)),it?tt+=it*V:ft&&st&&(Et?(st=Math.pow(st,V),tt*=st,ht=Math.sqrt(Y*Y+tt*tt),f(ht,0,.001)&&(tt=0)):(st*=V,u(tt-st,0,.01)?tt-=st:d(tt+st,0,.01)?tt+=st:tt=0)),Y=l(Y,-_,_),tt=l(tt,-ot,ot),w.velocity.set(Y,tt),ct>-1&&w.velocity.length()>ct&&(w.velocity.normalize().scale(ct),ht=ct),w.speed=ht},separate:function(w,V,Y,j,J){var _,tt,it=!1,st=!0;if(!w.enable||!V.enable||w.checkCollision.none||V.checkCollision.none||!this.intersects(w,V)||Y&&Y.call(j,w.gameObject,V.gameObject)===!1)return it;if(w.isCircle||V.isCircle){var ot=this.separateCircle(w,V,J);ot.result?(it=!0,st=!1):(_=ot.x,tt=ot.y,st=!0)}if(st){var ht=!1,ct=!1,ft=this.OVERLAP_BIAS;J?(ht=B(w,V,J,ft,_),ct=G(w,V,J,ft,tt)):this.forceX||Math.abs(this.gravity.y+w.gravity.y)<Math.abs(this.gravity.x+w.gravity.x)?(ht=B(w,V,J,ft,_),this.intersects(w,V)&&(ct=G(w,V,J,ft,tt))):(ct=G(w,V,J,ft,tt),this.intersects(w,V)&&(ht=B(w,V,J,ft,_))),it=ht||ct}return it&&(J?(w.onOverlap||V.onOverlap)&&this.emit(a.OVERLAP,w.gameObject,V.gameObject,w,V):(w.onCollide||V.onCollide)&&this.emit(a.COLLIDE,w.gameObject,V.gameObject,w,V)),it},separateCircle:function(w,V,Y){v(w,V,!1,0),g(w,V,!1,0);var j=w.isCircle,J=V.isCircle,_=w.center,tt=V.center,it=w.immovable,st=V.immovable,ot=w.velocity,ht=V.velocity,ct=0,ft=!0;if(j!==J){ft=!1;var Et=_.x,Mt=_.y,Dt=w.halfWidth,It=V.position.x,pt=V.position.y,Lt=V.right,Pt=V.bottom;J&&(Et=tt.x,Mt=tt.y,Dt=V.halfWidth,It=w.position.x,pt=w.position.y,Lt=w.right,Pt=w.bottom),Mt<pt?Et<It?ct=i(Et,Mt,It,pt)-Dt:Et>Lt&&(ct=i(Et,Mt,Lt,pt)-Dt):Mt>Pt&&(Et<It?ct=i(Et,Mt,It,Pt)-Dt:Et>Lt&&(ct=i(Et,Mt,Lt,Pt)-Dt)),ct*=-1}else ct=w.halfWidth+V.halfWidth-o(_,tt);w.overlapR=ct,V.overlapR=ct;var Jt=h(_,tt),$t=(ct+y.EPSILON)*Math.cos(Jt),fe=(ct+y.EPSILON)*Math.sin(Jt),de={overlap:ct,result:!1,x:$t,y:fe};if(Y&&(!ft||ft&&ct!==0))return de.result=!0,de;if(!ft&&ct===0||it&&st||w.customSeparateX||V.customSeparateX)return de.x=void 0,de.y=void 0,de;var re=!w.pushable&&!V.pushable;if(ft){var Qt=_.x-tt.x,ae=_.y-tt.y,Se=Math.sqrt(Math.pow(Qt,2)+Math.pow(ae,2)),De=(tt.x-_.x)/Se||0,we=(tt.y-_.y)/Se||0,Qe=2*(ot.x*De+ot.y*we-ht.x*De-ht.y*we)/(w.mass+V.mass);(it||st)&&(Qe*=2),it||(ot.x=ot.x-Qe/w.mass*De,ot.y=ot.y-Qe/w.mass*we,ot.multiply(w.bounce)),st||(ht.x=ht.x+Qe/V.mass*De,ht.y=ht.y+Qe/V.mass*we,ht.multiply(V.bounce)),!it&&!st&&($t*=.5,fe*=.5),it||(w.x-=$t,w.y-=fe,w.updateCenter()),st||(V.x+=$t,V.y+=fe,V.updateCenter()),de.result=!0}else!it||w.pushable||re?(w.x-=$t,w.y-=fe,w.updateCenter()):(!st||V.pushable||re)&&(V.x+=$t,V.y+=fe,V.updateCenter()),de.x=void 0,de.y=void 0;return de},intersects:function(w,V){return w===V?!1:!w.isCircle&&!V.isCircle?!(w.right<=V.left||w.bottom<=V.top||w.left>=V.right||w.top>=V.bottom):w.isCircle?V.isCircle?o(w.center,V.center)<=w.halfWidth+V.halfWidth:this.circleBodyIntersects(w,V):this.circleBodyIntersects(V,w)},circleBodyIntersects:function(w,V){var Y=l(w.center.x,V.left,V.right),j=l(w.center.y,V.top,V.bottom),J=(w.center.x-Y)*(w.center.x-Y),_=(w.center.y-j)*(w.center.y-j);return J+_<=w.halfWidth*w.halfWidth},overlap:function(w,V,Y,j,J){return Y===void 0&&(Y=null),j===void 0&&(j=null),J===void 0&&(J=Y),this.collideObjects(w,V,Y,j,J,!0)},collide:function(w,V,Y,j,J){return Y===void 0&&(Y=null),j===void 0&&(j=null),J===void 0&&(J=Y),this.collideObjects(w,V,Y,j,J,!1)},collideObjects:function(w,V,Y,j,J,_){var tt,it;w.isParent&&(w.physicsType===void 0||V===void 0||w===V)&&(w=w.children.entries),V&&V.isParent&&V.physicsType===void 0&&(V=V.children.entries);var st=Array.isArray(w),ot=Array.isArray(V);if(this._total=0,!st&&!ot)this.collideHandler(w,V,Y,j,J,_);else if(!st&&ot)for(tt=0;tt<V.length;tt++)this.collideHandler(w,V[tt],Y,j,J,_);else if(st&&!ot)if(V)for(tt=0;tt<w.length;tt++)this.collideHandler(w[tt],V,Y,j,J,_);else for(tt=0;tt<w.length;tt++){var ht=w[tt];for(it=tt+1;it<w.length;it++)tt!==it&&this.collideHandler(ht,w[it],Y,j,J,_)}else for(tt=0;tt<w.length;tt++)for(it=0;it<V.length;it++)this.collideHandler(w[tt],V[it],Y,j,J,_);return this._total>0},collideHandler:function(w,V,Y,j,J,_){if(V===void 0&&w.isParent)return this.collideGroupVsGroup(w,w,Y,j,J,_);if(!w||!V)return!1;if(w.body||w.isBody){if(V.body||V.isBody)return this.collideSpriteVsSprite(w,V,Y,j,J,_);if(V.isParent)return this.collideSpriteVsGroup(w,V,Y,j,J,_);if(V.isTilemap)return this.collideSpriteVsTilemapLayer(w,V,Y,j,J,_)}else if(w.isParent){if(V.body||V.isBody)return this.collideSpriteVsGroup(V,w,Y,j,J,_);if(V.isParent)return this.collideGroupVsGroup(w,V,Y,j,J,_);if(V.isTilemap)return this.collideGroupVsTilemapLayer(w,V,Y,j,J,_)}else if(w.isTilemap){if(V.body||V.isBody)return this.collideSpriteVsTilemapLayer(V,w,Y,j,J,_);if(V.isParent)return this.collideGroupVsTilemapLayer(V,w,Y,j,J,_)}},collideSpriteVsSprite:function(w,V,Y,j,J,_){var tt=w.isBody?w:w.body,it=V.isBody?V:V.body;return!tt||!it?!1:(this.separate(tt,it,j,J,_)&&(Y&&Y.call(J,w,V),this._total++),!0)},collideSpriteVsGroup:function(w,V,Y,j,J,_){var tt=w.isBody?w:w.body;if(!(V.length===0||!tt||!tt.enable||tt.checkCollision.none)){var it,st,ot;if(this.useTree||V.physicsType===e.STATIC_BODY){var ht=this.treeMinMax;ht.minX=tt.left,ht.minY=tt.top,ht.maxX=tt.right,ht.maxY=tt.bottom;var ct=V.physicsType===e.DYNAMIC_BODY?this.tree.search(ht):this.staticTree.search(ht);for(st=ct.length,it=0;it<st;it++)ot=ct[it],!(tt===ot||!ot.enable||ot.checkCollision.none||!V.contains(ot.gameObject))&&this.separate(tt,ot,j,J,_)&&(Y&&Y.call(J,tt.gameObject,ot.gameObject),this._total++)}else{var ft=V.getChildren(),Et=V.children.entries.indexOf(w);for(st=ft.length,it=0;it<st;it++)ot=ft[it].body,!(!ot||it===Et||!ot.enable)&&this.separate(tt,ot,j,J,_)&&(Y&&Y.call(J,tt.gameObject,ot.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(w,V,Y,j,J,_){var tt=w.getChildren();if(tt.length===0)return!1;for(var it=!1,st=0;st<tt.length;st++)(tt[st].body||tt[st].isBody)&&this.collideSpriteVsTilemapLayer(tt[st],V,Y,j,J,_)&&(it=!0);return it},collideTiles:function(w,V,Y,j,J){return V.length===0||w.body&&!w.body.enable||w.isBody&&!w.enable?!1:this.collideSpriteVsTilesHandler(w,V,Y,j,J,!1,!1)},overlapTiles:function(w,V,Y,j,J){return V.length===0||w.body&&!w.body.enable||w.isBody&&!w.enable?!1:this.collideSpriteVsTilesHandler(w,V,Y,j,J,!0,!1)},collideSpriteVsTilemapLayer:function(w,V,Y,j,J,_){var tt=w.isBody?w:w.body;if(!tt.enable||tt.checkCollision.none)return!1;var it=tt.x,st=tt.y,ot=tt.width,ht=tt.height,ct=V.layer;if(ct.tileWidth>ct.baseTileWidth){var ft=(ct.tileWidth-ct.baseTileWidth)*V.scaleX;it-=ft,ot+=ft}if(ct.tileHeight>ct.baseTileHeight){var Et=(ct.tileHeight-ct.baseTileHeight)*V.scaleY;ht+=Et}var Mt=_?null:this.tileFilterOptions,Dt=x(it,st,ot,ht,Mt,V.scene.cameras.main,V.layer);return Dt.length===0?!1:this.collideSpriteVsTilesHandler(w,Dt,Y,j,J,_,!0)},collideSpriteVsTilesHandler:function(w,V,Y,j,J,_,tt){for(var it=w.isBody?w:w.body,st,ot={left:0,right:0,top:0,bottom:0},ht,ct=!1,ft=0;ft<V.length;ft++){st=V[ft],ht=st.tilemapLayer;var Et=ht.tileToWorldXY(st.x,st.y);ot.left=Et.x,ot.top=Et.y,st.baseHeight!==st.height&&(ot.top-=(st.height-st.baseHeight)*ht.scaleY),ot.right=ot.left+st.width*ht.scaleX,ot.bottom=ot.top+st.height*ht.scaleY,$(ot,it)&&(!j||j.call(J,w,st))&&R(st,w)&&(_||O(ft,it,st,ot,ht,this.TILE_BIAS,tt))&&(this._total++,ct=!0,Y&&Y.call(J,w,st),_&&it.onOverlap?this.emit(a.TILE_OVERLAP,w,st,it):it.onCollide&&this.emit(a.TILE_COLLIDE,w,st,it))}return ct},collideGroupVsGroup:function(w,V,Y,j,J,_){if(!(w.length===0||V.length===0))for(var tt=w.getChildren(),it=0;it<tt.length;it++)this.collideSpriteVsGroup(tt[it],V,Y,j,J,_)},wrap:function(w,V){w.body?this.wrapObject(w,V):w.getChildren?this.wrapArray(w.getChildren(),V):Array.isArray(w)?this.wrapArray(w,V):this.wrapObject(w,V)},wrapArray:function(w,V){for(var Y=0;Y<w.length;Y++)this.wrapObject(w[Y],V)},wrapObject:function(w,V){V===void 0&&(V=0),w.x=z(w.x,this.bounds.left-V,this.bounds.right+V),w.y=z(w.y,this.bounds.top-V,this.bounds.bottom+V)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});p.exports=X},5321:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};p.exports=S},29257:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};p.exports=S},62122:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,c,l){return this.body.setCollideWorldBounds(t,h,c,l),this}};p.exports=S},99803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,h,c){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=c,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};p.exports=S},87145:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};p.exports=S},96174:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={enableBody:function(t,h,c,l,r){return t&&this.body.reset(h,c),l&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=S},51702:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};p.exports=S},25578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};p.exports=S},72029:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};p.exports=S},34566:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};p.exports=S},2732:(p,S,t)=>{var h=t(15147),c=t(26673),l=t(22184),r=t(26535),s=function(e,i,o,n,a,f){var u=h(e,i-n,o-n,2*n,2*n,a,f);if(u.length===0)return u;for(var d=new c(i,o,n),v=new c,g=[],x=0;x<u.length;x++){var m=u[x];m.isCircle?(v.setTo(m.center.x,m.center.y,m.halfWidth),l(d,v)&&g.push(m)):r(d,m)&&g.push(m)}return g};p.exports=s},15147:p=>{var S=function(t,h,c,l,r,s,e){s===void 0&&(s=!0),e===void 0&&(e=!1);var i=[],o=[],n=t.treeMinMax;if(n.minX=h,n.minY=c,n.maxX=h+l,n.maxY=c+r,e&&(o=t.staticTree.search(n)),s&&t.useTree)i=t.tree.search(n);else if(s){var a=t.bodies,f={position:{x:h,y:c},left:h,top:c,right:h+l,bottom:c+r,isCircle:!1},u=t.intersects;a.iterate(function(d){u(d,f)&&i.push(d)})}return o.concat(i)};p.exports=S},57527:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};p.exports=S},77687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,c){return this.body.setSize(t,h,c),this},setBodySize:function(t,h,c){return this.body.setSize(t,h,c),this},setCircle:function(t,h,c){return this.body.setCircle(t,h,c),this}};p.exports=S},66536:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};p.exports=S},7864:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=S},22346:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},95092:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},15775:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},74142:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22825:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},10851:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},7543:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},1487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},27037:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47401),c=t(98611),l={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};l=c(!1,l,h),p.exports=l},25163:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};p.exports=S},98209:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};p.exports=S},72792:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};p.exports=S},27354:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14405),c=t(52926),l=t(28808),r=function(s,e,i,o,n,a,f){var u=o.left,d=o.top,v=o.right,g=o.bottom,x=i.faceLeft||i.faceRight,m=i.faceTop||i.faceBottom;if(f||(x=!0,m=!0),!x&&!m)return!1;var y=0,T=0,R=0,P=1;if(e.deltaAbsX()>e.deltaAbsY()?R=-1:e.deltaAbsX()<e.deltaAbsY()&&(P=-1),e.deltaX()!==0&&e.deltaY()!==0&&x&&m&&(R=Math.min(Math.abs(e.position.x-v),Math.abs(e.right-u)),P=Math.min(Math.abs(e.position.y-g),Math.abs(e.bottom-d))),R<P){if(x&&(y=h(e,i,u,v,a,f),y!==0&&!l(o,e)))return!0;m&&(T=c(e,i,d,g,a,f))}else{if(m&&(T=c(e,i,d,g,a,f),T!==0&&!l(o,e)))return!0;x&&(y=h(e,i,u,v,a,f))}return y!==0||T!==0};p.exports=r},14405:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98209),c=function(l,r,s,e,i,o){var n=0,a=r.faceLeft,f=r.faceRight,u=r.collideLeft,d=r.collideRight;return o||(a=!0,f=!0,u=!0,d=!0),l.deltaX()<0&&d&&l.checkCollision.left?f&&l.x<e&&(n=l.x-e,n<-i&&(n=0)):l.deltaX()>0&&u&&l.checkCollision.right&&a&&l.right>s&&(n=l.right-s,n>i&&(n=0)),n!==0&&(l.customSeparateX?l.overlapX=n:h(l,n)),n};p.exports=c},52926:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72792),c=function(l,r,s,e,i,o){var n=0,a=r.faceTop,f=r.faceBottom,u=r.collideUp,d=r.collideDown;return o||(a=!0,f=!0,u=!0,d=!0),l.deltaY()<0&&d&&l.checkCollision.up?f&&l.y<e&&(n=l.y-e,n<-i&&(n=0)):l.deltaY()>0&&u&&l.checkCollision.down&&a&&l.bottom>s&&(n=l.bottom-s,n>i&&(n=0)),n!==0&&(l.customSeparateY?l.overlapY=n:h(l,n)),n};p.exports=c},28808:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};p.exports=S},8413:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};p.exports=h},53954:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(39977),Matter:t(45949)}},63568:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(93736),l=new h({initialize:function(){this.boundsCenter=new c,this.centerDiff=new c},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,e=this.centerDiff,i=r.bounds.max.x-r.bounds.min.x,o=r.bounds.max.y-r.bounds.min.y,n=i*r.centerOfMass.x,a=o*r.centerOfMass.y;return s.set(i/2,o/2),e.set(n-s.x,a-s.y),!0},getTopLeft:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,o=this.centerDiff;return new c(s+i.x+o.x,e+i.y+o.y)}return!1},getTopCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,o=this.centerDiff;return new c(s+o.x,e+i.y+o.y)}return!1},getTopRight:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,o=this.centerDiff;return new c(s-(i.x-o.x),e+i.y+o.y)}return!1},getLeftCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,o=this.centerDiff;return new c(s+i.x+o.x,e+o.y)}return!1},getCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.centerDiff;return new c(s+i.x,e+i.y)}return!1},getRightCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,o=this.centerDiff;return new c(s-(i.x-o.x),e+o.y)}return!1},getBottomLeft:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,o=this.centerDiff;return new c(s+i.x+o.x,e-(i.y-o.y))}return!1},getBottomCenter:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,o=this.centerDiff;return new c(s+o.x,e-(i.y-o.y))}return!1},getBottomRight:function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),this.parseBody(r)){var i=this.boundsCenter,o=this.centerDiff;return new c(s-(i.x-o.x),e-(i.y-o.y))}return!1}});p.exports=l},18171:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16929);h.Body=t(84125),h.Composite=t(11299),h.World=t(72005),h.Collision=t(63454),h.Detector=t(13657),h.Pairs=t(91327),h.Pair=t(70584),h.Query=t(13390),h.Resolver=t(44272),h.Constraint=t(52838),h.Common=t(68758),h.Engine=t(45775),h.Events=t(39073),h.Sleeping=t(22806),h.Plugin=t(84474),h.Bodies=t(68516),h.Composites=t(56643),h.Axes=t(50658),h.Bounds=t(84091),h.Svg=t(92765),h.Vector=t(10438),h.Vertices=t(39745),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,p.exports=h},72653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),c=t(56694),l=t(56643),r=t(52838),s=t(92765),e=t(3860),i=t(7030),o=t(73658),n=t(84720),a=t(10998),f=t(72829),u=t(88596),d=t(39745),v=new c({initialize:function(x){this.world=x,this.scene=x.scene,this.sys=x.scene.sys},rectangle:function(g,x,m,y,T){var R=h.rectangle(g,x,m,y,T);return this.world.add(R),R},trapezoid:function(g,x,m,y,T,R){var P=h.trapezoid(g,x,m,y,T,R);return this.world.add(P),P},circle:function(g,x,m,y,T){var R=h.circle(g,x,m,y,T);return this.world.add(R),R},polygon:function(g,x,m,y,T){var R=h.polygon(g,x,m,y,T);return this.world.add(R),R},fromVertices:function(g,x,m,y,T,R,P){typeof m=="string"&&(m=d.fromPath(m));var D=h.fromVertices(g,x,m,y,T,R,P);return this.world.add(D),D},fromPhysicsEditor:function(g,x,m,y,T){T===void 0&&(T=!0);var R=a.parseBody(g,x,m,y);return T&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(g,x,m,y,T,R){y===void 0&&(y=1),T===void 0&&(T={}),R===void 0&&(R=!0);for(var P=m.getElementsByTagName("path"),D=[],O=0;O<P.length;O++){var B=s.pathToVertices(P[O],30);y!==1&&d.scale(B,y,y),D.push(B)}var G=h.fromVertices(g,x,D,T);return R&&this.world.add(G),G},fromJSON:function(g,x,m,y,T){y===void 0&&(y={}),T===void 0&&(T=!0);var R=f.parseBody(g,x,m,y);return R&&T&&this.world.add(R),R},imageStack:function(g,x,m,y,T,R,P,D,O){P===void 0&&(P=0),D===void 0&&(D=0),O===void 0&&(O={});var B=this.world,G=this.sys.displayList;O.addToWorld=!1;var b=l.stack(m,y,T,R,P,D,function(k,$){var W=new i(B,k,$,g,x,O);return G.add(W),W.body});return B.add(b),b},stack:function(g,x,m,y,T,R,P){var D=l.stack(g,x,m,y,T,R,P);return this.world.add(D),D},pyramid:function(g,x,m,y,T,R,P){var D=l.pyramid(g,x,m,y,T,R,P);return this.world.add(D),D},chain:function(g,x,m,y,T,R){return l.chain(g,x,m,y,T,R)},mesh:function(g,x,m,y,T){return l.mesh(g,x,m,y,T)},newtonsCradle:function(g,x,m,y,T){var R=l.newtonsCradle(g,x,m,y,T);return this.world.add(R),R},car:function(g,x,m,y,T){var R=l.car(g,x,m,y,T);return this.world.add(R),R},softBody:function(g,x,m,y,T,R,P,D,O,B){var G=l.softBody(g,x,m,y,T,R,P,D,O,B);return this.world.add(G),G},joint:function(g,x,m,y,T){return this.constraint(g,x,m,y,T)},spring:function(g,x,m,y,T){return this.constraint(g,x,m,y,T)},constraint:function(g,x,m,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyA=g.type==="body"?g:g.body,T.bodyB=x.type==="body"?x:x.body,isNaN(m)||(T.length=m),T.stiffness=y;var R=r.create(T);return this.world.add(R),R},worldConstraint:function(g,x,m,y){m===void 0&&(m=1),y===void 0&&(y={}),y.bodyB=g.type==="body"?g:g.body,isNaN(x)||(y.length=x),y.stiffness=m;var T=r.create(y);return this.world.add(T),T},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var x=new u(this.scene,this.world,g);return this.world.add(x.constraint),x},image:function(g,x,m,y,T){var R=new i(this.world,g,x,m,y,T);return this.sys.displayList.add(R),R},tileBody:function(g,x){return new n(this.world,g,x)},sprite:function(g,x,m,y,T){var R=new o(this.world,g,x,m,y,T);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(g,x,m){return e(this.world,g,x,m)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=v},3860:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74527),c=t(72632),l=t(93736);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var s=function(e,i,o,n){o===void 0&&(o={}),n===void 0&&(n=!0);var a=i.x,f=i.y;i.body={temp:!0,position:{x:a,y:f}};var u=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(u.forEach(function(v){for(var g in v)r(v[g])?Object.defineProperty(i,g,{get:v[g].get,set:v[g].set}):Object.defineProperty(i,g,{value:v[g]})}),i.world=e,i._tempVec2=new l(a,f),o.hasOwnProperty("type")&&o.type==="body")i.setExistingBody(o,n);else{var d=c(o,"shape",null);d||(d="rectangle"),o.addToWorld=n,i.setBody(d,o)}return i};p.exports=s},7030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(74527),l=t(89980),r=t(72632),s=t(1539),e=t(58210),i=t(93736),o=new h({Extends:s,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,e],initialize:function(a,f,u,d,v,g){l.call(this,a.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,v),this.setSizeToFrame(),this.setOrigin(),this.world=a,this._tempVec2=new i(f,u);var x=r(g,"shape",null);x?this.setBody(x,g):this.setRectangle(this.width,this.height,g),this.setPosition(f,u),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=o},50583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84093),c=t(50658),l=t(68516),r=t(84125),s=t(63568),e=t(84091),i=t(56694),o=t(63454),n=t(68758),a=t(11299),f=t(56643),u=t(52838),d=t(13657),v=t(53996),g=t(72653),x=t(72632),m=t(10850),y=t(1675),T=t(80391),R=t(16929),P=t(44097),D=t(30657),O=t(70584),B=t(91327),G=t(84474),b=t(91963),k=t(13390),$=t(44272),W=t(7599),Z=t(92765),z=t(10438),X=t(39745),w=t(31468);n.setDecomp(t(81084));var V=new i({initialize:function(j){this.scene=j,this.systems=j.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=a,this.collision=o,this.detector=d,this.pair=O,this.pairs=B,this.query=k,this.resolver=$,this.constraint=u,this.bodies=l,this.composites=f,this.axes=c,this.bounds=e,this.svg=Z,this.vector=z,this.vertices=X,this.verts=X,this._tempVec2=z.create(),m(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),m(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),m(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),$._restingThresh=m(this.config,"restingThresh",4),$._restingThreshTangent=m(this.config,"restingThreshTangent",6),$._positionDampen=m(this.config,"positionDampen",.9),$._positionWarming=m(this.config,"positionWarming",.8),$._frictionNormalMultiplier=m(this.config,"frictionNormalMultiplier",5),j.sys.events.once(W.BOOT,this.boot,this),j.sys.events.on(W.START,this.start,this)},boot:function(){this.world=new w(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new s,this.systems.events.once(W.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new w(this.scene,this.config),this.add=new g(this.world));var Y=this.systems.events;Y.on(W.UPDATE,this.world.update,this.world),Y.on(W.POST_UPDATE,this.world.postUpdate,this.world),Y.once(W.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,j=this.systems.settings.physics,J=D(x(j,"matter",{}),x(Y,"matter",{}));return J},enableAttractorPlugin:function(){return G.register(y),G.use(R,y),this},enableWrapPlugin:function(){return G.register(P),G.use(R,P),this},enableCollisionEventsPlugin:function(){return G.register(T),G.use(R,T),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,j){this.world.step(Y,j)},containsPoint:function(Y,j,J){Y=this.getMatterBodies(Y);var _=z.create(j,J),tt=k.point(Y,_);return tt.length>0},intersectPoint:function(Y,j,J){J=this.getMatterBodies(J);var _=z.create(Y,j),tt=[],it=k.point(J,_);return it.forEach(function(st){tt.indexOf(st)===-1&&tt.push(st)}),tt},intersectRect:function(Y,j,J,_,tt,it){tt===void 0&&(tt=!1),it=this.getMatterBodies(it);var st={min:{x:Y,y:j},max:{x:Y+J,y:j+_}},ot=[],ht=k.region(it,st,tt);return ht.forEach(function(ct){ot.indexOf(ct)===-1&&ot.push(ct)}),ot},intersectRay:function(Y,j,J,_,tt,it){tt===void 0&&(tt=1),it=this.getMatterBodies(it);for(var st=[],ot=k.ray(it,z.create(Y,j),z.create(J,_),tt),ht=0;ht<ot.length;ht++)st.push(ot[ht].body);return st},intersectBody:function(Y,j){j=this.getMatterBodies(j);for(var J=[],_=k.collides(Y,j),tt=0;tt<_.length;tt++){var it=_[tt];it.bodyA===Y?J.push(it.bodyB):J.push(it.bodyA)}return J},overlap:function(Y,j,J,_,tt){J===void 0&&(J=null),_===void 0&&(_=null),tt===void 0&&(tt=J),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),j=this.getMatterBodies(j);for(var it=!1,st=0;st<Y.length;st++)for(var ot=Y[st],ht=k.collides(ot,j),ct=0;ct<ht.length;ct++){var ft=ht[ct],Et=ft.bodyA.id===ot.id?ft.bodyB:ft.bodyA;if(!_||_.call(tt,ot,Et,ft)){if(it=!0,J)J.call(tt,ot,Et,ft);else if(!_)return!0}}return it},setCollisionCategory:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(J){J.collisionFilter.category=j}),this},setCollisionGroup:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(J){J.collisionFilter.group=j}),this},setCollidesWith:function(Y,j){Y=this.getMatterBodies(Y);var J=0;if(!Array.isArray(j))J=j;else for(var _=0;_<j.length;_++)J|=j[_];return Y.forEach(function(tt){tt.collisionFilter.mask=J}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var j=[],J=0;J<Y.length;J++){var _=Y[J].hasOwnProperty("body")?Y[J].body:Y[J];j.push(_)}return j},setVelocity:function(Y,j,J){Y=this.getMatterBodies(Y);var _=this._tempVec2;return _.x=j,_.y=J,Y.forEach(function(tt){r.setVelocity(tt,_)}),this},setVelocityX:function(Y,j){Y=this.getMatterBodies(Y);var J=this._tempVec2;return J.x=j,Y.forEach(function(_){J.y=_.velocity.y,r.setVelocity(_,J)}),this},setVelocityY:function(Y,j){Y=this.getMatterBodies(Y);var J=this._tempVec2;return J.y=j,Y.forEach(function(_){J.x=_.velocity.x,r.setVelocity(_,J)}),this},setAngularVelocity:function(Y,j){return Y=this.getMatterBodies(Y),Y.forEach(function(J){r.setAngularVelocity(J,j)}),this},applyForce:function(Y,j){Y=this.getMatterBodies(Y);var J=this._tempVec2;return Y.forEach(function(_){J.x=_.position.x,J.y=_.position.y,r.applyForce(_,J,j)}),this},applyForceFromPosition:function(Y,j,J,_){Y=this.getMatterBodies(Y);var tt=this._tempVec2;return Y.forEach(function(it){_===void 0&&(_=it.angle),tt.x=J*Math.cos(_),tt.y=J*Math.sin(_),r.applyForce(it,j,tt)}),this},applyForceFromAngle:function(Y,j,J){Y=this.getMatterBodies(Y);var _=this._tempVec2;return Y.forEach(function(tt){J===void 0&&(J=tt.angle),_.x=j*Math.cos(J),_.y=j*Math.sin(J),r.applyForce(tt,{x:tt.position.x,y:tt.position.y},_)}),this},getConstraintLength:function(Y){var j=Y.pointA.x,J=Y.pointA.y,_=Y.pointB.x,tt=Y.pointB.y;return Y.bodyA&&(j+=Y.bodyA.position.x,J+=Y.bodyA.position.y),Y.bodyB&&(_+=Y.bodyB.position.x,tt+=Y.bodyB.position.y),v(j,J,_,tt)},alignBody:function(Y,j,J,_){Y=Y.hasOwnProperty("body")?Y.body:Y;var tt;switch(_){case h.TOP_LEFT:case h.LEFT_TOP:tt=this.bodyBounds.getTopLeft(Y,j,J);break;case h.TOP_CENTER:tt=this.bodyBounds.getTopCenter(Y,j,J);break;case h.TOP_RIGHT:case h.RIGHT_TOP:tt=this.bodyBounds.getTopRight(Y,j,J);break;case h.LEFT_CENTER:tt=this.bodyBounds.getLeftCenter(Y,j,J);break;case h.CENTER:tt=this.bodyBounds.getCenter(Y,j,J);break;case h.RIGHT_CENTER:tt=this.bodyBounds.getRightCenter(Y,j,J);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:tt=this.bodyBounds.getBottomLeft(Y,j,J);break;case h.BOTTOM_CENTER:tt=this.bodyBounds.getBottomCenter(Y,j,J);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:tt=this.bodyBounds.getBottomRight(Y,j,J);break}return tt&&r.setPosition(Y,tt),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(W.UPDATE,this.world.update,this.world),Y.off(W.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(W.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(W.START,this.start,this),this.scene=null,this.systems=null}});b.register("MatterPhysics",V,"matterPhysics"),p.exports=V},73658:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),c=t(56694),l=t(74527),r=t(89980),s=t(72632),e=t(58210),i=t(13747),o=t(93736),n=new c({Extends:i,Mixins:[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity,e],initialize:function(f,u,d,v,g,x){r.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(v,g),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new o(u,d);var m=s(x,"shape",null);m?this.setBody(m,x):this.setRectangle(this.width,this.height,x),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});p.exports=n},84720:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),c=t(84125),l=t(56694),r=t(74527),s=t(28699),e=t(6659),i=t(72632),o=t(19256),n=t(39745),a=new l({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(u,d,v){e.call(this),this.tile=d,this.world=u,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var g=i(v,"body",null),x=i(v,"addToWorld",!0);if(g)this.setBody(g,x);else{var m=d.getCollisionGroup(),y=i(m,"objects",[]);y.length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}if(d.flipX||d.flipY){var T={x:d.getCenterX(),y:d.getCenterY()},R=d.flipX?-1:1,P=d.flipY?-1:1;c.scale(g,R,P,T)}},setFromTileRectangle:function(f){f===void 0&&(f={}),o(f,"isStatic")||(f.isStatic=!0),o(f,"addToWorld")||(f.addToWorld=!0);var u=this.tile.getBounds(),d=u.x+u.width/2,v=u.y+u.height/2,g=h.rectangle(d,v,u.width,u.height,f);return this.setBody(g,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),o(f,"isStatic")||(f.isStatic=!0),o(f,"addToWorld")||(f.addToWorld=!0);for(var u=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),g=this.tile.getTop(),x=this.tile.getCollisionGroup(),m=i(x,"objects",[]),y=[],T=0;T<m.length;T++){var R=m[T],P=v+R.x*u,D=g+R.y*d,O=R.width*u,B=R.height*d,G=null;if(R.rectangle)G=h.rectangle(P+O/2,D+B/2,O,B,f);else if(R.ellipse)G=h.circle(P+O/2,D+B/2,O/2,f);else if(R.polygon||R.polyline){var b=R.polygon?R.polygon:R.polyline,k=b.map(function(z){return{x:z.x*u,y:z.y*d}}),$=n.create(k),W=n.centre($);P+=W.x,D+=W.y,G=h.fromVertices(P,D,$,f)}G&&y.push(G)}if(y.length===1)this.setBody(y[0],f.addToWorld);else if(y.length>1){var Z=s(f);Z.parts=y,this.setBody(c.create(Z),Z.addToWorld)}return this},setBody:function(f,u){return u===void 0&&(u=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,u&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=a},10998:(p,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),c=t(84125),l=t(68758),r=t(72632),s=t(39745),e={parseBody:function(i,o,n,a){a===void 0&&(a={});for(var f=r(n,"fixtures",[]),u=[],d=0;d<f.length;d++)for(var v=this.parseFixture(f[d]),g=0;g<v.length;g++)u.push(v[g]);var x=l.clone(n,!0);l.extend(x,a,!0),delete x.fixtures,delete x.type;var m=c.create(x);return c.setParts(m,u),c.setPosition(m,{x:i,y:o}),m},parseFixture:function(i){var o=l.extend({},!1,i);delete o.circle,delete o.vertices;var n;if(i.circle){var a=r(i.circle,"x"),f=r(i.circle,"y"),u=r(i.circle,"radius");n=[h.circle(a,f,u,o)]}else i.vertices&&(n=this.parseVertices(i.vertices,o));return n},parseVertices:function(i,o){o===void 0&&(o={});for(var n=[],a=0;a<i.length;a++)s.clockwiseSort(i[a]),n.push(c.create(l.extend({position:s.centre(i[a]),vertices:i[a]},o)));return h.flagCoincidentParts(n)}};p.exports=e},72829:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),c=t(84125),l={parseBody:function(r,s,e,i){i===void 0&&(i={});var o,n=e.vertices;if(n.length===1)i.vertices=n[0],o=c.create(i),h.flagCoincidentParts(o.parts);else{for(var a=[],f=0;f<n.length;f++){var u=c.create({vertices:n[f]});a.push(u)}h.flagCoincidentParts(a),i.parts=a,o=c.create(i)}return o.label=e.label,c.setPosition(o,{x:r,y:s}),o}};p.exports=l},88596:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84091),c=t(56694),l=t(11299),r=t(52838),s=t(13657),e=t(35416),i=t(33963),o=t(30657),n=t(22806),a=t(93736),f=t(39745),u=new c({initialize:function(v,g,x){x===void 0&&(x={});var m={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=v,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new a,this.body=null,this.part=null,this.constraint=r.create(o(x,m)),this.world.on(e.BEFORE_UPDATE,this.update,this),v.sys.input.on(i.POINTER_DOWN,this.onDown,this),v.sys.input.on(i.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var v=this.position,g=this.constraint;this.camera.getWorldPoint(d.x,d.y,v);for(var x=l.allBodies(this.world.localWorld),m=0;m<x.length;m++){var y=x[m];if(!y.ignorePointer&&h.contains(y.bounds,v)&&s.canCollide(y.collisionFilter,g.collisionFilter)&&this.hitTestBody(y,v))return this.world.emit(e.DRAG_START,y,this.part,this),!0}return!1},hitTestBody:function(d,v){for(var g=this.constraint,x=d.parts.length,m=x>1?1:0,y=m;y<x;y++){var T=d.parts[y];if(f.contains(T.vertices,v))return g.pointA=v,g.pointB={x:v.x-d.position.x,y:v.y-d.position.y},g.bodyB=d,g.angleB=d.angle,n.set(d,!1),this.part=T,this.body=d,!0}return!1},update:function(){var d=this.pointer,v=this.body;if(!this.active||!d){v&&this.stopDrag();return}if(!d.isDown&&v){this.stopDrag();return}else if(d.isDown){if(!v&&!this.getBody(d))return;v=this.body;var g=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,g),x.pointA.x=g.x,x.pointA.y=g.y,n.set(v,!1),this.world.emit(e.DRAG,v,this)}},stopDrag:function(){var d=this.body,v=this.constraint;v.bodyB=null,v.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(i.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(i.POINTER_UP,this.onUp,this)}});p.exports=u},31468:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),c=t(84125),l=t(56694),r=t(68758),s=t(11299),e=t(45775),i=t(6659),o=t(35416),n=t(72632),a=t(10850),f=t(84125),u=t(39073),d=t(84720),v=t(72005),g=t(10438),x=new l({Extends:i,initialize:function(y,T){i.call(this),this.scene=y,this.engine=e.create(T),this.localWorld=this.engine.world;var R=a(T,"gravity",null);R?this.setGravity(R.x,R.y,R.scale):R===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=a(T,"enabled",!0),this.getDelta=a(T,"getDelta",this.update60Hz);var P=n(T,"runner",{}),D=n(P,"fps",!1),O=n(P,"fps",60),B=n(P,"delta",1e3/O),G=n(P,"deltaMin",1e3/O),b=n(P,"deltaMax",1e3/(O*.5));D||(O=1e3/B),this.runner={fps:O,deltaSampleSize:n(P,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(P,"isFixed",!1),delta:B,deltaMin:G,deltaMax:b},this.autoUpdate=a(T,"autoUpdate",!0);var k=a(T,"debug",!1);if(this.drawDebug=typeof k=="object"?!0:k,this.debugGraphic,this.debugConfig={showAxes:n(k,"showAxes",!1),showAngleIndicator:n(k,"showAngleIndicator",!1),angleColor:n(k,"angleColor",15208787),showBroadphase:n(k,"showBroadphase",!1),broadphaseColor:n(k,"broadphaseColor",16757760),showBounds:n(k,"showBounds",!1),boundsColor:n(k,"boundsColor",16777215),showVelocity:n(k,"showVelocity",!1),velocityColor:n(k,"velocityColor",44783),showCollisions:n(k,"showCollisions",!1),collisionColor:n(k,"collisionColor",16094476),showSeparations:n(k,"showSeparations",!1),separationColor:n(k,"separationColor",16753920),showBody:n(k,"showBody",!0),showStaticBody:n(k,"showStaticBody",!0),showInternalEdges:n(k,"showInternalEdges",!1),renderFill:n(k,"renderFill",!1),renderLine:n(k,"renderLine",!0),fillColor:n(k,"fillColor",1075465),fillOpacity:n(k,"fillOpacity",1),lineColor:n(k,"lineColor",2678297),lineOpacity:n(k,"lineOpacity",1),lineThickness:n(k,"lineThickness",1),staticFillColor:n(k,"staticFillColor",857979),staticLineColor:n(k,"staticLineColor",1255396),showSleeping:n(k,"showSleeping",!1),staticBodySleepOpacity:n(k,"staticBodySleepOpacity",.7),sleepFillColor:n(k,"sleepFillColor",4605510),sleepLineColor:n(k,"sleepLineColor",10066585),showSensors:n(k,"showSensors",!0),sensorFillColor:n(k,"sensorFillColor",857979),sensorLineColor:n(k,"sensorLineColor",1255396),showPositions:n(k,"showPositions",!0),positionSize:n(k,"positionSize",4),positionColor:n(k,"positionColor",14697178),showJoint:n(k,"showJoint",!0),jointColor:n(k,"jointColor",14737474),jointLineOpacity:n(k,"jointLineOpacity",1),jointLineThickness:n(k,"jointLineThickness",2),pinSize:n(k,"pinSize",4),pinColor:n(k,"pinColor",4382944),springColor:n(k,"springColor",14697184),anchorColor:n(k,"anchorColor",15724527),anchorSize:n(k,"anchorSize",4),showConvexHulls:n(k,"showConvexHulls",!1),hullColor:n(k,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(T,"setBounds",!1)){var $=T.setBounds;if(typeof $=="boolean")this.setBounds();else{var W=n($,"x",0),Z=n($,"y",0),z=n($,"width",y.sys.scale.width),X=n($,"height",y.sys.scale.height),w=n($,"thickness",64),V=n($,"left",!0),Y=n($,"right",!0),j=n($,"top",!0),J=n($,"bottom",!0);this.setBounds(W,Z,z,X,w,V,Y,j,J)}}},setCompositeRenderStyle:function(m){var y=m.bodies,T=m.constraints,R=m.composites,P,D,O;for(P=0;P<y.length;P++)D=y[P],O=D.render,this.setBodyRenderStyle(D,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity);for(P=0;P<T.length;P++)D=T[P],O=D.render,this.setConstraintRenderStyle(D,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize);for(P=0;P<R.length;P++)D=R[P],this.setCompositeRenderStyle(D);return this},setBodyRenderStyle:function(m,y,T,R,P,D){var O=m.render,B=this.debugConfig;return O?(y==null&&(y=m.isStatic?B.staticLineColor:B.lineColor),T==null&&(T=B.lineOpacity),R==null&&(R=B.lineThickness),P==null&&(P=m.isStatic?B.staticFillColor:B.fillColor),D==null&&(D=B.fillOpacity),y!==!1&&(O.lineColor=y),T!==!1&&(O.lineOpacity=T),R!==!1&&(O.lineThickness=R),P!==!1&&(O.fillColor=P),D!==!1&&(O.fillOpacity=D),this):this},setConstraintRenderStyle:function(m,y,T,R,P,D,O){var B=m.render,G=this.debugConfig;if(!B)return this;if(y==null){var b=B.type;b==="line"?y=G.jointColor:b==="pin"?y=G.pinColor:b==="spring"&&(y=G.springColor)}return T==null&&(T=G.jointLineOpacity),R==null&&(R=G.jointLineThickness),P==null&&(P=G.pinSize),D==null&&(D=G.anchorColor),O==null&&(O=G.anchorSize),y!==!1&&(B.lineColor=y),T!==!1&&(B.lineOpacity=T),R!==!1&&(B.lineThickness=R),P!==!1&&(B.pinSize=P),D!==!1&&(B.anchorColor=D),O!==!1&&(B.anchorSize=O),this},setEventsProxy:function(){var m=this,y=this.engine,T=this.localWorld;this.drawDebug&&(u.on(T,"compositeModified",function(R){m.setCompositeRenderStyle(R)}),u.on(T,"beforeAdd",function(R){for(var P=[].concat(R.object),D=0;D<P.length;D++){var O=P[D],B=O.render;O.type==="body"?m.setBodyRenderStyle(O,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity):O.type==="composite"?m.setCompositeRenderStyle(O):O.type==="constraint"&&m.setConstraintRenderStyle(O,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize)}})),u.on(T,"beforeAdd",function(R){m.emit(o.BEFORE_ADD,R)}),u.on(T,"afterAdd",function(R){m.emit(o.AFTER_ADD,R)}),u.on(T,"beforeRemove",function(R){m.emit(o.BEFORE_REMOVE,R)}),u.on(T,"afterRemove",function(R){m.emit(o.AFTER_REMOVE,R)}),u.on(y,"beforeUpdate",function(R){m.emit(o.BEFORE_UPDATE,R)}),u.on(y,"afterUpdate",function(R){m.emit(o.AFTER_UPDATE,R)}),u.on(y,"collisionStart",function(R){var P=R.pairs,D,O;P.length>0&&(D=P[0].bodyA,O=P[0].bodyB),m.emit(o.COLLISION_START,R,D,O)}),u.on(y,"collisionActive",function(R){var P=R.pairs,D,O;P.length>0&&(D=P[0].bodyA,O=P[0].bodyB),m.emit(o.COLLISION_ACTIVE,R,D,O)}),u.on(y,"collisionEnd",function(R){var P=R.pairs,D,O;P.length>0&&(D=P[0].bodyA,O=P[0].bodyB),m.emit(o.COLLISION_END,R,D,O)})},setBounds:function(m,y,T,R,P,D,O,B,G){return m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=this.scene.sys.scale.width),R===void 0&&(R=this.scene.sys.scale.height),P===void 0&&(P=64),D===void 0&&(D=!0),O===void 0&&(O=!0),B===void 0&&(B=!0),G===void 0&&(G=!0),this.updateWall(D,"left",m-P,y-P,P,R+P*2),this.updateWall(O,"right",m+T,y-P,P,R+P*2),this.updateWall(B,"top",m,y-P,T,P),this.updateWall(G,"bottom",m,y+R,T,P),this},updateWall:function(m,y,T,R,P,D){var O=this.walls[y];m?(O&&v.remove(this.localWorld,O),T+=P/2,R+=D/2,this.walls[y]=this.create(T,R,P,D,{isStatic:!0,friction:0,frictionStatic:0})):(O&&v.remove(this.localWorld,O),this.walls[y]=null)},createDebugGraphic:function(){var m=this.scene.sys.add.graphics({x:0,y:0});return m.setDepth(Number.MAX_VALUE),this.debugGraphic=m,this.drawDebug=!0,m},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(m,y,T){return m===void 0&&(m=0),y===void 0&&(y=1),T===void 0&&(T=.001),this.localWorld.gravity.x=m,this.localWorld.gravity.y=y,this.localWorld.gravity.scale=T,this},create:function(m,y,T,R,P){var D=h.rectangle(m,y,T,R,P);return v.add(this.localWorld,D),D},add:function(m){return v.add(this.localWorld,m),this},remove:function(m,y){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++){var R=m[T],P=R.body?R.body:R;s.remove(this.localWorld,P,y)}return this},removeConstraint:function(m,y){return s.remove(this.localWorld,m,y),this},convertTilemapLayer:function(m,y){var T=m.layer,R=m.getTilesWithin(0,0,T.width,T.height,{isColliding:!0});return this.convertTiles(R,y),this},convertTiles:function(m,y){if(m.length===0)return this;for(var T=0;T<m.length;T++)new d(this,m[T],y);return this},nextGroup:function(m){return f.nextGroup(m)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(o.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(o.RESUME),this},update:function(m,y){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,R=this.runner,P=T.timing;R.isFixed?y=this.getDelta(m,y):(y=m-R.timePrev||R.delta,R.timePrev=m,R.deltaHistory.push(y),R.deltaHistory=R.deltaHistory.slice(-R.deltaSampleSize),y=Math.min.apply(null,R.deltaHistory),y=y<R.deltaMin?R.deltaMin:y,y=y>R.deltaMax?R.deltaMax:y,R.delta=y),R.timeScalePrev=P.timeScale,R.frameCounter+=1,m-R.counterTimestamp>=1e3&&(R.fps=R.frameCounter*((m-R.counterTimestamp)/1e3),R.counterTimestamp=m,R.frameCounter=0),e.update(T,y)}},step:function(m){e.update(this.engine,m)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(m){var y=m.hasOwnProperty("body")?m.body:m;return s.get(this.localWorld,y.id,y.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var m=this.debugConfig,y=this.engine,T=this.debugGraphic,R=s.allBodies(this.localWorld);this.debugGraphic.clear(),m.showBroadphase&&y.broadphase.controller&&this.renderGrid(y.broadphase,T,m.broadphaseColor,.5),m.showBounds&&this.renderBodyBounds(R,T,m.boundsColor,.5),(m.showBody||m.showStaticBody)&&this.renderBodies(R),m.showJoint&&this.renderJoints(),(m.showAxes||m.showAngleIndicator)&&this.renderBodyAxes(R,T,m.showAxes,m.angleColor,.5),m.showVelocity&&this.renderBodyVelocity(R,T,m.velocityColor,1,2),m.showSeparations&&this.renderSeparations(y.pairs.list,T,m.separationColor),m.showCollisions&&this.renderCollisions(y.pairs.list,T,m.collisionColor)}},renderGrid:function(m,y,T,R){y.lineStyle(1,T,R);for(var P=r.keys(m.buckets),D=0;D<P.length;D++){var O=P[D];if(!(m.buckets[O].length<2)){var B=O.split(/C|R/);y.strokeRect(parseInt(B[1],10)*m.bucketWidth,parseInt(B[2],10)*m.bucketHeight,m.bucketWidth,m.bucketHeight)}}return this},renderSeparations:function(m,y,T){y.lineStyle(1,T,1);for(var R=0;R<m.length;R++){var P=m[R];if(P.isActive){var D=P.collision,O=D.bodyA,B=D.bodyB,G=O.position,b=B.position,k=D.penetration,$=!O.isStatic&&!B.isStatic?4:1;B.isStatic&&($=0),y.lineBetween(b.x,b.y,b.x-k.x*$,b.y-k.y*$),$=!O.isStatic&&!B.isStatic?4:1,O.isStatic&&($=0),y.lineBetween(G.x,G.y,G.x-k.x*$,G.y-k.y*$)}}return this},renderCollisions:function(m,y,T){y.lineStyle(1,T,.5),y.fillStyle(T,1);var R,P;for(R=0;R<m.length;R++)if(P=m[R],!!P.isActive)for(var D=0;D<P.activeContacts.length;D++){var O=P.activeContacts[D],B=O.vertex;y.fillRect(B.x-2,B.y-2,5,5)}for(R=0;R<m.length;R++)if(P=m[R],!!P.isActive){var G=P.collision,b=P.activeContacts;if(b.length>0){var k=b[0].vertex.x,$=b[0].vertex.y;b.length===2&&(k=(b[0].vertex.x+b[1].vertex.x)/2,$=(b[0].vertex.y+b[1].vertex.y)/2),G.bodyB===G.supports[0].body||G.bodyA.isStatic?y.lineBetween(k-G.normal.x*8,$-G.normal.y*8,k,$):y.lineBetween(k+G.normal.x*8,$+G.normal.y*8,k,$)}}return this},renderBodyBounds:function(m,y,T,R){y.lineStyle(1,T,R);for(var P=0;P<m.length;P++){var D=m[P];if(D.render.visible){var O=D.bounds;if(O)y.strokeRect(O.min.x,O.min.y,O.max.x-O.min.x,O.max.y-O.min.y);else for(var B=D.parts,G=B.length>1?1:0;G<B.length;G++){var b=B[G];y.strokeRect(b.bounds.min.x,b.bounds.min.y,b.bounds.max.x-b.bounds.min.x,b.bounds.max.y-b.bounds.min.y)}}}return this},renderBodyAxes:function(m,y,T,R,P){y.lineStyle(1,R,P);for(var D=0;D<m.length;D++){var O=m[D],B=O.parts;if(O.render.visible){var G,b,k;if(T)for(b=B.length>1?1:0;b<B.length;b++)for(G=B[b],k=0;k<G.axes.length;k++){var $=G.axes[k];y.lineBetween(G.position.x,G.position.y,G.position.x+$.x*20,G.position.y+$.y*20)}else for(b=B.length>1?1:0;b<B.length;b++)for(G=B[b],k=0;k<G.axes.length;k++)y.lineBetween(G.position.x,G.position.y,(G.vertices[0].x+G.vertices[G.vertices.length-1].x)/2,(G.vertices[0].y+G.vertices[G.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(m,y,T,R,P){y.lineStyle(P,T,R);for(var D=0;D<m.length;D++){var O=m[D];O.render.visible&&y.lineBetween(O.position.x,O.position.y,O.position.x+(O.position.x-O.positionPrev.x)*2,O.position.y+(O.position.y-O.positionPrev.y)*2)}return this},renderBodies:function(m){for(var y=this.debugGraphic,T=this.debugConfig,R=T.showBody,P=T.showStaticBody,D=T.showSleeping,O=T.showInternalEdges,B=T.showConvexHulls,G=T.renderFill,b=T.renderLine,k=T.staticBodySleepOpacity,$=T.sleepFillColor,W=T.sleepLineColor,Z=T.hullColor,z=0;z<m.length;z++){var X=m[z];if(X.render.visible&&!(!P&&X.isStatic||!R&&!X.isStatic)){var w=X.render.lineColor,V=X.render.lineOpacity,Y=X.render.lineThickness,j=X.render.fillColor,J=X.render.fillOpacity;D&&X.isSleeping&&(X.isStatic?(V*=k,J*=k):(w=W,j=$)),G||(j=null),b||(w=null),this.renderBody(X,y,O,w,V,Y,j,J);var _=X.parts.length;B&&_>1&&this.renderConvexHull(X,y,Z,Y)}}},renderBody:function(m,y,T,R,P,D,O,B){R===void 0&&(R=null),P===void 0&&(P=null),D===void 0&&(D=1),O===void 0&&(O=null),B===void 0&&(B=null);for(var G=this.debugConfig,b=G.sensorFillColor,k=G.sensorLineColor,$=m.parts,W=$.length,Z=W>1?1:0;Z<W;Z++){var z=$[Z],X=z.render,w=X.opacity;if(!(!X.visible||w===0||z.isSensor&&!G.showSensors)){var V=z.circleRadius;if(y.beginPath(),z.isSensor?(O!==null&&y.fillStyle(b,B*w),R!==null&&y.lineStyle(D,k,P*w)):(O!==null&&y.fillStyle(O,B*w),R!==null&&y.lineStyle(D,R,P*w)),V)y.arc(z.position.x,z.position.y,V,0,2*Math.PI);else{var Y=z.vertices,j=Y.length;y.moveTo(Y[0].x,Y[0].y);for(var J=1;J<j;J++){var _=Y[J];if(!Y[J-1].isInternal||T?y.lineTo(_.x,_.y):y.moveTo(_.x,_.y),J<j&&_.isInternal&&!T){var tt=(J+1)%j;y.moveTo(Y[tt].x,Y[tt].y)}}y.closePath()}O!==null&&y.fillPath(),R!==null&&y.strokePath()}}if(G.showPositions&&!m.isStatic){var it=m.position.x,st=m.position.y,ot=Math.ceil(G.positionSize/2);y.fillStyle(G.positionColor,1),y.fillRect(it-ot,st-ot,G.positionSize,G.positionSize)}return this},renderConvexHull:function(m,y,T,R){R===void 0&&(R=1);var P=m.parts,D=P.length;if(D>1){var O=m.vertices;y.lineStyle(R,T),y.beginPath(),y.moveTo(O[0].x,O[0].y);for(var B=1;B<O.length;B++)y.lineTo(O[B].x,O[B].y);y.lineTo(O[0].x,O[0].y),y.strokePath()}return this},renderJoints:function(){for(var m=this.debugGraphic,y=s.allConstraints(this.localWorld),T=0;T<y.length;T++){var R=y[T].render,P=R.lineColor,D=R.lineOpacity,O=R.lineThickness,B=R.pinSize,G=R.anchorColor,b=R.anchorSize;this.renderConstraint(y[T],m,P,D,O,B,G,b)}},renderConstraint:function(m,y,T,R,P,D,O,B){var G=m.render;if(!G.visible||!m.pointA||!m.pointB)return this;y.lineStyle(P,T,R);var b=m.bodyA,k=m.bodyB,$,W;if(b?$=g.add(b.position,m.pointA):$=m.pointA,G.type==="pin")y.strokeCircle($.x,$.y,D);else{if(k?W=g.add(k.position,m.pointB):W=m.pointB,y.beginPath(),y.moveTo($.x,$.y),G.type==="spring")for(var Z=g.sub(W,$),z=g.perp(g.normalise(Z)),X=Math.ceil(r.clamp(m.length/5,12,20)),w,V=1;V<X;V+=1)w=V%2===0?1:-1,y.lineTo($.x+Z.x*(V/X)+z.x*w*4,$.y+Z.y*(V/X)+z.y*w*4);y.lineTo(W.x,W.y)}return y.strokePath(),G.anchors&&B>0&&(y.fillStyle(O),y.fillCircle($.x,$.y,B),y.fillCircle(W.x,W.y,B)),this},resetCollisionIDs:function(){return c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,this},shutdown:function(){u.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=x},95349:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};p.exports=S},70679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var c=0;c<t.length;c++)h|=t[c];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var c=0;c<t.length;c++){var l=t[c].hasOwnProperty("body")?t[c].body:t[c];this.body.setOnCollideWith(l,h)}return this}};p.exports=S},77178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),c={applyForce:function(l){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,l),this},applyForceFrom:function(l,r){return h.applyForce(this.body,l,r),this},thrust:function(l){var r=this.body.angle;return this._tempVec2.set(l*Math.cos(r),l*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(l){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(l*Math.cos(r),l*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(l){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(l*Math.cos(r),l*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(l){var r=this.body.angle-Math.PI;return this._tempVec2.set(l*Math.cos(r),l*Math.sin(r)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=c},74015:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h,c){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),c!==void 0&&(this.body.frictionStatic=c),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};p.exports=S},11535:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};p.exports=S},74497:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),c=t(93736),l={setMass:function(r){return h.setMass(this.body,r),this},setDensity:function(r){return h.setDensity(this.body,r),this},centerOfMass:{get:function(){return new c(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=l},75529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};p.exports=S},64024:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),c=t(84125),l=t(88456),r=t(72632),s=t(10998),e=t(72829),i=t(39745),o={setRectangle:function(n,a,f){return this.setBody({type:"rectangle",width:n,height:a},f)},setCircle:function(n,a){return this.setBody({type:"circle",radius:n},a)},setPolygon:function(n,a,f){return this.setBody({type:"polygon",sides:a,radius:n},f)},setTrapezoid:function(n,a,f,u){return this.setBody({type:"trapezoid",width:n,height:a,slope:f},u)},setExistingBody:function(n,a){a===void 0&&(a=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var f=0;f<n.parts.length;f++)n.parts[f].gameObject=this;var u=this;if(n.destroy=function(){u.world.remove(u.body,!0),u.body.gameObject=null},a&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var d=n.render.sprite.xOffset,v=n.render.sprite.yOffset,g=n.centerOfMass.x,x=n.centerOfMass.y;if(l(g,.5)&&l(x,.5))this.setOrigin(d+.5,v+.5);else{var m=n.centerOffset.x,y=n.centerOffset.y;this.setOrigin(d+m/this.displayWidth,v+y/this.displayHeight)}}return this},setBody:function(n,a){if(!n)return this;var f;typeof n=="string"&&(n={type:n});var u=r(n,"type","rectangle"),d=r(n,"x",this._tempVec2.x),v=r(n,"y",this._tempVec2.y),g=r(n,"width",this.width),x=r(n,"height",this.height);switch(u){case"rectangle":f=h.rectangle(d,v,g,x,a);break;case"circle":var m=r(n,"radius",Math.max(g,x)/2),y=r(n,"maxSides",25);f=h.circle(d,v,m,a,y);break;case"trapezoid":var T=r(n,"slope",.5);f=h.trapezoid(d,v,g,x,T,a);break;case"polygon":var R=r(n,"sides",5),P=r(n,"radius",Math.max(g,x)/2);f=h.polygon(d,v,R,P,a);break;case"fromVertices":case"fromVerts":var D=r(n,"verts",null);if(D)if(typeof D=="string"&&(D=i.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))c.setVertices(this.body,D),f=this.body;else{var O=r(n,"flagInternal",!1),B=r(n,"removeCollinear",.01),G=r(n,"minimumArea",10);f=h.fromVertices(d,v,D,a,O,B,G)}break;case"fromPhysicsEditor":f=s.parseBody(d,v,n,a);break;case"fromPhysicsTracer":f=e.parseBody(d,v,n,a);break}return f&&this.setExistingBody(f,n.addToWorld),this}};p.exports=o},25106:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35416),c=t(22806),l=t(39073),r={setToSleep:function(){return c.set(this.body,!0),this},setAwake:function(){return c.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,e){return this.setSleepStartEvent(s),this.setSleepEndEvent(e),this},setSleepStartEvent:function(s){if(s){var e=this.world;l.on(this.body,"sleepStart",function(i){e.emit(h.SLEEP_START,i,this)})}else l.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var e=this.world;l.on(this.body,"sleepEnd",function(i){e.emit(h.SLEEP_END,i,this)})}else l.off(this.body,"sleepEnd");return this}};p.exports=r},82884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),c={setStatic:function(l){return h.setStatic(this.body,l),this},isStatic:function(){return this.body.isStatic}};p.exports=c},4753:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),c=t(83392),l=t(35786),r=t(62138),s=4,e={x:{get:function(){return this.body.position.x},set:function(i){this._tempVec2.set(i,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(i){this._tempVec2.set(this.x,i),h.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(i){var o=1/this._scaleX,n=1/this._scaleY;this._scaleX=i,this._scaleX===0?this.renderFlags&=~s:this.renderFlags|=s,h.scale(this.body,o,n),h.scale(this.body,i,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(i){var o=1/this._scaleX,n=1/this._scaleY;this._scaleY=i,this._scaleY===0?this.renderFlags&=~s:this.renderFlags|=s,h.scale(this.body,o,n),h.scale(this.body,this._scaleX,i)}},angle:{get:function(){return r(this.body.angle*c.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*c.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(i){this._rotation=l(i),h.setAngle(this.body,this._rotation)}},setPosition:function(i,o){return i===void 0&&(i=0),o===void 0&&(o=i),this._tempVec2.set(i,o),h.setPosition(this.body,this._tempVec2),this},setRotation:function(i){return i===void 0&&(i=0),this._rotation=l(i),h.setAngle(this.body,i),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,h.setAngle(this.body,this.rotation),this},setScale:function(i,o,n){i===void 0&&(i=1),o===void 0&&(o=i);var a=1/this._scaleX,f=1/this._scaleY;return this._scaleX=i,this._scaleY=o,h.scale(this.body,a,f,n),h.scale(this.body,i,o,n),this}};p.exports=e},37268:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),c={setVelocityX:function(l){return this._tempVec2.set(l,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(l){return this._tempVec2.set(this.body.velocity.x,l),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(l,r){return this._tempVec2.set(l,r),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(l){return h.setAngularVelocity(this.body,l),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(l){return h.setAngularSpeed(this.body,l),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};p.exports=c},74527:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},30474:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},44822:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},88820:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},94849:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},6391:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},96738:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},7916:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},59529:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},10219:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},183:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},39143:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},16483:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},35806:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},22106:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},5803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},35416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(p,S,t)=>{var h={};p.exports=h;var c=t(39745),l=t(10438),r=t(22806),s=t(68758),e=t(84091),i=t(50658);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(n){var a={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=c.centre(n.vertices):n.hasOwnProperty("vertices")||(a.vertices=c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=s.extend(a,n);return o(f,n),f.setOnCollideWith=function(u,d){return d?this.onCollideWith[u.id]=d:delete this.onCollideWith[u.id],this},f},h.nextGroup=function(n){return n?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var o=function(n,a){if(a=a||{},h.set(n,{bounds:n.bounds||e.create(n.vertices),positionPrev:n.positionPrev||l.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),c.rotate(n.vertices,n.angle,n.position),i.rotate(n.axes,n.angle),e.update(n.bounds,n.vertices,n.velocity),h.set(n,{axes:a.axes||n.axes,area:a.area||n.area,mass:a.mass||n.mass,inertia:a.inertia||n.inertia}),n.parts.length===1){var f=n.bounds,u=n.centerOfMass,d=n.centerOffset,v=f.max.x-f.min.x,g=f.max.y-f.min.y;u.x=-(f.min.x-n.position.x)/v,u.y=-(f.min.y-n.position.y)/g,d.x=v*u.x,d.y=g*u.y}};h.set=function(n,a,f){var u;typeof a=="string"&&(u=a,a={},a[u]=f);for(u in a)if(Object.prototype.hasOwnProperty.call(a,u))switch(f=a[u],u){case"isStatic":h.setStatic(n,f);break;case"isSleeping":r.set(n,f);break;case"mass":h.setMass(n,f);break;case"density":h.setDensity(n,f);break;case"inertia":h.setInertia(n,f);break;case"vertices":h.setVertices(n,f);break;case"position":h.setPosition(n,f);break;case"angle":h.setAngle(n,f);break;case"velocity":h.setVelocity(n,f);break;case"angularVelocity":h.setAngularVelocity(n,f);break;case"speed":h.setSpeed(n,f);break;case"angularSpeed":h.setAngularSpeed(n,f);break;case"parts":h.setParts(n,f);break;case"centre":h.setCentre(n,f);break;default:n[u]=f}},h.setStatic=function(n,a){for(var f=0;f<n.parts.length;f++){var u=n.parts[f];a?(u.isStatic||(u._original={restitution:u.restitution,friction:u.friction,mass:u.mass,inertia:u.inertia,density:u.density,inverseMass:u.inverseMass,inverseInertia:u.inverseInertia}),u.restitution=0,u.friction=1,u.mass=u.inertia=u.density=1/0,u.inverseMass=u.inverseInertia=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.angularVelocity=0,u.speed=0,u.angularSpeed=0,u.motion=0):u._original&&(u.restitution=u._original.restitution,u.friction=u._original.friction,u.mass=u._original.mass,u.inertia=u._original.inertia,u.density=u._original.density,u.inverseMass=u._original.inverseMass,u.inverseInertia=u._original.inverseInertia,u._original=null),u.isStatic=a}},h.setMass=function(n,a){var f=n.inertia/(n.mass/6);n.inertia=f*(a/6),n.inverseInertia=1/n.inertia,n.mass=a,n.inverseMass=1/n.mass,n.density=n.mass/n.area},h.setDensity=function(n,a){h.setMass(n,a*n.area),n.density=a},h.setInertia=function(n,a){n.inertia=a,n.inverseInertia=1/n.inertia},h.setVertices=function(n,a){a[0].body===n?n.vertices=a:n.vertices=c.create(a,n),n.axes=i.fromVertices(n.vertices),n.area=c.area(n.vertices),h.setMass(n,n.density*n.area);var f=c.centre(n.vertices);c.translate(n.vertices,f,-1),h.setInertia(n,h._inertiaScale*c.inertia(n.vertices,n.mass)),c.translate(n.vertices,n.position),e.update(n.bounds,n.vertices,n.velocity)},h.setParts=function(n,a,f){var u;for(a=a.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,u=0;u<a.length;u++){var d=a[u];d!==n&&(d.parent=n,n.parts.push(d))}if(n.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var v=[];for(u=0;u<a.length;u++)v=v.concat(a[u].vertices);c.clockwiseSort(v);var g=c.hull(v),x=c.centre(g);h.setVertices(n,g),c.translate(n.vertices,x)}var m=h._totalProperties(n),y=m.centre.x,T=m.centre.y,R=n.bounds,P=n.centerOfMass,D=n.centerOffset;e.update(R,n.vertices,n.velocity),P.x=-(R.min.x-y)/(R.max.x-R.min.x),P.y=-(R.min.y-T)/(R.max.y-R.min.y),D.x=y,D.y=T,n.area=m.area,n.parent=n,n.position.x=y,n.position.y=T,n.positionPrev.x=y,n.positionPrev.y=T,h.setMass(n,m.mass),h.setInertia(n,m.inertia),h.setPosition(n,m.centre)}},h.setCentre=function(n,a,f){f?(n.positionPrev.x+=a.x,n.positionPrev.y+=a.y,n.position.x+=a.x,n.position.y+=a.y):(n.positionPrev.x=a.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=a.y-(n.position.y-n.positionPrev.y),n.position.x=a.x,n.position.y=a.y)},h.setPosition=function(n,a,f){var u=l.sub(a,n.position);f?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=u.x,n.velocity.y=u.y,n.speed=l.magnitude(u)):(n.positionPrev.x+=u.x,n.positionPrev.y+=u.y);for(var d=0;d<n.parts.length;d++){var v=n.parts[d];v.position.x+=u.x,v.position.y+=u.y,c.translate(v.vertices,u),e.update(v.bounds,v.vertices,n.velocity)}},h.setAngle=function(n,a,f){var u=a-n.angle;f?(n.anglePrev=n.angle,n.angularVelocity=u,n.angularSpeed=Math.abs(u)):n.anglePrev+=u;for(var d=0;d<n.parts.length;d++){var v=n.parts[d];v.angle+=u,c.rotate(v.vertices,u,n.position),i.rotate(v.axes,u),e.update(v.bounds,v.vertices,n.velocity),d>0&&l.rotateAbout(v.position,u,n.position,v.position)}},h.setVelocity=function(n,a){var f=n.deltaTime/h._baseDelta;n.positionPrev.x=n.position.x-a.x*f,n.positionPrev.y=n.position.y-a.y*f,n.velocity.x=(n.position.x-n.positionPrev.x)/f,n.velocity.y=(n.position.y-n.positionPrev.y)/f,n.speed=l.magnitude(n.velocity)},h.getVelocity=function(n){var a=h._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*a,y:(n.position.y-n.positionPrev.y)*a}},h.getSpeed=function(n){return l.magnitude(h.getVelocity(n))},h.setSpeed=function(n,a){h.setVelocity(n,l.mult(l.normalise(h.getVelocity(n)),a))},h.setAngularVelocity=function(n,a){var f=n.deltaTime/h._baseDelta;n.anglePrev=n.angle-a*f,n.angularVelocity=(n.angle-n.anglePrev)/f,n.angularSpeed=Math.abs(n.angularVelocity)},h.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*h._baseDelta/n.deltaTime},h.getAngularSpeed=function(n){return Math.abs(h.getAngularVelocity(n))},h.setAngularSpeed=function(n,a){h.setAngularVelocity(n,s.sign(h.getAngularVelocity(n))*a)},h.translate=function(n,a,f){h.setPosition(n,l.add(n.position,a),f)},h.rotate=function(n,a,f,u){if(!f)h.setAngle(n,n.angle+a,u);else{var d=Math.cos(a),v=Math.sin(a),g=n.position.x-f.x,x=n.position.y-f.y;h.setPosition(n,{x:f.x+(g*d-x*v),y:f.y+(g*v+x*d)},u),h.setAngle(n,n.angle+a,u)}},h.scale=function(n,a,f,u){var d=0,v=0;u=u||n.position;for(var g=0;g<n.parts.length;g++){var x=n.parts[g];x.scale.x=a,x.scale.y=f,c.scale(x.vertices,a,f,u),x.axes=i.fromVertices(x.vertices),x.area=c.area(x.vertices),h.setMass(x,n.density*x.area),c.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),h.setInertia(x,h._inertiaScale*c.inertia(x.vertices,x.mass)),c.translate(x.vertices,{x:x.position.x,y:x.position.y}),g>0&&(d+=x.area,v+=x.inertia),x.position.x=u.x+(x.position.x-u.x)*a,x.position.y=u.y+(x.position.y-u.y)*f,e.update(x.bounds,x.vertices,n.velocity)}n.parts.length>1&&(n.area=d,n.isStatic||(h.setMass(n,n.density*d),h.setInertia(n,v))),n.circleRadius&&(a===f?n.circleRadius*=a:n.circleRadius=null)},h.update=function(n,a){a=(typeof a<"u"?a:16.666666666666668)*n.timeScale;var f=a*a,u=h._timeCorrection?a/(n.deltaTime||a):1,d=1-n.frictionAir*(a/s._baseDelta),v=(n.position.x-n.positionPrev.x)*u,g=(n.position.y-n.positionPrev.y)*u;n.velocity.x=v*d+n.force.x/n.mass*f,n.velocity.y=g*d+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=a,n.angularVelocity=(n.angle-n.anglePrev)*d*u+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=l.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var x=0;x<n.parts.length;x++){var m=n.parts[x];c.translate(m.vertices,n.velocity),x>0&&(m.position.x+=n.velocity.x,m.position.y+=n.velocity.y),n.angularVelocity!==0&&(c.rotate(m.vertices,n.angularVelocity,n.position),i.rotate(m.axes,n.angularVelocity),x>0&&l.rotateAbout(m.position,n.angularVelocity,n.position,m.position)),e.update(m.bounds,m.vertices,n.velocity)}},h.updateVelocities=function(n){var a=h._baseDelta/n.deltaTime,f=n.velocity;f.x=(n.position.x-n.positionPrev.x)*a,f.y=(n.position.y-n.positionPrev.y)*a,n.speed=Math.sqrt(f.x*f.x+f.y*f.y),n.angularVelocity=(n.angle-n.anglePrev)*a,n.angularSpeed=Math.abs(n.angularVelocity)},h.applyForce=function(n,a,f){var u={x:a.x-n.position.x,y:a.y-n.position.y};n.force.x+=f.x,n.force.y+=f.y,n.torque+=u.x*f.y-u.y*f.x},h._totalProperties=function(n){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=n.parts.length===1?0:1;f<n.parts.length;f++){var u=n.parts[f],d=u.mass!==1/0?u.mass:1;a.mass+=d,a.area+=u.area,a.inertia+=u.inertia,a.centre=l.add(a.centre,l.mult(u.position,d))}return a.centre=l.div(a.centre,a.mass),a}})()},11299:(p,S,t)=>{var h={};p.exports=h;var c=t(39073),l=t(68758),r=t(84091),s=t(84125);(function(){h.create=function(e){return l.extend({id:l.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},h.setModified=function(e,i,o,n){if(c.trigger(e,"compositeModified",e),e.isModified=i,i&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),o&&e.parent&&h.setModified(e.parent,i,o,n),n)for(var a=0;a<e.composites.length;a++){var f=e.composites[a];h.setModified(f,i,o,n)}},h.add=function(e,i){var o=[].concat(i);c.trigger(e,"beforeAdd",{object:i});for(var n=0;n<o.length;n++){var a=o[n];switch(a.type){case"body":if(a.parent!==a){l.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(e,a);break;case"constraint":h.addConstraint(e,a);break;case"composite":h.addComposite(e,a);break;case"mouseConstraint":h.addConstraint(e,a.constraint);break}}return c.trigger(e,"afterAdd",{object:i}),e},h.remove=function(e,i,o){var n=[].concat(i);c.trigger(e,"beforeRemove",{object:i});for(var a=0;a<n.length;a++){var f=n[a];switch(f.type){case"body":h.removeBody(e,f,o);break;case"constraint":h.removeConstraint(e,f,o);break;case"composite":h.removeComposite(e,f,o);break;case"mouseConstraint":h.removeConstraint(e,f.constraint);break}}return c.trigger(e,"afterRemove",{object:i}),e},h.addComposite=function(e,i){return e.composites.push(i),i.parent=e,h.setModified(e,!0,!0,!1),e},h.removeComposite=function(e,i,o){var n=l.indexOf(e.composites,i);if(n!==-1&&h.removeCompositeAt(e,n),o)for(var a=0;a<e.composites.length;a++)h.removeComposite(e.composites[a],i,!0);return e},h.removeCompositeAt=function(e,i){return e.composites.splice(i,1),h.setModified(e,!0,!0,!1),e},h.addBody=function(e,i){return e.bodies.push(i),h.setModified(e,!0,!0,!1),e},h.removeBody=function(e,i,o){var n=l.indexOf(e.bodies,i);if(n!==-1&&h.removeBodyAt(e,n),o)for(var a=0;a<e.composites.length;a++)h.removeBody(e.composites[a],i,!0);return e},h.removeBodyAt=function(e,i){return e.bodies.splice(i,1),h.setModified(e,!0,!0,!1),e},h.addConstraint=function(e,i){return e.constraints.push(i),h.setModified(e,!0,!0,!1),e},h.removeConstraint=function(e,i,o){var n=l.indexOf(e.constraints,i);if(n!==-1&&h.removeConstraintAt(e,n),o)for(var a=0;a<e.composites.length;a++)h.removeConstraint(e.composites[a],i,!0);return e},h.removeConstraintAt=function(e,i){return e.constraints.splice(i,1),h.setModified(e,!0,!0,!1),e},h.clear=function(e,i,o){if(o)for(var n=0;n<e.composites.length;n++)h.clear(e.composites[n],i,!0);return i?e.bodies=e.bodies.filter(function(a){return a.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,h.setModified(e,!0,!0,!1),e},h.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var i=[].concat(e.bodies),o=0;o<e.composites.length;o++)i=i.concat(h.allBodies(e.composites[o]));return e.cache&&(e.cache.allBodies=i),i},h.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var i=[].concat(e.constraints),o=0;o<e.composites.length;o++)i=i.concat(h.allConstraints(e.composites[o]));return e.cache&&(e.cache.allConstraints=i),i},h.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var i=[].concat(e.composites),o=0;o<e.composites.length;o++)i=i.concat(h.allComposites(e.composites[o]));return e.cache&&(e.cache.allComposites=i),i},h.get=function(e,i,o){var n,a;switch(o){case"body":n=h.allBodies(e);break;case"constraint":n=h.allConstraints(e);break;case"composite":n=h.allComposites(e).concat(e);break}return n?(a=n.filter(function(f){return f.id.toString()===i.toString()}),a.length===0?null:a[0]):null},h.move=function(e,i,o){return h.remove(e,i),h.add(o,i),e},h.rebase=function(e){for(var i=h.allBodies(e).concat(h.allConstraints(e)).concat(h.allComposites(e)),o=0;o<i.length;o++)i[o].id=l.nextId();return e},h.translate=function(e,i,o){for(var n=o?h.allBodies(e):e.bodies,a=0;a<n.length;a++)s.translate(n[a],i);return e},h.rotate=function(e,i,o,n){for(var a=Math.cos(i),f=Math.sin(i),u=n?h.allBodies(e):e.bodies,d=0;d<u.length;d++){var v=u[d],g=v.position.x-o.x,x=v.position.y-o.y;s.setPosition(v,{x:o.x+(g*a-x*f),y:o.y+(g*f+x*a)}),s.rotate(v,i)}return e},h.scale=function(e,i,o,n,a){for(var f=a?h.allBodies(e):e.bodies,u=0;u<f.length;u++){var d=f[u],v=d.position.x-n.x,g=d.position.y-n.y;s.setPosition(d,{x:n.x+v*i,y:n.y+g*o}),s.scale(d,i,o)}return e},h.bounds=function(e){for(var i=h.allBodies(e),o=[],n=0;n<i.length;n+=1){var a=i[n];o.push(a.bounds.min,a.bounds.max)}return r.create(o)}})()},72005:(p,S,t)=>{var h={};p.exports=h;var c=t(11299);(function(){h.create=c.create,h.add=c.add,h.remove=c.remove,h.clear=c.clear,h.addComposite=c.addComposite,h.addBody=c.addBody,h.addConstraint=c.addConstraint})()},63454:(p,S,t)=>{var h={};p.exports=h;var c=t(39745),l=t(70584);(function(){var r=[],s={overlap:0,axis:null},e={overlap:0,axis:null};h.create=function(i,o){return{pair:null,collided:!1,bodyA:i,bodyB:o,parentA:i.parent,parentB:o.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},h.collides=function(i,o,n){if(h._overlapAxes(s,i.vertices,o.vertices,i.axes),s.overlap<=0||(h._overlapAxes(e,o.vertices,i.vertices,o.axes),e.overlap<=0))return null;var a=n&&n.table[l.id(i,o)],f;a?f=a.collision:(f=h.create(i,o),f.collided=!0,f.bodyA=i.id<o.id?i:o,f.bodyB=i.id<o.id?o:i,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),i=f.bodyA,o=f.bodyB;var u;s.overlap<e.overlap?u=s:u=e;var d=f.normal,v=f.supports,g=u.axis,x=g.x,m=g.y;x*(o.position.x-i.position.x)+m*(o.position.y-i.position.y)<0?(d.x=x,d.y=m):(d.x=-x,d.y=-m),f.tangent.x=-d.y,f.tangent.y=d.x,f.depth=u.overlap,f.penetration.x=d.x*f.depth,f.penetration.y=d.y*f.depth;var y=h._findSupports(i,o,d,1),T=0;if(c.contains(i.vertices,y[0])&&(v[T++]=y[0]),c.contains(i.vertices,y[1])&&(v[T++]=y[1]),T<2){var R=h._findSupports(o,i,d,-1);c.contains(o.vertices,R[0])&&(v[T++]=R[0]),T<2&&c.contains(o.vertices,R[1])&&(v[T++]=R[1])}return T===0&&(v[T++]=y[0]),v.length=T,f},h._overlapAxes=function(i,o,n,a){var f=o.length,u=n.length,d=o[0].x,v=o[0].y,g=n[0].x,x=n[0].y,m=a.length,y=Number.MAX_VALUE,T=0,R,P,D,O,B,G;for(B=0;B<m;B++){var b=a[B],k=b.x,$=b.y,W=d*k+v*$,Z=g*k+x*$,z=W,X=Z;for(G=1;G<f;G+=1)O=o[G].x*k+o[G].y*$,O>z?z=O:O<W&&(W=O);for(G=1;G<u;G+=1)O=n[G].x*k+n[G].y*$,O>X?X=O:O<Z&&(Z=O);if(P=z-Z,D=X-W,R=P<D?P:D,R<y&&(y=R,T=B,R<=0))break}i.axis=a[T],i.overlap=y},h._projectToAxis=function(i,o,n){for(var a=o[0].x*n.x+o[0].y*n.y,f=a,u=1;u<o.length;u+=1){var d=o[u].x*n.x+o[u].y*n.y;d>f?f=d:d<a&&(a=d)}i.min=a,i.max=f},h._findSupports=function(i,o,n,a){var f=o.vertices,u=f.length,d=i.position.x,v=i.position.y,g=n.x*a,x=n.y*a,m=Number.MAX_VALUE,y,T,R,P,D;for(D=0;D<u;D+=1)T=f[D],P=g*(d-T.x)+x*(v-T.y),P<m&&(m=P,y=T);return R=f[(u+y.index-1)%u],m=g*(d-R.x)+x*(v-R.y),T=f[(y.index+1)%u],g*(d-T.x)+x*(v-T.y)<m?(r[0]=y,r[1]=T,r):(r[0]=y,r[1]=R,r)}})()},17319:p=>{var S={};p.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(p,S,t)=>{var h={};p.exports=h;var c=t(68758),l=t(63454);(function(){h.create=function(r){var s={bodies:[],pairs:null};return c.extend(s,r)},h.setBodies=function(r,s){r.bodies=s.slice(0)},h.clear=function(r){r.bodies=[]},h.collisions=function(r){var s=[],e=r.pairs,i=r.bodies,o=i.length,n=h.canCollide,a=l.collides,f,u;for(i.sort(h._compareBoundsX),f=0;f<o;f++){var d=i[f],v=d.bounds,g=d.bounds.max.x,x=d.bounds.max.y,m=d.bounds.min.y,y=d.isStatic||d.isSleeping,T=d.parts.length,R=T===1;for(u=f+1;u<o;u++){var P=i[u],D=P.bounds;if(D.min.x>g)break;if(!(x<D.min.y||m>D.max.y)&&!(y&&(P.isStatic||P.isSleeping))&&n(d.collisionFilter,P.collisionFilter)){var O=P.parts.length;if(R&&O===1){var B=a(d,P,e);B&&s.push(B)}else for(var G=T>1?1:0,b=O>1?1:0,k=G;k<T;k++)for(var $=d.parts[k],v=$.bounds,W=b;W<O;W++){var Z=P.parts[W],D=Z.bounds;if(!(v.min.x>D.max.x||v.max.x<D.min.x||v.max.y<D.min.y||v.min.y>D.max.y)){var B=a($,Z,e);B&&s.push(B)}}}}}return s},h.canCollide=function(r,s){return r.group===s.group&&r.group!==0?r.group>0:(r.mask&s.category)!==0&&(s.mask&r.category)!==0},h._compareBoundsX=function(r,s){return r.bounds.min.x-s.bounds.min.x}})()},70584:(p,S,t)=>{var h={};p.exports=h;var c=t(17319);(function(){h.create=function(l,r){var s=l.bodyA,e=l.bodyB,i={id:h.id(s,e),bodyA:s,bodyB:e,collision:l,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(i,l,r),i},h.update=function(l,r,s){var e=l.contacts,i=r.supports,o=l.activeContacts,n=r.parentA,a=r.parentB,f=n.vertices.length;l.isActive=!0,l.timeUpdated=s,l.collision=r,l.separation=r.depth,l.inverseMass=n.inverseMass+a.inverseMass,l.friction=n.friction<a.friction?n.friction:a.friction,l.frictionStatic=n.frictionStatic>a.frictionStatic?n.frictionStatic:a.frictionStatic,l.restitution=n.restitution>a.restitution?n.restitution:a.restitution,l.slop=n.slop>a.slop?n.slop:a.slop,r.pair=l,o.length=0;for(var u=0;u<i.length;u++){var d=i[u],v=d.body===n?d.index:f+d.index,g=e[v];g?o.push(g):o.push(e[v]=c.create(d))}},h.setActive=function(l,r,s){r?(l.isActive=!0,l.timeUpdated=s):(l.isActive=!1,l.activeContacts.length=0)},h.id=function(l,r){return l.id<r.id?"A"+l.id+"B"+r.id:"A"+r.id+"B"+l.id}})()},91327:(p,S,t)=>{var h={};p.exports=h;var c=t(70584),l=t(68758);(function(){h.create=function(r){return l.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},h.update=function(r,s,e){var i=r.list,o=i.length,n=r.table,a=s.length,f=r.collisionStart,u=r.collisionEnd,d=r.collisionActive,v,g,x,m;for(f.length=0,u.length=0,d.length=0,m=0;m<o;m++)i[m].confirmedActive=!1;for(m=0;m<a;m++)v=s[m],x=v.pair,x?(x.isActive?d.push(x):f.push(x),c.update(x,v,e),x.confirmedActive=!0):(x=c.create(v,e),n[x.id]=x,f.push(x),i.push(x));var y=[];for(o=i.length,m=0;m<o;m++)x=i[m],x.confirmedActive||(c.setActive(x,!1,e),u.push(x),!x.collision.bodyA.isSleeping&&!x.collision.bodyB.isSleeping&&y.push(m));for(m=0;m<y.length;m++)g=y[m]-m,x=i[g],i.splice(g,1),delete n[x.id]},h.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},13390:(p,S,t)=>{var h={};p.exports=h;var c=t(10438),l=t(63454),r=t(84091),s=t(68516),e=t(39745);(function(){h.collides=function(i,o){for(var n=[],a=o.length,f=i.bounds,u=l.collides,d=r.overlaps,v=0;v<a;v++){var g=o[v],x=g.parts.length,m=x===1?0:1;if(i!==g&&d(g.bounds,f))for(var y=m;y<x;y++){var T=g.parts[y];if(d(T.bounds,f)){var R=u(T,i);if(R){n.push(R);break}}}}return n},h.ray=function(i,o,n,a){a=a||1e-100;for(var f=c.angle(o,n),u=c.magnitude(c.sub(o,n)),d=(n.x+o.x)*.5,v=(n.y+o.y)*.5,g=s.rectangle(d,v,u,a,{angle:f}),x=h.collides(g,i),m=0;m<x.length;m+=1){var y=x[m];y.body=y.bodyB=y.bodyA}return x},h.region=function(i,o,n){for(var a=[],f=0;f<i.length;f++){var u=i[f],d=r.overlaps(u.bounds,o);(d&&!n||!d&&n)&&a.push(u)}return a},h.point=function(i,o){for(var n=[],a=0;a<i.length;a++){var f=i[a];if(r.contains(f.bounds,o))for(var u=f.parts.length===1?0:1;u<f.parts.length;u++){var d=f.parts[u];if(r.contains(d.bounds,o)&&e.contains(d.vertices,o)){n.push(f);break}}}return n}})()},44272:(p,S,t)=>{var h={};p.exports=h;var c=t(39745),l=t(68758),r=t(84091);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(s){var e,i,o,n=s.length;for(e=0;e<n;e++)i=s[e],i.isActive&&(o=i.activeContacts.length,i.collision.parentA.totalContacts+=o,i.collision.parentB.totalContacts+=o)},h.solvePosition=function(s,e,i){var o,n,a,f,u,d,v,g,x=h._positionDampen*(i||1),m=l.clamp(e/l._baseDelta,0,1),y=s.length;for(o=0;o<y;o++)n=s[o],!(!n.isActive||n.isSensor)&&(a=n.collision,f=a.parentA,u=a.parentB,d=a.normal,n.separation=d.x*(u.positionImpulse.x+a.penetration.x-f.positionImpulse.x)+d.y*(u.positionImpulse.y+a.penetration.y-f.positionImpulse.y));for(o=0;o<y;o++)n=s[o],!(!n.isActive||n.isSensor)&&(a=n.collision,f=a.parentA,u=a.parentB,d=a.normal,g=n.separation-n.slop*m,(f.isStatic||u.isStatic)&&(g*=2),f.isStatic||f.isSleeping||(v=x/f.totalContacts,f.positionImpulse.x+=d.x*g*v,f.positionImpulse.y+=d.y*g*v),u.isStatic||u.isSleeping||(v=x/u.totalContacts,u.positionImpulse.x-=d.x*g*v,u.positionImpulse.y-=d.y*g*v))},h.postSolvePosition=function(s){for(var e=h._positionWarming,i=s.length,o=c.translate,n=r.update,a=0;a<i;a++){var f=s[a],u=f.positionImpulse,d=u.x,v=u.y,g=f.velocity;if(f.totalContacts=0,d!==0||v!==0){for(var x=0;x<f.parts.length;x++){var m=f.parts[x];o(m.vertices,u),n(m.bounds,m.vertices,g),m.position.x+=d,m.position.y+=v}f.positionPrev.x+=d,f.positionPrev.y+=v,d*g.x+v*g.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},h.preSolveVelocity=function(s){var e=s.length,i,o;for(i=0;i<e;i++){var n=s[i];if(!(!n.isActive||n.isSensor)){var a=n.activeContacts,f=a.length,u=n.collision,d=u.parentA,v=u.parentB,g=u.normal,x=u.tangent;for(o=0;o<f;o++){var m=a[o],y=m.vertex,T=m.normalImpulse,R=m.tangentImpulse;if(T!==0||R!==0){var P=g.x*T+x.x*R,D=g.y*T+x.y*R;d.isStatic||d.isSleeping||(d.positionPrev.x+=P*d.inverseMass,d.positionPrev.y+=D*d.inverseMass,d.anglePrev+=d.inverseInertia*((y.x-d.position.x)*D-(y.y-d.position.y)*P)),v.isStatic||v.isSleeping||(v.positionPrev.x-=P*v.inverseMass,v.positionPrev.y-=D*v.inverseMass,v.anglePrev-=v.inverseInertia*((y.x-v.position.x)*D-(y.y-v.position.y)*P))}}}}},h.solveVelocity=function(s,e){var i=e/l._baseDelta,o=i*i,n=o*i,a=-h._restingThresh*i,f=h._restingThreshTangent,u=h._frictionNormalMultiplier*i,d=h._frictionMaxStatic,v=s.length,g,x,m,y;for(m=0;m<v;m++){var T=s[m];if(!(!T.isActive||T.isSensor)){var R=T.collision,P=R.parentA,D=R.parentB,O=P.velocity,B=D.velocity,G=R.normal.x,b=R.normal.y,k=R.tangent.x,$=R.tangent.y,W=T.activeContacts,Z=W.length,z=1/Z,X=P.inverseMass+D.inverseMass,w=T.friction*T.frictionStatic*u;for(O.x=P.position.x-P.positionPrev.x,O.y=P.position.y-P.positionPrev.y,B.x=D.position.x-D.positionPrev.x,B.y=D.position.y-D.positionPrev.y,P.angularVelocity=P.angle-P.anglePrev,D.angularVelocity=D.angle-D.anglePrev,y=0;y<Z;y++){var V=W[y],Y=V.vertex,j=Y.x-P.position.x,J=Y.y-P.position.y,_=Y.x-D.position.x,tt=Y.y-D.position.y,it=O.x-J*P.angularVelocity,st=O.y+j*P.angularVelocity,ot=B.x-tt*D.angularVelocity,ht=B.y+_*D.angularVelocity,ct=it-ot,ft=st-ht,Et=G*ct+b*ft,Mt=k*ct+$*ft,Dt=T.separation+Et,It=Math.min(Dt,1);It=Dt<0?0:It;var pt=It*w;Mt<-pt||Mt>pt?(x=Mt>0?Mt:-Mt,g=T.friction*(Mt>0?1:-1)*n,g<-x?g=-x:g>x&&(g=x)):(g=Mt,x=d);var Lt=j*b-J*G,Pt=_*b-tt*G,Jt=z/(X+P.inverseInertia*Lt*Lt+D.inverseInertia*Pt*Pt),$t=(1+T.restitution)*Et*Jt;if(g*=Jt,Et<a)V.normalImpulse=0;else{var fe=V.normalImpulse;V.normalImpulse+=$t,V.normalImpulse>0&&(V.normalImpulse=0),$t=V.normalImpulse-fe}if(Mt<-f||Mt>f)V.tangentImpulse=0;else{var de=V.tangentImpulse;V.tangentImpulse+=g,V.tangentImpulse<-x&&(V.tangentImpulse=-x),V.tangentImpulse>x&&(V.tangentImpulse=x),g=V.tangentImpulse-de}var re=G*$t+k*g,Qt=b*$t+$*g;P.isStatic||P.isSleeping||(P.positionPrev.x+=re*P.inverseMass,P.positionPrev.y+=Qt*P.inverseMass,P.anglePrev+=(j*Qt-J*re)*P.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=re*D.inverseMass,D.positionPrev.y-=Qt*D.inverseMass,D.anglePrev-=(_*Qt-tt*re)*D.inverseInertia)}}}}})()},52838:(p,S,t)=>{var h={};p.exports=h;var c=t(39745),l=t(10438),r=t(22806),s=t(84091),e=t(50658),i=t(68758);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(o){var n=o;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var a=n.bodyA?l.add(n.bodyA.position,n.pointA):n.pointA,f=n.bodyB?l.add(n.bodyB.position,n.pointB):n.pointB,u=l.magnitude(l.sub(a,f));n.length=typeof n.length<"u"?n.length:u,n.id=n.id||i.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(d.type="pin",d.anchors=!1):n.stiffness<.9&&(d.type="spring"),n.render=i.extend(d,n.render),n},h.preSolveAll=function(o){for(var n=0;n<o.length;n+=1){var a=o[n],f=a.constraintImpulse;a.isStatic||f.x===0&&f.y===0&&f.angle===0||(a.position.x+=f.x,a.position.y+=f.y,a.angle+=f.angle)}},h.solveAll=function(o,n){for(var a=i.clamp(n/i._baseDelta,0,1),f=0;f<o.length;f+=1){var u=o[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,v=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(d||v)&&h.solve(o[f],a)}for(f=0;f<o.length;f+=1)u=o[f],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,v=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!d&&!v&&h.solve(o[f],a)},h.solve=function(o,n){var a=o.bodyA,f=o.bodyB,u=o.pointA,d=o.pointB;if(!(!a&&!f)){a&&!a.isStatic&&(l.rotate(u,a.angle-o.angleA,u),o.angleA=a.angle),f&&!f.isStatic&&(l.rotate(d,f.angle-o.angleB,d),o.angleB=f.angle);var v=u,g=d;if(a&&(v=l.add(a.position,u)),f&&(g=l.add(f.position,d)),!(!v||!g)){var x=l.sub(v,g),m=l.magnitude(x);m<h._minLength&&(m=h._minLength);var y=(m-o.length)/m,T=o.stiffness>=1||o.length===0,R=T?o.stiffness*n:o.stiffness*n*n,P=o.damping*n,D=l.mult(x,y*R),O=(a?a.inverseMass:0)+(f?f.inverseMass:0),B=(a?a.inverseInertia:0)+(f?f.inverseInertia:0),G=O+B,b,k,$,W,Z;if(P>0){var z=l.create();$=l.div(x,m),Z=l.sub(f&&l.sub(f.position,f.positionPrev)||z,a&&l.sub(a.position,a.positionPrev)||z),W=l.dot($,Z)}a&&!a.isStatic&&(k=a.inverseMass/O,a.constraintImpulse.x-=D.x*k,a.constraintImpulse.y-=D.y*k,a.position.x-=D.x*k,a.position.y-=D.y*k,P>0&&(a.positionPrev.x-=P*$.x*W*k,a.positionPrev.y-=P*$.y*W*k),b=l.cross(u,D)/G*h._torqueDampen*a.inverseInertia*(1-o.angularStiffness),a.constraintImpulse.angle-=b,a.angle-=b),f&&!f.isStatic&&(k=f.inverseMass/O,f.constraintImpulse.x+=D.x*k,f.constraintImpulse.y+=D.y*k,f.position.x+=D.x*k,f.position.y+=D.y*k,P>0&&(f.positionPrev.x+=P*$.x*W*k,f.positionPrev.y+=P*$.y*W*k),b=l.cross(d,D)/G*h._torqueDampen*f.inverseInertia*(1-o.angularStiffness),f.constraintImpulse.angle+=b,f.angle+=b)}}},h.postSolveAll=function(o){for(var n=0;n<o.length;n++){var a=o[n],f=a.constraintImpulse;if(!(a.isStatic||f.x===0&&f.y===0&&f.angle===0)){r.set(a,!1);for(var u=0;u<a.parts.length;u++){var d=a.parts[u];c.translate(d.vertices,f),u>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(c.rotate(d.vertices,f.angle,a.position),e.rotate(d.axes,f.angle),u>0&&l.rotateAbout(d.position,f.angle,a.position,d.position)),s.update(d.bounds,d.vertices,a.velocity)}f.angle*=h._warming,f.x*=h._warming,f.y*=h._warming}}},h.pointAWorld=function(o){return{x:(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),y:(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0)}},h.pointBWorld=function(o){return{x:(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),y:(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0)}},h.currentLength=function(o){var n=(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),a=(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0),f=(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),u=(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0),d=n-f,v=a-u;return Math.sqrt(d*d+v*v)}})()},68758:(p,S,t)=>{var h={};p.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(l,r){var s,e;typeof r=="boolean"?(s=2,e=r):(s=1,e=!0);for(var i=s;i<arguments.length;i++){var o=arguments[i];if(o)for(var n in o)e&&o[n]&&o[n].constructor===Object&&(!l[n]||l[n].constructor===Object)?(l[n]=l[n]||{},h.extend(l[n],e,o[n])):l[n]=o[n]}return l},h.clone=function(l,r){return h.extend({},r,l)},h.keys=function(l){if(Object.keys)return Object.keys(l);var r=[];for(var s in l)r.push(s);return r},h.values=function(l){var r=[];if(Object.keys){for(var s=Object.keys(l),e=0;e<s.length;e++)r.push(l[s[e]]);return r}for(var i in l)r.push(l[i]);return r},h.get=function(l,r,s,e){r=r.split(".").slice(s,e);for(var i=0;i<r.length;i+=1)l=l[r[i]];return l},h.set=function(l,r,s,e,i){var o=r.split(".").slice(e,i);return h.get(l,r,0,-1)[o[o.length-1]]=s,s},h.shuffle=function(l){for(var r=l.length-1;r>0;r--){var s=Math.floor(h.random()*(r+1)),e=l[r];l[r]=l[s],l[s]=e}return l},h.choose=function(l){return l[Math.floor(h.random()*l.length)]},h.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},h.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},h.isFunction=function(l){return typeof l=="function"},h.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},h.isString=function(l){return toString.call(l)==="[object String]"},h.clamp=function(l,r,s){return l<r?r:l>s?s:l},h.sign=function(l){return l<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(l,r){return l=typeof l<"u"?l:0,r=typeof r<"u"?r:1,l+c()*(r-l)};var c=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[l]||(h.warn(l),h._warnedOnce[l]=!0)},h.deprecated=function(l,r,s){l[r]=h.chain(function(){h.warnOnce(" deprecated ",s)},l[r])},h.nextId=function(){return h._nextId++},h.indexOf=function(l,r){if(l.indexOf)return l.indexOf(r);for(var s=0;s<l.length;s++)if(l[s]===r)return s;return-1},h.map=function(l,r){if(l.map)return l.map(r);for(var s=[],e=0;e<l.length;e+=1)s.push(r(l[e]));return s},h.topologicalSort=function(l){var r=[],s=[],e=[];for(var i in l)!s[i]&&!e[i]&&h._topologicalSort(i,s,e,l,r);return r},h._topologicalSort=function(l,r,s,e,i){var o=e[l]||[];s[l]=!0;for(var n=0;n<o.length;n+=1){var a=o[n];s[a]||r[a]||h._topologicalSort(a,r,s,e,i)}s[l]=!1,r[l]=!0,i.push(l)},h.chain=function(){for(var l=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?l.push.apply(l,s._chained):l.push(s)}var e=function(){for(var i,o=new Array(arguments.length),n=0,a=arguments.length;n<a;n++)o[n]=arguments[n];for(n=0;n<l.length;n+=1){var f=l[n].apply(i,o);typeof f<"u"&&(i=f)}return i};return e._chained=l,e},h.chainPathBefore=function(l,r,s){return h.set(l,r,h.chain(s,h.get(l,r)))},h.chainPathAfter=function(l,r,s){return h.set(l,r,h.chain(h.get(l,r),s))},h.setDecomp=function(l){h._decomp=l},h.getDecomp=function(){var l=h._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof t.g<"u"&&(l=t.g.decomp)}catch{l=null}return l}}()},45775:(p,S,t)=>{var h={};p.exports=h;var c=t(22806),l=t(44272),r=t(13657),s=t(91327),e=t(39073),i=t(11299),o=t(52838),n=t(68758),a=t(84125);(function(){h.create=function(f){f=f||{};var u={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=n.extend(u,f);return d.world=f.world||i.create({label:"World"}),d.pairs=f.pairs||s.create(),d.detector=f.detector||r.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},h.update=function(f,u){var d=n.now(),v=f.world,g=f.detector,x=f.pairs,m=f.timing,y=m.timestamp,T;u=typeof u<"u"?u:n._baseDelta,u*=m.timeScale,m.timestamp+=u,m.lastDelta=u;var R={timestamp:m.timestamp,delta:u};e.trigger(f,"beforeUpdate",R);var P=i.allBodies(v),D=i.allConstraints(v);for(v.isModified&&(r.setBodies(g,P),i.setModified(v,!1,!1,!0)),f.enableSleeping&&c.update(P,u),h._bodiesApplyGravity(P,f.gravity),u>0&&h._bodiesUpdate(P,u),e.trigger(f,"beforeSolve",R),o.preSolveAll(P),T=0;T<f.constraintIterations;T++)o.solveAll(D,u);o.postSolveAll(P),g.pairs=f.pairs;var O=r.collisions(g);s.update(x,O,y),f.enableSleeping&&c.afterCollisions(x.list),x.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:x.collisionStart,timestamp:m.timestamp,delta:u});var B=n.clamp(20/f.positionIterations,0,1);for(l.preSolvePosition(x.list),T=0;T<f.positionIterations;T++)l.solvePosition(x.list,u,B);for(l.postSolvePosition(P),o.preSolveAll(P),T=0;T<f.constraintIterations;T++)o.solveAll(D,u);for(o.postSolveAll(P),l.preSolveVelocity(x.list),T=0;T<f.velocityIterations;T++)l.solveVelocity(x.list,u);return h._bodiesUpdateVelocities(P),x.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:x.collisionActive,timestamp:m.timestamp,delta:u}),x.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:x.collisionEnd,timestamp:m.timestamp,delta:u}),h._bodiesClearForces(P),e.trigger(f,"afterUpdate",R),f.timing.lastElapsed=n.now()-d,f},h.merge=function(f,u){if(n.extend(f,u),u.world){f.world=u.world,h.clear(f);for(var d=i.allBodies(f.world),v=0;v<d.length;v++){var g=d[v];c.set(g,!1),g.id=n.nextId()}}},h.clear=function(f){s.clear(f.pairs),r.clear(f.detector)},h._bodiesClearForces=function(f){for(var u=f.length,d=0;d<u;d++){var v=f[d];v.force.x=0,v.force.y=0,v.torque=0}},h._bodiesApplyGravity=function(f,u){var d=typeof u.scale<"u"?u.scale:.001,v=f.length;if(!(u.x===0&&u.y===0||d===0))for(var g=0;g<v;g++){var x=f[g];x.isStatic||x.isSleeping||(x.force.y+=x.mass*u.y*d,x.force.x+=x.mass*u.x*d)}},h._bodiesUpdate=function(f,u){for(var d=f.length,v=0;v<d;v++){var g=f[v];g.isStatic||g.isSleeping||a.update(g,u)}},h._bodiesUpdateVelocities=function(f){for(var u=f.length,d=0;d<u;d++)a.updateVelocities(f[d])}})()},39073:(p,S,t)=>{var h={};p.exports=h;var c=t(68758);(function(){h.on=function(l,r,s){for(var e=r.split(" "),i,o=0;o<e.length;o++)i=e[o],l.events=l.events||{},l.events[i]=l.events[i]||[],l.events[i].push(s);return s},h.off=function(l,r,s){if(!r){l.events={};return}typeof r=="function"&&(s=r,r=c.keys(l.events).join(" "));for(var e=r.split(" "),i=0;i<e.length;i++){var o=l.events[e[i]],n=[];if(s&&o)for(var a=0;a<o.length;a++)o[a]!==s&&n.push(o[a]);l.events[e[i]]=n}},h.trigger=function(l,r,s){var e,i,o,n,a=l.events;if(a&&c.keys(a).length>0){s||(s={}),e=r.split(" ");for(var f=0;f<e.length;f++)if(i=e[f],o=a[i],o){n=c.clone(s,!1),n.name=i,n.source=l;for(var u=0;u<o.length;u++)o[u].apply(l,[n])}}}})()},16929:(p,S,t)=>{var h={};p.exports=h;var c=t(84474),l=t(68758);(function(){h.name="matter-js",h.version="0.19.0",h.uses=[],h.used=[],h.use=function(){c.use(h,Array.prototype.slice.call(arguments))},h.before=function(r,s){return r=r.replace(/^Matter./,""),l.chainPathBefore(h,r,s)},h.after=function(r,s){return r=r.replace(/^Matter./,""),l.chainPathAfter(h,r,s)}})()},84474:(p,S,t)=>{var h={};p.exports=h;var c=t(68758);(function(){h._registry={},h.register=function(l){if(h.isPlugin(l)||c.warn("Plugin.register:",h.toString(l),"does not implement all required fields."),l.name in h._registry){var r=h._registry[l.name],s=h.versionParse(l.version).number,e=h.versionParse(r.version).number;s>e?(c.warn("Plugin.register:",h.toString(r),"was upgraded to",h.toString(l)),h._registry[l.name]=l):s<e?c.warn("Plugin.register:",h.toString(r),"can not be downgraded to",h.toString(l)):l!==r&&c.warn("Plugin.register:",h.toString(l),"is already registered to different plugin object")}else h._registry[l.name]=l;return l},h.resolve=function(l){return h._registry[h.dependencyParse(l).name]},h.toString=function(l){return typeof l=="string"?l:(l.name||"anonymous")+"@"+(l.version||l.range||"0.0.0")},h.isPlugin=function(l){return l&&l.name&&l.version&&l.install},h.isUsed=function(l,r){return l.used.indexOf(r)>-1},h.isFor=function(l,r){var s=l.for&&h.dependencyParse(l.for);return!l.for||r.name===s.name&&h.versionSatisfies(r.version,s.range)},h.use=function(l,r){if(l.uses=(l.uses||[]).concat(r||[]),l.uses.length===0){c.warn("Plugin.use:",h.toString(l),"does not specify any dependencies to install.");return}for(var s=h.dependencies(l),e=c.topologicalSort(s),i=[],o=0;o<e.length;o+=1)if(e[o]!==l.name){var n=h.resolve(e[o]);if(!n){i.push(" "+e[o]);continue}h.isUsed(l,n.name)||(h.isFor(n,l)||(c.warn("Plugin.use:",h.toString(n),"is for",n.for,"but installed on",h.toString(l)+"."),n._warned=!0),n.install?n.install(l):(c.warn("Plugin.use:",h.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(i.push(" "+h.toString(n)),delete n._warned):i.push(" "+h.toString(n)),l.used.push(n.name))}i.length>0&&!n.silent&&c.info(i.join("  "))},h.dependencies=function(l,r){var s=h.dependencyParse(l),e=s.name;if(r=r||{},!(e in r)){l=h.resolve(l)||l,r[e]=c.map(l.uses||[],function(o){h.isPlugin(o)&&h.register(o);var n=h.dependencyParse(o),a=h.resolve(o);return a&&!h.versionSatisfies(a.version,n.range)?(c.warn("Plugin.dependencies:",h.toString(a),"does not satisfy",h.toString(n),"used by",h.toString(s)+"."),a._warned=!0,l._warned=!0):a||(c.warn("Plugin.dependencies:",h.toString(o),"used by",h.toString(s),"could not be resolved."),l._warned=!0),n.name});for(var i=0;i<r[e].length;i+=1)h.dependencies(r[e][i],r);return r}},h.dependencyParse=function(l){if(c.isString(l)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(l)||c.warn("Plugin.dependencyParse:",l,"is not a valid dependency string."),{name:l.split("@")[0],range:l.split("@")[1]||"*"}}return{name:l.name,range:l.range||l.version}},h.versionParse=function(l){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(l)||c.warn("Plugin.versionParse:",l,"is not a valid version or range.");var s=r.exec(l),e=Number(s[4]),i=Number(s[5]),o=Number(s[6]);return{isRange:!!(s[1]||s[2]),version:s[3],range:l,operator:s[1]||s[2]||"",major:e,minor:i,patch:o,parts:[e,i,o],prerelease:s[7],number:e*1e8+i*1e4+o}},h.versionSatisfies=function(l,r){r=r||"*";var s=h.versionParse(r),e=h.versionParse(l);if(s.isRange){if(s.operator==="*"||l==="*")return!0;if(s.operator===">")return e.number>s.number;if(s.operator===">=")return e.number>=s.number;if(s.operator==="~")return e.major===s.major&&e.minor===s.minor&&e.patch>=s.patch;if(s.operator==="^")return s.major>0?e.major===s.major&&e.number>=s.number:s.minor>0?e.minor===s.minor&&e.patch>=s.patch:e.patch===s.patch}return l===r||l==="*"}})()},22806:(p,S,t)=>{var h={};p.exports=h;var c=t(84125),l=t(39073),r=t(68758);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(s,e){for(var i=e/r._baseDelta,o=h._motionSleepThreshold,n=0;n<s.length;n++){var a=s[n],f=c.getSpeed(a),u=c.getAngularSpeed(a),d=f*f+u*u;if(a.force.x!==0||a.force.y!==0){h.set(a,!1);continue}var v=Math.min(a.motion,d),g=Math.max(a.motion,d);a.motion=h._minBias*v+(1-h._minBias)*g,a.sleepThreshold>0&&a.motion<o?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/i&&h.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},h.afterCollisions=function(s){for(var e=h._motionSleepThreshold,i=0;i<s.length;i++){var o=s[i];if(o.isActive){var n=o.collision,a=n.bodyA.parent,f=n.bodyB.parent;if(!(a.isSleeping&&f.isSleeping||a.isStatic||f.isStatic)&&(a.isSleeping||f.isSleeping)){var u=a.isSleeping&&!a.isStatic?a:f,d=u===a?f:a;!u.isStatic&&d.motion>e&&h.set(u,!1)}}}},h.set=function(s,e){var i=s.isSleeping;e?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,i||l.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,i&&l.trigger(s,"sleepEnd"))}})()},68516:(p,S,t)=>{var h={};p.exports=h;var c=t(39745),l=t(68758),r=t(84125),s=t(84091),e=t(10438);(function(){h.rectangle=function(i,o,n,a,f){f=f||{};var u={label:"Rectangle Body",position:{x:i,y:o},vertices:c.fromPath("L 0 0 L "+n+" 0 L "+n+" "+a+" L 0 "+a)};if(f.chamfer){var d=f.chamfer;u.vertices=c.chamfer(u.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return r.create(l.extend({},u,f))},h.trapezoid=function(i,o,n,a,f,u){u=u||{},f*=.5;var d=(1-f*2)*n,v=n*f,g=v+d,x=g+v,m;f<.5?m="L 0 0 L "+v+" "+-a+" L "+g+" "+-a+" L "+x+" 0":m="L 0 0 L "+g+" "+-a+" L "+x+" 0";var y={label:"Trapezoid Body",position:{x:i,y:o},vertices:c.fromPath(m)};if(u.chamfer){var T=u.chamfer;y.vertices=c.chamfer(y.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete u.chamfer}return r.create(l.extend({},y,u))},h.circle=function(i,o,n,a,f){a=a||{};var u={label:"Circle Body",circleRadius:n};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,n)));return d%2===1&&(d+=1),h.polygon(i,o,d,n,l.extend({},u,a))},h.polygon=function(i,o,n,a,f){if(f=f||{},n<3)return h.circle(i,o,a,f);for(var u=2*Math.PI/n,d="",v=u*.5,g=0;g<n;g+=1){var x=v+g*u,m=Math.cos(x)*a,y=Math.sin(x)*a;d+="L "+m.toFixed(3)+" "+y.toFixed(3)+" "}var T={label:"Polygon Body",position:{x:i,y:o},vertices:c.fromPath(d)};if(f.chamfer){var R=f.chamfer;T.vertices=c.chamfer(T.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete f.chamfer}return r.create(l.extend({},T,f))},h.fromVertices=function(i,o,n,a,f,u,d,v){var g=l.getDecomp(),x,m,y,T,R,P,D,O,B,G,b;for(x=!!(g&&g.quickDecomp),a=a||{},y=[],f=typeof f<"u"?f:!1,u=typeof u<"u"?u:.01,d=typeof d<"u"?d:10,v=typeof v<"u"?v:.01,l.isArray(n[0])||(n=[n]),G=0;G<n.length;G+=1)if(P=n[G],T=c.isConvex(P),R=!T,R&&!x&&l.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),T||!x)T?P=c.clockwiseSort(P):P=c.hull(P),y.push({position:{x:i,y:o},vertices:P});else{var k=P.map(function(_){return[_.x,_.y]});g.makeCCW(k),u!==!1&&g.removeCollinearPoints(k,u),v!==!1&&g.removeDuplicatePoints&&g.removeDuplicatePoints(k,v);var $=g.quickDecomp(k);for(D=0;D<$.length;D++){var W=$[D],Z=W.map(function(_){return{x:_[0],y:_[1]}});d>0&&c.area(Z)<d||y.push({position:c.centre(Z),vertices:Z})}}for(D=0;D<y.length;D++)y[D]=r.create(l.extend(y[D],a));if(f){var z=5;for(D=0;D<y.length;D++){var X=y[D];for(O=D+1;O<y.length;O++){var w=y[O];if(s.overlaps(X.bounds,w.bounds)){var V=X.vertices,Y=w.vertices;for(B=0;B<X.vertices.length;B++)for(b=0;b<w.vertices.length;b++){var j=e.magnitudeSquared(e.sub(V[(B+1)%V.length],Y[b])),J=e.magnitudeSquared(e.sub(V[B],Y[(b+1)%Y.length]));j<z&&J<z&&(V[B].isInternal=!0,Y[b].isInternal=!0)}}}}}return y.length>1?(m=r.create(l.extend({parts:y.slice(0)},a)),r.setPosition(m,{x:i,y:o}),m):y[0]},h.flagCoincidentParts=function(i,o){o===void 0&&(o=5);for(var n=0;n<i.length;n++)for(var a=i[n],f=n+1;f<i.length;f++){var u=i[f];if(s.overlaps(a.bounds,u.bounds))for(var d=a.vertices,v=u.vertices,g=0;g<a.vertices.length;g++)for(var x=0;x<u.vertices.length;x++){var m=e.magnitudeSquared(e.sub(d[(g+1)%d.length],v[x])),y=e.magnitudeSquared(e.sub(d[g],v[(x+1)%v.length]));m<o&&y<o&&(d[g].isInternal=!0,v[x].isInternal=!0)}}return i}})()},56643:(p,S,t)=>{var h={};p.exports=h;var c=t(11299),l=t(52838),r=t(68758),s=t(84125),e=t(68516);(function(){h.stack=function(i,o,n,a,f,u,d){for(var v=c.create({label:"Stack"}),g=i,x=o,m,y=0,T=0;T<a;T++){for(var R=0,P=0;P<n;P++){var D=d(g,x,P,T,m,y);if(D){var O=D.bounds.max.y-D.bounds.min.y,B=D.bounds.max.x-D.bounds.min.x;O>R&&(R=O),s.translate(D,{x:B*.5,y:O*.5}),g=D.bounds.max.x+f,c.addBody(v,D),m=D,y+=1}else g+=f}x+=R+u,g=i}return v},h.chain=function(i,o,n,a,f,u){for(var d=i.bodies,v=1;v<d.length;v++){var g=d[v-1],x=d[v],m=g.bounds.max.y-g.bounds.min.y,y=g.bounds.max.x-g.bounds.min.x,T=x.bounds.max.y-x.bounds.min.y,R=x.bounds.max.x-x.bounds.min.x,P={bodyA:g,pointA:{x:y*o,y:m*n},bodyB:x,pointB:{x:R*a,y:T*f}},D=r.extend(P,u);c.addConstraint(i,l.create(D))}return i.label+=" Chain",i},h.mesh=function(i,o,n,a,f){var u=i.bodies,d,v,g,x,m;for(d=0;d<n;d++){for(v=1;v<o;v++)g=u[v-1+d*o],x=u[v+d*o],c.addConstraint(i,l.create(r.extend({bodyA:g,bodyB:x},f)));if(d>0)for(v=0;v<o;v++)g=u[v+(d-1)*o],x=u[v+d*o],c.addConstraint(i,l.create(r.extend({bodyA:g,bodyB:x},f))),a&&v>0&&(m=u[v-1+(d-1)*o],c.addConstraint(i,l.create(r.extend({bodyA:m,bodyB:x},f)))),a&&v<o-1&&(m=u[v+1+(d-1)*o],c.addConstraint(i,l.create(r.extend({bodyA:m,bodyB:x},f))))}return i.label+=" Mesh",i},h.pyramid=function(i,o,n,a,f,u,d){return h.stack(i,o,n,a,f,u,function(v,g,x,m,y,T){var R=Math.min(a,Math.ceil(n/2)),P=y?y.bounds.max.x-y.bounds.min.x:0;if(!(m>R)){m=R-m;var D=m,O=n-1-m;if(!(x<D||x>O)){T===1&&s.translate(y,{x:(x+(n%2===1?1:-1))*P,y:0});var B=y?x*P:0;return d(i+B+x*f,g,x,m,y,T)}}})},h.newtonsCradle=function(i,o,n,a,f){for(var u=c.create({label:"Newtons Cradle"}),d=0;d<n;d++){var v=1.9,g=e.circle(i+d*(a*v),o+f,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),x=l.create({pointA:{x:i+d*(a*v),y:o},bodyB:g});c.addBody(u,g),c.addConstraint(u,x)}return u},h.car=function(i,o,n,a,f){var u=s.nextGroup(!0),d=20,v=-n*.5+d,g=n*.5-d,x=0,m=c.create({label:"Car"}),y=e.rectangle(i,o,n,a,{collisionFilter:{group:u},chamfer:{radius:a*.5},density:2e-4}),T=e.circle(i+v,o+x,f,{collisionFilter:{group:u},friction:.8}),R=e.circle(i+g,o+x,f,{collisionFilter:{group:u},friction:.8}),P=l.create({bodyB:y,pointB:{x:v,y:x},bodyA:T,stiffness:1,length:0}),D=l.create({bodyB:y,pointB:{x:g,y:x},bodyA:R,stiffness:1,length:0});return c.addBody(m,y),c.addBody(m,T),c.addBody(m,R),c.addConstraint(m,P),c.addConstraint(m,D),m},h.softBody=function(i,o,n,a,f,u,d,v,g,x){g=r.extend({inertia:1/0},g),x=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},x);var m=h.stack(i,o,n,a,f,u,function(y,T){return e.circle(y,T,v,g)});return h.mesh(m,n,a,d,x),m.label="Soft Body",m}})()},50658:(p,S,t)=>{var h={};p.exports=h;var c=t(10438),l=t(68758);(function(){h.fromVertices=function(r){for(var s={},e=0;e<r.length;e++){var i=(e+1)%r.length,o=c.normalise({x:r[i].y-r[e].y,y:r[e].x-r[i].x}),n=o.y===0?1/0:o.x/o.y;n=n.toFixed(3).toString(),s[n]=o}return l.values(s)},h.rotate=function(r,s){if(s!==0)for(var e=Math.cos(s),i=Math.sin(s),o=0;o<r.length;o++){var n=r[o],a;a=n.x*e-n.y*i,n.y=n.x*i+n.y*e,n.x=a}}})()},84091:p=>{var S={};p.exports=S,function(){S.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(h,t),h},S.update=function(t,h,c){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var l=0;l<h.length;l++){var r=h[l];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}c&&(c.x>0?t.max.x+=c.x:t.min.x+=c.x,c.y>0?t.max.y+=c.y:t.min.y+=c.y)},S.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},S.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},S.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},S.shift=function(t,h){var c=t.max.x-t.min.x,l=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+c,t.min.y=h.y,t.max.y=h.y+l}}()},92765:(p,S,t)=>{var h={};p.exports=h,t(84091);var c=t(68758);(function(){h.pathToVertices=function(l,r){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,e,i,o,n,a,f,u,d,v,g=[],x,m,y=0,T=0,R=0;r=r||15;var P=function(O,B,G){var b=G%2===1&&G>1;if(!d||O!=d.x||B!=d.y){d&&b?(x=d.x,m=d.y):(x=0,m=0);var k={x:x+O,y:m+B};(b||!d)&&(d=k),g.push(k),T=x+O,R=m+B}},D=function(O){var B=O.pathSegTypeAsLetter.toUpperCase();if(B!=="Z"){switch(B){case"M":case"L":case"T":case"C":case"S":case"Q":T=O.x,R=O.y;break;case"H":T=O.x;break;case"V":R=O.y;break}P(T,R,O.pathSegType)}};for(h._svgPathToAbsolute(l),i=l.getTotalLength(),a=[],s=0;s<l.pathSegList.numberOfItems;s+=1)a.push(l.pathSegList.getItem(s));for(f=a.concat();y<i;){if(v=l.getPathSegAtLength(y),n=a[v],n!=u){for(;f.length&&f[0]!=n;)D(f.shift());u=n}switch(n.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=l.getPointAtLength(y),P(o.x,o.y,0);break}y+=r}for(s=0,e=f.length;s<e;++s)D(f[s]);return g},h._svgPathToAbsolute=function(l){for(var r,s,e,i,o,n,a=l.pathSegList,f=0,u=0,d=a.numberOfItems,v=0;v<d;++v){var g=a.getItem(v),x=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in g&&(f=g.x),"y"in g&&(u=g.y);else switch("x1"in g&&(e=f+g.x1),"x2"in g&&(o=f+g.x2),"y1"in g&&(i=u+g.y1),"y2"in g&&(n=u+g.y2),"x"in g&&(f+=g.x),"y"in g&&(u+=g.y),x){case"m":a.replaceItem(l.createSVGPathSegMovetoAbs(f,u),v);break;case"l":a.replaceItem(l.createSVGPathSegLinetoAbs(f,u),v);break;case"h":a.replaceItem(l.createSVGPathSegLinetoHorizontalAbs(f),v);break;case"v":a.replaceItem(l.createSVGPathSegLinetoVerticalAbs(u),v);break;case"c":a.replaceItem(l.createSVGPathSegCurvetoCubicAbs(f,u,e,i,o,n),v);break;case"s":a.replaceItem(l.createSVGPathSegCurvetoCubicSmoothAbs(f,u,o,n),v);break;case"q":a.replaceItem(l.createSVGPathSegCurvetoQuadraticAbs(f,u,e,i),v);break;case"t":a.replaceItem(l.createSVGPathSegCurvetoQuadraticSmoothAbs(f,u),v);break;case"a":a.replaceItem(l.createSVGPathSegArcAbs(f,u,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),v);break;case"z":case"Z":f=r,u=s;break}(x=="M"||x=="m")&&(r=f,s=u)}}})()},10438:p=>{var S={};p.exports=S,function(){S.create=function(t,h){return{x:t||0,y:h||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,h,c){var l=Math.cos(h),r=Math.sin(h);c||(c={});var s=t.x*l-t.y*r;return c.y=t.x*r+t.y*l,c.x=s,c},S.rotateAbout=function(t,h,c,l){var r=Math.cos(h),s=Math.sin(h);l||(l={});var e=c.x+((t.x-c.x)*r-(t.y-c.y)*s);return l.y=c.y+((t.x-c.x)*s+(t.y-c.y)*r),l.x=e,l},S.normalise=function(t){var h=S.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},S.dot=function(t,h){return t.x*h.x+t.y*h.y},S.cross=function(t,h){return t.x*h.y-t.y*h.x},S.cross3=function(t,h,c){return(h.x-t.x)*(c.y-t.y)-(h.y-t.y)*(c.x-t.x)},S.add=function(t,h,c){return c||(c={}),c.x=t.x+h.x,c.y=t.y+h.y,c},S.sub=function(t,h,c){return c||(c={}),c.x=t.x-h.x,c.y=t.y-h.y,c},S.mult=function(t,h){return{x:t.x*h,y:t.y*h}},S.div=function(t,h){return{x:t.x/h,y:t.y/h}},S.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},39745:(p,S,t)=>{var h={};p.exports=h;var c=t(10438),l=t(68758);(function(){h.create=function(r,s){for(var e=[],i=0;i<r.length;i++){var o=r[i],n={x:o.x,y:o.y,index:i,body:s,isInternal:!1};e.push(n)}return e},h.fromPath=function(r,s){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,i=[];return r.replace(e,function(o,n,a){i.push({x:parseFloat(n),y:parseFloat(a)})}),h.create(i,s)},h.centre=function(r){for(var s=h.area(r,!0),e={x:0,y:0},i,o,n,a=0;a<r.length;a++)n=(a+1)%r.length,i=c.cross(r[a],r[n]),o=c.mult(c.add(r[a],r[n]),i),e=c.add(e,o);return c.div(e,6*s)},h.mean=function(r){for(var s={x:0,y:0},e=0;e<r.length;e++)s.x+=r[e].x,s.y+=r[e].y;return c.div(s,r.length)},h.area=function(r,s){for(var e=0,i=r.length-1,o=0;o<r.length;o++)e+=(r[i].x-r[o].x)*(r[i].y+r[o].y),i=o;return s?e/2:Math.abs(e)/2},h.inertia=function(r,s){for(var e=0,i=0,o=r,n,a,f=0;f<o.length;f++)a=(f+1)%o.length,n=Math.abs(c.cross(o[a],o[f])),e+=n*(c.dot(o[a],o[a])+c.dot(o[a],o[f])+c.dot(o[f],o[f])),i+=n;return s/6*(e/i)},h.translate=function(r,s,e){e=typeof e<"u"?e:1;var i=r.length,o=s.x*e,n=s.y*e,a;for(a=0;a<i;a++)r[a].x+=o,r[a].y+=n;return r},h.rotate=function(r,s,e){if(s!==0){var i=Math.cos(s),o=Math.sin(s),n=e.x,a=e.y,f=r.length,u,d,v,g;for(g=0;g<f;g++)u=r[g],d=u.x-n,v=u.y-a,u.x=n+(d*i-v*o),u.y=a+(d*o+v*i);return r}},h.contains=function(r,s){for(var e=s.x,i=s.y,o=r.length,n=r[o-1],a,f=0;f<o;f++){if(a=r[f],(e-n.x)*(a.y-n.y)+(i-n.y)*(n.x-a.x)>0)return!1;n=a}return!0},h.scale=function(r,s,e,i){if(s===1&&e===1)return r;i=i||h.centre(r);for(var o,n,a=0;a<r.length;a++)o=r[a],n=c.sub(o,i),r[a].x=i.x+n.x*s,r[a].y=i.y+n.y*e;return r},h.chamfer=function(r,s,e,i,o){typeof s=="number"?s=[s]:s=s||[8],e=typeof e<"u"?e:-1,i=i||2,o=o||14;for(var n=[],a=0;a<r.length;a++){var f=r[a-1>=0?a-1:r.length-1],u=r[a],d=r[(a+1)%r.length],v=s[a<s.length?a:s.length-1];if(v===0){n.push(u);continue}var g=c.normalise({x:u.y-f.y,y:f.x-u.x}),x=c.normalise({x:d.y-u.y,y:u.x-d.x}),m=Math.sqrt(2*Math.pow(v,2)),y=c.mult(l.clone(g),v),T=c.normalise(c.mult(c.add(g,x),.5)),R=c.sub(u,c.mult(T,m)),P=e;e===-1&&(P=Math.pow(v,.32)*1.75),P=l.clamp(P,i,o),P%2===1&&(P+=1);for(var D=Math.acos(c.dot(g,x)),O=D/P,B=0;B<P;B++)n.push(c.add(c.rotate(y,O*B),R))}return n},h.clockwiseSort=function(r){var s=h.mean(r);return r.sort(function(e,i){return c.angle(s,e)-c.angle(s,i)}),r},h.isConvex=function(r){var s=0,e=r.length,i,o,n,a;if(e<3)return null;for(i=0;i<e;i++)if(o=(i+1)%e,n=(i+2)%e,a=(r[o].x-r[i].x)*(r[n].y-r[o].y),a-=(r[o].y-r[i].y)*(r[n].x-r[o].x),a<0?s|=1:a>0&&(s|=2),s===3)return!1;return s!==0?!0:null},h.hull=function(r){var s=[],e=[],i,o;for(r=r.slice(0),r.sort(function(n,a){var f=n.x-a.x;return f!==0?f:n.y-a.y}),o=0;o<r.length;o+=1){for(i=r[o];e.length>=2&&c.cross3(e[e.length-2],e[e.length-1],i)<=0;)e.pop();e.push(i)}for(o=r.length-1;o>=0;o-=1){for(i=r[o];s.length>=2&&c.cross3(s[s.length-2],s[s.length-1],i)<=0;)s.pop();s.push(i)}return s.pop(),e.pop(),s.concat(e)}})()},1675:(p,S,t)=>{var h=t(18171),c={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(l){l.after("Body.create",function(){c.Body.init(this)}),l.before("Engine.update",function(r){c.Engine.update(r)})},Body:{init:function(l){l.plugin.attractors=l.plugin.attractors||[]}},Engine:{update:function(l){for(var r=h.Composite.allBodies(l.world),s=0;s<r.length;s++){var e=r[s],i=e.plugin.attractors;if(i&&i.length>0)for(var o=0;o<r.length;o++){var n=r[o];if(s!==o)for(var a=0;a<i.length;a++){var f=i[a],u=f;h.Common.isFunction(f)&&(u=f(e,n)),u&&h.Body.applyForce(n,n.position,u)}}}}},Attractors:{gravityConstant:.001,gravity:function(l,r){var s=h.Vector.sub(r.position,l.position),e=h.Vector.magnitudeSquared(s)||1e-4,i=h.Vector.normalise(s),o=-c.Attractors.gravityConstant*(l.mass*r.mass/e),n=h.Vector.mult(i,o);h.Body.applyForce(l,l.position,h.Vector.neg(n)),h.Body.applyForce(r,r.position,n)}}};p.exports=c},80391:p=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(h){h.pairs.map(function(c){var l=c.bodyA,r=c.bodyB;l.gameObject&&l.gameObject.emit("collide",l,r,c),r.gameObject&&r.gameObject.emit("collide",r,l,c),t.Events.trigger(l,"onCollide",{pair:c}),t.Events.trigger(r,"onCollide",{pair:c}),l.onCollideCallback&&l.onCollideCallback(c),r.onCollideCallback&&r.onCollideCallback(c),l.onCollideWith[r.id]&&l.onCollideWith[r.id](r,c),r.onCollideWith[l.id]&&r.onCollideWith[l.id](l,c)})}),t.Events.on(this,"collisionActive",function(h){h.pairs.map(function(c){var l=c.bodyA,r=c.bodyB;l.gameObject&&l.gameObject.emit("collideActive",l,r,c),r.gameObject&&r.gameObject.emit("collideActive",r,l,c),t.Events.trigger(l,"onCollideActive",{pair:c}),t.Events.trigger(r,"onCollideActive",{pair:c}),l.onCollideActiveCallback&&l.onCollideActiveCallback(c),r.onCollideActiveCallback&&r.onCollideActiveCallback(c)})}),t.Events.on(this,"collisionEnd",function(h){h.pairs.map(function(c){var l=c.bodyA,r=c.bodyB;l.gameObject&&l.gameObject.emit("collideEnd",l,r,c),r.gameObject&&r.gameObject.emit("collideEnd",r,l,c),t.Events.trigger(l,"onCollideEnd",{pair:c}),t.Events.trigger(r,"onCollideEnd",{pair:c}),l.onCollideEndCallback&&l.onCollideEndCallback(c),r.onCollideEndCallback&&r.onCollideEndCallback(c)})})})}};p.exports=S},44097:(p,S,t)=>{var h=t(18171),c={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(l){l.after("Engine.update",function(){c.Engine.update(this)})},Engine:{update:function(l){for(var r=l.world,s=h.Composite.allBodies(r),e=h.Composite.allComposites(r),i=0;i<s.length;i+=1){var o=s[i];o.plugin.wrap&&c.Body.wrap(o,o.plugin.wrap)}for(i=0;i<e.length;i+=1){var n=e[i];n.plugin.wrap&&c.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(l,r){var s=null,e=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(l.min.x>r.max.x?s=r.min.x-l.max.x:l.max.x<r.min.x&&(s=r.max.x-l.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(l.min.y>r.max.y?e=r.min.y-l.max.y:l.max.y<r.min.y&&(e=r.max.y-l.min.y)),s!==null||e!==null)return{x:s||0,y:e||0}}},Body:{wrap:function(l,r){var s=c.Bounds.wrap(l.bounds,r);return s&&h.Body.translate(l,s),s}},Composite:{bounds:function(l){for(var r=h.Composite.allBodies(l),s=[],e=0;e<r.length;e+=1){var i=r[e];s.push(i.bounds.min,i.bounds.max)}return h.Bounds.create(s)},wrap:function(l,r){var s=c.Bounds.wrap(c.Composite.bounds(l),r);return s&&h.Composite.translate(l,s),s}}};p.exports=c},81084:p=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:D,quickDecomp:b,isSimple:B,removeCollinearPoints:k,removeDuplicatePoints:$,makeCCW:d};function S(z,X,w){w=w||0;var V=[0,0],Y,j,J,_,tt,it,st;return Y=z[1][1]-z[0][1],j=z[0][0]-z[1][0],J=Y*z[0][0]+j*z[0][1],_=X[1][1]-X[0][1],tt=X[0][0]-X[1][0],it=_*X[0][0]+tt*X[0][1],st=Y*tt-_*j,W(st,0,w)||(V[0]=(tt*J-j*it)/st,V[1]=(Y*it-_*J)/st),V}function t(z,X,w,V){var Y=X[0]-z[0],j=X[1]-z[1],J=V[0]-w[0],_=V[1]-w[1];if(J*j-_*Y===0)return!1;var tt=(Y*(w[1]-z[1])+j*(z[0]-w[0]))/(J*j-_*Y),it=(J*(z[1]-w[1])+_*(w[0]-z[0]))/(_*Y-J*j);return tt>=0&&tt<=1&&it>=0&&it<=1}function h(z,X,w){return(X[0]-z[0])*(w[1]-z[1])-(w[0]-z[0])*(X[1]-z[1])}function c(z,X,w){return h(z,X,w)>0}function l(z,X,w){return h(z,X,w)>=0}function r(z,X,w){return h(z,X,w)<0}function s(z,X,w){return h(z,X,w)<=0}var e=[],i=[];function o(z,X,w,V){if(V){var Y=e,j=i;Y[0]=X[0]-z[0],Y[1]=X[1]-z[1],j[0]=w[0]-X[0],j[1]=w[1]-X[1];var J=Y[0]*j[0]+Y[1]*j[1],_=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),tt=Math.sqrt(j[0]*j[0]+j[1]*j[1]),it=Math.acos(J/(_*tt));return it<V}else return h(z,X,w)===0}function n(z,X){var w=X[0]-z[0],V=X[1]-z[1];return w*w+V*V}function a(z,X){var w=z.length;return z[X<0?X%w+w:X%w]}function f(z){z.length=0}function u(z,X,w,V){for(var Y=w;Y<V;Y++)z.push(X[Y])}function d(z){for(var X=0,w=z,V=1;V<z.length;++V)(w[V][1]<w[X][1]||w[V][1]===w[X][1]&&w[V][0]>w[X][0])&&(X=V);return c(a(z,X-1),a(z,X),a(z,X+1))?!1:(v(z),!0)}function v(z){for(var X=[],w=z.length,V=0;V!==w;V++)X.push(z.pop());for(var V=0;V!==w;V++)z[V]=X[V]}function g(z,X){return r(a(z,X-1),a(z,X),a(z,X+1))}var x=[],m=[];function y(z,X,w){var V,Y,j=x,J=m;if(l(a(z,X+1),a(z,X),a(z,w))&&s(a(z,X-1),a(z,X),a(z,w)))return!1;Y=n(a(z,X),a(z,w));for(var _=0;_!==z.length;++_)if(!((_+1)%z.length===X||_===X)&&l(a(z,X),a(z,w),a(z,_+1))&&s(a(z,X),a(z,w),a(z,_))&&(j[0]=a(z,X),j[1]=a(z,w),J[0]=a(z,_),J[1]=a(z,_+1),V=S(j,J),n(a(z,X),V)<Y))return!1;return!0}function T(z,X,w){for(var V=0;V!==z.length;++V)if(!(V===X||V===w||(V+1)%z.length===X||(V+1)%z.length===w)&&t(a(z,X),a(z,w),a(z,V),a(z,V+1)))return!1;return!0}function R(z,X,w,V){var Y=V||[];if(f(Y),X<w)for(var j=X;j<=w;j++)Y.push(z[j]);else{for(var j=0;j<=w;j++)Y.push(z[j]);for(var j=X;j<z.length;j++)Y.push(z[j])}return Y}function P(z){for(var X=[],w=[],V=[],Y=[],j=Number.MAX_VALUE,J=0;J<z.length;++J)if(g(z,J)){for(var _=0;_<z.length;++_)if(y(z,J,_)){w=P(R(z,J,_,Y)),V=P(R(z,_,J,Y));for(var tt=0;tt<V.length;tt++)w.push(V[tt]);w.length<j&&(X=w,j=w.length,X.push([a(z,J),a(z,_)]))}}return X}function D(z){var X=P(z);return X.length>0?O(z,X):[z]}function O(z,X){if(X.length===0)return[z];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var w=[z],V=0;V<X.length;V++)for(var Y=X[V],j=0;j<w.length;j++){var J=w[j],_=O(J,Y);if(_){w.splice(j,1),w.push(_[0],_[1]);break}}return w}else{var Y=X,V=z.indexOf(Y[0]),j=z.indexOf(Y[1]);return V!==-1&&j!==-1?[R(z,V,j),R(z,j,V)]:!1}}function B(z){var X=z,w;for(w=0;w<X.length-1;w++)for(var V=0;V<w-1;V++)if(t(X[w],X[w+1],X[V],X[V+1]))return!1;for(w=1;w<X.length-2;w++)if(t(X[0],X[X.length-1],X[w],X[w+1]))return!1;return!0}function G(z,X,w,V,Y){Y=Y||0;var j=X[1]-z[1],J=z[0]-X[0],_=j*z[0]+J*z[1],tt=V[1]-w[1],it=w[0]-V[0],st=tt*w[0]+it*w[1],ot=j*it-tt*J;return W(ot,0,Y)?[0,0]:[(it*_-J*st)/ot,(j*st-tt*_)/ot]}function b(z,X,w,V,Y,j,J){j=j||100,J=J||0,Y=Y||25,X=typeof X<"u"?X:[],w=w||[],V=V||[];var _=[0,0],tt=[0,0],it=[0,0],st=0,ot=0,ht=0,ct=0,ft=0,Et=0,Mt=0,Dt=[],It=[],pt=z,Lt=z;if(Lt.length<3)return X;if(J++,J>j)return console.warn("quickDecomp: max level ("+j+") reached."),X;for(var Pt=0;Pt<z.length;++Pt)if(g(pt,Pt)){w.push(pt[Pt]),st=ot=Number.MAX_VALUE;for(var Jt=0;Jt<z.length;++Jt)c(a(pt,Pt-1),a(pt,Pt),a(pt,Jt))&&s(a(pt,Pt-1),a(pt,Pt),a(pt,Jt-1))&&(it=G(a(pt,Pt-1),a(pt,Pt),a(pt,Jt),a(pt,Jt-1)),r(a(pt,Pt+1),a(pt,Pt),it)&&(ht=n(pt[Pt],it),ht<ot&&(ot=ht,tt=it,Et=Jt))),c(a(pt,Pt+1),a(pt,Pt),a(pt,Jt+1))&&s(a(pt,Pt+1),a(pt,Pt),a(pt,Jt))&&(it=G(a(pt,Pt+1),a(pt,Pt),a(pt,Jt),a(pt,Jt+1)),c(a(pt,Pt-1),a(pt,Pt),it)&&(ht=n(pt[Pt],it),ht<st&&(st=ht,_=it,ft=Jt)));if(Et===(ft+1)%z.length)it[0]=(tt[0]+_[0])/2,it[1]=(tt[1]+_[1])/2,V.push(it),Pt<ft?(u(Dt,pt,Pt,ft+1),Dt.push(it),It.push(it),Et!==0&&u(It,pt,Et,pt.length),u(It,pt,0,Pt+1)):(Pt!==0&&u(Dt,pt,Pt,pt.length),u(Dt,pt,0,ft+1),Dt.push(it),It.push(it),u(It,pt,Et,Pt+1));else{if(Et>ft&&(ft+=z.length),ct=Number.MAX_VALUE,ft<Et)return X;for(var Jt=Et;Jt<=ft;++Jt)l(a(pt,Pt-1),a(pt,Pt),a(pt,Jt))&&s(a(pt,Pt+1),a(pt,Pt),a(pt,Jt))&&(ht=n(a(pt,Pt),a(pt,Jt)),ht<ct&&T(pt,Pt,Jt)&&(ct=ht,Mt=Jt%z.length));Pt<Mt?(u(Dt,pt,Pt,Mt+1),Mt!==0&&u(It,pt,Mt,Lt.length),u(It,pt,0,Pt+1)):(Pt!==0&&u(Dt,pt,Pt,Lt.length),u(Dt,pt,0,Mt+1),u(It,pt,Mt,Pt+1))}return Dt.length<It.length?(b(Dt,X,w,V,Y,j,J),b(It,X,w,V,Y,j,J)):(b(It,X,w,V,Y,j,J),b(Dt,X,w,V,Y,j,J)),X}return X.push(z),X}function k(z,X){for(var w=0,V=z.length-1;z.length>3&&V>=0;--V)o(a(z,V-1),a(z,V),a(z,V+1),X)&&(z.splice(V%z.length,1),w++);return w}function $(z,X){for(var w=z.length-1;w>=1;--w)for(var V=z[w],Y=w-1;Y>=0;--Y)if(Z(V,z[Y],X)){z.splice(w,1);continue}}function W(z,X,w){return w=w||0,Math.abs(z-X)<=w}function Z(z,X,w){return W(z[0],X[0],w)&&W(z[1],X[1],w)}},88257:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(56694),c=new h({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=c},18360:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=S},91963:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},h={};h.register=function(c,l,r,s){s===void 0&&(s=!1),S[c]={plugin:l,mapping:r,custom:s}},h.registerCustom=function(c,l,r,s){t[c]={plugin:l,mapping:r,data:s}},h.hasCore=function(c){return S.hasOwnProperty(c)},h.hasCustom=function(c){return t.hasOwnProperty(c)},h.getCore=function(c){return S[c]},h.getCustom=function(c){return t[c]},h.getCustomClass=function(c){return t.hasOwnProperty(c)?t[c].plugin:null},h.remove=function(c){S.hasOwnProperty(c)&&delete S[c]},h.removeCustom=function(c){t.hasOwnProperty(c)&&delete t[c]},h.destroyCorePlugins=function(){for(var c in S)S.hasOwnProperty(c)&&delete S[c]},h.destroyCustomPlugins=function(){for(var c in t)t.hasOwnProperty(c)&&delete t[c]},p.exports=h},49274:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(97081),l=t(6659),r=t(76846),s=t(99325),e=t(61286),i=t(72632),o=t(91963),n=t(66458),a=new h({Extends:l,initialize:function(u){l.call(this),this.game=u,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],u.isBooted?this.boot():u.events.once(c.BOOT,this.boot,this)},boot:function(){var f,u,d,v,g,x,m,y=this.game.config,T=y.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),f=0;f<T.length;f++)u=T[f],d=i(u,"key",null),v=i(u,"plugin",null),g=i(u,"start",!1),x=i(u,"mapping",null),m=i(u,"data",null),d&&(v?this.install(d,v,g,x,m):console.warn("Missing `plugin` for key: "+d));for(T=y.installScenePlugins,T=T.concat(this._pendingScene),f=0;f<T.length;f++)u=T[f],d=i(u,"key",null),v=i(u,"plugin",null),x=i(u,"mapping",null),d&&(v?this.installScenePlugin(d,v,x):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(c.DESTROY,this.destroy,this)},addToScene:function(f,u,d){var v,g,x,m=this.game,y=f.scene,T=f.settings.map,R=f.settings.isBooted;for(v=0;v<u.length;v++)g=u[v],m[g]?(f[g]=m[g],T.hasOwnProperty(g)&&(y[T[g]]=f[g])):g==="game"&&T.hasOwnProperty(g)&&(y[T[g]]=m);for(var P=0;P<d.length;P++)for(x=d[P],v=0;v<x.length;v++)if(g=x[v],!!o.hasCore(g)){var D=o.getCore(g),O=D.mapping,B=new D.plugin(y,this,O);f[O]=B,D.custom?y[O]=B:T.hasOwnProperty(O)&&(y[T[O]]=B),R&&B.boot()}for(x=this.plugins,v=0;v<x.length;v++){var G=x[v];G.mapping&&(y[G.mapping]=G.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,u,d,v,g){if(g===void 0&&(g=!1),typeof u!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(o.hasCore(f)||o.register(f,u,d,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!g&&o.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(v){var x=new u(v,this,f);v.sys[f]=x,d&&d!==""&&(v[d]=x),x.boot()}},install:function(f,u,d,v,g){if(d===void 0&&(d=!1),v===void 0&&(v=null),g===void 0&&(g=null),typeof u!="function")return console.warn("Invalid Plugin: "+f),null;if(o.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(v!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:u,start:d,mapping:v,data:g});else if(o.registerCustom(f,u,v,g),d)return this.start(f);return null},getIndex:function(f){for(var u=this.plugins,d=0;d<u.length;d++){var v=u[d];if(v.key===f)return d}return-1},getEntry:function(f){var u=this.getIndex(f);if(u!==-1)return this.plugins[u]},isActive:function(f){var u=this.getEntry(f);return u&&u.active},start:function(f,u){u===void 0&&(u=f);var d=this.getEntry(u);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(f,u)),d?d.plugin:null},createEntry:function(f,u){var d=o.getCustom(f);if(d){var v=new d.plugin(this);d={key:u,plugin:v,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),v.init(d.data),v.start()}return d},stop:function(f){var u=this.getEntry(f);return u&&u.active&&(u.active=!1,u.plugin.stop()),this},get:function(f,u){u===void 0&&(u=!0);var d=this.getEntry(f);if(d)return d.plugin;var v=this.getClass(f);return v&&u?(d=this.createEntry(f,f),d?d.plugin:null):v||null},getClass:function(f){return o.getCustomClass(f)},removeGlobalPlugin:function(f){var u=this.getEntry(f);u&&n(this.plugins,u),o.removeCustom(f)},removeScenePlugin:function(f){n(this.scenePlugins,f),o.remove(f)},registerGameObject:function(f,u,d){return u&&e.register(f,u),d&&s.register(f,d),this},removeGameObject:function(f,u,d){return u===void 0&&(u=!0),d===void 0&&(d=!0),u&&e.remove(f),d&&s.remove(f),this},registerFileType:function(f,u,d){r.register(f,u),d&&d.sys.load&&(d.sys.load[f]=u)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();o.destroyCustomPlugins(),this.game.noReturn&&o.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=a},39283:(p,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(88257),c=t(56694),l=t(7599),r=new c({Extends:h,initialize:function(e,i,o){h.call(this,i),this.scene=e,this.systems=e.sys,this.pluginKey=o,e.sys.events.once(l.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=r},45615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(p){const S=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,c=(l,r)=>{const s=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames;if(e>h){const i=this.mozFrameDelay||s.totalFrameDelay-t.totalFrameDelay||0,o=r-l;p(r,{presentationTime:r+i*1e3,expectedDisplayTime:r+o,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+o/1e3,presentedFrames:e,processingDuration:i}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(i=>c(r,i))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(l=>c(S,l)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(p){cancelAnimationFrame(this._rvfcpolyfillmap[p]),delete this._rvfcpolyfillmap[p]})},95723:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=S},91135:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89787),c=t(61840),l=t(56694),r=t(86459),s=t(6659),e=t(81044),i=t(32834),o=t(40444),n=t(38203),a=t(69360),f=new l({Extends:s,initialize:function(d){s.call(this);var v=d.config;this.config={clearBeforeRender:v.clearBeforeRender,backgroundColor:v.backgroundColor,antialias:v.antialias,roundPixels:v.roundPixels},this.game=d,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var g={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=v.context?v.context:this.gameCanvas.getContext("2d",g),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=i(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var u=this.game,d=u.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,u.scale.on(o.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(u,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(u,d){this.width=u,this.height=d,this.emit(e.RESIZE,u,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(u){return this.currentContext.globalCompositeOperation=u,this},setContext:function(u){return this.currentContext=u||this.gameContext,this},setAlpha:function(u){return this.currentContext.globalAlpha=u,this},preRender:function(){var u=this.gameContext,d=this.config,v=this.width,g=this.height;u.globalAlpha=1,u.globalCompositeOperation="source-over",u.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(u.clearRect(0,0,v,g),d.transparent||(u.fillStyle=d.backgroundColor.rgba,u.fillRect(0,0,v,g))),u.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(u,d,v){var g=d.length;this.emit(e.RENDER,u,v);var x=v.x,m=v.y,y=v.width,T=v.height,R=v.renderToTexture?v.context:u.sys.context;R.save(),this.game.scene.customViewports&&(R.beginPath(),R.rect(x,m,y,T),R.clip()),v.emit(h.PRE_RENDER,v),this.currentContext=R;var P=v.mask;P&&P.preRenderCanvas(this,null,v._maskCamera),v.transparent||(R.fillStyle=v.backgroundColor.rgba,R.fillRect(x,m,y,T)),R.globalAlpha=v.alpha,R.globalCompositeOperation="source-over",this.drawCount+=g,v.renderToTexture&&v.emit(h.PRE_RENDER,v),v.matrix.copyToContext(R);for(var D=0;D<g;D++){var O=d[D];O.mask&&O.mask.preRenderCanvas(this,O,v),O.renderCanvas(this,O,v),O.mask&&O.mask.postRenderCanvas(this,O,v)}R.setTransform(1,0,0,1,0,0),R.globalCompositeOperation="source-over",R.globalAlpha=1,v.flashEffect.postRenderCanvas(R),v.fadeEffect.postRenderCanvas(R),v.dirty=!1,P&&P.postRenderCanvas(this),R.restore(),v.renderToTexture&&(v.emit(h.POST_RENDER,v),v.renderToGame&&u.sys.context.drawImage(v.canvas,x,m)),v.emit(h.POST_RENDER,v)},postRender:function(){var u=this.gameContext;u.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(c(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(u,d,v,g,x,m,y,T,R){v===void 0&&(v=!1),this.snapshotArea(g,x,m,y,d,T,R);var P=this.snapshotState;return P.getPixel=v,c(u,P),P.callback=null,this},snapshot:function(u,d,v){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,u,d,v)},snapshotArea:function(u,d,v,g,x,m,y){var T=this.snapshotState;return T.callback=x,T.type=m,T.encoder=y,T.getPixel=!1,T.x=u,T.y=d,T.width=Math.min(v,this.gameCanvas.width),T.height=Math.min(g,this.gameCanvas.height),this},snapshotPixel:function(u,d,v){return this.snapshotArea(u,d,1,1,v),this.snapshotState.getPixel=!0,this},batchSprite:function(u,d,v,g){var x=v.alpha*u.alpha;if(x!==0){var m=this.currentContext,y=this._tempMatrix1,T=this._tempMatrix2,R=d.canvasData,P=R.x,D=R.y,O=d.cutWidth,B=d.cutHeight,G=d.customPivot,b=d.source.resolution,k=u.displayOriginX,$=u.displayOriginY,W=-k+d.x,Z=-$+d.y;if(u.isCropped){var z=u._crop;(z.flipX!==u.flipX||z.flipY!==u.flipY)&&d.updateCropUVs(z,u.flipX,u.flipY),O=z.cw,B=z.ch,P=z.cx,D=z.cy,W=-k+z.x,Z=-$+z.y,u.flipX&&(W>=0?W=-(W+O):W<0&&(W=Math.abs(W)-O)),u.flipY&&(Z>=0?Z=-(Z+B):Z<0&&(Z=Math.abs(Z)-B))}var X=1,w=1;u.flipX&&(G||(W+=-d.realWidth+k*2),X=-1),u.flipY&&(G||(Z+=-d.realHeight+$*2),w=-1);var V=u.x,Y=u.y;v.roundPixels&&(V=Math.floor(V),Y=Math.floor(Y)),T.applyITRS(V,Y,u.rotation,u.scaleX*X,u.scaleY*w),y.copyFrom(v.matrix),g?(y.multiplyWithOffset(g,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),T.e=V,T.f=Y):(T.e-=v.scrollX*u.scrollFactorX,T.f-=v.scrollY*u.scrollFactorY),y.multiply(T),v.roundPixels&&(y.e=Math.round(y.e),y.f=Math.round(y.f)),m.save(),y.setToContext(m),m.globalCompositeOperation=this.blendModes[u.blendMode],m.globalAlpha=x,m.imageSmoothingEnabled=!d.source.scaleMode,u.mask&&u.mask.preRenderCanvas(this,u,v),O>0&&B>0&&m.drawImage(d.source.image,P,D,O,B,W,Z,O/b,B/b),u.mask&&u.mask.postRenderCanvas(this,u,v),m.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=f},6046:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),c=t(98581),l=function(){var r=[],s=c.supportNewBlendModes,e="source-over";return r[h.NORMAL]=e,r[h.ADD]="lighter",r[h.MULTIPLY]=s?"multiply":e,r[h.SCREEN]=s?"screen":e,r[h.OVERLAY]=s?"overlay":e,r[h.DARKEN]=s?"darken":e,r[h.LIGHTEN]=s?"lighten":e,r[h.COLOR_DODGE]=s?"color-dodge":e,r[h.COLOR_BURN]=s?"color-burn":e,r[h.HARD_LIGHT]=s?"hard-light":e,r[h.SOFT_LIGHT]=s?"soft-light":e,r[h.DIFFERENCE]=s?"difference":e,r[h.EXCLUSION]=s?"exclusion":e,r[h.HUE]=s?"hue":e,r[h.SATURATION]=s?"saturation":e,r[h.COLOR]=s?"color":e,r[h.LUMINOSITY]=s?"luminosity":e,r[h.ERASE]="destination-out",r[h.SOURCE_IN]="source-in",r[h.SOURCE_OUT]="source-out",r[h.SOURCE_ATOP]="source-atop",r[h.DESTINATION_OVER]="destination-over",r[h.DESTINATION_IN]="destination-in",r[h.DESTINATION_OUT]="destination-out",r[h.DESTINATION_ATOP]="destination-atop",r[h.LIGHTER]="lighter",r[h.COPY]="copy",r[h.XOR]="xor",r};p.exports=l},49584:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),c=function(l,r,s,e,i){var o=e.alpha*s.alpha;if(o<=0)return!1;var n=h(s,e,i).calc;return r.globalCompositeOperation=l.blendModes[s.blendMode],r.globalAlpha=o,r.save(),n.setToContext(r),r.imageSmoothingEnabled=s.frame?!s.frame.source.scaleMode:l.antialias,!0};p.exports=c},70936:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},99298:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},7743:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},99519:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},81044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),c=t(27119),l=t(72632),r=function(s,e){var i=l(e,"callback"),o=l(e,"type","image/png"),n=l(e,"encoder",.92),a=Math.abs(Math.round(l(e,"x",0))),f=Math.abs(Math.round(l(e,"y",0))),u=Math.floor(l(e,"width",s.width)),d=Math.floor(l(e,"height",s.height)),v=l(e,"getPixel",!1);if(v){var g=s.getContext("2d",{willReadFrequently:!1}),x=g.getImageData(a,f,1,1),m=x.data;i.call(null,new c(m[0],m[1],m[2],m[3]))}else if(a!==0||f!==0||u!==s.width||d!==s.height){var y=h.createWebGL(this,u,d),T=y.getContext("2d",{willReadFrequently:!0});u>0&&d>0&&T.drawImage(s,a,f,u,d,0,0,u,d);var R=new Image;R.onerror=function(){i.call(null),h.remove(y)},R.onload=function(){i.call(null,R),h.remove(y)},R.src=y.toDataURL(o,n)}else{var P=new Image;P.onerror=function(){i.call(null)},P.onload=function(){i.call(null,P)},P.src=s.toDataURL(o,n)}};p.exports=r},1217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),c=t(27119),l=t(72632),r=function(s,e){var i=s,o=l(e,"callback"),n=l(e,"type","image/png"),a=l(e,"encoder",.92),f=Math.abs(Math.round(l(e,"x",0))),u=Math.abs(Math.round(l(e,"y",0))),d=l(e,"getPixel",!1),v=l(e,"isFramebuffer",!1),g=v?l(e,"bufferWidth",1):i.drawingBufferWidth,x=v?l(e,"bufferHeight",1):i.drawingBufferHeight;if(d){var m=new Uint8Array(4),y=v?u:x-u;i.readPixels(f,y,1,1,i.RGBA,i.UNSIGNED_BYTE,m),o.call(null,new c(m[0],m[1],m[2],m[3]))}else{var T=Math.floor(l(e,"width",g)),R=Math.floor(l(e,"height",x)),P=T*R*4,D=new Uint8Array(P);i.readPixels(f,x-u-R,T,R,i.RGBA,i.UNSIGNED_BYTE,D);for(var O=h.createWebGL(this,T,R),B=O.getContext("2d",{willReadFrequently:!0}),G=B.getImageData(0,0,T,R),b=G.data,k=0;k<R;k++)for(var $=0;$<T;$++){var W=((R-k-1)*T+$)*4,Z=v?P-(k*T+(T-$))*4:(k*T+$)*4;b[Z+0]=D[W+0],b[Z+1]=D[W+1],b[Z+2]=D[W+2],b[Z+3]=D[W+3]}B.putImageData(G,0,0);var z=new Image;z.onerror=function(){o.call(null),h.remove(O)},z.onload=function(){o.call(null,z),h.remove(O)},z.src=O.toDataURL(n,a)}};p.exports=r},95528:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(65641),l=t(33885),r=t(77290),s=t(72632),e=t(37410),i=t(82127),o=t(5583),n=t(58136),a=t(47406),f=t(81828),u=t(66901),d=t(71264),v=t(77310),g=t(10919),x=t(21213),m=t(51212),y=t(60848),T=new h({initialize:function(P){this.game=P.game,this.renderer=P,this.classes=new l([[c.UTILITY_PIPELINE,y],[c.MULTI_PIPELINE,v],[c.BITMAPMASK_PIPELINE,o],[c.SINGLE_PIPELINE,m],[c.ROPE_PIPELINE,x],[c.LIGHT_PIPELINE,u],[c.POINTLIGHT_PIPELINE,g],[c.MOBILE_PIPELINE,d],[c.FX_PIPELINE,f]]),this.postPipelineClasses=new l([[String(a.BARREL),n.Barrel],[String(a.BLOOM),n.Bloom],[String(a.BLUR),n.Blur],[String(a.BOKEH),n.Bokeh],[String(a.CIRCLE),n.Circle],[String(a.COLOR_MATRIX),n.ColorMatrix],[String(a.DISPLACEMENT),n.Displacement],[String(a.GLOW),n.Glow],[String(a.GRADIENT),n.Gradient],[String(a.PIXELATE),n.Pixelate],[String(a.SHADOW),n.Shadow],[String(a.SHINE),n.Shine],[String(a.VIGNETTE),n.Vignette],[String(a.WIPE),n.Wipe]]),this.pipelines=new l,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(R,P,D){var O=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(s(R,"frameInc",32));for(var G=O.width,b=O.height,k=Math.min(G,b),$=Math.ceil(k/this.frameInc),W=1;W<$;W++){var Z=W*this.frameInc;B.push(new e(O,Z,Z)),B.push(new e(O,Z,Z)),B.push(new e(O,Z,Z)),this.maxDimension=Z}B.push(new e(O,G,b,1,0,!0,!0)),B.push(new e(O,G,b,1,0,!0,!0)),B.push(new e(O,G,b,1,0,!0,!0));var z,X,w=this,V=this.game;if(this.classes.each(function(j,J){z=w.add(j,new J({game:V})),j===c.UTILITY_PIPELINE&&(w.UTILITY_PIPELINE=z,w.fullFrame1=z.fullFrame1,w.fullFrame2=z.fullFrame2,w.halfFrame1=z.halfFrame1,w.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(c.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(c.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(c.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(c.FX_PIPELINE),R)for(X in R){var Y=R[X];z=new Y(V),z.name=X,z.isPostFX?this.postPipelineClasses.set(X,Y):this.has(X)||(this.classes.set(X,Y),this.add(X,z))}this.default=this.get(P),D&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(R){var P=this.get(R);return P&&(this.default=P),P},add:function(R,P){if(P.isPostFX){console.warn(R+" is a Post Pipeline. Use `addPostPipeline` instead");return}var D=this.pipelines,O=this.renderer;return D.has(R)?console.warn("Pipeline exists: "+R):(P.name=R,P.manager=this,D.set(R,P)),P.hasBooted||P.boot(),O.width!==0&&O.height!==0&&!P.isPreFX&&P.resize(O.width,O.height),P},addPostPipeline:function(R,P){this.postPipelineClasses.has(R)||this.postPipelineClasses.set(R,P)},flush:function(){this.current&&this.current.flush()},has:function(R){var P=this.pipelines;return typeof R=="string"?P.has(R):!!P.contains(R)},get:function(R){var P=this.pipelines;if(typeof R=="string")return P.get(R);if(P.contains(R))return R},getPostPipeline:function(R,P,D){var O=this.postPipelineClasses,B,G="",b=typeof R;if(b==="string"||b==="number"?(B=O.get(R),G=R):b==="function"?(O.contains(R)&&(B=R),G=R.name):b==="object"&&(B=O.get(R.name),G=R.name),B){var k=new B(this.game,D);return k.name=G,P&&(k.gameObject=P),k}},remove:function(R,P,D){P===void 0&&(P=!0),D===void 0&&(D=!0),this.pipelines.delete(R),P&&this.classes.delete(R),D&&this.postPipelineClasses.delete(R)},set:function(R,P,D){if(!R.isPostFX)return this.isCurrent(R,D)||(this.flush(),this.current&&this.current.unbind(),this.current=R,R.bind(D)),R.updateProjectionMatrix(),R.onBind(P),R},preBatch:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,D=P.length-1;D>=0;D--){var O=P[D];O.active&&O.preBatch(R)}}},postBatch:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,D=0;D<P.length;D++){var O=P[D];O.active&&O.postBatch(R)}}},preBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,D=P.length-1;D>=0;D--){var O=P[D];O.active&&O.preBatch(R)}}},postBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var P=R.postPipelines,D=0;D<P.length;D++){var O=P[D];O.active&&O.postBatch(R)}}},isCurrent:function(R,P){var D=this.renderer,O=this.current;return O&&!P&&(P=O.currentShader),!(O!==R||P.program!==D.currentProgram)},copyFrame:function(R,P,D,O,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(R,P,D,O,B),this},copyToGame:function(R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(R),this},drawFrame:function(R,P,D,O){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(R,P,D,O),this},blendFrames:function(R,P,D,O,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(R,P,D,O,B),this},blendFramesAdditive:function(R,P,D,O,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(R,P,D,O,B),this},clearFrame:function(R,P){return this.UTILITY_PIPELINE.clearFrame(R,P),this},blitFrame:function(R,P,D,O,B,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(R,P,D,O,B,G),this},copyFrameRect:function(R,P,D,O,B,G,b,k){return this.UTILITY_PIPELINE.copyFrameRect(R,P,D,O,B,G,b,k),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(R){return this.UTILITY_PIPELINE.bind(R)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(R){R===void 0&&this.previous&&(R=this.previous);var P=this.renderer,D=P.gl;D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),P.hasActiveStencilMask()?D.clear(D.DEPTH_BUFFER_BIT):(D.disable(D.STENCIL_TEST),D.clear(D.DEPTH_BUFFER_BIT|D.STENCIL_BUFFER_BIT)),D.viewport(0,0,P.width,P.height),P.currentProgram=null,P.setBlendMode(0,!0);var O=P.vaoExtension;O&&O.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var G in B)B[G].glReset=!0;R&&(this.current=R,R.rebind())},clear:function(){var R=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,R.currentProgram=null,R.setBlendMode(0,!0);var P=R.vaoExtension;P&&P.bindVertexArrayOES(null)},getRenderTarget:function(R){var P=this.renderTargets,D=3;if(R>this.maxDimension)return this.targetIndex=P.length-D,P[this.targetIndex];var O=(i(R,this.frameInc,0,!0)-1)*D;return this.targetIndex=O,P[O]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});p.exports=T},37410:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(81044),l=new h({initialize:function(s,e,i,o,n,a,f,u,d){o===void 0&&(o=1),n===void 0&&(n=0),a===void 0&&(a=!0),f===void 0&&(f=!1),u===void 0&&(u=!0),d===void 0&&(d=!0),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=o,this.minFilter=n,this.autoClear=a,this.autoResize=!0,this.hasDepthBuffer=u,this.forceClamp=d,this.resize(e,i),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(c.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(c.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,s){var e=r*this.scale,i=s*this.scale;if(this.autoResize&&(e!==this.width||i!==this.height)){var o=this.renderer;o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),r*=this.scale,s*=this.scale,r=Math.round(r),s=Math.round(s),r<=0&&(r=1),s<=0&&(s=1),this.texture=o.createTextureFromSource(null,r,s,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(r,s,this.texture,this.hasDepthBuffer),this.width=r,this.height=s}return this},bind:function(r,s,e){r===void 0&&(r=!1);var i=this.renderer;if(r&&i.flush(),s&&e&&this.resize(s,e),i.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var o=this.renderer.gl;o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)}i.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,s=r.gl;r.pushFramebuffer(this.framebuffer),s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var s=this.renderer;return r&&s.flush(),s.popFramebuffer()},destroy:function(){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),r.off(c.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=l},75512:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={getTintFromFloats:function(S,t,h,c){var l=(S*255|0)&255,r=(t*255|0)&255,s=(h*255|0)&255,e=(c*255|0)&255;return(e<<24|l<<16|r<<8|s)>>>0},getTintAppendFloatAlpha:function(S,t){var h=(t*255|0)&255;return(h<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var h=(S>>16|0)&255,c=(S>>8|0)&255,l=(S|0)&255,r=(t*255|0)&255;return(r<<24|l<<16|c<<8|h)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,h=(S>>8|0)&255,c=(S|0)&255;return[t/255,h/255,c/255]},checkShaderMax:function(S,t){var h=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var h="",c=0;c<t;c++)c>0&&(h+=`
	else `),c<t-1&&(h+="if (outTexId < "+c+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+c+"], outTexCoord);",h+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,h)},setGlowQuality:function(S,t,h,c){return h===void 0&&(h=t.config.glowFXQuality),c===void 0&&(c=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/h/c).toFixed(7)),S=S.replace(/__DIST__/gi,c.toFixed(0)+".0"),S}}},44775:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(28699),l=t(6659),r=t(18970),s=t(72632),e=t(16650),i=t(81044),o=t(37410),n=t(75512),a=t(71305),f=new h({Extends:l,initialize:function(d){l.call(this);var v=d.game,g=v.renderer,x=g.gl;this.name=s(d,"name","WebGLPipeline"),this.game=v,this.renderer=g,this.manager,this.gl=x,this.view=v.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=s(d,"topology",x.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=s(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var u,d=this.gl,v=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var x=this.renderTargets,m=s(v,"renderTarget",!1);typeof m=="boolean"&&m&&(m=1);var y=g.width,T=g.height;if(typeof m=="number")for(u=0;u<m;u++)x.push(new o(g,y,T,1,0,!0));else if(Array.isArray(m))for(u=0;u<m.length;u++){var R=s(m[u],"scale",1),P=s(m[u],"minFilter",0),D=s(m[u],"autoClear",1),O=s(m[u],"width",null),B=s(m[u],"height",O);O?x.push(new o(g,O,B,1,P,D)):x.push(new o(g,y,T,R,P,D))}x.length&&(this.currentRenderTarget=x[0]),this.setShadersFromConfig(v);var G=this.shaders,b=0;for(u=0;u<G.length;u++)G[u].vertexSize>b&&(b=G[u].vertexSize);var k=s(v,"batchSize",g.config.batchSize);this.vertexCapacity=k*6;var $=new ArrayBuffer(this.vertexCapacity*b);this.vertexData=$,this.bytes=new Uint8Array($),this.vertexViewF32=new Float32Array($),this.vertexViewU32=new Uint32Array($);var W=s(v,"vertices",null);for(W?(this.vertexViewF32.set(W),this.vertexBuffer=g.createVertexBuffer($,d.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer($.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),u=G.length-1;u>=0;u--)G[u].rebind();this.hasBooted=!0,g.on(i.RESIZE,this.resize,this),g.on(i.PRE_RENDER,this.onPreRender,this),g.on(i.RENDER,this.onRender,this),g.on(i.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(u,d,v){var g=this.renderer;if(u!==this.currentShader||g.currentProgram!==this.currentShader.program){this.flush();var x=this.setVertexBuffer(v);x&&!d&&(d=!0),u.bind(d,!1),this.currentShader=u}return this},getShaderByName:function(u){for(var d=this.shaders,v=0;v<d.length;v++)if(d[v].name===u)return d[v]},setShadersFromConfig:function(u){var d,v=this.shaders,g=this.renderer;for(d=0;d<v.length;d++)v[d].destroy();var x="vertShader",m="fragShader",y="attributes",T=s(u,x,null),R=n.parseFragmentShaderMaxTextures(s(u,m,null),g.maxTextures),P=s(u,y,null),D=s(u,"shaders",[]),O=D.length;if(O===0)T&&R&&(this.shaders=[new a(this,"default",T,R,c(P))]);else{var B=[];for(d=0;d<O;d++){var G=D[d],b,k,$,W;if(typeof G=="string"?(b="default",k=T,$=n.parseFragmentShaderMaxTextures(G,g.maxTextures),W=P):(b=s(G,"name","default"),k=s(G,x,T),$=n.parseFragmentShaderMaxTextures(s(G,m,R),g.maxTextures),W=s(G,y,P)),b==="default"){var Z=$.split(`
`),z=Z[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(b=z.substring(20))}k&&$&&B.push(new a(this,b,k,$,c(W)))}this.shaders=B}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(u){return this.currentBatch={start:this.vertexCount,count:0,texture:[u],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=u,this.batch.push(this.currentBatch),0},addTextureToBatch:function(u){var d=this.currentBatch;d&&(d.texture.push(u),d.unit++,d.maxUnit++)},pushBatch:function(u){if(!this.currentBatch||this.forceZero&&u!==this.currentTexture)return this.createBatch(u);if(u===this.currentTexture)return this.currentUnit;var d=this.currentBatch,v=d.texture.indexOf(u);return v===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(u):(d.unit++,d.maxUnit++,d.texture.push(u),this.currentUnit=d.unit,this.currentTexture=u,d.unit):(this.currentUnit=v,this.currentTexture=u,v)},setGameObject:function(u,d){return d===void 0&&(d=u.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(u){return u===void 0&&(u=0),this.vertexCount+u>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(u,d){(u!==this.width||d!==this.height)&&this.flush(),this.width=u,this.height=d;for(var v=this.renderTargets,g=0;g<v.length;g++)v[g].resize(u,d);return this.setProjectionMatrix(u,d),this.emit(r.RESIZE,u,d,this),this.onResize(u,d),this},setProjectionMatrix:function(u,d){var v=this.projectionMatrix;if(!v)return this;this.projectionWidth=u,this.projectionHeight=d,v.ortho(0,u,d,0,-1e3,1e3);for(var g=this.shaders,x="uProjectionMatrix",m=0;m<g.length;m++){var y=g[m];y.hasUniform(x)&&(y.resetUniform(x),y.setMatrix4fv(x,!1,v.val,y))}return this},flipProjectionMatrix:function(u){u===void 0&&(u=!0);var d=this.projectionMatrix;if(!d)return this;var v=this.projectionWidth,g=this.projectionHeight;u?d.ortho(0,v,0,g,-1e3,1e3):d.ortho(0,v,g,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var u=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==u||this.projectionHeight!==d)&&this.setProjectionMatrix(u,d)}},bind:function(u){if(u===void 0&&(u=this.currentShader),this.glReset)return this.rebind(u);var d=!1,v=this.gl;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(v.bindBuffer(v.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,d=!0),u.bind(d),this.currentShader=u,this.activeTextures.length=0,this.emit(r.BIND,this,u),this.onActive(u),this},rebind:function(u){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,v=d.length-1;v>=0;v--){var g=d[v].rebind();(!u||g===u)&&(this.currentShader=g)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(u){if(u===void 0&&(u=this.vertexBuffer),u!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,u),this.activeBuffer=u,!0}return!1},preBatch:function(u){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(u),this},postBatch:function(u){return this.onDraw(this.currentRenderTarget),this.onPostBatch(u),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(u){if(u===void 0&&(u=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,u),this.onBeforeFlush(u);var d=this.gl,v=this.vertexCount,g=this.currentShader.vertexSize,x=this.topology;if(this.active){this.setVertexBuffer(),v===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,v*g));var m,y,T,R=this.batch,P=this.activeTextures;if(this.forceZero)for(P[0]||d.activeTexture(d.TEXTURE0),m=0;m<R.length;m++)y=R[m],T=y.texture[0],P[0]!==T&&(d.bindTexture(d.TEXTURE_2D,T),P[0]=T),d.drawArrays(x,y.start,y.count);else for(m=0;m<R.length;m++){y=R[m];for(var D=0;D<=y.maxUnit;D++)T=y.texture[D],P[D]!==T&&(d.activeTexture(d.TEXTURE0+D),d.bindTexture(d.TEXTURE_2D,T),P[D]=T);d.drawArrays(x,y.start,y.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,u),this.onAfterFlush(u)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(u,d,v,g,x,m,y){var T=this.vertexViewF32,R=this.vertexViewU32,P=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++P]=u,T[++P]=d,T[++P]=v,T[++P]=g,T[++P]=x,T[++P]=m,R[++P]=y,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(u,d,v,g,x,m,y,T,R,P,D,O,B,G,b,k,$,W,Z,z){z===void 0&&(z=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(z=this.setTexture2D(Z));var w=this.vertexViewF32,V=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return w[++Y]=d,w[++Y]=v,w[++Y]=P,w[++Y]=D,w[++Y]=z,w[++Y]=W,V[++Y]=G,w[++Y]=g,w[++Y]=x,w[++Y]=P,w[++Y]=B,w[++Y]=z,w[++Y]=W,V[++Y]=k,w[++Y]=m,w[++Y]=y,w[++Y]=O,w[++Y]=B,w[++Y]=z,w[++Y]=W,V[++Y]=$,w[++Y]=d,w[++Y]=v,w[++Y]=P,w[++Y]=D,w[++Y]=z,w[++Y]=W,V[++Y]=G,w[++Y]=m,w[++Y]=y,w[++Y]=O,w[++Y]=B,w[++Y]=z,w[++Y]=W,V[++Y]=$,w[++Y]=T,w[++Y]=R,w[++Y]=O,w[++Y]=D,w[++Y]=z,w[++Y]=W,V[++Y]=b,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),X},batchTri:function(u,d,v,g,x,m,y,T,R,P,D,O,B,G,b,k,$){$===void 0&&($=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||($=this.setTexture2D(k));var Z=this.vertexViewF32,z=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return Z[++X]=d,Z[++X]=v,Z[++X]=T,Z[++X]=R,Z[++X]=$,Z[++X]=b,z[++X]=O,Z[++X]=g,Z[++X]=x,Z[++X]=T,Z[++X]=D,Z[++X]=$,Z[++X]=b,z[++X]=B,Z[++X]=m,Z[++X]=y,Z[++X]=P,Z[++X]=D,Z[++X]=$,Z[++X]=b,z[++X]=G,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(u),W},drawFillRect:function(u,d,v,g,x,m,y,T){y===void 0&&(y=this.renderer.whiteTexture),T===void 0&&(T=!0),u=Math.floor(u),d=Math.floor(d);var R=Math.floor(u+v),P=Math.floor(d+g),D=this.setTexture2D(y),O=n.getTintAppendFloatAlphaAndSwap(x,m),B=0,G=0,b=1,k=1;T&&(G=1,k=0),this.batchQuad(null,u,d,u,P,R,P,R,d,B,G,b,k,O,O,O,O,0,y,D)},setTexture2D:function(u){return u===void 0&&(u=this.renderer.whiteTexture),this.pushBatch(u)},bindTexture:function(u,d){d===void 0&&(d=0);var v=this.gl;return v.activeTexture(v.TEXTURE0+d),v.bindTexture(v.TEXTURE_2D,u),this},bindRenderTarget:function(u,d){return this.bindTexture(u.texture,d)},setTime:function(u,d){return this.set1f(u,this.game.loop.getDuration(),d),this},setBoolean:function(u,d,v){return v===void 0&&(v=this.currentShader),v.setBoolean(u,d),this},set1f:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set1f(u,d),this},set2f:function(u,d,v,g){return g===void 0&&(g=this.currentShader),g.set2f(u,d,v),this},set3f:function(u,d,v,g,x){return x===void 0&&(x=this.currentShader),x.set3f(u,d,v,g),this},set4f:function(u,d,v,g,x,m){return m===void 0&&(m=this.currentShader),m.set4f(u,d,v,g,x),this},set1fv:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set1fv(u,d),this},set2fv:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set2fv(u,d),this},set3fv:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set3fv(u,d),this},set4fv:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set4fv(u,d),this},set1iv:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set1iv(u,d),this},set2iv:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set2iv(u,d),this},set3iv:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set3iv(u,d),this},set4iv:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set4iv(u,d),this},set1i:function(u,d,v){return v===void 0&&(v=this.currentShader),v.set1i(u,d),this},set2i:function(u,d,v,g){return g===void 0&&(g=this.currentShader),g.set2i(u,d,v),this},set3i:function(u,d,v,g,x){return x===void 0&&(x=this.currentShader),x.set3i(u,d,v,g),this},set4i:function(u,d,v,g,x,m){return m===void 0&&(m=this.currentShader),m.set4i(u,d,v,g,x),this},setMatrix2fv:function(u,d,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(u,d,v),this},setMatrix3fv:function(u,d,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(u,d,v),this},setMatrix4fv:function(u,d,v,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(u,d,v),this},destroy:function(){this.emit(r.DESTROY,this);var u,d=this.shaders;for(u=0;u<d.length;u++)d[u].destroy();var v=this.renderTargets;for(u=0;u<v.length;u++)v[u].destroy();this.gl.deleteBuffer(this.vertexBuffer);var g=this.renderer;return g.off(i.RESIZE,this.resize,this),g.off(i.PRE_RENDER,this.onPreRender,this),g.off(i.RENDER,this.onRender,this),g.off(i.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});p.exports=f},11857:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66458),c=t(89787),l=t(56694),r=t(86459),s=t(6659),e=t(81044),i=t(28621),o=t(16650),n=t(72283),a=t(35217),f=t(37410),u=t(40444),d=t(38203),v=t(75512),g=t(1217),x=new l({Extends:s,initialize:function(y){s.call(this);var T=y.config,R={alpha:T.transparent,desynchronized:T.desynchronized,depth:!0,antialias:T.antialiasGL,premultipliedAlpha:T.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:T.failIfMajorPerformanceCaveat,powerPreference:T.powerPreference,preserveDrawingBuffer:T.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:T.clearBeforeRender,antialias:T.antialias,backgroundColor:T.backgroundColor,contextCreation:R,roundPixels:T.roundPixels,maxTextures:T.maxTextures,maxTextureSize:T.maxTextureSize,batchSize:T.batchSize,maxLights:T.maxLights,mipmapFilter:T.mipmapFilter},this.game=y,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=y.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=n,this.contextRestoredHandler=n,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(m){var y,T=this.game,R=this.canvas,P=m.backgroundColor;if(T.config.context?y=T.config.context:y=R.getContext("webgl",m.contextCreation)||R.getContext("experimental-webgl",m.contextCreation),!y||y.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=y;var D=this;this.contextLostHandler=function(W){D.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),W.preventDefault()},R.addEventListener("webglcontextlost",this.contextLostHandler,!1),T.context=y;for(var O=0;O<=27;O++)this.blendModes.push({func:[y.ONE,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_ADD});this.blendModes[1].func=[y.ONE,y.DST_ALPHA],this.blendModes[2].func=[y.DST_COLOR,y.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[y.ONE,y.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[y.ZERO,y.ONE_MINUS_SRC_ALPHA],equation:y.FUNC_REVERSE_SUBTRACT},this.glFormats=[y.BYTE,y.SHORT,y.UNSIGNED_BYTE,y.UNSIGNED_SHORT,y.FLOAT],this.glFuncMap={mat2:{func:y.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:y.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:y.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:y.uniform1f,length:1},"1fv":{func:y.uniform1fv,length:1},"1i":{func:y.uniform1i,length:1},"1iv":{func:y.uniform1iv,length:1},"2f":{func:y.uniform2f,length:2},"2fv":{func:y.uniform2fv,length:1},"2i":{func:y.uniform2i,length:2},"2iv":{func:y.uniform2iv,length:1},"3f":{func:y.uniform3f,length:3},"3fv":{func:y.uniform3fv,length:1},"3i":{func:y.uniform3i,length:3},"3iv":{func:y.uniform3iv,length:1},"4f":{func:y.uniform4f,length:4},"4fv":{func:y.uniform4fv,length:1},"4i":{func:y.uniform4i,length:4},"4iv":{func:y.uniform4iv,length:1}};var B=y.getSupportedExtensions();(!m.maxTextures||m.maxTextures===-1)&&(m.maxTextures=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS)),m.maxTextureSize||(m.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=B;var G="ANGLE_instanced_arrays";this.instancedArraysExtension=B.indexOf(G)>-1?y.getExtension(G):null;var b="OES_vertex_array_object";this.vaoExtension=B.indexOf(b)>-1?y.getExtension(b):null,y.disable(y.DEPTH_TEST),y.disable(y.CULL_FACE),y.enable(y.BLEND),y.clearColor(P.redGL,P.greenGL,P.blueGL,P.alphaGL),m.mipmapFilter!==""&&(this.mipmapFilter=y[m.mipmapFilter]),this.maxTextures=v.checkShaderMax(y,m.maxTextures),this.textureIndexes=[];for(var k=0;k<this.maxTextures;k++){var $=y.createTexture();y.activeTexture(y.TEXTURE0+k),y.bindTexture(y.TEXTURE_2D,$),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,1,1,0,y.RGBA,y.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(k)}return this.pipelines=new a(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new o().identity(),T.textures.once(d.READY,this.boot,this),this},boot:function(){var m=this.game,y=this.pipelines,T=m.scale.baseSize,R=T.width,P=T.height;this.width=R,this.height=P,this.isBooted=!0,this.renderTarget=new f(this,R,P,1,0,!0,!0),this.maskTarget=new f(this,R,P,1,0,!0,!0),this.maskSource=new f(this,R,P,1,0,!0,!0);var D=m.config;y.boot(D.pipeline,D.defaultPipeline,D.autoMobilePipeline),this.blankTexture=m.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=m.textures.getFrame("__WHITE").glTexture;var O=this.gl;O.bindFramebuffer(O.FRAMEBUFFER,null),O.enable(O.SCISSOR_TEST),m.scale.on(u.RESIZE,this.onResize,this),this.resize(R,P)},captureFrame:function(m,y){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(m,y,T){},stopCapture:function(){},onCapture:function(m){},onResize:function(m,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},beginCapture:function(m,y){m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.renderTarget.bind(!0,m,y),this.setProjectionMatrix(m,y)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(m,y){var T=this.gl;return this.width=m,this.height=y,this.setProjectionMatrix(m,y),T.viewport(0,0,m,y),this.drawingBufferHeight=T.drawingBufferHeight,T.scissor(0,T.drawingBufferHeight-y,m,y),this.defaultScissor[2]=m,this.defaultScissor[3]=y,this.emit(e.RESIZE,m,y),this},getCompressedTextures:function(){var m="WEBGL_compressed_texture_",y="WEBKIT_"+m,T=function(P,D){var O=P.getExtension(m+D)||P.getExtension(y+D);if(O){var B={};for(var G in O)B[O[G]]=G;return B}},R=this.gl;return{ETC:T(R,"etc"),ETC1:T(R,"etc1"),ATC:T(R,"atc"),ASTC:T(R,"astc"),BPTC:T(R,"bptc"),RGTC:T(R,"rgtc"),PVRTC:T(R,"pvrtc"),S3TC:T(R,"s3tc"),S3TCSRGB:T(R,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(m,y){var T=this.compression[m.toUpperCase()];if(y in T)return T[y]},supportsCompressedTexture:function(m,y){var T=this.compression[m.toUpperCase()];return T?y?y in T:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(m,y){return(m!==this.projectionWidth||y!==this.projectionHeight)&&(this.projectionWidth=m,this.projectionHeight=y,this.projectionMatrix.ortho(0,m,y,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(m){return this.supportedExtensions?this.supportedExtensions.indexOf(m):!1},getExtension:function(m){return this.hasExtension(m)?(m in this.extensions||(this.extensions[m]=this.gl.getExtension(m)),this.extensions[m]):null},flush:function(){this.pipelines.flush()},pushScissor:function(m,y,T,R,P){P===void 0&&(P=this.drawingBufferHeight);var D=this.scissorStack,O=[m,y,T,R];return D.push(O),this.setScissor(m,y,T,R,P),this.currentScissor=O,O},setScissor:function(m,y,T,R,P){P===void 0&&(P=this.drawingBufferHeight);var D=this.gl,O=this.currentScissor,B=T>0&&R>0;if(O&&B){var G=O[0],b=O[1],k=O[2],$=O[3];B=G!==m||b!==y||k!==T||$!==R}B&&(this.flush(),D.scissor(m,P-y-R,T,R))},resetScissor:function(){var m=this.gl;m.enable(m.SCISSOR_TEST);var y=this.currentScissor;if(y){var T=y[0],R=y[1],P=y[2],D=y[3];P>0&&D>0&&m.scissor(T,this.drawingBufferHeight-R-D,P,D)}},popScissor:function(){var m=this.scissorStack;m.pop();var y=m[m.length-1];y&&this.setScissor(y[0],y[1],y[2],y[3]),this.currentScissor=y},hasActiveStencilMask:function(){var m=this.currentMask.mask,y=this.currentCameraMask.mask;return m&&m.isStencil||y&&y.isStencil},resetViewport:function(){var m=this.gl;m.viewport(0,0,this.width,this.height),this.drawingBufferHeight=m.drawingBufferHeight},setBlendMode:function(m,y){y===void 0&&(y=!1);var T=this.gl,R=this.blendModes[m];return y||m!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==m?(this.flush(),T.enable(T.BLEND),T.blendEquation(R.equation),R.func.length>2?T.blendFuncSeparate(R.func[0],R.func[1],R.func[2],R.func[3]):T.blendFunc(R.func[0],R.func[1]),this.currentBlendMode=m,!0):!1},addBlendMode:function(m,y){var T=this.blendModes.push({func:m,equation:y});return T-1},updateBlendMode:function(m,y,T){return this.blendModes[m]&&(this.blendModes[m].func=y,T&&(this.blendModes[m].equation=T)),this},removeBlendMode:function(m){return m>17&&this.blendModes[m]&&this.blendModes.splice(m,1),this},pushFramebuffer:function(m,y,T,R,P){return m===this.currentFramebuffer?this:(this.fboStack.push(m),this.setFramebuffer(m,y,T,R,P))},setFramebuffer:function(m,y,T,R,P){if(y===void 0&&(y=!1),T===void 0&&(T=!0),R===void 0&&(R=null),P===void 0&&(P=!1),m===this.currentFramebuffer)return this;var D=this.gl,O=this.width,B=this.height;return m&&m.renderTexture&&T?(O=m.renderTexture.width,B=m.renderTexture.height):this.flush(),D.bindFramebuffer(D.FRAMEBUFFER,m),T&&D.viewport(0,0,O,B),R&&D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,R,0),P&&(D.clearColor(0,0,0,0),D.clear(D.COLOR_BUFFER_BIT)),y&&(m?(this.drawingBufferHeight=B,this.pushScissor(0,0,O,B)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=m,this},popFramebuffer:function(m,y){m===void 0&&(m=!1),y===void 0&&(y=!0);var T=this.fboStack;T.pop();var R=T[T.length-1];return R||(R=null),this.setFramebuffer(R,m,y),R},restoreFramebuffer:function(m,y){m===void 0&&(m=!1),y===void 0&&(y=!0);var T=this.fboStack,R=T[T.length-1];R||(R=null),this.currentFramebuffer=null,this.setFramebuffer(R,m,y)},setProgram:function(m){return m!==this.currentProgram?(this.flush(),this.gl.useProgram(m),this.currentProgram=m,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(m,y,T,R,P){P===void 0&&(P=!1);var D=this.gl,O=D.NEAREST,B=D.NEAREST,G=D.CLAMP_TO_EDGE,b=null;y=m?m.width:y,T=m?m.height:T;var k=i(y,T);return k&&!P&&(G=D.REPEAT),R===r.ScaleModes.LINEAR&&this.config.antialias&&(O=k&&this.mipmapFilter?this.mipmapFilter:D.LINEAR,B=D.LINEAR),m&&m.compressed&&(O=D.LINEAR,B=D.LINEAR),!m&&typeof y=="number"&&typeof T=="number"?b=this.createTexture2D(0,O,B,G,G,D.RGBA,null,y,T):b=this.createTexture2D(0,O,B,G,G,D.RGBA,m),b},createTexture2D:function(m,y,T,R,P,D,O,B,G,b,k,$){b=b??!0,k===void 0&&(k=!1),$===void 0&&($=!1);var W=this.gl,Z=W.createTexture();W.activeTexture(W.TEXTURE0);var z=W.getParameter(W.TEXTURE_BINDING_2D);W.bindTexture(W.TEXTURE_2D,Z),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,y),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,T),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,P),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,R),W.pixelStorei(W.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b),$&&W.pixelStorei(W.UNPACK_FLIP_Y_WEBGL,!0);var X=!1;if(O==null)W.texImage2D(W.TEXTURE_2D,m,D,B,G,0,D,W.UNSIGNED_BYTE,null),X=i(B,G);else if(O.compressed){B=O.width,G=O.height,X=O.generateMipmap;for(var w=0;w<O.mipmaps.length;w++)W.compressedTexImage2D(W.TEXTURE_2D,w,O.internalFormat,O.mipmaps[w].width,O.mipmaps[w].height,0,O.mipmaps[w].data)}else k||(B=O.width,G=O.height),W.texImage2D(W.TEXTURE_2D,m,D,D,W.UNSIGNED_BYTE,O),X=i(B,G);return X&&W.generateMipmap(W.TEXTURE_2D),z&&W.bindTexture(W.TEXTURE_2D,z),Z.isAlphaPremultiplied=b,Z.isRenderTexture=!1,Z.width=B,Z.height=G,Z},createFramebuffer:function(m,y,T,R){R===void 0&&(R=!0);var P=this.gl,D=P.createFramebuffer(),O=0;if(this.setFramebuffer(D),T.isRenderTexture=!0,T.isAlphaPremultiplied=!1,P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,T,0),O=P.checkFramebufferStatus(P.FRAMEBUFFER),O!==P.FRAMEBUFFER_COMPLETE){var B={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(B[O]||O))}if(D.renderTexture=T,R){var G=P.createRenderbuffer();P.bindRenderbuffer(P.RENDERBUFFER,G),P.renderbufferStorage(P.RENDERBUFFER,P.DEPTH_STENCIL,m,y),P.framebufferRenderbuffer(P.FRAMEBUFFER,P.DEPTH_STENCIL_ATTACHMENT,P.RENDERBUFFER,G)}return this.setFramebuffer(null),D},beginBitmapMask:function(m,y){var T=this.gl;T&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==m&&(this.currentMask.mask=m,this.currentMask.camera=y))},drawBitmapMask:function(m,y,T){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),m.renderWebGL(this,m,y),this.maskSource.unbind(!0),this.maskTarget.unbind();var R=this.gl,P=this.getCurrentStencilMask();P?(R.enable(R.STENCIL_TEST),P.mask.applyStencil(this,P.camera,!0)):this.currentMask.mask=null,this.pipelines.set(T),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,this.maskTarget.texture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,this.maskSource.texture)},createProgram:function(m,y){var T=this.gl,R=T.createProgram(),P=T.createShader(T.VERTEX_SHADER),D=T.createShader(T.FRAGMENT_SHADER);T.shaderSource(P,m),T.shaderSource(D,y),T.compileShader(P),T.compileShader(D);var O=`Shader failed:
`;if(!T.getShaderParameter(P,T.COMPILE_STATUS))throw new Error("Vertex "+O+T.getShaderInfoLog(P));if(!T.getShaderParameter(D,T.COMPILE_STATUS))throw new Error("Fragment "+O+T.getShaderInfoLog(D));if(T.attachShader(R,P),T.attachShader(R,D),T.linkProgram(R),!T.getProgramParameter(R,T.LINK_STATUS))throw new Error("Link "+O+T.getProgramInfoLog(R));return T.useProgram(R),R},createVertexBuffer:function(m,y){var T=this.gl,R=T.createBuffer();return T.bindBuffer(T.ARRAY_BUFFER,R),T.bufferData(T.ARRAY_BUFFER,m,y),T.bindBuffer(T.ARRAY_BUFFER,null),R},createIndexBuffer:function(m,y){var T=this.gl,R=T.createBuffer();return T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,R),T.bufferData(T.ELEMENT_ARRAY_BUFFER,m,y),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,null),R},deleteTexture:function(m){return m&&this.gl.deleteTexture(m),this},deleteFramebuffer:function(m){if(m){var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,m);var T=y.getParameter(y.RENDERBUFFER_BINDING);T&&y.deleteRenderbuffer(T),y.bindFramebuffer(y.FRAMEBUFFER,null),y.deleteFramebuffer(m),h(this.fboStack,m),this.currentFramebuffer===m&&(this.currentFramebuffer=null)}return this},deleteProgram:function(m){return m&&this.gl.deleteProgram(m),this},deleteBuffer:function(m){return this.gl.deleteBuffer(m),this},preRenderCamera:function(m){var y=m.x,T=m.y,R=m.width,P=m.height,D=m.backgroundColor;if(m.emit(c.PRE_RENDER,m),this.pipelines.preBatchCamera(m),this.pushScissor(y,T,R,P),m.mask&&(this.currentCameraMask.mask=m.mask,this.currentCameraMask.camera=m._maskCamera,m.mask.preRenderWebGL(this,m,m._maskCamera)),D.alphaGL>0){var O=this.pipelines.setMulti();O.drawFillRect(y,T,R,P,v.getTintFromFloats(D.blueGL,D.greenGL,D.redGL,1),D.alphaGL)}},getCurrentStencilMask:function(){var m=null,y=this.maskStack,T=this.currentCameraMask;return y.length>0?m=y[y.length-1]:T.mask&&T.mask.isStencil&&(m=T),m},postRenderCamera:function(m){var y=m.flashEffect,T=m.fadeEffect;if(y.isRunning||T.isRunning||T.isComplete){var R=this.pipelines.setMulti();y.postRenderWebGL(R,v.getTintFromFloats),T.postRenderWebGL(R,v.getTintFromFloats)}m.dirty=!1,this.popScissor(),m.mask&&(this.currentCameraMask.mask=null,m.mask.postRenderWebGL(this,m._maskCamera)),this.pipelines.postBatchCamera(m),m.emit(c.POST_RENDER,m)},preRender:function(){if(!this.contextLost){var m=this.gl;if(m.bindFramebuffer(m.FRAMEBUFFER,null),this.config.clearBeforeRender){var y=this.config.backgroundColor;m.clearColor(y.redGL,y.greenGL,y.blueGL,y.alphaGL),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT|m.STENCIL_BUFFER_BIT)}m.enable(m.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&m.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(e.PRE_RENDER)}},render:function(m,y,T){if(!this.contextLost){var R=y.length;if(this.emit(e.RENDER,m,T),this.preRenderCamera(T),R===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T);return}this.currentType="";for(var P=this.currentMask,D=0;D<R;D++){this.finalType=D===R-1;var O=y[D],B=O.mask;P=this.currentMask,P.mask&&P.mask!==B&&P.mask.postRenderWebGL(this,P.camera),B&&P.mask!==B&&B.preRenderWebGL(this,O,T),O.blendMode!==this.currentBlendMode&&this.setBlendMode(O.blendMode);var G=O.type;G!==this.currentType&&(this.newType=!0,this.currentType=G),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=y[D+1].type===this.currentType,O.renderWebGL(this,O,T),this.newType=!1}P=this.currentMask,P.mask&&P.mask.postRenderWebGL(this,P.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(T)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(e.POST_RENDER);var m=this.snapshotState;m.callback&&(g(this.gl,m),m.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var m=this.gl,y=this.getCurrentStencilMask();if(y){var T=y.mask;m.enable(m.STENCIL_TEST),T.invertAlpha?m.stencilFunc(m.NOTEQUAL,T.level,255):m.stencilFunc(m.EQUAL,T.level,255)}},snapshot:function(m,y,T){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,m,y,T)},snapshotArea:function(m,y,T,R,P,D,O){var B=this.snapshotState;return B.callback=P,B.type=D,B.encoder=O,B.getPixel=!1,B.x=m,B.y=y,B.width=T,B.height=R,this},snapshotPixel:function(m,y,T){return this.snapshotArea(m,y,1,1,T),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(m,y,T,R,P,D,O,B,G,b,k){P===void 0&&(P=!1),D===void 0&&(D=0),O===void 0&&(O=0),B===void 0&&(B=y),G===void 0&&(G=T),b==="pixel"&&(P=!0,b="image/png");var $=this.currentFramebuffer;this.snapshotArea(D,O,B,G,R,b,k);var W=this.snapshotState;return W.getPixel=P,W.isFramebuffer=!0,W.bufferWidth=y,W.bufferHeight=T,W.width=Math.min(W.width,y),W.height=Math.min(W.height,T),this.setFramebuffer(m),g(this.gl,W),this.setFramebuffer($),W.callback=null,W.isFramebuffer=!1,this},canvasToTexture:function(m,y,T,R){return T===void 0&&(T=!1),R===void 0&&(R=!1),y?this.updateCanvasTexture(m,y,R):this.createCanvasTexture(m,T,R)},createCanvasTexture:function(m,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var R=this.gl,P=R.NEAREST,D=R.NEAREST,O=m.width,B=m.height,G=R.CLAMP_TO_EDGE,b=i(O,B);return!y&&b&&(G=R.REPEAT),this.config.antialias&&(P=b&&this.mipmapFilter?this.mipmapFilter:R.LINEAR,D=R.LINEAR),this.createTexture2D(0,P,D,G,G,R.RGBA,m,O,B,!0,!1,T)},updateCanvasTexture:function(m,y,T){T===void 0&&(T=!1);var R=this.gl,P=m.width,D=m.height;if(P>0&&D>0){R.activeTexture(R.TEXTURE0);var O=R.getParameter(R.TEXTURE_BINDING_2D);R.bindTexture(R.TEXTURE_2D,y),T&&R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,!0),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,m),y.width=P,y.height=D,O&&R.bindTexture(R.TEXTURE_2D,O)}return y},createVideoTexture:function(m,y,T){y===void 0&&(y=!1),T===void 0&&(T=!1);var R=this.gl,P=R.NEAREST,D=R.NEAREST,O=m.videoWidth,B=m.videoHeight,G=R.CLAMP_TO_EDGE,b=i(O,B);return!y&&b&&(G=R.REPEAT),this.config.antialias&&(P=b&&this.mipmapFilter?this.mipmapFilter:R.LINEAR,D=R.LINEAR),this.createTexture2D(0,P,D,G,G,R.RGBA,m,O,B,!0,!0,T)},updateVideoTexture:function(m,y,T){T===void 0&&(T=!1);var R=this.gl,P=m.videoWidth,D=m.videoHeight;if(P>0&&D>0){R.activeTexture(R.TEXTURE0);var O=R.getParameter(R.TEXTURE_BINDING_2D);R.bindTexture(R.TEXTURE_2D,y),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,T),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,m),y.width=P,y.height=D,O&&R.bindTexture(R.TEXTURE_2D,O)}return y},setTextureFilter:function(m,y){var T=this.gl,R=[T.LINEAR,T.NEAREST][y];T.activeTexture(T.TEXTURE0);var P=T.getParameter(T.TEXTURE_BINDING_2D);return T.bindTexture(T.TEXTURE_2D,m),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,R),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,R),P&&T.bindTexture(T.TEXTURE_2D,P),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=x},71305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(71402),r=new h({initialize:function(e,i,o,n,a){this.pipeline=e,this.name=i,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=n,this.vertSrc=o,this.program=this.renderer.createProgram(o,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(a),this.createUniforms()},createAttributes:function(s){var e=0,i=0,o=[];this.vertexComponentCount=0;for(var n=0;n<s.length;n++){var a=s[n],f=a.name,u=c(a,"size",1),d=c(a,"type",l.FLOAT),v=d.enum,g=d.size,x=!!a.normalized;o.push({name:f,size:u,type:v,normalized:x,offset:i,enabled:!1,location:-1}),g===4?e+=u:e++,i+=u*g}this.vertexSize=i,this.vertexComponentCount=e,this.attributes=o},bind:function(s,e){return s===void 0&&(s=!1),e===void 0&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){s===void 0&&(s=!1);for(var e=this.gl,i=this.vertexSize,o=this.attributes,n=this.program,a=0;a<o.length;a++){var f=o[a],u=f.size,d=f.type,v=f.offset,g=f.enabled,x=f.location,m=!!f.normalized;if(s){var y=e.getAttribLocation(n,f.name);y>=0?(e.enableVertexAttribArray(y),e.vertexAttribPointer(y,u,d,m,i,v),f.enabled=!0,f.location=y):y!==-1&&e.disableVertexAttribArray(y)}else g?e.vertexAttribPointer(x,u,d,m,i,v):!g&&x>-1&&(e.disableVertexAttribArray(x),f.location=-1)}return this},createUniforms:function(){var s=this.gl,e=this.program,i=this.uniforms,o,n,a,f=s.getProgramParameter(e,s.ACTIVE_UNIFORMS);for(o=0;o<f;o++){var u=s.getActiveUniform(e,o);if(u){n=u.name,a=s.getUniformLocation(e,n),a!==null&&(i[n]={name:n,location:a,value1:null,value2:null,value3:null,value4:null});var d=n.indexOf("[");d>0&&(n=n.substr(0,d),i.hasOwnProperty(n)||(a=s.getUniformLocation(e,n),a!==null&&(i[n]={name:n,location:a,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var e=this.uniforms[s];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(s,e,i,o){var n=this.uniforms[e];return n?((o||n.value1!==i)&&(n.value1=i,this.renderer.setProgram(this.program),s.call(this.gl,n.location,i),this.pipeline.currentShader=this),this):this},setUniform2:function(s,e,i,o,n){var a=this.uniforms[e];return a?((n||a.value1!==i||a.value2!==o)&&(a.value1=i,a.value2=o,this.renderer.setProgram(this.program),s.call(this.gl,a.location,i,o),this.pipeline.currentShader=this),this):this},setUniform3:function(s,e,i,o,n,a){var f=this.uniforms[e];return f?((a||f.value1!==i||f.value2!==o||f.value3!==n)&&(f.value1=i,f.value2=o,f.value3=n,this.renderer.setProgram(this.program),s.call(this.gl,f.location,i,o,n),this.pipeline.currentShader=this),this):this},setUniform4:function(s,e,i,o,n,a,f){var u=this.uniforms[e];return u?((f||u.value1!==i||u.value2!==o||u.value3!==n||u.value4!==a)&&(u.value1=i,u.value2=o,u.value3=n,u.value4=a,this.renderer.setProgram(this.program),s.call(this.gl,u.location,i,o,n,a),this.pipeline.currentShader=this),this):this},setBoolean:function(s,e){return this.setUniform1(this.gl.uniform1i,s,Number(e))},set1f:function(s,e){return this.setUniform1(this.gl.uniform1f,s,e)},set2f:function(s,e,i){return this.setUniform2(this.gl.uniform2f,s,e,i)},set3f:function(s,e,i,o){return this.setUniform3(this.gl.uniform3f,s,e,i,o)},set4f:function(s,e,i,o,n){return this.setUniform4(this.gl.uniform4f,s,e,i,o,n)},set1fv:function(s,e){return this.setUniform1(this.gl.uniform1fv,s,e,!0)},set2fv:function(s,e){return this.setUniform1(this.gl.uniform2fv,s,e,!0)},set3fv:function(s,e){return this.setUniform1(this.gl.uniform3fv,s,e,!0)},set4fv:function(s,e){return this.setUniform1(this.gl.uniform4fv,s,e,!0)},set1iv:function(s,e){return this.setUniform1(this.gl.uniform1iv,s,e,!0)},set2iv:function(s,e){return this.setUniform1(this.gl.uniform2iv,s,e,!0)},set3iv:function(s,e){return this.setUniform1(this.gl.uniform3iv,s,e,!0)},set4iv:function(s,e){return this.setUniform1(this.gl.uniform4iv,s,e,!0)},set1i:function(s,e){return this.setUniform1(this.gl.uniform1i,s,e)},set2i:function(s,e,i){return this.setUniform2(this.gl.uniform2i,s,e,i)},set3i:function(s,e,i,o){return this.setUniform3(this.gl.uniform3i,s,e,i,o)},set4i:function(s,e,i,o,n){return this.setUniform4(this.gl.uniform4i,s,e,i,o,n)},setMatrix2fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix2fv,s,e,i,!0)},setMatrix3fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix3fv,s,e,i,!0)},setMatrix4fv:function(s,e,i){return this.setUniform2(this.gl.uniformMatrix4fv,s,e,i,!0)},createProgram:function(s,e){s===void 0&&(s=this.vertSrc),e===void 0&&(e=this.fragSrc);var i=this.gl;return this.program&&i.deleteProgram(this.program),this.vertSrc=s,this.fragSrc=e,this.program=this.renderer.createProgram(s,e),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});p.exports=r},71402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=S},55478:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71402),c=t(98611),l={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};l=c(!1,l,h),p.exports=l},5583:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(91679),r=t(89053),s=t(71402),e=t(44775),i=new h({Extends:e,initialize:function(n){n.fragShader=c(n,"fragShader",l),n.vertShader=c(n,"vertShader",r),n.batchSize=c(n,"batchSize",1),n.vertices=c(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=c(n,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),e.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(o,n){e.prototype.resize.call(this,o,n),this.set2f("uResolution",o,n)},beginMask:function(o,n,a){this.renderer.beginBitmapMask(o,a)},endMask:function(o,n,a){var f=this.gl,u=this.renderer,d=o.bitmapMask;d&&f&&(u.drawBitmapMask(d,n,this),a&&this.set2f("uResolution",a.width,a.height),this.set1i("uInvertMaskAlpha",o.invertAlpha),f.drawArrays(this.topology,0,3),a&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});p.exports=i},81828:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(58136),l=t(47406),r=t(72632),s=t(87228),e=t(92462),i=t(75512),o=new h({Extends:s,initialize:function(a){a.shaders=[i.setGlowQuality(e.FXGlowFrag,a.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],s.call(this,a);var f=this.game;this.glow=new c.Glow(f),this.shadow=new c.Shadow(f),this.pixelate=new c.Pixelate(f),this.vignette=new c.Vignette(f),this.shine=new c.Shine(f),this.gradient=new c.Gradient(f),this.circle=new c.Circle(f),this.barrel=new c.Barrel(f),this.wipe=new c.Wipe(f),this.bokeh=new c.Bokeh(f);var u=[];u[l.GLOW]=this.onGlow,u[l.SHADOW]=this.onShadow,u[l.PIXELATE]=this.onPixelate,u[l.VIGNETTE]=this.onVignette,u[l.SHINE]=this.onShine,u[l.BLUR]=this.onBlur,u[l.GRADIENT]=this.onGradient,u[l.BLOOM]=this.onBloom,u[l.COLOR_MATRIX]=this.onColorMatrix,u[l.CIRCLE]=this.onCircle,u[l.BARREL]=this.onBarrel,u[l.DISPLACEMENT]=this.onDisplacement,u[l.WIPE]=this.onWipe,u[l.BOKEH]=this.onBokeh,this.fxHandlers=u,this.source,this.target,this.swap},onDraw:function(n,a,f){this.source=n,this.target=a,this.swap=f;var u=n.width,d=n.height,v=this.tempSprite,g=this.fxHandlers;if(v&&v.preFX)for(var x=v.preFX.list,m=0;m<x.length;m++){var y=x[m];y.active&&g[y.type].call(this,y,u,d)}this.drawToGame(this.source)},runDraw:function(){var n=this.source,a=this.target;this.copy(n,a),this.source=a,this.target=n},onGlow:function(n,a,f){var u=this.shaders[l.GLOW];this.setShader(u),this.glow.onPreRender(n,u,a,f),this.runDraw()},onShadow:function(n){var a=this.shaders[l.SHADOW];this.setShader(a),this.shadow.onPreRender(n,a),this.runDraw()},onPixelate:function(n,a,f){var u=this.shaders[l.PIXELATE];this.setShader(u),this.pixelate.onPreRender(n,u,a,f),this.runDraw()},onVignette:function(n){var a=this.shaders[l.VIGNETTE];this.setShader(a),this.vignette.onPreRender(n,a),this.runDraw()},onShine:function(n,a,f){var u=this.shaders[l.SHINE];this.setShader(u),this.shine.onPreRender(n,u,a,f),this.runDraw()},onBlur:function(n,a,f){var u=r(n,"quality"),d=this.shaders[l.BLUR+u];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",a,f),this.set1f("strength",r(n,"strength")),this.set3fv("color",r(n,"glcolor"));for(var v=r(n,"x"),g=r(n,"y"),x=r(n,"steps"),m=0;m<x;m++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw()},onGradient:function(n){var a=this.shaders[l.GRADIENT];this.setShader(a),this.gradient.onPreRender(n,a),this.runDraw()},onBloom:function(n,a,f){var u=this.shaders[l.BLOOM];this.copySprite(this.source,this.swap),this.setShader(u),this.set1i("uMainSampler",0),this.set1f("strength",r(n,"blurStrength")),this.set3fv("color",r(n,"glcolor"));for(var d=2/a*r(n,"offsetX"),v=2/f*r(n,"offsetY"),g=r(n,"steps"),x=0;x<g;x++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,v),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(n,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(n){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),this.runDraw()},onCircle:function(n,a,f){var u=this.shaders[l.CIRCLE];this.setShader(u),this.circle.onPreRender(n,u,a,f),this.runDraw()},onBarrel:function(n){var a=this.shaders[l.BARREL];this.setShader(a),this.barrel.onPreRender(n,a),this.runDraw()},onDisplacement:function(n){this.setShader(this.shaders[l.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.runDraw()},onWipe:function(n){var a=this.shaders[l.WIPE];this.setShader(a),this.wipe.onPreRender(n,a),this.runDraw()},onBokeh:function(n,a,f){var u=this.shaders[l.BOKEH];this.setShader(u),this.bokeh.onPreRender(n,u,a,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,s.prototype.destroy.call(this),this}});p.exports=o},66901:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(65045),r=t(77310),s=t(69360),e=t(93736),i=t(44775),o=new h({Extends:r,initialize:function(a){var f=c(a,"fragShader",l);a.fragShader=f.replace("%LIGHT_COUNT%",a.game.renderer.config.maxLights),r.call(this,a),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new s,this._tempMatrix2=new s},boot:function(){i.prototype.boot.call(this);var n=this.gl,a=n.createTexture();n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,a),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:a}},onRender:function(n,a){var f=n.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var u=f.getLights(a),d=u.length;this.lightsActive=!0;var v,g=this.renderer,x=g.height,m=a.matrix,y=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",a.x,a.y,a.rotation,a.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),v=0;v<d;v++){var T=u[v].light,R=T.color,P="uLights["+v+"].";m.transformPoint(T.x,T.y,y),this.set2f(P+"position",y.x-a.scrollX*T.scrollFactorX*a.zoom,x-(y.y-a.scrollY*T.scrollFactorY*a.zoom)),this.set3f(P+"color",R.r,R.g,R.b),this.set1f(P+"intensity",T.intensity),this.set1f(P+"radius",T.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(n){if(n!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var a=this.inverseRotationMatrix;if(n){var f=-n,u=Math.cos(f),d=Math.sin(f);a[1]=d,a[3]=-d,a[0]=a[4]=u}else a[0]=a[4]=1,a[1]=a[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,a),this.currentNormalMapRotation=n}},setTexture2D:function(n,a){var f=this.renderer;n===void 0&&(n=f.whiteTexture);var u=this.getNormalMap(a);this.isNewNormalMap(n,u)&&(this.flush(),this.createBatch(n),this.addTextureToBatch(u),this.currentNormalMap=u);var d=0;if(a&&a.parentContainer){var v=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=v.rotationNormalized}else a&&(d=a.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(n,a){a===void 0&&(a=n.frame);var f=a.glTexture,u=this.getNormalMap(n);if(this.isNewNormalMap(f,u)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(u),this.currentNormalMap=u),n.parentContainer){var d=n.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(n.rotation);return 0},isNewNormalMap:function(n,a){return this.currentTexture!==n||this.currentNormalMap!==a},getNormalMap:function(n){var a;return n?n.displayTexture?a=n.displayTexture.dataSource[n.displayFrame.sourceIndex]:n.texture?a=n.texture.dataSource[n.frame.sourceIndex]:n.tileset&&(Array.isArray(n.tileset)?a=n.tileset[0].image.dataSource[0]:a=n.tileset.image.dataSource[0]):a=this.defaultNormalMap,a||(a=this.defaultNormalMap),a.glTexture},batchSprite:function(n,a,f){this.lightsActive&&r.prototype.batchSprite.call(this,n,a,f)},batchTexture:function(n,a,f,u,d,v,g,x,m,y,T,R,P,D,O,B,G,b,k,$,W,Z,z,X,w,V,Y,j,J,_,tt,it){this.lightsActive&&r.prototype.batchTexture.call(this,n,a,f,u,d,v,g,x,m,y,T,R,P,D,O,B,G,b,k,$,W,Z,z,X,w,V,Y,j,J,_,tt,it)},batchTextureFrame:function(n,a,f,u,d,v,g){this.lightsActive&&r.prototype.batchTextureFrame.call(this,n,a,f,u,d,v,g)}});p.exports=o},71264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(77310),r=t(85060),s=t(18166),e=t(71402),i=t(44775),o=new h({Extends:l,initialize:function(a){a.fragShader=c(a,"fragShader",r),a.vertShader=c(a,"vertShader",s),a.attributes=c(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),a.forceZero=!0,l.call(this,a)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=o},77310:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(11117),l=t(72632),r=t(53787),s=t(15968),e=t(69360),i=t(75512),o=t(71402),n=t(44775),a=new h({Extends:n,initialize:function(u){var d=u.game.renderer,v=l(u,"fragShader",r);u.fragShader=i.parseFragmentShaderMaxTextures(v,d.maxTextures),u.vertShader=l(u,"vertShader",s),u.attributes=l(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),n.call(this,u),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(f,u,d){this.manager.set(this,f);var v=this._tempMatrix1,g=this._tempMatrix2,x=this._tempMatrix3,m=f.frame,y=m.glTexture,T=m.u0,R=m.v0,P=m.u1,D=m.v1,O=m.x,B=m.y,G=m.cutWidth,b=m.cutHeight,k=m.customPivot,$=f.displayOriginX,W=f.displayOriginY,Z=-$+O,z=-W+B;if(f.isCropped){var X=f._crop;(X.flipX!==f.flipX||X.flipY!==f.flipY)&&m.updateCropUVs(X,f.flipX,f.flipY),T=X.u0,R=X.v0,P=X.u1,D=X.v1,G=X.width,b=X.height,O=X.x,B=X.y,Z=-$+O,z=-W+B}var w=1,V=1;f.flipX&&(k||(Z+=-m.realWidth+$*2),w=-1),(f.flipY||m.source.isGLTexture&&!y.flipY)&&(k||(z+=-m.realHeight+W*2),V=-1);var Y=f.x,j=f.y;g.applyITRS(Y,j,f.rotation,f.scaleX*w,f.scaleY*V),v.copyFrom(u.matrix),d?(v.multiplyWithOffset(d,-u.scrollX*f.scrollFactorX,-u.scrollY*f.scrollFactorY),g.e=Y,g.f=j):(g.e-=u.scrollX*f.scrollFactorX,g.f-=u.scrollY*f.scrollFactorY),v.multiply(g,x);var J=x.setQuad(Z,z,Z+G,z+b,u.roundPixels),_=i.getTintAppendFloatAlpha,tt=u.alpha,it=_(f.tintTopLeft,tt*f._alphaTL),st=_(f.tintTopRight,tt*f._alphaTR),ot=_(f.tintBottomLeft,tt*f._alphaBL),ht=_(f.tintBottomRight,tt*f._alphaBR);this.shouldFlush(6)&&this.flush();var ct=this.setGameObject(f,m);this.manager.preBatch(f),this.batchQuad(f,J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],T,R,P,D,it,st,ot,ht,f.tintFill,y,ct),this.manager.postBatch(f)},batchTexture:function(f,u,d,v,g,x,m,y,T,R,P,D,O,B,G,b,k,$,W,Z,z,X,w,V,Y,j,J,_,tt,it,st,ot){this.manager.set(this,f);var ht=this._tempMatrix1,ct=this._tempMatrix2,ft=this._tempMatrix3,Et=$/d+J,Mt=W/v+_,Dt=($+Z)/d+J,It=(W+z)/v+_,pt=m,Lt=y,Pt=-b,Jt=-k;if(f.isCropped){var $t=f._crop,fe=$t.width,de=$t.height;pt=fe,Lt=de,m=fe,y=de,$=$t.x,W=$t.y;var re=$,Qt=W;D&&(re=Z-$t.x-fe),O&&(Qt=z-$t.y-de),Et=re/d+J,Mt=Qt/v+_,Dt=(re+fe)/d+J,It=(Qt+de)/v+_,Pt=-b+$,Jt=-k+W}O=O^(!st&&u.isRenderTexture?1:0),D&&(pt*=-1,Pt+=m),O&&(Lt*=-1,Jt+=y),ct.applyITRS(g,x,P,T,R),ht.copyFrom(tt.matrix),it?(ht.multiplyWithOffset(it,-tt.scrollX*B,-tt.scrollY*G),ct.e=g,ct.f=x):(ct.e-=tt.scrollX*B,ct.f-=tt.scrollY*G),ht.multiply(ct,ft);var ae=ft.setQuad(Pt,Jt,Pt+pt,Jt+Lt,tt.roundPixels);ot===void 0&&(ot=this.setTexture2D(u)),f&&this.manager.preBatch(f),this.batchQuad(f,ae[0],ae[1],ae[2],ae[3],ae[4],ae[5],ae[6],ae[7],Et,Mt,Dt,It,X,w,V,Y,j,u,ot),f&&this.manager.postBatch(f)},batchTextureFrame:function(f,u,d,v,g,x,m){this.manager.set(this);var y=this._tempMatrix1.copyFrom(x),T=this._tempMatrix2;m?y.multiply(m,T):T=y;var R=T.setQuad(u,d,u+f.width,d+f.height,!1),P=this.setTexture2D(f.source.glTexture);v=i.getTintAppendFloatAlpha(v,g),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],f.u0,f.v0,f.u1,f.v1,v,v,v,v,0,f.glTexture,P)},batchFillRect:function(f,u,d,v,g,x){this.renderer.pipelines.set(this);var m=this.calcMatrix;x&&x.multiply(g,m);var y=m.setQuad(f,u,f+d,u+v,!1),T=this.fillTint;this.batchQuad(null,y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],0,0,1,1,T.TL,T.TR,T.BL,T.BR,2)},batchFillTriangle:function(f,u,d,v,g,x,m,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(m,T);var R=T.getX(f,u),P=T.getY(f,u),D=T.getX(d,v),O=T.getY(d,v),B=T.getX(g,x),G=T.getY(g,x),b=this.fillTint;this.batchTri(null,R,P,D,O,B,G,0,0,1,1,b.TL,b.TR,b.BL,2)},batchStrokeTriangle:function(f,u,d,v,g,x,m,y,T){var R=this.tempTriangle;R[0].x=f,R[0].y=u,R[0].width=m,R[1].x=d,R[1].y=v,R[1].width=m,R[2].x=g,R[2].y=x,R[2].width=m,R[3].x=f,R[3].y=u,R[3].width=m,this.batchStrokePath(R,m,!1,y,T)},batchFillPath:function(f,u,d){this.renderer.pipelines.set(this);var v=this.calcMatrix;d&&d.multiply(u,v);for(var g=f.length,x=this.polygonCache,m,y,T=this.fillTint.TL,R=this.fillTint.TR,P=this.fillTint.BL,D=0;D<g;++D)y=f[D],x.push(y.x,y.y);m=c(x),g=m.length;for(var O=0;O<g;O+=3){var B=m[O+0]*2,G=m[O+1]*2,b=m[O+2]*2,k=x[B+0],$=x[B+1],W=x[G+0],Z=x[G+1],z=x[b+0],X=x[b+1],w=v.getX(k,$),V=v.getY(k,$),Y=v.getX(W,Z),j=v.getY(W,Z),J=v.getX(z,X),_=v.getY(z,X);this.batchTri(null,w,V,Y,j,J,_,0,0,1,1,T,R,P,2)}x.length=0},batchStrokePath:function(f,u,d,v,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var x=f.length-1,m=0;m<x;m++){var y=f[m],T=f[m+1];this.batchLine(y.x,y.y,T.x,T.y,y.width/2,T.width/2,u,m,!d&&m===x-1,v,g)}},batchLine:function(f,u,d,v,g,x,m,y,T,R,P){this.renderer.pipelines.set(this);var D=this.calcMatrix;P&&P.multiply(R,D);var O=d-f,B=v-u,G=Math.sqrt(O*O+B*B);if(G!==0){var b=g*(v-u)/G,k=g*(f-d)/G,$=x*(v-u)/G,W=x*(f-d)/G,Z=d-$,z=v-W,X=f-b,w=u-k,V=d+$,Y=v+W,j=f+b,J=u+k,_=D.getX(Z,z),tt=D.getY(Z,z),it=D.getX(X,w),st=D.getY(X,w),ot=D.getX(V,Y),ht=D.getY(V,Y),ct=D.getX(j,J),ft=D.getY(j,J),Et=this.strokeTint,Mt=Et.TL,Dt=Et.TR,It=Et.BL,pt=Et.BR;if(this.batchQuad(null,ct,ft,it,st,_,tt,ot,ht,0,0,1,1,Mt,Dt,It,pt,2),!(m<=2)){var Lt=this.prevQuad,Pt=this.firstQuad;y>0&&Lt[4]?this.batchQuad(null,ct,ft,it,st,Lt[0],Lt[1],Lt[2],Lt[3],0,0,1,1,Mt,Dt,It,pt,2):(Pt[0]=ct,Pt[1]=ft,Pt[2]=it,Pt[3]=st,Pt[4]=1),T&&Pt[4]?this.batchQuad(null,_,tt,ot,ht,Pt[0],Pt[1],Pt[2],Pt[3],0,0,1,1,Mt,Dt,It,pt,2):(Lt[0]=_,Lt[1]=tt,Lt[2]=ot,Lt[3]=ht,Lt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,n.prototype.destroy.call(this),this}});p.exports=a},10919:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(83327),r=t(54677),s=t(44775),e=new h({Extends:s,initialize:function(o){o.vertShader=c(o,"vertShader",r),o.fragShader=c(o,"fragShader",l),o.attributes=c(o,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,o)},onRender:function(i,o){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",o.zoom)},batchPointLight:function(i,o,n,a,f,u,d,v,g,x,m,y){var T=i.color,R=i.intensity,P=i.radius,D=i.attenuation,O=T.r*R,B=T.g*R,G=T.b*R,b=o.alpha*i.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(n,a,m,y,P,D,O,B,G,b),this.batchLightVert(f,u,m,y,P,D,O,B,G,b),this.batchLightVert(d,v,m,y,P,D,O,B,G,b),this.batchLightVert(n,a,m,y,P,D,O,B,G,b),this.batchLightVert(d,v,m,y,P,D,O,B,G,b),this.batchLightVert(g,x,m,y,P,D,O,B,G,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(i,o,n,a,f,u,d,v,g,x){var m=this.vertexViewF32,y=this.vertexCount*this.currentShader.vertexComponentCount-1;m[++y]=i,m[++y]=o,m[++y]=n,m[++y]=a,m[++y]=f,m[++y]=u,m[++y]=d,m[++y]=v,m[++y]=g,m[++y]=x,this.vertexCount++}});p.exports=e},80486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(65246),l=t(72632),r=t(12569),s=t(99365),e=t(44775),i=new h({Extends:e,initialize:function(n){n.renderTarget=l(n,"renderTarget",1),n.fragShader=l(n,"fragShader",r),n.vertShader=l(n,"vertShader",s),n.attributes=l(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,n),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new c,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){e.prototype.boot.call(this);var o=this.manager.UTILITY_PIPELINE;this.fullFrame1=o.fullFrame1,this.fullFrame2=o.fullFrame2,this.halfFrame1=o.halfFrame1,this.halfFrame2=o.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(o){this.bindAndDraw(o)},getController:function(o){return o!==void 0?o:this.controller?this.controller:this},copySprite:function(o,n,a){a===void 0&&(a=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,o.texture);var u=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,n.framebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,n.texture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),a&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,u))},copyFrame:function(o,n,a,f,u){this.manager.copyFrame(o,n,a,f,u)},copyToGame:function(o){this.manager.copyToGame(o)},drawFrame:function(o,n,a){this.manager.drawFrame(o,n,a,this.colorMatrix)},blendFrames:function(o,n,a,f,u){this.manager.blendFrames(o,n,a,f,u)},blendFramesAdditive:function(o,n,a,f,u){this.manager.blendFramesAdditive(o,n,a,f,u)},clearFrame:function(o,n){this.manager.clearFrame(o,n)},blitFrame:function(o,n,a,f,u,d){this.manager.blitFrame(o,n,a,f,u,d)},copyFrameRect:function(o,n,a,f,u,d,v,g){this.manager.copyFrameRect(o,n,a,f,u,d,v,g)},bindAndDraw:function(o,n,a,f,u){a===void 0&&(a=!0),f===void 0&&(f=!0);var d=this.gl,v=this.renderer;this.bind(u),this.set1i("uMainSampler",0),n?(d.viewport(0,0,n.width,n.height),d.bindFramebuffer(d.FRAMEBUFFER,n.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,n.texture,0),a&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(v.popFramebuffer(!1,!1),v.currentFramebuffer||d.viewport(0,0,v.width,v.height)),v.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,o.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),n&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,v.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,e.prototype.destroy.call(this),this}});p.exports=i},87228:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),c=t(79993),l=t(56694),r=t(37486),s=t(72632),e=t(77310),i=t(12569),o=t(74118),n=t(37410),a=t(85060),f=t(18166),u=t(44775),d=new l({Extends:e,initialize:function(g){var x=s(g,"fragShader",i),m=s(g,"vertShader",f),y=s(g,"drawShader",i),T=[{name:"DrawSprite",fragShader:a,vertShader:f},{name:"CopySprite",fragShader:x,vertShader:m},{name:"DrawGame",fragShader:y,vertShader:f},{name:"ColorMatrix",fragShader:r}],R=s(g,"shaders",[]);g.shaders=T.concat(R),g.vertShader||(g.vertShader=m),g.batchSize=1,e.call(this,g),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new o,this.targetBounds=new o,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){u.prototype.boot.call(this);var v=this.shaders,g=this.renderer;this.drawSpriteShader=v[0],this.copyShader=v[1],this.gameShader=v[2],this.colorMatrixShader=v[3],this.fsTarget=new n(g,g.width,g.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var x=new ArrayBuffer(168);this.quadVertexData=x,this.quadVertexViewF32=new Float32Array(x),this.quadVertexBuffer=g.createVertexBuffer(x,this.gl.STATIC_DRAW),this.onResize(g.width,g.height),this.currentShader=this.copyShader},onResize:function(v,g){var x=this.quadVertexViewF32;x[1]=g,x[22]=g,x[14]=v,x[28]=v,x[35]=v,x[36]=g},batchQuad:function(v,g,x,m,y,T,R,P,D,O,B,G,b,k,$,W,Z,z,X){var w=Math.min(g,m,T,P),V=Math.min(x,y,R,D),Y=Math.max(g,m,T,P),j=Math.max(x,y,R,D),J=Y-w,_=j-V,tt=this.spriteBounds.setTo(w,V,J,_),it=v?v.preFX.padding:0,st=J+it*2,ot=_+it*2,ht=Math.abs(Math.max(st,ot)),ct=this.manager.getRenderTarget(ht),ft=this.targetBounds.setTo(0,0,ct.width,ct.height);c(ft,tt.centerX,tt.centerY),this.tempSprite=v;var Et=this.gl,Mt=this.renderer;Mt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),v&&(this.onDrawSprite(v,ct),v.preFX.onFX(this));var Dt=this.fsTarget;return this.flush(),Et.viewport(0,0,Mt.width,Mt.height),Et.bindFramebuffer(Et.FRAMEBUFFER,Dt.framebuffer),Et.framebufferTexture2D(Et.FRAMEBUFFER,Et.COLOR_ATTACHMENT0,Et.TEXTURE_2D,Dt.texture,0),Et.clearColor(0,0,0,0),Et.clear(Et.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(g,x,O,B,0,z,k),this.batchVert(m,y,O,b,0,z,W),this.batchVert(T,R,G,b,0,z,Z),this.batchVert(g,x,O,B,0,z,k),this.batchVert(T,R,G,b,0,z,Z),this.batchVert(P,D,G,B,0,z,$),this.flush(),this.flipProjectionMatrix(!1),Et.activeTexture(Et.TEXTURE0),Et.bindTexture(Et.TEXTURE_2D,ct.texture),Et.copyTexSubImage2D(Et.TEXTURE_2D,0,0,0,ft.x,ft.y,ft.width,ft.height),Et.bindFramebuffer(Et.FRAMEBUFFER,null),Et.bindTexture(Et.TEXTURE_2D,null),this.onBatch(v),this.currentShader=this.copyShader,this.onDraw(ct,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(v,g,x,m,y,T,R){x===void 0&&(x=!0),m===void 0&&(m=!0),y===void 0&&(y=!1),R===void 0&&(R=this.copyShader);var P=this.gl,D=this.tempSprite;T&&(R=this.colorMatrixShader),this.currentShader=R;var O=this.setVertexBuffer(this.quadVertexBuffer);if(R.bind(O,!1),this.set1i("uMainSampler",0),D.preFX.onFXCopy(this),this.onCopySprite(v,g,D),T&&(this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,v.texture),v.height>g.height)P.viewport(0,0,v.width,v.height),this.setTargetUVs(v,g);else{var B=g.height-v.height;P.viewport(0,B,v.width,v.height),this.resetUVs()}if(P.bindFramebuffer(P.FRAMEBUFFER,g.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,g.texture,0),x&&(P.clearColor(0,0,0,+!m),P.clear(P.COLOR_BUFFER_BIT)),y){var G=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),y&&this.renderer.setBlendMode(G),P.bindFramebuffer(P.FRAMEBUFFER,null)},copy:function(v,g){var x=this.gl;this.set1i("uMainSampler",0),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,v.texture),x.viewport(0,0,v.width,v.height),this.setUVs(0,0,0,1,1,1,1,0),x.bindFramebuffer(x.FRAMEBUFFER,g.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,g.texture,0),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.quadVertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null)},blendFrames:function(v,g,x,m,y){this.manager.blendFrames(v,g,x,m,y)},blendFramesAdditive:function(v,g,x,m,y){this.manager.blendFramesAdditive(v,g,x,m,y)},drawToGame:function(v){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(v)},copyToGame:function(v){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(v)},bindAndDraw:function(v){var g=this.gl,x=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(v.texture);var m=this._tempMatrix1.loadIdentity(),y=this.targetBounds.x,T=this.targetBounds.y,R=y+v.width,P=T+v.height,D=m.getX(y,T),O=m.getX(y,P),B=m.getX(R,P),G=m.getX(R,T),b=m.getY(y,T),k=m.getY(y,P),$=m.getY(R,P),W=m.getY(R,T),Z=16777215;this.batchVert(D,b,0,0,0,0,Z),this.batchVert(O,k,0,1,0,0,Z),this.batchVert(B,$,1,1,0,0,Z),this.batchVert(D,b,0,0,0,0,Z),this.batchVert(B,$,1,1,0,0,Z),this.batchVert(G,W,1,0,0,0,Z),x.restoreFramebuffer(!1,!0),x.currentFramebuffer||g.viewport(0,0,x.width,x.height),x.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(v){this.drawToGame(v)},setUVs:function(v,g,x,m,y,T,R,P){var D=this.quadVertexViewF32;D[2]=v,D[3]=g,D[9]=x,D[10]=m,D[16]=y,D[17]=T,D[23]=v,D[24]=g,D[30]=y,D[31]=T,D[37]=R,D[38]=P},setTargetUVs:function(v,g){var x=g.height/v.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});p.exports=d},21213:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(77310),r=new h({Extends:l,initialize:function(e){e.topology=5,e.batchSize=c(e,"batchSize",256),l.call(this,e)}});p.exports=r},51212:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(77310),r=t(85060),s=t(18166),e=t(44775),i=new h({Extends:l,initialize:function(n){n.fragShader=c(n,"fragShader",r),n.vertShader=c(n,"vertShader",s),n.forceZero=!0,l.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=i},60848:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2529),c=t(95723),l=t(56694),r=t(65246),s=t(37486),e=t(79060),i=t(72632),o=t(98921),n=t(99365),a=t(44775),f=new l({Extends:a,initialize:function(d){d.renderTarget=i(d,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),d.vertShader=i(d,"vertShader",n),d.shaders=i(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:o},{name:"ColorMatrix",fragShader:s}]),d.attributes=i(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,a.call(this,d),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){a.prototype.boot.call(this);var u=this.shaders,d=this.renderTargets;this.copyShader=u[0],this.addShader=u[1],this.linearShader=u[2],this.colorMatrixShader=u[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(u,d,v,g,x){v===void 0&&(v=1),g===void 0&&(g=!0),x===void 0&&(x=!0);var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,u.texture),d?(m.viewport(0,0,d.width,d.height),m.bindFramebuffer(m.FRAMEBUFFER,d.framebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,d.texture,0)):m.viewport(0,0,u.width,u.height),g&&(x?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT)),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null)},blitFrame:function(u,d,v,g,x,m,y){v===void 0&&(v=1),g===void 0&&(g=!0),x===void 0&&(x=!0),m===void 0&&(m=!1),y===void 0&&(y=!1);var T=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,u.texture),u.height>d.height)T.viewport(0,0,u.width,u.height),this.setTargetUVs(u,d);else{var R=d.height-u.height;T.viewport(0,R,u.width,u.height)}if(T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture,0),g&&(x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),m){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(c.ERASE)}y&&this.flipY(),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),m&&this.renderer.setBlendMode(P),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(u,d,v,g,x,m,y,T){y===void 0&&(y=!0),T===void 0&&(T=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,u.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,u.texture,0),y&&(T?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,d.texture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,v,g,x,m),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(u){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,u.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(u,d,v,g){v===void 0&&(v=!0),g===void 0&&(g=this.colorMatrix);var x=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,u.texture),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture,0)):x.viewport(0,0,u.width,u.height),v?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFrames:function(u,d,v,g,x,m){g===void 0&&(g=1),x===void 0&&(x=!0),m===void 0&&(m=this.linearShader);var y=this.gl;this.setShader(m),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,u.texture),y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,d.texture),v?(y.bindFramebuffer(y.FRAMEBUFFER,v.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,v.texture,0),y.viewport(0,0,v.width,v.height)):y.viewport(0,0,u.width,u.height),x?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFramesAdditive:function(u,d,v,g,x){this.blendFrames(u,d,v,g,x,this.addShader)},clearFrame:function(u,d){d===void 0&&(d=!0);var v=this.gl;v.viewport(0,0,u.width,u.height),v.bindFramebuffer(v.FRAMEBUFFER,u.framebuffer),d?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;v.bindFramebuffer(v.FRAMEBUFFER,g)},setUVs:function(u,d,v,g,x,m,y,T){var R=this.vertexViewF32;R[2]=u,R[3]=d,R[6]=v,R[7]=g,R[10]=x,R[11]=m,R[14]=u,R[15]=d,R[18]=x,R[19]=m,R[22]=y,R[23]=T},setTargetUVs:function(u,d){var v=d.height/u.height;v>.5?v=.5-(v-.5):v=.5+(.5-v),this.setUVs(0,v,0,1+v,1,1+v,1,v)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=f},65641:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};p.exports=S},68726:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},67186:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},22709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},74469:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},93953:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},51687:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},25034:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},18970:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(87751),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(s,e){s=this.getController(s),this.set1f("amount",s.amount,e)}});p.exports=r},2134:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(88222),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(s){s=this.getController(s),this.set1f("strength",s.blurStrength),this.set3fv("color",s.glcolor)},onDraw:function(s){var e=this.getController(),i=this.fullFrame1,o=this.fullFrame2;this.copyFrame(s,o);for(var n=2/s.width*e.offsetX,a=2/s.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",n,0),this.copySprite(s,i),this.set2f("offset",0,a),this.copySprite(i,s);this.blendFrames(o,s,i,e.strength),this.copyToGame(i)}});p.exports=r},63377:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(35491),l=t(75568),r=t(44481),s=t(80486),e=new h({Extends:s,initialize:function(o){s.call(this,{game:o,shaders:[{name:"Gaussian5",fragShader:c},{name:"Gaussian9",fragShader:l},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(i){var o=this.getController(),n=this.gl,a=this.fullFrame1,f=n.getParameter(n.FRAMEBUFFER_BINDING);this.bind(this.activeShader),n.activeTexture(n.TEXTURE0),n.viewport(0,0,i.width,i.height),this.set1i("uMainSampler",0),this.set2f("resolution",i.width,i.height),this.set1f("strength",o.strength),this.set3fv("color",o.glcolor);for(var u=0;u<o.steps;u++)this.set2f("offset",o.x,0),this.copySprite(i,a),this.set2f("offset",0,o.y),this.copySprite(a,i);n.bindFramebuffer(n.FRAMEBUFFER,f),n.bindTexture(n.TEXTURE_2D,null),this.copyToGame(i)}});p.exports=e},49745:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(69960),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(s,e,i,o){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("amount",s.amount,e),this.set1f("contrast",s.contrast,e),this.set1f("strength",s.strength,e),this.set2f("blur",s.blurX,s.blurY,e),this.setBoolean("isTiltShift",s.isTiltShift,e),i&&o&&this.set2f("resolution",i,o,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},4323:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(33754),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(s,e,i,o){s=this.getController(s),this.set1f("scale",s.scale,e),this.set1f("feather",s.feather,e),this.set1f("thickness",s.thickness,e),this.set3fv("color",s.glcolor,e),this.set4fv("backgroundColor",s.glcolor2,e),i&&o&&this.set2f("resolution",i,o,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},92066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(80486),l=new h({Extends:c,initialize:function(s){c.call(this,{game:s})},onDraw:function(r){var s=this.fullFrame1;this.controller?this.manager.drawFrame(r,s,!0,this.controller):this.drawFrame(r,s),this.copyToGame(s)}});p.exports=l},89581:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(35668),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(s){var e=this.game.textures.getFrame(s);e&&(this.glTexture=e.glTexture)},onDraw:function(s){var e=this.getController(),i=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(s,i),this.copyToGame(i)}});p.exports=r},55084:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=t(69675),r=t(80486),s=t(75512),e=new h({Extends:r,initialize:function(o,n){var a=c(n,"quality",.1),f=c(n,"distance",10);r.call(this,{game:o,fragShader:s.setGlowQuality(l,o,a,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(i,o,n,a){i=this.getController(i),this.set1f("outerStrength",i.outerStrength,o),this.set1f("innerStrength",i.innerStrength,o),this.set4fv("glowColor",i.glcolor,o),this.setBoolean("knockout",i.knockout,o),n&&a&&this.set2f("resolution",n,a,o)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});p.exports=e},41653:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(90993),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(s,e){s=this.getController(s),this.set1f("alpha",s.alpha,e),this.set1i("size",s.size,e),this.set3fv("color1",s.glcolor1,e),this.set3fv("color2",s.glcolor2,e),this.set2f("positionFrom",s.fromX,s.fromY,e),this.set2f("positionTo",s.toX,s.toY,e)}});p.exports=r},73416:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(37945),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(s,e,i,o){s=this.getController(s),this.set1f("amount",s.amount,e),i&&o&&this.set2f("resolution",i,o,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},58049:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(85718),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(s,e){s=this.getController(s);var i=s.samples;this.set1i("samples",i,e),this.set1f("intensity",s.intensity,e),this.set1f("decay",s.decay,e),this.set1f("power",s.power/i,e),this.set2f("lightPosition",s.x,s.y,e),this.set4fv("color",s.glcolor,e)}});p.exports=r},18026:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(13740),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(s,e,i,o){s=this.getController(s),this.setTime("time",e),this.set1f("speed",s.speed,e),this.set1f("lineWidth",s.lineWidth,e),this.set1f("gradient",s.gradient,e),this.setBoolean("reveal",s.reveal,e),i&&o&&this.set2f("resolution",i,o,e)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});p.exports=r},72381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(80617),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(s,e){s=this.getController(s),this.set1f("radius",s.radius,e),this.set1f("strength",s.strength,e),this.set2f("position",s.x,s.y,e)}});p.exports=r},80542:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(62879),l=t(80486),r=new h({Extends:l,initialize:function(e){l.call(this,{game:e,fragShader:c}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(s,e){s=this.getController(s);var i=s.progress,o=s.wipeWidth,n=s.direction,a=s.axis;this.set4f("config",i,o,n,a,e),this.setBoolean("reveal",s.reveal,e)}});p.exports=r},58136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};p.exports=h},62253:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65641),c=t(98611),l={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};l=c(!1,l,h),p.exports=l},2529:p=>{p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:p=>{p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:p=>{p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:p=>{p.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:p=>{p.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:p=>{p.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:p=>{p.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:p=>{p.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:p=>{p.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:p=>{p.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:p=>{p.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:p=>{p.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:p=>{p.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:p=>{p.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:p=>{p.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:p=>{p.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:p=>{p.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:p=>{p.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:p=>{p.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:p=>{p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:p=>{p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:p=>{p.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:p=>{p.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:p=>{p.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:p=>{p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:p=>{p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:p=>{p.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:p=>{p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55301),c=t(56694),l=t(6659),r=t(40444),s=t(97081),e=t(74181),i=t(2893),o=t(9229),n=t(72283),a=t(74118),f=t(90881),u=t(84314),d=t(93736),v=t(47751),g=new c({Extends:l,initialize:function(m){l.call(this),this.game=m,this.canvas,this.canvasBounds=new a,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen,this.scaleMode!==h.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(s.PRE_STEP,this.step,this),x.events.once(s.READY,this.refresh,this),x.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var m=x.width,y=x.height,T=x.scaleMode,R=x.zoom,P=x.autoRound;if(typeof m=="string"){var D=this.parentSize.width;D===0&&(D=window.innerWidth);var O=parseInt(m,10)/100;m=Math.floor(D*O)}if(typeof y=="string"){var B=this.parentSize.height;B===0&&(B=window.innerHeight);var G=parseInt(y,10)/100;y=Math.floor(B*G)}this.scaleMode=T,this.autoRound=P,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,P&&(m=Math.floor(m),y=Math.floor(y)),this.gameSize.setSize(m,y),R===h.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,R!==1&&(this._resetZoom=!0),this.baseSize.setSize(m,y),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*R,x.minHeight*R),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*R,x.maxHeight*R),this.displaySize.setSize(m,y),this.orientation=o(m,y)},getParent:function(x){var m=x.parent;if(m!==null){if(this.parent=i(m),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==h.SCALE_MODE.NONE){var y=this.parent.getBoundingClientRect();(this.parentIsWindow||y.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",y=this.parent.getBoundingClientRect(),!this.parentIsWindow&&y.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=i(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,m=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(m.height=e(!0));var y=m.width,T=m.height;if(x.width!==y||x.height!==T)return x.setSize(y,T),!0;if(this.canvas){var R=this.canvasBounds,P=this.canvas.getBoundingClientRect();if(P.x!==R.x||P.y!==R.y)return!0}return!1},lockOrientation:function(x){var m=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return m?m.call(screen,x):!1},setParentSize:function(x,m){return this.parentSize.setSize(x,m),this.refresh()},setGameSize:function(x,m){var y=this.autoRound;y&&(x=Math.floor(x),m=Math.floor(m));var T=this.width,R=this.height;return this.gameSize.resize(x,m),this.baseSize.resize(x,m),y&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/m),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(T,R)},resize:function(x,m){var y=this.zoom,T=this.autoRound;T&&(x=Math.floor(x),m=Math.floor(m));var R=this.width,P=this.height;this.gameSize.resize(x,m),this.baseSize.resize(x,m),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*y,m*y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,O=x*y,B=m*y;return T&&(O=Math.floor(O),B=Math.floor(B)),(O!==x||B!==m)&&(D.width=O+"px",D.height=B+"px"),this.refresh(R,P)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(x,m){x===void 0&&(x=this.width),m===void 0&&(m=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var y=this.game.domContainer;if(y){this.baseSize.setCSS(y);var T=this.canvas.style,R=y.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=T.marginLeft,R.marginTop=T.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,m),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=o(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,m=this.gameSize.width,y=this.gameSize.height,T,R,P=this.zoom,D=this.autoRound;this.scaleMode===h.SCALE_MODE.NONE?(this.displaySize.setSize(m*P,y*P),T=this.displaySize.width,R=this.displaySize.height,D&&(T=Math.floor(T),R=Math.floor(R)),this._resetZoom&&(x.width=T+"px",x.height=R+"px",this._resetZoom=!1)):this.scaleMode===h.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),T=this.displaySize.width,R=this.displaySize.height,D&&(T=Math.floor(T),R=Math.floor(R)),this.canvas.width=T,this.canvas.height=R):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),T=this.displaySize.width,R=this.displaySize.height,D&&(T=Math.floor(T),R=Math.floor(R)),x.width=T+"px",x.height=R+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=u(this.parentSize.width,this.gameSize.width,0,!0),m=u(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,m),1)},updateCenter:function(){var x=this.autoCenter;if(x!==h.CENTER.NO_CENTER){var m=this.canvas,y=m.style,T=m.getBoundingClientRect(),R=T.width,P=T.height,D=Math.floor((this.parentSize.width-R)/2),O=Math.floor((this.parentSize.height-P)/2);x===h.CENTER.CENTER_HORIZONTALLY?O=0:x===h.CENTER.CENTER_VERTICALLY&&(D=0),y.marginLeft=D+"px",y.marginTop=O+"px"}},updateBounds:function(){var x=this.canvasBounds,m=this.canvas.getBoundingClientRect();x.x=m.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=m.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=m.width,x.height=m.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var m=this.fullscreen;if(!m.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!m.active){var y=this.getFullscreenTarget();m.keyboard?y[m.request](Element.ALLOW_KEYBOARD_INPUT):y[m.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var m=this.canvas.parentNode;m.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var m=x.parentNode;m.insertBefore(this.canvas,x),m.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,m=this.domlisteners;if(m.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0},m.windowResize=function(){x.updateBounds(),x.dirty=!0},window.addEventListener("orientationchange",m.orientationChange,!1),window.addEventListener("resize",m.windowResize,!1),this.fullscreen.available){m.fullScreenChange=function(T){return x.onFullScreenChange(T)},m.fullScreenError=function(T){return x.onFullScreenError(T)};var y=["webkit","moz",""];y.forEach(function(T){document.addEventListener(T+"fullscreenchange",m.fullScreenChange,!1),document.addEventListener(T+"fullscreenerror",m.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",m.fullScreenChange,!1),document.addEventListener("MSFullscreenError",m.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,m){x instanceof v||(m=x,x=void 0),m===void 0&&(m=new a);var y=this.baseSize,T=this.parentSize,R=this.canvasBounds,P=this.displayScale,D=R.x>=0?0:-(R.x*P.x),O=R.y>=0?0:-(R.y*P.y),B;T.width>=R.width?B=y.width:B=y.width-(R.width-T.width)*P.x;var G;return T.height>=R.height?G=y.height:G=y.height-(R.height-T.height)*P.y,m.setTo(D,O,B,G),x&&(m.width/=x.zoomX,m.height/=x.zoomY,m.centerX=x.centerX+x.scrollX,m.centerY=x.centerY+x.scrollY),m},step:function(x,m){this.parent&&(this._lastCheck+=m,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var m=["webkit","moz",""];m.forEach(function(y){document.removeEventListener(y+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(y+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=g},35098:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};p.exports=h},82085:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},11826:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},56691:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},34739:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},26681:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},11428:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},40444:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),c=t(55301),l={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};l=h(!1,l,c.CENTER),l=h(!1,l,c.ORIENTATION),l=h(!1,l,c.SCALE_MODE),l=h(!1,l,c.ZOOM),p.exports=l},47736:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c=t(40587),l=function(r){var s=r.game.config.defaultPhysicsSystem,e=h(r.settings,"physics",!1);if(!(!s&&!e)){var i=[];if(s&&i.push(c(s+"Physics")),e)for(var o in e)o=c(o.concat("Physics")),i.indexOf(o)===-1&&i.push(o);return i}};p.exports=l},91088:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c=function(l){var r=l.plugins.getDefaultScenePlugins(),s=h(l.settings,"plugins",!1);return Array.isArray(s)?s:r||[]};p.exports=c},90415:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=S},87157:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(63946),l=new h({initialize:function(s){this.sys=new c(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=l},13553:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(92980),l=t(7599),r=t(97081),s=t(10850),e=t(683),i=t(72283),o=t(87157),n=t(63946),a=new h({initialize:function(u,d){if(this.game=u,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)this._pending.push({key:"default",scene:d[v],autoStart:v===0,data:{}})}u.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new o);var f,u,d,v;for(f=0;f<this._pending.length;f++){u=this._pending[f],d=u.key,v=u.scene;var g;v instanceof o?g=this.createSceneFromInstance(d,v):typeof v=="object"?g=this.createSceneFromObject(d,v):typeof v=="function"&&(g=this.createSceneFromFunction(d,v)),d=g.sys.settings.key,this.keys[d]=g,this.scenes.push(g),this._data[d]&&(g.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(u.autoStart=!0)),(u.autoStart||g.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)u=this._start[f],this.start(u);this._start.length=0}},processQueue:function(){var f=this._pending.length,u=this._queue.length;if(!(f===0&&u===0)){var d,v;if(f){for(d=0;d<f;d++)v=this._pending[d],this.add(v.key,v.scene,v.autoStart,v.data);for(d=0;d<this._start.length;d++)v=this._start[d],this.start(v);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)v=this._queue[d],this[v.op](v.keyA,v.keyB);this._queue.length=0}},add:function(f,u,d,v){if(d===void 0&&(d=!1),v===void 0&&(v={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:u,autoStart:d,data:v}),this.isBooted||(this._data[f]={data:v}),null;f=this.getKey(f,u);var g;return u instanceof o?g=this.createSceneFromInstance(f,u):typeof u=="object"?(u.key=f,g=this.createSceneFromObject(f,u)):typeof u=="function"&&(g=this.createSceneFromFunction(f,u)),g.sys.settings.data=v,f=g.sys.settings.key,this.keys[f]=g,this.scenes.push(g),(d||g.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),g},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var u=this.getScene(f);if(!u||u.sys.isTransitioning())return this;var d=this.scenes.indexOf(u),v=u.sys.settings.key;d>-1&&(delete this.keys[v],this.scenes.splice(d,1),this._start.indexOf(v)>-1&&(d=this._start.indexOf(v),this._start.splice(d,1)),u.sys.destroy())}return this},bootScene:function(f){var u=f.sys,d=u.settings;u.sceneUpdate=i,f.init&&(f.init.call(f,d.data),d.status=c.INIT,d.isTransition&&u.events.emit(l.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var v;u.load&&(v=u.load,v.reset()),v&&f.preload?(f.preload.call(f),d.status=c.LOADING,v.once(e.COMPLETE,this.loadComplete,this),v.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,u){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var v=this.scenes[d].sys;v.settings.status>c.START&&v.settings.status<=c.RUNNING&&v.step(f,u),v.scenePlugin._target&&v.scenePlugin.step(f,u)}},render:function(f){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.settings.visible&&d.settings.status>=c.LOADING&&d.settings.status<c.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var u=f.sys,d=u.settings;f.create&&(d.status=c.CREATING,f.create.call(f,d.data),d.status===c.DESTROYED)||(d.isTransition&&u.events.emit(l.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(u.sceneUpdate=f.update),d.status=c.RUNNING,u.events.emit(l.CREATE,f))},createSceneFromFunction:function(f,u){var d=new u;if(d instanceof o){var v=d.sys.settings.key;if(v!==""&&(f=v),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new n(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,u){var d=u.sys.settings.key;return d===""&&(u.sys.settings.key=f),u.sys.init(this.game),u},createSceneFromObject:function(f,u){var d=new o(u),v=d.sys.settings.key;v!==""?f=v:d.sys.settings.key=f,d.sys.init(this.game);for(var g=["init","preload","create","update","render"],x=0;x<g.length;x++){var m=s(u,g[x],null);m&&(d[g[x]]=m)}if(u.hasOwnProperty("extend")){for(var y in u.extend)if(u.extend.hasOwnProperty(y)){var T=u.extend[y];y==="data"&&d.hasOwnProperty("data")&&typeof T=="object"?d.data.merge(T):y!=="sys"&&(d[y]=T)}}return d},getKey:function(f,u){if(f||(f="default"),typeof u=="function")return f;if(u instanceof o?f=u.sys.settings.key:typeof u=="object"&&u.hasOwnProperty("key")&&(f=u.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,u){f===void 0&&(f=!0),u===void 0&&(u=!1);for(var d=[],v=this.scenes,g=0;g<v.length;g++){var x=v[g];x&&(!f||f&&x.sys.isActive())&&d.push(x)}return u?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var u=0;u<this.scenes.length;u++)if(f===this.scenes[u])return f;return null},isActive:function(f){var u=this.getScene(f);return u?u.sys.isActive():null},isPaused:function(f){var u=this.getScene(f);return u?u.sys.isPaused():null},isVisible:function(f){var u=this.getScene(f);return u?u.sys.isVisible():null},isSleeping:function(f){var u=this.getScene(f);return u?u.sys.isSleeping():null},pause:function(f,u){var d=this.getScene(f);return d&&d.sys.pause(u),this},resume:function(f,u){var d=this.getScene(f);return d&&d.sys.resume(u),this},sleep:function(f,u){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(u),this},wake:function(f,u){var d=this.getScene(f);return d&&d.sys.wake(u),this},run:function(f,u){var d=this.getScene(f);if(!d){for(var v=0;v<this._pending.length;v++)if(this._pending[v].key===f){this.queueOp("start",f,u);break}return this}d.sys.isSleeping()?d.sys.wake(u):d.sys.isPaused()?d.sys.resume(u):this.start(f,u)},start:function(f,u){if(!this.isBooted)return this._data[f]={autoStart:!0,data:u},this;var d=this.getScene(f);if(!d)return console.warn("Scene not found for key: "+f),this;var v=d.sys,g=v.settings.status;if(g>=c.START&&g<=c.CREATING)return this;if(g>=c.RUNNING&&g<=c.SLEEPING)v.shutdown(),v.sceneUpdate=i,v.start(u);else{v.sceneUpdate=i,v.start(u);var x;if(v.load&&(x=v.load),x&&v.settings.hasOwnProperty("pack")&&(x.reset(),x.addPack({payload:v.settings.pack})))return v.settings.status=c.LOADING,x.once(e.COMPLETE,this.payloadComplete,this),x.start(),this}return this.bootScene(d),this},stop:function(f,u){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==c.SHUTDOWN){var v=d.sys.load;v&&(v.off(e.COMPLETE,this.loadComplete,this),v.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(u)}return this},switch:function(f,u){var d=this.getScene(f),v=this.getScene(u);return d&&v&&d!==v&&(this.sleep(f),this.isSleeping(u)?this.wake(u):this.start(u)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var u=this.getScene(f);return this.scenes.indexOf(u)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u<this.scenes.length){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.push(d)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u!==-1&&u>0){var d=this.getScene(f);this.scenes.splice(u,1),this.scenes.unshift(d)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u>0){var d=u-1,v=this.getScene(f),g=this.getAt(d);this.scenes[u]=g,this.scenes[d]=v}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var u=this.getIndex(f);if(u<this.scenes.length-1){var d=u+1,v=this.getScene(f),g=this.getAt(d);this.scenes[u]=g,this.scenes[d]=v}}return this},moveAbove:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:u});else{var d=this.getIndex(f),v=this.getIndex(u);if(d!==-1&&v!==-1&&v<d){var g=this.getAt(v);this.scenes.splice(v,1),this.scenes.splice(d+(v>d),0,g)}}return this},moveBelow:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:u});else{var d=this.getIndex(f),v=this.getIndex(u);if(d!==-1&&v!==-1&&v>d){var g=this.getAt(v);this.scenes.splice(v,1),d===0?this.scenes.unshift(g):this.scenes.splice(d-(v<d),0,g)}}return this},queueOp:function(f,u,d){return this._queue.push({op:f,keyA:u,keyB:d}),this},swapPosition:function(f,u){if(f===u)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:u});else{var d=this.getIndex(f),v=this.getIndex(u);if(d!==v&&d!==-1&&v!==-1){var g=this.getAt(d);this.scenes[d]=this.scenes[v],this.scenes[v]=g}}return this},dump:function(){for(var f=[],u=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys,g=v.settings.visible&&(v.settings.status===c.RUNNING||v.settings.status===c.PAUSED)?"[*] ":"[-] ";g+=v.settings.key+" ("+u[v.settings.status]+")",f.push(g)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var u=this.scenes[f].sys;u.destroy()}this.systemScene.sys.destroy(),this.update=i,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});p.exports=a},64051:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(7599),r=t(72632),s=t(91963),e=new c({initialize:function(o){this.scene=o,this.systems=o.sys,this.settings=o.sys.settings,this.key=o.sys.settings.key,this.manager=o.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,o.sys.events.once(l.BOOT,this.boot,this),o.sys.events.on(l.START,this.pluginStart,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(l.SHUTDOWN,this.shutdown,this)},start:function(i,o){return i===void 0&&(i=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",i,o),this},restart:function(i){var o=this.key;return this.manager.queueOp("stop",o),this.manager.queueOp("start",o,i),this},transition:function(i){i===void 0&&(i={});var o=r(i,"target",!1),n=this.manager.getScene(o);if(!o||!this.checkValidTransition(n))return!1;var a=r(i,"duration",1e3);this._elapsed=0,this._target=n,this._duration=a,this._willSleep=r(i,"sleep",!1),this._willRemove=r(i,"remove",!1);var f=r(i,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=r(i,"onUpdateScope",this.scene));var u=r(i,"allowInput",!1);this.settings.transitionAllowInput=u;var d=n.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=a,d.transitionAllowInput=u,r(i,"moveAbove",!1)?this.manager.moveAbove(this.key,o):r(i,"moveBelow",!1)&&this.manager.moveBelow(this.key,o),n.sys.isSleeping()?n.sys.wake(r(i,"data")):this.manager.start(o,r(i,"data"));var v=r(i,"onStart",null),g=r(i,"onStartScope",this.scene);return v&&v.call(g,this.scene,n,a),this.systems.events.emit(l.TRANSITION_OUT,n,a),!0},checkValidTransition:function(i){return!(!i||i.sys.isActive()||i.sys.isTransitioning()||i===this.scene||this.systems.isTransitioning())},step:function(i,o){this._elapsed+=o,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var i=this._target.sys,o=this._target.sys.settings;i.events.emit(l.TRANSITION_COMPLETE,this.scene),o.isTransition=!1,o.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(i,o,n,a){return this.manager.add(i,o,n,a)},launch:function(i,o){return i&&i!==this.key&&this.manager.queueOp("start",i,o),this},run:function(i,o){return i&&i!==this.key&&this.manager.queueOp("run",i,o),this},pause:function(i,o){return i===void 0&&(i=this.key),this.manager.queueOp("pause",i,o),this},resume:function(i,o){return i===void 0&&(i=this.key),this.manager.queueOp("resume",i,o),this},sleep:function(i,o){return i===void 0&&(i=this.key),this.manager.queueOp("sleep",i,o),this},wake:function(i,o){return i===void 0&&(i=this.key),this.manager.queueOp("wake",i,o),this},switch:function(i){return i!==this.key&&this.manager.queueOp("switch",this.key,i),this},stop:function(i,o){return i===void 0&&(i=this.key),this.manager.queueOp("stop",i,o),this},setActive:function(i,o,n){o===void 0&&(o=this.key);var a=this.manager.getScene(o);return a&&a.sys.setActive(i,n),this},setVisible:function(i,o){o===void 0&&(o=this.key);var n=this.manager.getScene(o);return n&&n.sys.setVisible(i),this},isSleeping:function(i){return i===void 0&&(i=this.key),this.manager.isSleeping(i)},isActive:function(i){return i===void 0&&(i=this.key),this.manager.isActive(i)},isPaused:function(i){return i===void 0&&(i=this.key),this.manager.isPaused(i)},isVisible:function(i){return i===void 0&&(i=this.key),this.manager.isVisible(i)},swapPosition:function(i,o){return o===void 0&&(o=this.key),i!==o&&this.manager.swapPosition(i,o),this},moveAbove:function(i,o){return o===void 0&&(o=this.key),i!==o&&this.manager.moveAbove(i,o),this},moveBelow:function(i,o){return o===void 0&&(o=this.key),i!==o&&this.manager.moveBelow(i,o),this},remove:function(i){return i===void 0&&(i=this.key),this.manager.remove(i),this},moveUp:function(i){return i===void 0&&(i=this.key),this.manager.moveUp(i),this},moveDown:function(i){return i===void 0&&(i=this.key),this.manager.moveDown(i),this},bringToTop:function(i){return i===void 0&&(i=this.key),this.manager.bringToTop(i),this},sendToBack:function(i){return i===void 0&&(i=this.key),this.manager.sendToBack(i),this},get:function(i){return this.manager.getScene(i)},getStatus:function(i){var o=this.manager.getScene(i);if(o)return o.sys.getStatus()},getIndex:function(i){return i===void 0&&(i=this.key),this.manager.getIndex(i)},shutdown:function(){var i=this.systems.events;i.off(l.SHUTDOWN,this.shutdown,this),i.off(l.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",e,"scenePlugin"),p.exports=e},36765:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92980),c=t(10850),l=t(30657),r=t(90415),s={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:h.PENDING,key:c(e,"key",""),active:c(e,"active",!1),visible:c(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:c(e,"pack",!1),cameras:c(e,"cameras",null),map:c(e,"map",l(r,c(e,"mapAdd",{}))),physics:c(e,"physics",{}),loader:c(e,"loader",{}),plugins:c(e,"plugins",!1),input:c(e,"input",{})}}};p.exports=s},63946:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(92980),l=t(18360),r=t(7599),s=t(47736),e=t(91088),i=t(72283),o=t(36765),n=new h({initialize:function(f,u){this.scene=f,this.game,this.renderer,this.config=u,this.settings=o.create(u),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=i},init:function(a){this.settings.status=c.INIT,this.sceneUpdate=i,this.game=a,this.renderer=a.renderer,this.canvas=a.canvas,this.context=a.context;var f=a.plugins;this.plugins=f,f.addToScene(this,l.Global,[l.CoreScene,e(this),s(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(a,f){var u=this.events;u.emit(r.PRE_UPDATE,a,f),u.emit(r.UPDATE,a,f),this.sceneUpdate.call(this.scene,a,f),u.emit(r.POST_UPDATE,a,f)},render:function(a){var f=this.displayList;f.depthSort(),this.events.emit(r.PRE_RENDER,a),this.cameras.render(a,f),this.events.emit(r.RENDER,a)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(a){var f=this.settings,u=this.getStatus();return u!==c.CREATING&&u!==c.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=c.PAUSED,f.active=!1,this.events.emit(r.PAUSE,this,a)),this},resume:function(a){var f=this.events,u=this.settings;return this.settings.active||(u.status=c.RUNNING,u.active=!0,f.emit(r.RESUME,this,a)),this},sleep:function(a){var f=this.settings,u=this.getStatus();return u!==c.CREATING&&u!==c.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=c.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(r.SLEEP,this,a)),this},wake:function(a){var f=this.events,u=this.settings;return u.status=c.RUNNING,u.active=!0,u.visible=!0,f.emit(r.WAKE,this,a),u.isTransition&&f.emit(r.TRANSITION_WAKE,u.transitionFrom,u.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var a=this.settings.status;return a>c.PENDING&&a<=c.RUNNING},isSleeping:function(){return this.settings.status===c.SLEEPING},isActive:function(){return this.settings.status===c.RUNNING},isPaused:function(){return this.settings.status===c.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(a){return this.settings.visible=a,this},setActive:function(a,f){return a?this.resume(f):this.pause(f)},start:function(a){var f=this.events,u=this.settings;a&&(u.data=a),u.status=c.START,u.active=!0,u.visible=!0,f.emit(r.START,this),f.emit(r.READY,this,a)},shutdown:function(a){var f=this.events,u=this.settings;f.off(r.TRANSITION_INIT),f.off(r.TRANSITION_START),f.off(r.TRANSITION_COMPLETE),f.off(r.TRANSITION_OUT),u.status=c.SHUTDOWN,u.active=!1,u.visible=!1,f.emit(r.SHUTDOWN,this,a)},destroy:function(){var a=this.events,f=this.settings;f.status=c.DESTROYED,f.active=!1,f.visible=!1,a.emit(r.DESTROY,this),a.removeAllListeners();for(var u=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<u.length;d++)this[u[d]]=null}});p.exports=n},92980:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=S},31803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},94817:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},28977:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},91959:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},363:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},15643:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},17058:p=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},77125:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},76018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},28620:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},41538:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},34268:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},2342:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},96541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},74244:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},17046:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},13637:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},14733:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},33899:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},52418:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},31735:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},8470:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},7599:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92980),c=t(98611),l={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};l=c(!1,l,h),p.exports=l},25798:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(6659),l=t(76038),r=t(98611),s=t(72283),e=new h({Extends:c,initialize:function(o,n,a){c.call(this),this.manager=o,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,a),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(console.error("addMarker "+i.name+" already exists in Sound"),!1):(i=r(!0,{name:"",start:0,duration:this.totalDuration-(i.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},i),this.markers[i.name]=i,!0)},updateMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(this.markers[i.name]=r(!0,this.markers[i.name],i),!0):(console.warn("Audio Marker: "+i.name+" missing in Sound: "+this.key),!1)},removeMarker:function(i){var o=this.markers[i];return o?(this.markers[i]=null,o):null},play:function(i,o){if(i===void 0&&(i=""),typeof i=="object"&&(o=i,i=""),typeof i!="string")return!1;if(!i)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[i])return console.warn("Marker: "+i+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[i],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,o),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var i=1.0005777895065548,o=this.currentConfig.detune+this.manager.detune,n=Math.pow(i,o);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.emit(l.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=e},12486:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(32742),l=t(6659),r=t(76038),s=t(97081),e=t(71608),i=t(51463),o=t(72283),n=t(93736),a=new h({Extends:l,initialize:function(u){l.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new n,u.events.on(s.BLUR,this.onGameBlur,this),u.events.on(s.FOCUS,this.onGameFocus,this),u.events.on(s.PRE_STEP,this.update,this),u.events.once(s.DESTROY,this.destroy,this)},add:o,addAudioSprite:function(f,u){u===void 0&&(u={});var d=this.add(f,u);d.spritemap=this.jsonCache.get(f).spritemap;for(var v in d.spritemap)if(d.spritemap.hasOwnProperty(v)){var g=c(u),x=d.spritemap[v];g.loop=x.hasOwnProperty("loop")?x.loop:!1,d.addMarker({name:v,start:x.start,duration:x.end-x.start,config:g})}return d},get:function(f){return i(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,u){var d=this.add(f);return d.once(r.COMPLETE,d.destroy,d),u?u.name?(d.addMarker(u),d.play(u.name)):d.play(u):d.play()},playAudioSprite:function(f,u,d){var v=this.addAudioSprite(f);return v.once(r.COMPLETE,v.destroy,v),v.play(u,d)},remove:function(f){var u=this.sounds.indexOf(f);return u!==-1?(f.destroy(),this.sounds.splice(u,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var u=0,d=this.sounds.length-1;d>=0;d--){var v=this.sounds[d];v.key===f&&(v.destroy(),this.sounds.splice(d,1),u++)}return u},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:o,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(f){var u=0;return this.getAll(f).forEach(function(d){d.stop()&&u++}),u},unlock:o,onBlur:o,onFocus:o,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,u){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(v){v.update(f,u)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,u){var d=this;this.sounds.forEach(function(v,g){v&&!v.pendingRemove&&f.call(u||d,v,g,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(r.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,f)}}});p.exports=a},84191:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27622),c=t(17546),l=t(55491),r={create:function(s){var e=s.config.audio,i=s.device.audio;return e.noAudio||!i.webAudio&&!i.audioData?new c(s):i.webAudio&&!e.disableWebAudio?new l(s):new h(s)}};p.exports=r},77578:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},19679:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},56951:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},16436:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},55154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57818:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},57890:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},83022:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},99170:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},64289:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},67214:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},53128:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},73078:p=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},76763:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},88426:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},13765:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},80291:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},11124:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},55382:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},71157:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},31776:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},39450:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},21939:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},33019:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},76038:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25798),c=t(56694),l=t(76038),r=t(82897),s=new c({Extends:h,initialize:function(i,o,n){if(n===void 0&&(n={}),this.tags=i.game.cache.audio.get(o),!this.tags)throw new Error('No cached audio asset with key "'+o);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,i,o,n)},play:function(e,i){return this.manager.isLocked(this,"play",[e,i])||!h.prototype.play.call(this,e,i)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(l.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,i=this.currentConfig.delay,o=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=o,this.audio.currentTime=o,this.applyConfig(),i===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+i*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var i=this.tags[e];if(i.dataset.used==="false")return i.dataset.used="true",this.audio=i,!0}if(!this.manager.override)return!1;var o=[];this.manager.forEachActiveSound(function(a){a.key===this.key&&a.audio&&o.push(a)},this),o.sort(function(a,f){return a.loop===f.loop?f.seek/f.duration-a.seek/a.duration:a.loop?1:-1});var n=o[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(i){console.warn(i)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var i=this.currentMarker?this.currentMarker.start:0,o=i+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=o-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,n-o),n=this.audio.currentTime):n<i&&(this.audio.currentTime+=i,n=this.audio.currentTime),n<this.previousTime&&this.emit(l.LOOPED,this);else if(n>=o){this.reset(),this.stopAndReleaseAudioTag(),this.emit(l.COMPLETE,this);return}this.previousTime=n}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(l.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(l.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,l.RATE,e)&&(this.calculateRate(),this.emit(l.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,l.DETUNE,e)&&(this.calculateRate(),this.emit(l.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(l.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(l.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(l.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=s},27622:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12486),c=t(56694),l=t(76038),r=t(34350),s=new c({Extends:h,initialize:function(i){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,i)},add:function(e,i){var o=new r(this,e,i);return this.sounds.push(o),o},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(a,f){for(var u=0;u<f.length;u++)if(f[u].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var i=!1,o=function(){i=!0},n=function(){if(i){i=!1;return}document.body.removeEventListener("touchmove",o),document.body.removeEventListener("touchend",n);var a=[];if(e.game.cache.audio.entries.each(function(u,d){for(var v=0;v<d.length;v++){var g=d[v];g.dataset.locked==="true"&&a.push(g)}return!0}),a.length!==0){var f=a[a.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,a.forEach(function(u){u.dataset.locked="false"}),e.unlocked=!0},a.forEach(function(u){u.load()})}};this.once(l.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var a=this.lockedActionsQueue.shift();a.sound[a.prop].apply?a.sound[a.prop].apply(a.sound,a.value||[]):a.sound[a.prop]=a.value}},this),document.body.addEventListener("touchmove",o,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,i,o){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:i,value:o}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(i){i.updateMute()}),this.emit(l.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(i){i.updateVolume()}),this.emit(l.GLOBAL_VOLUME,this,e)}}});p.exports=s},56751:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25798),c=t(56694),l=t(6659),r=t(98611),s=t(72283),e=function(){return!1},i=function(){return null},o=function(){return this},n=new c({Extends:l,initialize:function(f,u,d){d===void 0&&(d={}),l.call(this),this.manager=f,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:i,play:e,pause:e,resume:e,stop:e,setMute:o,setVolume:o,setRate:o,setDetune:o,setSeek:o,setLoop:o,setPan:o,applyConfig:i,resetConfig:i,update:s,calculateRate:i,destroy:function(){h.prototype.destroy.call(this)}});p.exports=n},17546:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12486),c=t(56694),l=t(6659),r=t(38662),s=t(72283),e=new c({Extends:l,initialize:function(o){l.call(this),this.game=o,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(i,o){var n=new r(this,i,o);return this.sounds.push(n),n},addAudioSprite:function(i,o){var n=this.add(i,o);return n.spritemap={},n},get:function(i){return h.prototype.get.call(this,i)},getAll:function(i){return h.prototype.getAll.call(this,i)},play:function(i,o){return!1},playAudioSprite:function(i,o,n){return!1},remove:function(i){return h.prototype.remove.call(this,i)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(i){return h.prototype.removeByKey.call(this,i)},stopByKey:function(i){return h.prototype.stopByKey.call(this,i)},onBlur:s,onFocus:s,onGameBlur:s,onGameFocus:s,pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,unlock:s,forEachActiveSound:function(i,o){h.prototype.forEachActiveSound.call(this,i,o)},destroy:function(){h.prototype.destroy.call(this)}});p.exports=e},96008:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25798),c=t(56694),l=t(76038),r=t(72632),s=new c({Extends:h,initialize:function(i,o,n){if(n===void 0&&(n={}),this.audioBuffer=i.game.cache.audio.get(o),!this.audioBuffer)throw new Error('Audio key "'+o+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=i.context.createGain(),this.volumeNode=i.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),i.context.createPanner&&(this.spatialNode=i.context.createPanner(),this.volumeNode.connect(this.spatialNode)),i.context.createStereoPanner?(this.pannerNode=i.context.createStereoPanner(),i.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(i.destination)):i.context.createPanner?this.spatialNode.connect(i.destination):this.volumeNode.connect(i.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,i,o,n)},play:function(e,i){return h.prototype.play.call(this,e,i)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(l.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(l.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(l.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,i=this.currentConfig.delay,o=this.manager.context.currentTime+i,n=(this.currentMarker?this.currentMarker.start:0)+e,a=this.duration-e;this.playTime=o-e,this.startTime=o,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,o),Math.max(0,n),Math.max(0,a)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),i=this.currentMarker?this.currentMarker.start:0,o=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,i),Math.max(0,o))},createBufferSource:function(){var e=this,i=this.manager.context.createBufferSource();return i.buffer=this.audioBuffer,i.connect(this.muteNode),i.onended=function(o){o.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},i},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var i=this.spatialNode;i.panningModel=r(e,"panningModel","equalpower"),i.distanceModel=r(e,"distanceModel","inverse"),i.orientationX.value=r(e,"orientationX",0),i.orientationY.value=r(e,"orientationY",0),i.orientationZ.value=r(e,"orientationZ",-1),i.refDistance=r(e,"refDistance",1),i.maxDistance=r(e,"maxDistance",1e4),i.rolloffFactor=r(e,"rolloffFactor",1),i.coneInnerAngle=r(e,"coneInnerAngle",360),i.coneOuterAngle=r(e,"coneOuterAngle",0),i.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(i.positionX.value=r(e,"x",0),i.positionY.value=r(e,"y",0),i.positionZ.value=r(e,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),i=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),i&&i!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=i)}this.hasEnded?(this.hasEnded=!1,h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(l.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(l.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,i=0;i<this.rateUpdates.length;i++){var o=0;i<this.rateUpdates.length-1?o=this.rateUpdates[i+1].time:o=this.manager.context.currentTime-this.playTime,e+=(o-this.rateUpdates[i].time)*this.rateUpdates[i].rate}return e},getLoopTime:function(){for(var e=0,i=0;i<this.rateUpdates.length-1;i++)e+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var o=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+o.time+(this.duration-e)/o.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(l.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(l.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(l.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(l.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(l.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(l.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(l.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});p.exports=s},55491:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82329),c=t(12486),l=t(56694),r=t(76038),s=t(97081),e=t(96008),i=t(72632),o=new l({Extends:c,initialize:function(a){this.context=this.createAudioContext(a),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),c.call(this,a),this.locked&&a.isBooted?this.unlock():a.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(n){var a=n.config.audio;if(a.context)return a.context.resume(),a.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(n){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=n,this.masterMuteNode=n.createGain(),this.masterVolumeNode=n.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(n.destination),this.destination=this.masterMuteNode,this},add:function(n,a){var f=new e(this,n,a);return this.sounds.push(f),f},decodeAudio:function(n,a){var f;Array.isArray(n)?f=n:f=[{key:n,data:a}];for(var u=this.game.cache.audio,d=f.length,v=0;v<f.length;v++){var g=f[v],x=g.key,m=g.data;typeof m=="string"&&(m=h(m));var y=function(R,P){u.add(R,P),this.emit(r.DECODED,R),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,x),T=function(R,P){console.error("Error decoding audio: "+R+" - ",P?P.message:""),d--,d===0&&this.emit(r.DECODED_ALL)}.bind(this,x);this.context.decodeAudioData(m,y,T)}},setListenerPosition:function(n,a){return n===void 0&&(n=this.game.scale.width/2),a===void 0&&(a=this.game.scale.height/2),this.listenerPosition.set(n,a),this},unlock:function(){var n=this,a=document.body,f=function u(){if(n.context&&a){var d=a.removeEventListener;n.context.resume().then(function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u),n.unlocked=!0},function(){d("touchstart",u),d("touchend",u),d("click",u),d("keydown",u)})}};a&&(a.addEventListener("touchstart",f,!1),a.addEventListener("touchend",f,!1),a.addEventListener("click",f,!1),a.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var n=this.context;n&&!this.locked&&(n.state==="suspended"||n.state==="interrupted")&&n.resume()},update:function(n,a){var f=this.context.listener;if(f&&f.positionX!==void 0){var u=i(this.listenerPosition,"x",null),d=i(this.listenerPosition,"y",null);u&&u!==this._spatialx&&(this._spatialx=f.positionX.value=u),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d)}c.prototype.update.call(this,n,a),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var n=this;this.context.close().then(function(){n.context=null})}c.prototype.destroy.call(this)},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(n){this.masterMuteNode.gain.setValueAtTime(n?0:1,0),this.emit(r.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(n){this.masterVolumeNode.gain.setValueAtTime(n,0),this.emit(r.GLOBAL_VOLUME,this,n)}}});p.exports=o},71207:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59959),c=t(56694),l=t(72283),r=t(17922),s=new c({initialize:function(i){this.parent=i,this.list=[],this.position=0,this.addCallback=l,this.removeCallback=l,this._sortKey=""},add:function(e,i){return i?h.Add(this.list,e):h.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,i,o){return o?h.AddAt(this.list,e,i):h.AddAt(this.list,e,i,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,i){return e?(i===void 0&&(i=function(o,n){return o[e]-n[e]}),r(this.list,i),this):this},getByName:function(e){return h.GetFirst(this.list,"name",e)},getRandom:function(e,i){return h.GetRandom(this.list,e,i)},getFirst:function(e,i,o,n){return h.GetFirst(this.list,e,i,o,n)},getAll:function(e,i,o,n){return h.GetAll(this.list,e,i,o,n)},count:function(e,i){return h.CountAllMatching(this.list,e,i)},swap:function(e,i){h.Swap(this.list,e,i)},moveTo:function(e,i){return h.MoveTo(this.list,e,i)},moveAbove:function(e,i){return h.MoveAbove(this.list,e,i)},moveBelow:function(e,i){return h.MoveBelow(this.list,e,i)},remove:function(e,i){return i?h.Remove(this.list,e):h.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,i){return i?h.RemoveAt(this.list,e):h.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,i,o){return o?h.RemoveBetween(this.list,e,i):h.RemoveBetween(this.list,e,i,this.removeCallback,this)},removeAll:function(e){for(var i=this.list.length;i--;)this.remove(this.list[i],e);return this},bringToTop:function(e){return h.BringToTop(this.list,e)},sendToBack:function(e){return h.SendToBack(this.list,e)},moveUp:function(e){return h.MoveUp(this.list,e),e},moveDown:function(e){return h.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(e,i){return h.Replace(this.list,e,i)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,i,o,n){return h.SetAll(this.list,e,i,o,n),this},each:function(e,i){for(var o=[null],n=2;n<arguments.length;n++)o.push(arguments[n]);for(n=0;n<this.list.length;n++)o[0]=this.list[n],e.apply(i,o)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=s},33885:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r){if(this.entries={},this.size=0,Array.isArray(r))for(var s=0;s<r.length;s++)this.set(r[s][0],r[s][1])},set:function(l,r){return this.has(l)||this.size++,this.entries[l]=r,this},get:function(l){if(this.has(l))return this.entries[l]},getArray:function(){var l=[],r=this.entries;for(var s in r)l.push(r[s]);return l},has:function(l){return this.entries.hasOwnProperty(l)},delete:function(l){return this.has(l)&&(delete this.entries[l],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(l){delete this.entries[l]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var l=[],r=this.entries;for(var s in r)l.push(r[s]);return l},dump:function(){var l=this.entries;console.group("Map");for(var r in l)console.log(r,l[r]);console.groupEnd()},each:function(l){var r=this.entries;for(var s in r)if(l(s,r[s])===!1)break;return this},contains:function(l){var r=this.entries;for(var s in r)if(r[s]===l)return!0;return!1},merge:function(l,r){r===void 0&&(r=!1);var s=this.entries,e=l.entries;for(var i in e)s.hasOwnProperty(i)&&r?s[i]=e[i]:this.set(i,e[i]);return this}});p.exports=c},74623:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(6659),l=t(36716),r=new h({Extends:c,initialize:function(){c.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(s){return this._active.indexOf(s)>-1},isPending:function(s){return this._toProcess>0&&this._pending.indexOf(s)>-1},isDestroying:function(s){return this._destroy.indexOf(s)>-1},add:function(s){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(s),this._toProcess++),s},remove:function(s){if(this.isPending(s)){var e=this._pending,i=e.indexOf(s);i!==-1&&e.splice(i,1)}else this.isActive(s)&&(this._destroy.push(s),this._toProcess++);return s},removeAll:function(){for(var s=this._active,e=this._destroy,i=s.length;i--;)e.push(s[i]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,e=this._active,i,o;for(i=0;i<s.length;i++){o=s[i];var n=e.indexOf(o);n!==-1&&(e.splice(n,1),this.emit(l.PROCESS_QUEUE_REMOVE,o))}for(s.length=0,s=this._pending,i=0;i<s.length;i++)o=s[i],(!this.checkQueue||this.checkQueue&&e.indexOf(o)===-1)&&(e.push(o),this.emit(l.PROCESS_QUEUE_ADD,o));return s.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=r},68687:(p,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53466);function c(m){if(!(this instanceof c))return new c(m);this._maxEntries=Math.max(4,m||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}c.prototype={all:function(){return this._all(this.data,[])},search:function(m){var y=this.data,T=[],R=this.toBBox;if(!v(m,y))return T;for(var P=[],D,O,B,G;y;){for(D=0,O=y.children.length;D<O;D++)B=y.children[D],G=y.leaf?R(B):B,v(m,G)&&(y.leaf?T.push(B):d(m,G)?this._all(B,T):P.push(B));y=P.pop()}return T},collides:function(m){var y=this.data,T=this.toBBox;if(!v(m,y))return!1;for(var R=[],P,D,O,B;y;){for(P=0,D=y.children.length;P<D;P++)if(O=y.children[P],B=y.leaf?T(O):O,v(m,B)){if(y.leaf||d(m,B))return!0;R.push(O)}y=R.pop()}return!1},load:function(m){if(!(m&&m.length))return this;if(m.length<this._minEntries){for(var y=0,T=m.length;y<T;y++)this.insert(m[y]);return this}var R=this._build(m.slice(),0,m.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var P=this.data;this.data=R,R=P}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(m){return m&&this._insert(m,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(m,y){if(!m)return this;for(var T=this.data,R=this.toBBox(m),P=[],D=[],O,B,G,b;T||P.length;){if(T||(T=P.pop(),B=P[P.length-1],O=D.pop(),b=!0),T.leaf&&(G=l(m,T.children,y),G!==-1))return T.children.splice(G,1),P.push(T),this._condense(P),this;!b&&!T.leaf&&d(T,R)?(P.push(T),D.push(O),O=0,B=T,T=T.children[0]):B?(O++,T=B.children[O],b=!1):T=null}return this},toBBox:function(m){return m},compareMinX:i,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(m){return this.data=m,this},_all:function(m,y){for(var T=[];m;)m.leaf?y.push.apply(y,m.children):T.push.apply(T,m.children),m=T.pop();return y},_build:function(m,y,T,R){var P=T-y+1,D=this._maxEntries,O;if(P<=D)return O=g(m.slice(y,T+1)),r(O,this.toBBox),O;R||(R=Math.ceil(Math.log(P)/Math.log(D)),D=Math.ceil(P/Math.pow(D,R-1))),O=g([]),O.leaf=!1,O.height=R;var B=Math.ceil(P/D),G=B*Math.ceil(Math.sqrt(D)),b,k,$,W;for(x(m,y,T,G,this.compareMinX),b=y;b<=T;b+=G)for($=Math.min(b+G-1,T),x(m,b,$,B,this.compareMinY),k=b;k<=$;k+=B)W=Math.min(k+B-1,$),O.children.push(this._build(m,k,W,R-1));return r(O,this.toBBox),O},_chooseSubtree:function(m,y,T,R){for(var P,D,O,B,G,b,k,$;R.push(y),!(y.leaf||R.length-1===T);){for(k=$=1/0,P=0,D=y.children.length;P<D;P++)O=y.children[P],G=n(O),b=f(m,O)-G,b<$?($=b,k=G<k?G:k,B=O):b===$&&G<k&&(k=G,B=O);y=B||y.children[0]}return y},_insert:function(m,y,T){var R=this.toBBox,P=T?m:R(m),D=[],O=this._chooseSubtree(P,this.data,y,D);for(O.children.push(m),e(O,P);y>=0&&D[y].children.length>this._maxEntries;)this._split(D,y),y--;this._adjustParentBBoxes(P,D,y)},_split:function(m,y){var T=m[y],R=T.children.length,P=this._minEntries;this._chooseSplitAxis(T,P,R);var D=this._chooseSplitIndex(T,P,R),O=g(T.children.splice(D,T.children.length-D));O.height=T.height,O.leaf=T.leaf,r(T,this.toBBox),r(O,this.toBBox),y?m[y-1].children.push(O):this._splitRoot(T,O)},_splitRoot:function(m,y){this.data=g([m,y]),this.data.height=m.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(m,y,T){var R,P,D,O,B,G,b,k;for(G=b=1/0,R=y;R<=T-y;R++)P=s(m,0,R,this.toBBox),D=s(m,R,T,this.toBBox),O=u(P,D),B=n(P)+n(D),O<G?(G=O,k=R,b=B<b?B:b):O===G&&B<b&&(b=B,k=R);return k},_chooseSplitAxis:function(m,y,T){var R=m.leaf?this.compareMinX:i,P=m.leaf?this.compareMinY:o,D=this._allDistMargin(m,y,T,R),O=this._allDistMargin(m,y,T,P);D<O&&m.children.sort(R)},_allDistMargin:function(m,y,T,R){m.children.sort(R);var P=this.toBBox,D=s(m,0,y,P),O=s(m,T-y,T,P),B=a(D)+a(O),G,b;for(G=y;G<T-y;G++)b=m.children[G],e(D,m.leaf?P(b):b),B+=a(D);for(G=T-y-1;G>=y;G--)b=m.children[G],e(O,m.leaf?P(b):b),B+=a(O);return B},_adjustParentBBoxes:function(m,y,T){for(var R=T;R>=0;R--)e(y[R],m)},_condense:function(m){for(var y=m.length-1,T;y>=0;y--)m[y].children.length===0?y>0?(T=m[y-1].children,T.splice(T.indexOf(m[y]),1)):this.clear():r(m[y],this.toBBox)},compareMinX:function(m,y){return m.left-y.left},compareMinY:function(m,y){return m.top-y.top},toBBox:function(m){return{minX:m.left,minY:m.top,maxX:m.right,maxY:m.bottom}}};function l(m,y,T){if(!T)return y.indexOf(m);for(var R=0;R<y.length;R++)if(T(m,y[R]))return R;return-1}function r(m,y){s(m,0,m.children.length,y,m)}function s(m,y,T,R,P){P||(P=g(null)),P.minX=1/0,P.minY=1/0,P.maxX=-1/0,P.maxY=-1/0;for(var D=y,O;D<T;D++)O=m.children[D],e(P,m.leaf?R(O):O);return P}function e(m,y){return m.minX=Math.min(m.minX,y.minX),m.minY=Math.min(m.minY,y.minY),m.maxX=Math.max(m.maxX,y.maxX),m.maxY=Math.max(m.maxY,y.maxY),m}function i(m,y){return m.minX-y.minX}function o(m,y){return m.minY-y.minY}function n(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function a(m){return m.maxX-m.minX+(m.maxY-m.minY)}function f(m,y){return(Math.max(y.maxX,m.maxX)-Math.min(y.minX,m.minX))*(Math.max(y.maxY,m.maxY)-Math.min(y.minY,m.minY))}function u(m,y){var T=Math.max(m.minX,y.minX),R=Math.max(m.minY,y.minY),P=Math.min(m.maxX,y.maxX),D=Math.min(m.maxY,y.maxY);return Math.max(0,P-T)*Math.max(0,D-R)}function d(m,y){return m.minX<=y.minX&&m.minY<=y.minY&&y.maxX<=m.maxX&&y.maxY<=m.maxY}function v(m,y){return y.minX<=m.maxX&&y.minY<=m.maxY&&y.maxX>=m.minX&&y.maxY>=m.minY}function g(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(m,y,T,R,P){for(var D=[y,T],O;D.length;)T=D.pop(),y=D.pop(),!(T-y<=R)&&(O=y+Math.ceil((T-y)/R/2)*R,h(m,O,y,T,P),D.push(y,O,O,T))}p.exports=c},58403:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var s=0;s<r.length;s++)this.set(r[s])},set:function(l){return this.entries.indexOf(l)===-1&&this.entries.push(l),this},get:function(l,r){for(var s=0;s<this.entries.length;s++){var e=this.entries[s];if(e[l]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(l){var r=this.entries.indexOf(l);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var l=0;l<this.entries.length;l++){var r=this.entries[l];console.log(r)}console.groupEnd()},each:function(l,r){var s,e=this.entries.slice(),i=e.length;if(r)for(s=0;s<i&&l.call(r,e[s],s)!==!1;s++);else for(s=0;s<i&&l(e[s],s)!==!1;s++);return this},iterate:function(l,r){var s,e=this.entries.length;if(r)for(s=0;s<e&&l.call(r,this.entries[s],s)!==!1;s++);else for(s=0;s<e&&l(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(l){var r,s=[];for(r=1;r<arguments.length;r++)s.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var i=this.entries[r];i[l].apply(i,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(l){return this.entries.indexOf(l)>-1},union:function(l){var r=new c;return l.entries.forEach(function(s){r.set(s)}),this.entries.forEach(function(s){r.set(s)}),r},intersect:function(l){var r=new c;return this.entries.forEach(function(s){l.contains(s)&&r.set(s)}),r},difference:function(l){var r=new c;return this.entries.forEach(function(s){l.contains(s)||r.set(s)}),r},size:{get:function(){return this.entries.length},set:function(l){return l<this.entries.length?this.entries.length=l:this.entries.length}}});p.exports=c},90881:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),c=t(56694),l=t(84314),r=t(93736),s=new c({initialize:function(i,o,n,a){i===void 0&&(i=0),o===void 0&&(o=i),n===void 0&&(n=0),a===void 0&&(a=null),this._width=i,this._height=o,this._parent=a,this.aspectMode=n,this.aspectRatio=o===0?1:i/o,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,i){return e===void 0&&(e=0),i===void 0&&(i=e),this.snapTo.set(e,i),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,i){return e===void 0&&(e=0),i===void 0&&(i=e),this.minWidth=h(e,0,this.maxWidth),this.minHeight=h(i,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,i){return e===void 0&&(e=Number.MAX_VALUE),i===void 0&&(i=e),this.maxWidth=h(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(i,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,i){switch(e===void 0&&(e=0),i===void 0&&(i=e),this.aspectMode){case s.NONE:this._width=this.getNewWidth(l(e,this.snapTo.x)),this._height=this.getNewHeight(l(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(l(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(l(i,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(e,i,!0);break;case s.ENVELOP:this.constrain(e,i,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,i){return this._width=this.getNewWidth(l(e,this.snapTo.x)),this._height=this.getNewHeight(l(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,i){return i===void 0&&(i=!0),e=h(e,this.minWidth,this.maxWidth),i&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,i){return i===void 0&&(i=!0),e=h(e,this.minHeight,this.maxHeight),i&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,i,o){e===void 0&&(e=0),i===void 0&&(i=e),o===void 0&&(o=!0),e=this.getNewWidth(e),i=this.getNewHeight(i);var n=this.snapTo,a=i===0?1:e/i;return o&&this.aspectRatio>a||!o&&this.aspectRatio<a?(e=l(e,n.x),i=e/this.aspectRatio,n.y>0&&(i=l(i,n.y),e=i*this.aspectRatio)):(o&&this.aspectRatio<a||!o&&this.aspectRatio>a)&&(i=l(i,n.y),e=i*this.aspectRatio,n.x>0&&(e=l(e,n.x),i=e*(1/this.aspectRatio))),this._width=e,this._height=i,this},fitTo:function(e,i){return this.constrain(e,i,!0)},envelop:function(e,i){return this.constrain(e,i,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,p.exports=s},94160:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},95393:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},36716:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(82897),l=t(27119),r=t(86459),s=t(28621),e=t(31673),i=new h({Extends:e,initialize:function(n,a,f,u,d){e.call(this,n,a,f,u,d),this.add("__BASE",0,0,0,u,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=u,this.height=d,this.imageData=this.context.getImageData(0,0,u,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(o,n,a,f){return f===void 0&&(f=!0),this.context.drawImage(a,o,n),f&&this.update(),this},drawFrame:function(o,n,a,f,u){a===void 0&&(a=0),f===void 0&&(f=0),u===void 0&&(u=!0);var d=this.manager.getFrame(o,n);if(d){var v=d.canvasData,g=d.cutWidth,x=d.cutHeight,m=d.source.resolution;this.context.drawImage(d.source.image,v.x,v.y,g,x,a,f,g/m,x/m),u&&this.update()}return this},setPixel:function(o,n,a,f,u,d){d===void 0&&(d=255),o=Math.abs(Math.floor(o)),n=Math.abs(Math.floor(n));var v=this.getIndex(o,n);if(v>-1){var g=this.context.getImageData(o,n,1,1);g.data[0]=a,g.data[1]=f,g.data[2]=u,g.data[3]=d,this.context.putImageData(g,o,n)}return this},putData:function(o,n,a,f,u,d,v){return f===void 0&&(f=0),u===void 0&&(u=0),d===void 0&&(d=o.width),v===void 0&&(v=o.height),this.context.putImageData(o,n,a,f,u,d,v),this},getData:function(o,n,a,f){o=c(Math.floor(o),0,this.width-1),n=c(Math.floor(n),0,this.height-1),a=c(a,1,this.width-o),f=c(f,1,this.height-n);var u=this.context.getImageData(o,n,a,f);return u},getPixel:function(o,n,a){a||(a=new l);var f=this.getIndex(o,n);if(f>-1){var u=this.data,d=u[f+0],v=u[f+1],g=u[f+2],x=u[f+3];a.setTo(d,v,g,x)}return a},getPixels:function(o,n,a,f){o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=this.width),f===void 0&&(f=a),o=Math.abs(Math.round(o)),n=Math.abs(Math.round(n));for(var u=c(o,0,this.width),d=c(o+a,0,this.width),v=c(n,0,this.height),g=c(n+f,0,this.height),x=new l,m=[],y=v;y<g;y++){for(var T=[],R=u;R<d;R++)x=this.getPixel(R,y,x),T.push({x:R,y,color:x.color,alpha:x.alphaGL});m.push(T)}return m},getIndex:function(o,n){return o=Math.abs(Math.round(o)),n=Math.abs(Math.round(n)),o<this.width&&n<this.height?(o+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(o,n,a,f,u){return o===void 0&&(o=0),n===void 0&&(n=0),a===void 0&&(a=this.width),f===void 0&&(f=this.height),u===void 0&&(u=!0),this.context.clearRect(o,n,a,f),u&&this.update(),this},setSize:function(o,n){return n===void 0&&(n=o),(o!==this.width||n!==this.height)&&(this.canvas.width=o,this.canvas.height=n,this._source.width=o,this._source.height=n,this._source.isPowerOf2=s(o,n),this.frames.__BASE.setSize(o,n,0,0),this.width=o,this.height=n,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=i},845:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),c=t(51052),l=t(61068),r=t(56694),s=t(86459),e=t(82047),i=t(72632),o=t(65641),n=t(37410),a=t(31673),f=t(75512),u=new r({Extends:a,initialize:function(v,g,x,m){x===void 0&&(x=256),m===void 0&&(m=256),this.type="DynamicTexture";var y=v.game.renderer,T=y&&y.type===s.CANVAS,R=T?l.create2D(this,x,m):[this];a.call(this,v,g,R,x,m),this.add("__BASE",0,0,0,x,m),this.renderer=y,this.isDrawing=!1,this.canvas=T?R:null,this.context=T?R.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new c(0,0,x,m).setScene(v.game.scene.systemScene,!1),this.renderTarget=T?null:new n(y,x,m,1,0,!1,!0,!0,!1),this.pipeline=T?null:y.pipelines.get(o.SINGLE_PIPELINE),this.setSize(x,m)},setSize:function(d,v){v===void 0&&(v=d);var g=this.get(),x=g.source;if(d!==this.width||v!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=v);var m=this.renderTarget;m&&(m.resize(d,v),g.glTexture=m.texture,x.isRenderTexture=!0,x.isGLTexture=!0,x.glTexture=m.texture,x.glTexture.flipY=!0),this.camera.setSize(d,v),x.width=d,x.height=v,g.setSize(d,v),this.width=d,this.height=v}else{var y=this.getSourceImage();g.cutX+d>y.width&&(d=y.width-g.cutX),g.cutY+v>y.height&&(v=y.height-g.cutY),g.setSize(d,v,g.cutX,g.cutY)}return this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,v,g,x,m,y){var T=this.camera,R=this.renderer;v===void 0&&(v=1),g===void 0&&(g=0),x===void 0&&(x=0),m===void 0&&(m=this.width),y===void 0&&(y=this.height);var P=d>>16&255,D=d>>8&255,O=d&255,B=this.renderTarget;if(T.preRender(),B){B.bind(!0);var G=this.pipeline.manager.set(this.pipeline),b=R.width/B.width,k=R.height/B.height;G.drawFillRect(g*b,x*k,m*b,y*k,f.getTintFromFloats(O/255,D/255,P/255,1),v),B.unbind(!0)}else{var $=this.context;R.setContext($),$.globalCompositeOperation="source-over",$.fillStyle="rgba("+P+","+D+","+O+","+v+")",$.fillRect(g,x,m,y),R.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,v=this.renderTarget;v?v.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,v,g,x,m){g===void 0&&(g=0),x===void 0&&(x=0);var y=i(m,"alpha",1),T=i(m,"tint",16777215),R=i(m,"angle",0),P=i(m,"rotation",0),D=i(m,"scale",1),O=i(m,"scaleX",D),B=i(m,"scaleY",D),G=i(m,"originX",.5),b=i(m,"originY",.5),k=i(m,"blendMode",0),$=i(m,"erase",!1),W=i(m,"skipBatch",!1),Z=this.manager.resetStamp(y,T);return Z.setAngle(0),R!==0?Z.setAngle(R):P!==0&&Z.setRotation(P),Z.setScale(O,B),Z.setTexture(d,v),Z.setOrigin(G,b),Z.setBlendMode(k),$&&(this._eraseMode=!0),W?this.batchGameObject(Z,g,x):this.draw(Z,g,x),$&&(this._eraseMode=!1),this},erase:function(d,v,g){return this._eraseMode=!0,this.draw(d,v,g),this._eraseMode=!1,this},draw:function(d,v,g,x,m){return this.beginDraw(),this.batchDraw(d,v,g,x,m),this.endDraw(),this},drawFrame:function(d,v,g,x,m,y){return this.beginDraw(),this.batchDrawFrame(d,v,g,x,m,y),this.endDraw(),this},repeat:function(d,v,g,x,m,y,T,R,P){if(g===void 0&&(g=0),x===void 0&&(x=0),m===void 0&&(m=this.width),y===void 0&&(y=this.height),T===void 0&&(T=1),R===void 0&&(R=16777215),P===void 0&&(P=!1),d instanceof e?v=d:v=this.manager.getFrame(d,v),!v)return this;var D=this.manager.resetStamp(T,R);D.setFrame(v),D.setOrigin(0);var O=v.width,B=v.height;m=Math.floor(m),y=Math.floor(y);var G=Math.ceil(m/O),b=Math.ceil(y/B),k=G*O-m,$=b*B-y;k>0&&(k=O-k),$>0&&($=B-$),g<0&&(G+=Math.ceil(Math.abs(g)/O)),x<0&&(b+=Math.ceil(Math.abs(x)/B));var W=g,Z=x,z=!1,X=this.manager.stampCrop.setTo(0,0,O,B);P||this.beginDraw();for(var w=0;w<b;w++){if(Z+B<0){Z+=B;continue}for(var V=0;V<G;V++){if(z=!1,W+O<0){W+=O;continue}else W<0&&(z=!0,X.width=O+W,X.x=O-X.width);Z<0&&(z=!0,X.height=B+Z,X.y=B-X.height),k>0&&V===G-1&&(z=!0,X.width=k),$>0&&w===b-1&&(z=!0,X.height=$),z&&D.setCrop(X),this.batchGameObject(D,W,Z),D.isCropped=!1,X.setTo(0,0,O,B),W+=O}W=g,Z+=B}return P||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,v=this.renderer,g=this.renderTarget;d.preRender(),g?v.beginCapture(g.width,g.height):v.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,v,g,x,m){return Array.isArray(d)||(d=[d]),this.batchList(d,v,g,x,m),this},batchDrawFrame:function(d,v,g,x,m,y){g===void 0&&(g=0),x===void 0&&(x=0),m===void 0&&(m=1),y===void 0&&(y=16777215);var T=this.manager.getFrame(d,v);return T&&(this.renderTarget?this.pipeline.batchTextureFrame(T,g,x,y,m,this.camera.matrix,null):this.batchTextureFrame(T,g,x,m,y)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var v=this.renderer,g=this.renderTarget;if(g){var x=v.endCapture(),m=v.pipelines.setUtility();m.blitFrame(x,g,1,!1,!1,d,this.isSpriteTexture),v.resetScissor(),v.resetViewport()}else v.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,v,g,x,m){var y=d.length;if(y!==0)for(var T=0;T<y;T++){var R=d[T];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,v,g):R.isParent||R.list?this.batchGroup(R.getChildren(),v,g):typeof R=="string"?this.batchTextureFrameKey(R,null,v,g,x,m):R instanceof e?this.batchTextureFrame(R,v,g,x,m):Array.isArray(R)&&this.batchList(R,v,g,x,m))}},batchGroup:function(d,v,g){v===void 0&&(v=0),g===void 0&&(g=0);for(var x=0;x<d.length;x++){var m=d[x];m.willRender(this.camera)&&this.batchGameObject(m,m.x+v,m.y+g)}},batchGameObject:function(d,v,g){v===void 0&&(v=d.x),g===void 0&&(g=d.y);var x=d.x,m=d.y,y=this.camera,T=this.renderer,R=this._eraseMode,P=d.mask;if(d.setPosition(v,g),this.canvas){if(R){var D=d.blendMode;d.blendMode=h.ERASE}P&&P.preRenderCanvas(T,d,y),d.renderCanvas(T,d,y,null),P&&P.postRenderCanvas(T,d,y),R&&(d.blendMode=D)}else T&&(P&&P.preRenderWebGL(T,d,y),R||T.setBlendMode(d.blendMode),d.renderWebGL(T,d,y),P&&P.postRenderWebGL(T,y,this.renderTarget));d.setPosition(x,m)},batchTextureFrameKey:function(d,v,g,x,m,y){var T=this.manager.getFrame(d,v);T&&this.batchTextureFrame(T,g,x,m,y)},batchTextureFrame:function(d,v,g,x,m){v===void 0&&(v=0),g===void 0&&(g=0),x===void 0&&(x=1),m===void 0&&(m=16777215);var y=this.camera.matrix,T=this.renderTarget;if(T)this.pipeline.batchTextureFrame(d,v,g,m,x,y,null);else{var R=this.context,P=d.canvasData,D=d.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=x,y.setToContext(R),P.width>0&&P.height>0&&R.drawImage(D,P.x,P.y,P.width,P.height,v,g,P.width,P.height),R.restore()}},snapshotArea:function(d,v,g,x,m,y,T){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,m,!1,d,v,g,x,y,T):this.renderer.snapshotCanvas(this.canvas,m,!1,d,v,g,x,y,T),this},snapshot:function(d,v,g){return this.snapshotArea(0,0,this.width,this.height,d,v,g)},snapshotPixel:function(d,v,g){return this.snapshotArea(d,v,1,1,g,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,v,g,x){var m=this.manager.resetStamp();m.setTexture(this),m.setOrigin(0),m.renderWebGL(d,m,g,x)},renderCanvas:function(){},preDestroy:function(){l.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});p.exports=u},82047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(82897),l=t(98611),r=new h({initialize:function(e,i,o,n,a,f,u){this.texture=e,this.name=i,this.source=e.source[o],this.sourceIndex=o,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(f,u,n,a)},setSize:function(s,e,i,o){i===void 0&&(i=0),o===void 0&&(o=0),this.cutX=i,this.cutY=o,this.cutWidth=s,this.cutHeight=e,this.width=s,this.height=e,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(e/2);var n=this.data,a=n.cut;a.x=i,a.y=o,a.w=s,a.h=e,a.r=i+s,a.b=o+e,n.sourceSize.w=s,n.sourceSize.h=e,n.spriteSourceSize.w=s,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(s*s+e*e);var f=n.drawImage;return f.x=i,f.y=o,f.width=s,f.height=e,this.updateUVs()},setTrim:function(s,e,i,o,n,a){var f=this.data,u=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=s,f.sourceSize.h=e,u.x=i,u.y=o,u.w=n,u.h=a,u.r=i+n,u.b=o+a,this.x=i,this.y=o,this.width=n,this.height=a,this.halfWidth=n*.5,this.halfHeight=a*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(a/2),this.updateUVs()},setCropUVs:function(s,e,i,o,n,a,f){var u=this.cutX,d=this.cutY,v=this.cutWidth,g=this.cutHeight,x=this.realWidth,m=this.realHeight;e=c(e,0,x),i=c(i,0,m),o=c(o,0,x-e),n=c(n,0,m-i);var y=u+e,T=d+i,R=o,P=n,D=this.data;if(D.trim){var O=D.spriteSourceSize;o=c(o,0,v-e),n=c(n,0,g-i);var B=e+o,G=i+n,b=!(O.r<e||O.b<i||O.x>B||O.y>G);if(b){var k=Math.max(O.x,e),$=Math.max(O.y,i),W=Math.min(O.r,B)-k,Z=Math.min(O.b,G)-$;R=W,P=Z,a?y=u+(v-(k-O.x)-W):y=u+(k-O.x),f?T=d+(g-($-O.y)-Z):T=d+($-O.y),e=k,i=$,o=W,n=Z}else y=0,T=0,R=0,P=0}else a&&(y=u+(v-e-o)),f&&(T=d+(g-i-n));var z=this.source.width,X=this.source.height;return s.u0=Math.max(0,y/z),s.v0=Math.max(0,T/X),s.u1=Math.min(1,(y+R)/z),s.v1=Math.min(1,(T+P)/X),s.x=e,s.y=i,s.cx=y,s.cy=T,s.cw=R,s.ch=P,s.width=o,s.height=n,s.flipX=a,s.flipY=f,s},updateCropUVs:function(s,e,i){return this.setCropUVs(s,s.x,s.y,s.width,s.height,e,i)},setUVs:function(s,e,i,o,n,a){var f=this.data.drawImage;return f.width=s,f.height=e,this.u0=i,this.v0=o,this.u1=n,this.v1=a,this},updateUVs:function(){var s=this.cutX,e=this.cutY,i=this.cutWidth,o=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=o;var a=this.source.width,f=this.source.height;return this.u0=s/a,this.v0=e/f,this.u1=(s+i)/a,this.v1=(e+o)/f,this},updateUVsInverted:function(){var s=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/e,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var s=new r(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=l(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=r},31673:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(82047),l=t(32547),r='Texture "%s" has no frame "%s"',s=new h({initialize:function(i,o,n,a,f){Array.isArray(n)||(n=[n]),this.manager=i,this.key=o,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var u=0;u<n.length;u++)this.source.push(new l(this,n[u],a,f))},add:function(e,i,o,n,a,f){if(this.has(e))return null;var u=new c(this,e,i,o,n,a,f);return this.frames[e]=u,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,u},remove:function(e){if(this.has(e)){var i=this.get(e);return i.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var i=this.frames[e];return i||(console.warn(r,this.key,e),i=this.frames[this.firstFrame]),i},getTextureSourceIndex:function(e){for(var i=0;i<this.source.length;i++)if(this.source[i]===e)return i;return-1},getFramesFromTextureSource:function(e,i){i===void 0&&(i=!1);var o=[];for(var n in this.frames)if(!(n==="__BASE"&&!i)){var a=this.frames[n];a.sourceIndex===e&&o.push(a)}return o},getFrameNames:function(e){e===void 0&&(e=!1);var i=Object.keys(this.frames);if(!e){var o=i.indexOf("__BASE");o!==-1&&i.splice(o,1)}return i},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var i=this.frames[e];return i?i.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var i=this.frames[e],o;return i?o=i.sourceIndex:(console.warn(r,this.key,e),o=this.frames.__BASE.sourceIndex),this.dataSource[o].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var o=this.source[i];this.dataSource.push(new l(this,e[i],o.width,o.height))}},setFilter:function(e){var i;for(i=0;i<this.source.length;i++)this.source[i].setFilter(e);for(i=0;i<this.dataSource.length;i++)this.dataSource[i].setFilter(e)},destroy:function(){var e,i=this.source,o=this.dataSource;for(e=0;e<i.length;e++)i[e]&&i[e].destroy();for(e=0;e<o.length;e++)o[e]&&o[e].destroy();for(var n in this.frames){var a=this.frames[n];a&&a.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});p.exports=s},6237:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),c=t(17487),l=t(56694),r=t(27119),s=t(86459),e=t(845),i=t(6659),o=t(38203),n=t(82047),a=t(97081),f=t(52780),u=t(10850),d=t(1539),v=t(42911),g=t(69150),x=t(74118),m=t(31673),y=new l({Extends:i,initialize:function(R){i.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new x,this.silentWarnings=!1,R.events.once(a.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(o.LOAD,this.updatePending,this),this.on(o.ERROR,this.updatePending,this);var T=this.game.config;this.addBase64("__DEFAULT",T.defaultImage),this.addBase64("__MISSING",T.missingImage),this.addBase64("__WHITE",T.whiteImage),this.game.events.once(a.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(o.LOAD),this.off(o.ERROR),this.emit(o.READY),this.stamp=new d(this.game.scene.systemScene).setOrigin(0))},checkKey:function(T){return this.exists(T)?(this.silentWarnings||console.error("Texture key already in use: "+T),!1):!0},remove:function(T){if(typeof T=="string")if(this.exists(T))T=this.get(T);else return this.silentWarnings||console.warn("No texture found matching key: "+T),this;return this.list.hasOwnProperty(T.key)&&(T.destroy(),this.emit(o.REMOVE,T.key),this.emit(o.REMOVE_KEY+T.key)),this},removeKey:function(T){return this.list.hasOwnProperty(T)&&delete this.list[T],this},addBase64:function(T,R){if(this.checkKey(T)){var P=this,D=new Image;D.onerror=function(){P.emit(o.ERROR,T)},D.onload=function(){var O=P.create(T,D);g.Image(O,0),P.emit(o.ADD,T,O),P.emit(o.ADD_KEY+T,O),P.emit(o.LOAD,T,O)},D.src=R}return this},getBase64:function(T,R,P,D){P===void 0&&(P="image/png"),D===void 0&&(D=.92);var O="",B=this.getFrame(T,R);if(B&&(B.source.isRenderTexture||B.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(B){var G=B.canvasData,b=h.create2D(this,G.width,G.height),k=b.getContext("2d",{willReadFrequently:!0});G.width>0&&G.height>0&&k.drawImage(B.source.image,G.x,G.y,G.width,G.height,0,0,G.width,G.height),O=b.toDataURL(P,D),h.remove(b)}return O},addImage:function(T,R,P){var D=null;return this.checkKey(T)&&(D=this.create(T,R),g.Image(D,0),P&&D.setDataSource(P),this.emit(o.ADD,T,D),this.emit(o.ADD_KEY+T,D)),D},addGLTexture:function(T,R,P,D){var O=null;return this.checkKey(T)&&(P===void 0&&(P=R.width),D===void 0&&(D=R.height),O=this.create(T,R,P,D),O.add("__BASE",0,0,0,P,D),this.emit(o.ADD,T,O),this.emit(o.ADD_KEY+T,O)),O},addCompressedTexture:function(T,R,P){var D=null;if(this.checkKey(T)){if(D=this.create(T,R),D.add("__BASE",0,0,0,R.width,R.height),P)if(Array.isArray(P))for(var O=0;O<P.length;O++)g.JSONHash(D,O,P[O]);else g.JSONHash(D,0,P);this.emit(o.ADD,T,D),this.emit(o.ADD_KEY+T,D)}return D},addRenderTexture:function(T,R){var P=null;return this.checkKey(T)&&(P=this.create(T,R),P.add("__BASE",0,0,0,R.width,R.height),this.emit(o.ADD,T,P),this.emit(o.ADD_KEY+T,P)),P},generate:function(T,R){if(this.checkKey(T)){var P=h.create(this,1,1);return R.canvas=P,f(R),this.addCanvas(T,P)}else return null},createCanvas:function(T,R,P){if(R===void 0&&(R=256),P===void 0&&(P=256),this.checkKey(T)){var D=h.create(this,R,P,s.CANVAS,!0);return this.addCanvas(T,D)}return null},addCanvas:function(T,R,P){P===void 0&&(P=!1);var D=null;return P?D=new c(this,T,R,R.width,R.height):this.checkKey(T)&&(D=new c(this,T,R,R.width,R.height),this.list[T]=D,this.emit(o.ADD,T,D),this.emit(o.ADD_KEY+T,D)),D},addDynamicTexture:function(T,R,P){var D=null;return typeof T=="string"&&!this.exists(T)?D=new e(this,T,R,P):(D=T,T=D.key),this.checkKey(T)?(this.list[T]=D,this.emit(o.ADD,T,D),this.emit(o.ADD_KEY+T,D)):D=null,D},addAtlas:function(T,R,P,D){return Array.isArray(P.textures)||Array.isArray(P.frames)?this.addAtlasJSONArray(T,R,P,D):this.addAtlasJSONHash(T,R,P,D)},addAtlasJSONArray:function(T,R,P,D){var O=null;if(R instanceof m?(T=O.key,O=R):this.checkKey(T)&&(O=this.create(T,R)),O){if(Array.isArray(P))for(var B=P.length===1,G=0;G<O.source.length;G++){var b=B?P[0]:P[G];g.JSONArray(O,G,b)}else g.JSONArray(O,0,P);D&&O.setDataSource(D),this.emit(o.ADD,T,O),this.emit(o.ADD_KEY+T,O)}return O},addAtlasJSONHash:function(T,R,P,D){var O=null;if(R instanceof m?(T=O.key,O=R):this.checkKey(T)&&(O=this.create(T,R)),O){if(Array.isArray(P))for(var B=0;B<P.length;B++)g.JSONHash(O,B,P[B]);else g.JSONHash(O,0,P);D&&O.setDataSource(D),this.emit(o.ADD,T,O),this.emit(o.ADD_KEY+T,O)}return O},addAtlasXML:function(T,R,P,D){var O=null;return R instanceof m?(T=O.key,O=R):this.checkKey(T)&&(O=this.create(T,R)),O&&(g.AtlasXML(O,0,P),D&&O.setDataSource(D),this.emit(o.ADD,T,O),this.emit(o.ADD_KEY+T,O)),O},addUnityAtlas:function(T,R,P,D){var O=null;return R instanceof m?(T=O.key,O=R):this.checkKey(T)&&(O=this.create(T,R)),O&&(g.UnityYAML(O,0,P),D&&O.setDataSource(D),this.emit(o.ADD,T,O),this.emit(o.ADD_KEY+T,O)),O},addSpriteSheet:function(T,R,P,D){var O=null;if(R instanceof m?(T=O.key,O=R):this.checkKey(T)&&(O=this.create(T,R)),O){var B=O.source[0].width,G=O.source[0].height;g.SpriteSheet(O,0,0,0,B,G,P),D&&O.setDataSource(D),this.emit(o.ADD,T,O),this.emit(o.ADD_KEY+T,O)}return O},addSpriteSheetFromAtlas:function(T,R){if(!this.checkKey(T))return null;var P=u(R,"atlas",null),D=u(R,"frame",null);if(!(!P||!D)){var O=this.get(P),B=O.get(D);if(B){var G=this.create(T,B.source.image);return B.trimmed?g.SpriteSheetFromAtlas(G,B,R):g.SpriteSheet(G,0,B.cutX,B.cutY,B.cutWidth,B.cutHeight,R),this.emit(o.ADD,T,G),this.emit(o.ADD_KEY+T,G),G}}},create:function(T,R,P,D){var O=null;return this.checkKey(T)&&(O=new m(this,T,R,P,D),this.list[T]=O),O},exists:function(T){return this.list.hasOwnProperty(T)},get:function(T){return T===void 0&&(T="__DEFAULT"),this.list[T]?this.list[T]:T instanceof m?T:T instanceof n?T.texture:this.list.__MISSING},cloneFrame:function(T,R){if(this.list[T])return this.list[T].get(R).clone()},getFrame:function(T,R){if(this.list[T])return this.list[T].get(R)},parseFrame:function(T){if(T){if(typeof T=="string")return this.getFrame(T);if(Array.isArray(T)&&T.length===2)return this.getFrame(T[0],T[1]);if(v(T))return this.getFrame(T.key,T.frame);if(T instanceof m)return T.get();if(T instanceof n)return T}else return},getTextureKeys:function(){var T=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&T.push(R);return T},getPixel:function(T,R,P,D){var O=this.getFrame(P,D);if(O){T-=O.x,R-=O.y;var B=O.data.cut;if(T+=B.x,R+=B.y,T>=B.x&&T<B.r&&R>=B.y&&R<B.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(O.source.image,T,R,1,1,0,0,1,1);var b=G.getImageData(0,0,1,1);return new r(b.data[0],b.data[1],b.data[2],b.data[3])}}return null},getPixelAlpha:function(T,R,P,D){var O=this.getFrame(P,D);if(O){T-=O.x,R-=O.y;var B=O.data.cut;if(T+=B.x,R+=B.y,T>=B.x&&T<B.r&&R>=B.y&&R<B.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(O.source.image,T,R,1,1,0,0,1,1);var b=G.getImageData(0,0,1,1);return b.data[3]}}return null},setTexture:function(T,R,P){return this.list[R]&&(T.texture=this.list[R],T.frame=T.texture.get(P)),T},renameTexture:function(T,R){var P=this.get(T);return P&&T!==R?(P.key=R,this.list[R]=P,delete this.list[T],!0):!1},each:function(T,R){for(var P=[null],D=1;D<arguments.length;D++)P.push(arguments[D]);for(var O in this.list)P[0]=this.list[O],T.apply(R,P)},resetStamp:function(T,R){T===void 0&&(T=1),R===void 0&&(R=16777215);var P=this.stamp;return P.setCrop(),P.setPosition(0),P.setAngle(0),P.setScale(1),P.setAlpha(T),P.setTint(R),P},destroy:function(){for(var T in this.list)this.list[T].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});p.exports=y},32547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),c=t(56694),l=t(28621),r=t(27394),s=new c({initialize:function(i,o,n,a,f){f===void 0&&(f=!1);var u=i.manager.game;this.renderer=u.renderer,this.texture=i,this.source=o,this.image=o.compressed?null:o,this.compressionAlgorithm=o.compressed?o.format:null,this.resolution=1,this.width=n||o.naturalWidth||o.videoWidth||o.width||0,this.height=a||o.naturalHeight||o.videoHeight||o.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=o instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&o instanceof HTMLVideoElement,this.isRenderTexture=o.type==="RenderTexture"||o.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&o instanceof WebGLTexture,this.isPowerOf2=l(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(u)},init:function(e){var i=this.renderer;if(i){var o=this.source;if(i.gl){var n=this.image,a=this.flipY,f=this.width,u=this.height,d=this.scaleMode;this.isCanvas?this.glTexture=i.createCanvasTexture(n,!1,a):this.isVideo?this.glTexture=i.createVideoTexture(n,!1,a):this.isRenderTexture?this.glTexture=i.createTextureFromSource(null,f,u,d):this.isGLTexture?this.glTexture=o:this.compressionAlgorithm?this.glTexture=i.createTextureFromSource(o):this.glTexture=i.createTextureFromSource(n,f,u,d)}else this.isRenderTexture&&(this.image=o.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer,i=this.image,o=this.flipY,n=e.gl;n&&this.isCanvas?this.glTexture=e.updateCanvasTexture(i,this.glTexture,o):n&&this.isVideo&&(this.glTexture=e.updateVideoTexture(i,this.glTexture,o))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=s},65154:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};p.exports=S},49644:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},29569:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture-"},60079:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},72665:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},93006:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},69018:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},85549:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture-"},38203:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),c=t(65154),l={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:c,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};l=h(!1,l,c),p.exports=l},35082:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(!c.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var l=t.source[h];t.add("__BASE",h,0,0,l.width,l.height);for(var r=c.getElementsByTagName("SubTexture"),s,e=0;e<r.length;e++){var i=r[e].attributes,o=i.name.value,n=parseInt(i.x.value,10),a=parseInt(i.y.value,10),f=parseInt(i.width.value,10),u=parseInt(i.height.value,10);if(s=t.add(o,h,n,a,f,u),i.frameX){var d=Math.abs(parseInt(i.frameX.value,10)),v=Math.abs(parseInt(i.frameY.value,10)),g=parseInt(i.frameWidth.value,10),x=parseInt(i.frameHeight.value,10);s.setTrim(f,u,d,v,g,x)}}return t};p.exports=S},83332:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.source[h];return t.add("__BASE",h,0,0,c.width,c.height),t};p.exports=S},21560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.source[h];return t.add("__BASE",h,0,0,c.width,c.height),t};p.exports=S},64423:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(32742),c=function(l,r,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=l.source[r];l.add("__BASE",r,0,0,e.width,e.height);for(var i=Array.isArray(s.textures)?s.textures[r].frames:s.frames,o,n=0;n<i.length;n++){var a=i[n];if(o=l.add(a.filename,r,a.frame.x,a.frame.y,a.frame.w,a.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+a.filename);continue}a.trimmed&&o.setTrim(a.sourceSize.w,a.sourceSize.h,a.spriteSourceSize.x,a.spriteSourceSize.y,a.spriteSourceSize.w,a.spriteSourceSize.h),a.rotated&&(o.rotated=!0,o.updateUVsInverted());var f=a.anchor||a.pivot;f&&(o.customPivot=!0,o.pivotX=f.x,o.pivotY=f.y),o.customData=h(a)}for(var u in s)u!=="frames"&&(Array.isArray(s[u])?l.customData[u]=s[u].slice(0):l.customData[u]=s[u]);return l};p.exports=c},17264:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(32742),c=function(l,r,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=l.source[r];l.add("__BASE",r,0,0,e.width,e.height);var i=s.frames,o;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];if(o=l.add(n,r,a.frame.x,a.frame.y,a.frame.w,a.frame.h),!o){console.warn("Invalid atlas json, frame already exists: "+n);continue}a.trimmed&&o.setTrim(a.sourceSize.w,a.sourceSize.h,a.spriteSourceSize.x,a.spriteSourceSize.y,a.spriteSourceSize.w,a.spriteSourceSize.h),a.rotated&&(o.rotated=!0,o.updateUVsInverted());var f=a.anchor||a.pivot;f&&(o.customPivot=!0,o.pivotX=f.x,o.pivotY=f.y),o.customData=h(a)}for(var u in s)u!=="frames"&&(Array.isArray(s[u])?l.customData[u]=s[u].slice(0):l.customData[u]=s[u]);return l};p.exports=c},67409:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],c,l=new Uint8Array(t,0,12);for(c=0;c<l.length;c++)if(l[c]!==h[c]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(t,12,13*r),e=s.getUint32(0,!0)===67305985,i=s.getUint32(1*r,e);if(i!==0){console.warn("KTXParser - Only compressed formats supported");return}var o=s.getUint32(4*r,e),n=s.getUint32(6*r,e),a=s.getUint32(7*r,e),f=Math.max(1,s.getUint32(11*r,e)),u=s.getUint32(12*r,e),d=new Array(f),v=12+13*4+u,g=n,x=a;for(c=0;c<f;c++){var m=new Int32Array(t,v,1)[0];v+=4,d[c]={data:new Uint8Array(t,v,m),width:g,height:x},g=Math.max(1,g>>1),x=Math.max(1,x>>1),v+=m}return{mipmaps:d,width:n,height:a,internalFormat:o,compressed:!0,generateMipmap:!1}};p.exports=S},24904:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(T,R,P,D,O,B,G){return G===void 0&&(G=16),Math.floor((T+P)/O)*Math.floor((R+D)/B)*G}function t(T,R){return T=Math.max(T,16),R=Math.max(R,8),T*R/4}function h(T,R){return T=Math.max(T,8),R=Math.max(R,8),T*R/2}function c(T,R){return S(T,R,3,3,4,4,8)}function l(T,R){return S(T,R,3,3,4,4)}function r(T,R){return S(T,R,4,3,5,4)}function s(T,R){return S(T,R,4,4,5,5)}function e(T,R){return S(T,R,5,4,6,5)}function i(T,R){return S(T,R,5,5,6,6)}function o(T,R){return S(T,R,7,4,8,5)}function n(T,R){return S(T,R,7,5,8,6)}function a(T,R){return S(T,R,7,7,8,8)}function f(T,R){return S(T,R,9,4,10,5)}function u(T,R){return S(T,R,9,5,10,6)}function d(T,R){return S(T,R,9,7,10,8)}function v(T,R){return S(T,R,9,9,10,10)}function g(T,R){return S(T,R,11,9,12,10)}function x(T,R){return S(T,R,11,11,12,12)}var m={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:h,glFormat:35840},3:{sizeFunc:h,glFormat:35842},6:{sizeFunc:c,glFormat:36196},7:{sizeFunc:c,glFormat:33776},8:{sizeFunc:l,glFormat:33777},9:{sizeFunc:l,glFormat:33778},11:{sizeFunc:l,glFormat:33779},22:{sizeFunc:c,glFormat:37492},23:{sizeFunc:l,glFormat:37496},24:{sizeFunc:c,glFormat:37494},25:{sizeFunc:c,glFormat:37488},26:{sizeFunc:l,glFormat:37490},27:{sizeFunc:l,glFormat:37808},28:{sizeFunc:r,glFormat:37809},29:{sizeFunc:s,glFormat:37810},30:{sizeFunc:e,glFormat:37811},31:{sizeFunc:i,glFormat:37812},32:{sizeFunc:o,glFormat:37813},33:{sizeFunc:n,glFormat:37814},34:{sizeFunc:a,glFormat:37815},35:{sizeFunc:f,glFormat:37816},36:{sizeFunc:u,glFormat:37817},37:{sizeFunc:d,glFormat:37818},38:{sizeFunc:v,glFormat:37819},39:{sizeFunc:g,glFormat:37820},40:{sizeFunc:x,glFormat:37821}},y=function(T){for(var R=new Uint32Array(T,0,13),P=R[2],D=m[P].glFormat,O=m[P].sizeFunc,B=R[11],G=R[7],b=R[6],k=52+R[12],$=new Uint8Array(T,k),W=new Array(B),Z=0,z=G,X=b,w=0;w<B;w++){var V=O(z,X);W[w]={data:new Uint8Array($.buffer,$.byteOffset+Z,V),width:z,height:X},z=Math.max(1,z>>1),X=Math.max(1,X>>1),Z+=V}return{mipmaps:W,width:G,height:b,internalFormat:D,compressed:!0,generateMipmap:!1}};p.exports=y},6143:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c=function(l,r,s,e,i,o,n){var a=h(n,"frameWidth",null),f=h(n,"frameHeight",a);if(a===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=l.source[r];l.add("__BASE",r,0,0,u.width,u.height);var d=h(n,"startFrame",0),v=h(n,"endFrame",-1),g=h(n,"margin",0),x=h(n,"spacing",0),m=Math.floor((i-g+x)/(a+x)),y=Math.floor((o-g+x)/(f+x)),T=m*y;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",l.key),(d>T||d<-T)&&(d=0),d<0&&(d=T+d),(v===-1||v>T||v<d)&&(v=T);for(var R=g,P=g,D=0,O=0,B=0,G=0;G<T;G++){D=0,O=0;var b=R+a,k=P+f;b>i&&(D=b-i),k>o&&(O=k-o),G>=d&&G<=v&&(l.add(B,r,s+R,e+P,a-D,f-O),B++),R+=a+x,R+a>i&&(R=g,P+=f+x)}return l};p.exports=c},20030:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c=function(l,r,s){var e=h(s,"frameWidth",null),i=h(s,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=l.source[0];l.add("__BASE",0,0,0,o.width,o.height),h(s,"startFrame",0),h(s,"endFrame",-1);for(var n=h(s,"margin",0),a=h(s,"spacing",0),f=r.cutX,u=r.cutY,d=r.cutWidth,v=r.cutHeight,g=r.realWidth,x=r.realHeight,m=Math.floor((g-n+a)/(e+a)),y=Math.floor((x-n+a)/(i+a)),T=r.x,R=e-T,P=e-(g-d-T),D=r.y,O=i-D,B=i-(x-v-D),G,b=n,k=n,$=0,W=0,Z=0;Z<y;Z++){for(var z=Z===0,X=Z===y-1,w=0;w<m;w++){var V=w===0,Y=w===m-1;if(G=l.add($,W,f+b,u+k,e,i),V||z||Y||X){var j=V?T:0,J=z?D:0,_=0,tt=0;V&&(_+=e-R),Y&&(_+=e-P),z&&(tt+=i-O),X&&(tt+=i-B);var it=e-_,st=i-tt;G.cutWidth=it,G.cutHeight=st,G.setTrim(e,i,j,J,it,st)}b+=a,V?b+=R:Y?b+=P:b+=e,$++}b=n,k+=a,z?k+=O:X?k+=B:k+=i}return l};p.exports=c},89187:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(c,l,r,s){var e=S-s.y-s.height;c.add(r,l,s.x,e,s.width,s.height)},h=function(c,l,r){var s=c.source[l];c.add("__BASE",l,0,0,s.width,s.height),S=s.height;for(var e=r.split(`
`),i=/^[ ]*(- )*(\w+)+[: ]+(.*)/,o="",n="",a={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var u=e[f].match(i);if(u){var d=u[1]==="- ",v=u[2],g=u[3];if(d&&(n!==o&&(t(c,l,n,a),o=n),a={x:0,y:0,width:0,height:0}),v==="name"){n=g;continue}switch(v){case"x":case"y":case"width":case"height":a[v]=parseInt(g,10);break}}}return n!==o&&t(c,l,n,a),c};p.exports=h},69150:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r,s,e,i,o,n,a){(e===void 0||e<=0)&&(e=32),(i===void 0||i<=0)&&(i=32),o===void 0&&(o=0),n===void 0&&(n=0),this.name=r,this.firstgid=s|0,this.imageWidth=e|0,this.imageHeight=i|0,this.imageMargin=o|0,this.imageSpacing=n|0,this.properties=a||{},this.images=[],this.total=0},containsImageIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},addImage:function(l,r){return this.images.push({gid:l,image:r}),this.total++,this}});p.exports=c},46422:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=new h({initialize:function(r){if(this.gids=[],r!==void 0)for(var s=0;s<r.length;++s)for(var e=r[s],i=0;i<e.total;++i)this.gids[e.firstgid+i]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(l){this.gids=l?this._gids:void 0}},getTypeIncludingTile:function(l){if(l.type!==void 0&&l.type!=="")return l.type;if(!(!this.gids||l.gid===void 0)){var r=this.gids[l.gid];if(r){var s=r.getTileData(l.gid);if(s)return s.type}}},setTextureAndFrame:function(l,r,s,e){if(r===null&&this.gids&&e.gid!==void 0){var i=this.gids[e.gid];i&&(r===null&&i.image!==void 0&&(r=i.image.key),s===null&&(s=e.gid-i.firstgid),l.scene.textures.getFrame(r,s)||(r=null,s=null))}l.setTexture(r,s)},setPropertiesFromTiledObject:function(l,r){if(this.gids!==void 0&&r.gid!==void 0){var s=this.gids[r.gid];s!==void 0&&this.setFromJSON(l,s.getTileProperties(r.gid))}this.setFromJSON(l,r.properties)},setFromJSON:function(l,r){if(r){if(Array.isArray(r)){r.forEach(function(e){l.setData(e.name,e.value)});return}for(var s in r)l[s]!==void 0?l[s]=r[s]:l.setData(s,r[s])}}});p.exports=c},15043:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),c=t(16586),l=t(90715),r=t(89797),s=function(e,i,o,n,a,f,u,d){o===void 0&&(o=32),n===void 0&&(n=32),a===void 0&&(a=10),f===void 0&&(f=10),d===void 0&&(d=!1);var v=null;if(Array.isArray(u)){var g=i!==void 0?i:"map";v=l(g,h.ARRAY_2D,u,o,n,d)}else if(i!==void 0){var x=e.cache.tilemap.get(i);x?v=l(i,x.format,x.data,o,n,d):console.warn("No map data found for key "+i)}return v===null&&(v=new c({tileWidth:o,tileHeight:n,width:a,height:f})),new r(e,v)};p.exports=s},29633:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(12920),r=t(28699),s=t(66658),e=new h({Mixins:[c.Alpha,c.Flip,c.Visible],initialize:function(o,n,a,f,u,d,v,g){this.layer=o,this.index=n,this.x=a,this.y=f,this.width=u,this.height=d,this.right,this.bottom,this.baseWidth=v!==void 0?v:u,this.baseHeight=g!==void 0?g:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(i,o){return!(i<this.pixelX||o<this.pixelY||i>this.right||o>this.bottom)},copy:function(i){return this.index=i.index,this.alpha=i.alpha,this.properties=r(i.properties),this.visible=i.visible,this.setFlip(i.flipX,i.flipY),this.tint=i.tint,this.rotation=i.rotation,this.collideUp=i.collideUp,this.collideDown=i.collideDown,this.collideLeft=i.collideLeft,this.collideRight=i.collideRight,this.collisionCallback=i.collisionCallback,this.collisionCallbackContext=i.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(i){var o=this.tilemapLayer;if(o){var n=o.tileToWorldXY(this.x,this.y,void 0,i);return n.x}return this.x*this.baseWidth},getRight:function(i){var o=this.tilemapLayer;return o?this.getLeft(i)+this.width*o.scaleX:this.getLeft(i)+this.width},getTop:function(i){var o=this.tilemapLayer;if(o){var n=o.tileToWorldXY(this.x,this.y,void 0,i);return n.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(i){var o=this.tilemapLayer;return o?this.getTop(i)+this.height*o.scaleY:this.getTop(i)+this.height},getBounds:function(i,o){return o===void 0&&(o=new s),o.x=this.getLeft(i),o.y=this.getTop(i),o.width=this.getRight(i)-o.x,o.height=this.getBottom(i)-o.y,o},getCenterX:function(i){return(this.getLeft(i)+this.getRight(i))/2},getCenterY:function(i){return(this.getTop(i)+this.getBottom(i))/2},intersects:function(i,o,n,a){return!(n<=this.pixelX||a<=this.pixelY||i>=this.right||o>=this.bottom)},isInteresting:function(i,o){return i&&o?this.canCollide||this.hasInterestingFace:i?this.collides:o?this.hasInterestingFace:!1},resetCollision:function(i){if(i===void 0&&(i=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,i){var o=this.tilemapLayer;o&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(i,o,n,a,f){if(o===void 0&&(o=i),n===void 0&&(n=i),a===void 0&&(a=i),f===void 0&&(f=!0),this.collideLeft=i,this.collideRight=o,this.collideUp=n,this.collideDown=a,this.faceLeft=i,this.faceRight=o,this.faceTop=n,this.faceBottom=a,f){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(i,o){return i===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=i,this.collisionCallbackContext=o),this},setSize:function(i,o,n,a){return i!==void 0&&(this.width=i),o!==void 0&&(this.height=o),n!==void 0&&(this.baseWidth=n),a!==void 0&&(this.baseHeight=a),this.updatePixelXY(),this},updatePixelXY:function(){var i=this.layer.orientation;if(i===l.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(i===l.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(i===l.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(i===l.HEXAGONAL){var o=this.layer.staggerAxis,n=this.layer.staggerIndex,a=this.layer.hexSideLength,f,u;o==="y"?(u=(this.baseHeight-a)/2+a,n==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*u):o==="x"&&(f=(this.baseWidth-a)/2+a,this.pixelX=this.x*f,n==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var i=this.layer.tilemapLayer;if(i){var o=i.gidMap[this.index];if(o)return o}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var i=this.tilemapLayer;return i?i.tilemap:null}}});p.exports=e},89797:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14556),c=t(56694),l=t(75606),r=t(93560),s=t(72632),e=t(94990),i=t(46422),o=t(12920),n=t(52257),a=t(72677),f=t(13747),u=t(29633),d=t(5047),v=t(87177),g=t(47975),x=new c({initialize:function(y,T){this.scene=y,this.tileWidth=T.tileWidth,this.tileHeight=T.tileHeight,this.width=T.width,this.height=T.height,this.orientation=T.orientation,this.renderOrder=T.renderOrder,this.format=T.format,this.version=T.version,this.properties=T.properties,this.widthInPixels=T.widthInPixels,this.heightInPixels=T.heightInPixels,this.imageCollections=T.imageCollections,this.images=T.images,this.layers=T.layers,this.tiles=T.tiles,this.tilesets=T.tilesets,this.objects=T.objects,this.currentLayerIndex=0,this.hexSideLength=T.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(R),WorldToTileX:d.GetWorldToTileXFunction(R),WorldToTileY:d.GetWorldToTileYFunction(R),TileToWorldXY:d.GetTileToWorldXYFunction(R),TileToWorldX:d.GetTileToWorldXFunction(R),TileToWorldY:d.GetTileToWorldYFunction(R),GetTileCorners:d.GetTileCornersFunction(R)}},setRenderOrder:function(m){var y=["right-down","left-down","right-up","left-up"];return typeof m=="number"&&(m=y[m]),y.indexOf(m)>-1&&(this.renderOrder=m),this},addTilesetImage:function(m,y,T,R,P,D,O,B){if(m===void 0)return null;if(y==null&&(y=m),!this.scene.sys.textures.exists(y))return console.warn("Invalid Tileset Image: "+y),null;var G=this.scene.sys.textures.get(y),b=this.getTilesetIndex(m);if(b===null&&this.format===r.TILED_JSON)return console.warn("No data found for Tileset: "+m),null;var k=this.tilesets[b];return k?(k.setTileSize(T,R),k.setSpacing(P,D),k.setImage(G),k):(T===void 0&&(T=this.tileWidth),R===void 0&&(R=this.tileHeight),P===void 0&&(P=0),D===void 0&&(D=0),O===void 0&&(O=0),B===void 0&&(B={x:0,y:0}),k=new g(m,O,T,R,P,D,void 0,void 0,B),k.setImage(G),this.tilesets.push(k),this.tiles=h(this),k)},copy:function(m,y,T,R,P,D,O,B){return B=this.getLayer(B),B!==null?(d.Copy(m,y,T,R,P,D,O,B),this):null},createBlankLayer:function(m,y,T,R,P,D,O,B){T===void 0&&(T=0),R===void 0&&(R=0),P===void 0&&(P=this.width),D===void 0&&(D=this.height),O===void 0&&(O=this.tileWidth),B===void 0&&(B=this.tileHeight);var G=this.getLayerIndex(m);if(G!==null)return console.warn("Invalid Tilemap Layer ID: "+m),null;for(var b=new e({name:m,tileWidth:O,tileHeight:B,width:P,height:D,orientation:this.orientation}),k,$=0;$<D;$++){k=[];for(var W=0;W<P;W++)k.push(new u(b,-1,W,$,O,B,this.tileWidth,this.tileHeight));b.data.push(k)}this.layers.push(b),this.currentLayerIndex=this.layers.length-1;var Z=new v(this.scene,this,this.currentLayerIndex,y,T,R);return Z.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Z),Z},createLayer:function(m,y,T,R){var P=this.getLayerIndex(m);if(P===null)return console.warn("Invalid Tilemap Layer ID: "+m),typeof m=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[P];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+m),null;this.currentLayerIndex=P,T===void 0&&(T=D.x),R===void 0&&(R=D.y);var O=new v(this.scene,this,P,y,T,R);return O.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(O),O},createFromObjects:function(m,y,T){T===void 0&&(T=!0);var R=[],P=this.getObjectLayer(m);if(!P)return console.warn("createFromObjects: Invalid objectLayerName given: "+m),R;var D=new i(T?this.tilesets:void 0);Array.isArray(y)||(y=[y]);for(var O=P.objects,B=0;B<y.length;B++){var G=y[B],b=s(G,"id",null),k=s(G,"gid",null),$=s(G,"name",null),W=s(G,"type",null);D.enabled=!s(G,"ignoreTileset",null);for(var Z,z=[],X=0;X<O.length;X++)Z=O[X],(b===null&&k===null&&$===null&&W===null||b!==null&&Z.id===b||k!==null&&Z.gid===k||$!==null&&Z.name===$||W!==null&&D.getTypeIncludingTile(Z)===W)&&z.push(Z);for(var w=s(G,"classType",f),V=s(G,"scene",this.scene),Y=s(G,"container",null),j=s(G,"key",null),J=s(G,"frame",null),_=0;_<z.length;_++){Z=z[_];var tt=new w(V);if(tt.setName(Z.name),tt.setPosition(Z.x,Z.y),D.setTextureAndFrame(tt,j,J,Z),Z.width&&(tt.displayWidth=Z.width),Z.height&&(tt.displayHeight=Z.height),this.orientation===o.ISOMETRIC){var it=this.tileWidth/this.tileHeight,st={x:tt.x-tt.y,y:(tt.x+tt.y)/it};tt.x=st.x,tt.y=st.y}var ot={x:tt.originX*Z.width,y:(tt.originY-(Z.gid?1:0))*Z.height};if(Z.rotation){var ht=l(Z.rotation);n(ot,ht),tt.rotation=ht}tt.x+=ot.x,tt.y+=ot.y,(Z.flippedHorizontal!==void 0||Z.flippedVertical!==void 0)&&tt.setFlip(Z.flippedHorizontal,Z.flippedVertical),Z.visible||(tt.visible=!1),D.setPropertiesFromTiledObject(tt,Z),Y?Y.add(tt):V.add.existing(tt),R.push(tt)}}return R},createFromTiles:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:d.CreateFromTiles(m,y,T,R,P,D)},fill:function(m,y,T,R,P,D,O){return D===void 0&&(D=!0),O=this.getLayer(O),O===null?null:(d.Fill(m,y,T,R,P,D,O),this)},filterObjects:function(m,y,T){if(typeof m=="string"){var R=m;if(m=this.getObjectLayer(m),!m)return console.warn("No object layer found with the name: "+R),null}return m.objects.filter(y,T)},filterTiles:function(m,y,T,R,P,D,O,B){return B=this.getLayer(B),B===null?null:d.FilterTiles(m,y,T,R,P,D,O,B)},findByIndex:function(m,y,T,R){return R=this.getLayer(R),R===null?null:d.FindByIndex(m,y,T,R)},findObject:function(m,y,T){if(typeof m=="string"){var R=m;if(m=this.getObjectLayer(m),!m)return console.warn("No object layer found with the name: "+R),null}return m.objects.find(y,T)||null},findTile:function(m,y,T,R,P,D,O,B){return B=this.getLayer(B),B===null?null:d.FindTile(m,y,T,R,P,D,O,B)},forEachTile:function(m,y,T,R,P,D,O,B){return B=this.getLayer(B),B===null?null:(d.ForEachTile(m,y,T,R,P,D,O,B),this)},getImageIndex:function(m){return this.getIndex(this.images,m)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(m){return m.name})},getIndex:function(m,y){for(var T=0;T<m.length;T++)if(m[T].name===y)return T;return null},getLayer:function(m){var y=this.getLayerIndex(m);return y!==null?this.layers[y]:null},getObjectLayer:function(m){var y=this.getIndex(this.objects,m);return y!==null?this.objects[y]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(m){return m.name})},getLayerIndex:function(m){return m===void 0?this.currentLayerIndex:typeof m=="string"?this.getLayerIndexByName(m):typeof m=="number"&&m<this.layers.length?m:m instanceof v&&m.tilemap===this?m.layerIndex:null},getLayerIndexByName:function(m){return this.getIndex(this.layers,m)},getTileAt:function(m,y,T,R){return R=this.getLayer(R),R===null?null:d.GetTileAt(m,y,T,R)},getTileAtWorldXY:function(m,y,T,R,P){return P=this.getLayer(P),P===null?null:d.GetTileAtWorldXY(m,y,T,R,P)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(m){return m.name})},getTilesWithin:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:d.GetTilesWithin(m,y,T,R,P,D)},getTilesWithinShape:function(m,y,T,R){return R=this.getLayer(R),R===null?null:d.GetTilesWithinShape(m,y,T,R)},getTilesWithinWorldXY:function(m,y,T,R,P,D,O){return O=this.getLayer(O),O===null?null:d.GetTilesWithinWorldXY(m,y,T,R,P,D,O)},getTileset:function(m){var y=this.getIndex(this.tilesets,m);return y!==null?this.tilesets[y]:null},getTilesetIndex:function(m){return this.getIndex(this.tilesets,m)},hasTileAt:function(m,y,T){return T=this.getLayer(T),T===null?null:d.HasTileAt(m,y,T)},hasTileAtWorldXY:function(m,y,T,R){return R=this.getLayer(R),R===null?null:d.HasTileAtWorldXY(m,y,T,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(m){this.setLayer(m)}},putTileAt:function(m,y,T,R,P){return R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:d.PutTileAt(m,y,T,R,P)},putTileAtWorldXY:function(m,y,T,R,P,D){return R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:d.PutTileAtWorldXY(m,y,T,R,P,D)},putTilesAt:function(m,y,T,R,P){return R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:(d.PutTilesAt(m,y,T,R,P),this)},randomize:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:(d.Randomize(m,y,T,R,P,D),this)},calculateFacesAt:function(m,y,T){return T=this.getLayer(T),T===null?null:(d.CalculateFacesAt(m,y,T),this)},calculateFacesWithin:function(m,y,T,R,P){return P=this.getLayer(P),P===null?null:(d.CalculateFacesWithin(m,y,T,R,P),this)},removeLayer:function(m){var y=this.getLayerIndex(m);if(y!==null){a(this.layers,y);for(var T=y;T<this.layers.length;T++)this.layers[T].tilemapLayer&&this.layers[T].tilemapLayer.layerIndex--;return this.currentLayerIndex===y&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(m){var y=this.getLayerIndex(m);return y!==null?(m=this.layers[y],m.tilemapLayer.destroy(),a(this.layers,y),this.currentLayerIndex===y&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var m=this.layers,y=0;y<m.length;y++)m[y].tilemapLayer&&m[y].tilemapLayer.destroy(!1);return m.length=0,this.currentLayerIndex=0,this},removeTile:function(m,y,T){y===void 0&&(y=-1),T===void 0&&(T=!0);var R=[];Array.isArray(m)||(m=[m]);for(var P=0;P<m.length;P++){var D=m[P];R.push(this.removeTileAt(D.x,D.y,!0,T,D.tilemapLayer)),y>-1&&this.putTileAt(y,D.x,D.y,T,D.tilemapLayer)}return R},removeTileAt:function(m,y,T,R,P){return T===void 0&&(T=!0),R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:d.RemoveTileAt(m,y,T,R,P)},removeTileAtWorldXY:function(m,y,T,R,P,D){return T===void 0&&(T=!0),R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:d.RemoveTileAtWorldXY(m,y,T,R,P,D)},renderDebug:function(m,y,T){return T=this.getLayer(T),T===null?null:(this.orientation===o.ORTHOGONAL&&d.RenderDebug(m,y,T),this)},renderDebugFull:function(m,y){for(var T=this.layers,R=0;R<T.length;R++)d.RenderDebug(m,y,T[R]);return this},replaceByIndex:function(m,y,T,R,P,D,O){return O=this.getLayer(O),O===null?null:(d.ReplaceByIndex(m,y,T,R,P,D,O),this)},setCollision:function(m,y,T,R,P){return y===void 0&&(y=!0),T===void 0&&(T=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(d.SetCollision(m,y,T,R,P),this)},setCollisionBetween:function(m,y,T,R,P){return T===void 0&&(T=!0),R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionBetween(m,y,T,R,P),this)},setCollisionByProperty:function(m,y,T,R){return y===void 0&&(y=!0),T===void 0&&(T=!0),R=this.getLayer(R),R===null?null:(d.SetCollisionByProperty(m,y,T,R),this)},setCollisionByExclusion:function(m,y,T,R){return y===void 0&&(y=!0),T===void 0&&(T=!0),R=this.getLayer(R),R===null?null:(d.SetCollisionByExclusion(m,y,T,R),this)},setCollisionFromCollisionGroup:function(m,y,T){return m===void 0&&(m=!0),y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:(d.SetCollisionFromCollisionGroup(m,y,T),this)},setTileIndexCallback:function(m,y,T,R){return R=this.getLayer(R),R===null?null:(d.SetTileIndexCallback(m,y,T,R),this)},setTileLocationCallback:function(m,y,T,R,P,D,O){return O=this.getLayer(O),O===null?null:(d.SetTileLocationCallback(m,y,T,R,P,D,O),this)},setLayer:function(m){var y=this.getLayerIndex(m);return y!==null&&(this.currentLayerIndex=y),this},setBaseTileSize:function(m,y){this.tileWidth=m,this.tileHeight=y,this.widthInPixels=this.width*m,this.heightInPixels=this.height*y;for(var T=0;T<this.layers.length;T++){this.layers[T].baseTileWidth=m,this.layers[T].baseTileHeight=y;for(var R=this.layers[T].data,P=this.layers[T].width,D=this.layers[T].height,O=0;O<D;O++)for(var B=0;B<P;B++){var G=R[O][B];G!==null&&G.setSize(void 0,void 0,m,y)}}return this},setLayerTileSize:function(m,y,T){if(T=this.getLayer(T),T===null)return this;T.tileWidth=m,T.tileHeight=y;for(var R=T.data,P=T.width,D=T.height,O=0;O<D;O++)for(var B=0;B<P;B++){var G=R[O][B];G!==null&&G.setSize(m,y)}return this},shuffle:function(m,y,T,R,P){return P=this.getLayer(P),P===null?null:(d.Shuffle(m,y,T,R,P),this)},swapByIndex:function(m,y,T,R,P,D,O){return O=this.getLayer(O),O===null?null:(d.SwapByIndex(m,y,T,R,P,D,O),this)},tileToWorldX:function(m,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldX(m,y,T)},tileToWorldY:function(m,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldY(m,y,T)},tileToWorldXY:function(m,y,T,R,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldXY(m,y,T,R,P)},getTileCorners:function(m,y,T,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(m,y,T,R)},weightedRandomize:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:(d.WeightedRandomize(y,T,R,P,m,D),this)},worldToTileX:function(m,y,T,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(m,y,T,R)},worldToTileY:function(m,y,T,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(m,y,T,R)},worldToTileXY:function(m,y,T,R,P,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(m,y,T,R,P,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=x},4843:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99325),c=t(15043);h.register("tilemap",function(l){var r=l!==void 0?l:{};return c(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},37940:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),c=t(15043);h.register("tilemap",function(l,r,s,e,i,o,n){return l===null&&(l=void 0),r===null&&(r=void 0),s===null&&(s=void 0),e===null&&(e=void 0),i===null&&(i=void 0),c(this.scene,l,r,s,e,i,o,n)})},87177:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(64937),l=t(89980),r=t(5047),s=t(96193),e=t(93736),i=new h({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,s],initialize:function(n,a,f,u,d,v){l.call(this,n,"TilemapLayer"),this.isTilemap=!0,this.tilemap=a,this.layerIndex=f,this.layer=a.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new e,this.setTilesets(u),this.setAlpha(this.layer.alpha),this.setPosition(d,v),this.setOrigin(0,0),this.setSize(a.tileWidth*this.layer.width,a.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(o){var n=[],a=[],f=this.tilemap;Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++){var d=o[u];if(typeof d=="string"&&(d=f.getTileset(d)),d){a.push(d);for(var v=d.firstgid,g=0;g<d.total;g++)n[v+g]=d}}this.gidMap=n,this.tileset=a},setRenderOrder:function(o){var n=["right-down","left-down","right-up","left-up"];return typeof o=="string"&&(o=n.indexOf(o)),o>=0&&o<4&&(this._renderOrder=o),this},calculateFacesAt:function(o,n){return r.CalculateFacesAt(o,n,this.layer),this},calculateFacesWithin:function(o,n,a,f){return r.CalculateFacesWithin(o,n,a,f,this.layer),this},createFromTiles:function(o,n,a,f,u){return r.CreateFromTiles(o,n,a,f,u,this.layer)},cull:function(o){return this.cullCallback(this.layer,o,this.culledTiles,this._renderOrder)},copy:function(o,n,a,f,u,d,v){return r.Copy(o,n,a,f,u,d,v,this.layer),this},fill:function(o,n,a,f,u,d){return r.Fill(o,n,a,f,u,d,this.layer),this},filterTiles:function(o,n,a,f,u,d,v){return r.FilterTiles(o,n,a,f,u,d,v,this.layer)},findByIndex:function(o,n,a){return r.FindByIndex(o,n,a,this.layer)},findTile:function(o,n,a,f,u,d,v){return r.FindTile(o,n,a,f,u,d,v,this.layer)},forEachTile:function(o,n,a,f,u,d,v){return r.ForEachTile(o,n,a,f,u,d,v,this.layer),this},setTint:function(o,n,a,f,u,d){o===void 0&&(o=16777215);var v=function(g){g.tint=o};return this.forEachTile(v,this,n,a,f,u,d)},getTileAt:function(o,n,a){return r.GetTileAt(o,n,a,this.layer)},getTileAtWorldXY:function(o,n,a,f){return r.GetTileAtWorldXY(o,n,a,f,this.layer)},getIsoTileAtWorldXY:function(o,n,a,f,u){a===void 0&&(a=!0);var d=this.tempVec;return r.IsometricWorldToTileXY(o,n,!0,d,u,this.layer,a),this.getTileAt(d.x,d.y,f)},getTilesWithin:function(o,n,a,f,u){return r.GetTilesWithin(o,n,a,f,u,this.layer)},getTilesWithinShape:function(o,n,a){return r.GetTilesWithinShape(o,n,a,this.layer)},getTilesWithinWorldXY:function(o,n,a,f,u,d){return r.GetTilesWithinWorldXY(o,n,a,f,u,d,this.layer)},hasTileAt:function(o,n){return r.HasTileAt(o,n,this.layer)},hasTileAtWorldXY:function(o,n,a){return r.HasTileAtWorldXY(o,n,a,this.layer)},putTileAt:function(o,n,a,f){return r.PutTileAt(o,n,a,f,this.layer)},putTileAtWorldXY:function(o,n,a,f,u){return r.PutTileAtWorldXY(o,n,a,f,u,this.layer)},putTilesAt:function(o,n,a,f){return r.PutTilesAt(o,n,a,f,this.layer),this},randomize:function(o,n,a,f,u){return r.Randomize(o,n,a,f,u,this.layer),this},removeTileAt:function(o,n,a,f){return r.RemoveTileAt(o,n,a,f,this.layer)},removeTileAtWorldXY:function(o,n,a,f,u){return r.RemoveTileAtWorldXY(o,n,a,f,u,this.layer)},renderDebug:function(o,n){return r.RenderDebug(o,n,this.layer),this},replaceByIndex:function(o,n,a,f,u,d){return r.ReplaceByIndex(o,n,a,f,u,d,this.layer),this},setSkipCull:function(o){return o===void 0&&(o=!0),this.skipCull=o,this},setCullPadding:function(o,n){return o===void 0&&(o=1),n===void 0&&(n=1),this.cullPaddingX=o,this.cullPaddingY=n,this},setCollision:function(o,n,a,f){return r.SetCollision(o,n,a,this.layer,f),this},setCollisionBetween:function(o,n,a,f){return r.SetCollisionBetween(o,n,a,f,this.layer),this},setCollisionByProperty:function(o,n,a){return r.SetCollisionByProperty(o,n,a,this.layer),this},setCollisionByExclusion:function(o,n,a){return r.SetCollisionByExclusion(o,n,a,this.layer),this},setCollisionFromCollisionGroup:function(o,n){return r.SetCollisionFromCollisionGroup(o,n,this.layer),this},setTileIndexCallback:function(o,n,a){return r.SetTileIndexCallback(o,n,a,this.layer),this},setTileLocationCallback:function(o,n,a,f,u,d){return r.SetTileLocationCallback(o,n,a,f,u,d,this.layer),this},shuffle:function(o,n,a,f){return r.Shuffle(o,n,a,f,this.layer),this},swapByIndex:function(o,n,a,f,u,d){return r.SwapByIndex(o,n,a,f,u,d,this.layer),this},tileToWorldX:function(o,n){return this.tilemap.tileToWorldX(o,n,this)},tileToWorldY:function(o,n){return this.tilemap.tileToWorldY(o,n,this)},tileToWorldXY:function(o,n,a,f){return this.tilemap.tileToWorldXY(o,n,a,f,this)},getTileCorners:function(o,n,a){return this.tilemap.getTileCorners(o,n,a,this)},weightedRandomize:function(o,n,a,f,u){return r.WeightedRandomize(n,a,f,u,o,this.layer),this},worldToTileX:function(o,n,a){return this.tilemap.worldToTileX(o,n,a,this)},worldToTileY:function(o,n,a){return this.tilemap.worldToTileY(o,n,a,this)},worldToTileXY:function(o,n,a,f,u){return this.tilemap.worldToTileXY(o,n,a,f,u,this)},destroy:function(o){o===void 0&&(o=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),o&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});p.exports=i},17394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(69360),c=new h,l=new h,r=new h,s=function(e,i,o,n){var a=i.cull(o),f=a.length,u=o.alpha*i.alpha;if(!(f===0||u<=0)){var d=c,v=l,g=r;v.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),d.copyFrom(o.matrix);var x=e.currentContext,m=i.gidMap;x.save(),n?(d.multiplyWithOffset(n,-o.scrollX*i.scrollFactorX,-o.scrollY*i.scrollFactorY),v.e=i.x,v.f=i.y,d.multiply(v,g),g.copyToContext(x)):(v.e-=o.scrollX*i.scrollFactorX,v.f-=o.scrollY*i.scrollFactorY,v.copyToContext(x)),(!e.antialias||i.scaleX>1||i.scaleY>1)&&(x.imageSmoothingEnabled=!1);for(var y=0;y<f;y++){var T=a[y],R=m[T.index];if(R){var P=R.image.getSourceImage(),D=R.getTileTextureCoordinates(T.index),O=R.tileWidth,B=R.tileHeight;if(!(D===null||O===0||B===0)){var G=O*.5,b=B*.5;D.x+=R.tileOffset.x,D.y+=R.tileOffset.y,x.save(),x.translate(T.pixelX+G,T.pixelY+b),T.rotation!==0&&x.rotate(T.rotation),(T.flipX||T.flipY)&&x.scale(T.flipX?-1:1,T.flipY?-1:1),x.globalAlpha=u*T.alpha,x.drawImage(P,D.x,D.y,O,B,-G,-b,O,B),x.restore()}}}x.restore()}};p.exports=s},96193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),c=h,l=h;c=t(51395),l=t(17394),p.exports={renderWebGL:c,renderCanvas:l}},51395:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),c=function(l,r,s){var e=r.cull(s),i=e.length,o=s.alpha*r.alpha;if(!(i===0||o<=0)){var n=r.gidMap,a=l.pipelines.set(r.pipeline,r),f=h.getTintAppendFloatAlpha,u=r.scrollFactorX,d=r.scrollFactorY,v=r.x,g=r.y,x=r.scaleX,m=r.scaleY;l.pipelines.preBatch(r);for(var y=0;y<i;y++){var T=e[y],R=n[T.index];if(R){var P=R.getTileTextureCoordinates(T.index);if(P!==null){var D=R.glTexture,O=a.setTexture2D(D,r),B=R.tileWidth,G=R.tileHeight,b=P.x,k=P.y,$=R.tileWidth*.5,W=R.tileHeight*.5,Z=R.tileOffset.x,z=R.tileOffset.y,X=f(T.tint,o*T.alpha);a.batchTexture(r,D,D.width,D.height,v+T.pixelX*x+($*x-Z),g+T.pixelY*m+(W*m-z),T.width,T.height,x,m,T.rotation,T.flipX,T.flipY,u,d,$,W,b,k,B,G,X,X,X,X,!1,0,0,s,null,!0,O)}}}l.pipelines.postBatch(r)}};p.exports=c},47975:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(93736),l=new h({initialize:function(s,e,i,o,n,a,f,u,d){(i===void 0||i<=0)&&(i=32),(o===void 0||o<=0)&&(o=32),n===void 0&&(n=0),a===void 0&&(a=0),f===void 0&&(f={}),u===void 0&&(u={}),this.name=s,this.firstgid=e,this.tileWidth=i,this.tileHeight=o,this.tileMargin=n,this.tileSpacing=a,this.tileProperties=f,this.tileData=u,this.tileOffset=new c,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var s=this.getTileData(r);return s&&s.objectgroup?s.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){return this.image=r,this.glTexture=r.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(r,s){return r!==void 0&&(this.tileWidth=r),s!==void 0&&(this.tileHeight=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,s){return r!==void 0&&(this.tileMargin=r),s!==void 0&&(this.tileSpacing=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,s){var e=(s-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(e%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),e=Math.floor(e),i=Math.floor(i),this.rows=e,this.columns=i,this.total=e*i,this.texCoordinates.length=0;for(var o=this.tileMargin,n=this.tileMargin,a=0;a<this.rows;a++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:o,y:n}),o+=this.tileWidth+this.tileSpacing;o=this.tileMargin,n+=this.tileHeight+this.tileSpacing}return this}});p.exports=l},92839:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15494),c=function(l,r,s){var e=h(l,r,!0,s),i=h(l,r-1,!0,s),o=h(l,r+1,!0,s),n=h(l-1,r,!0,s),a=h(l+1,r,!0,s),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),i&&i.collides&&(f&&(e.faceTop=!1),i.faceBottom=!f),o&&o.collides&&(f&&(e.faceBottom=!1),o.faceTop=!f),n&&n.collides&&(f&&(e.faceLeft=!1),n.faceRight=!f),a&&a.collides&&(f&&(e.faceRight=!1),a.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};p.exports=c},60386:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15494),c=t(50811),l=function(r,s,e,i,o){for(var n=null,a=null,f=null,u=null,d=c(r,s,e,i,null,o),v=0;v<d.length;v++){var g=d[v];g&&(g.collides?(n=h(g.x,g.y-1,!0,o),a=h(g.x,g.y+1,!0,o),f=h(g.x-1,g.y,!0,o),u=h(g.x+1,g.y,!0,o),g.faceTop=!(n&&n.collides),g.faceBottom=!(a&&a.collides),g.faceLeft=!(f&&f.collides),g.faceRight=!(u&&u.collides)):g.resetFaces())}};p.exports=l},13125:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=new h,l=function(r,s,e,i){var o=e.tilemapLayer,n=o.cullPaddingX,a=o.cullPaddingY,f=o.tilemap.tileToWorldXY(r,s,c,i,o);return f.x>i.worldView.x+o.scaleX*e.tileWidth*(-n-.5)&&f.x<i.worldView.right+o.scaleX*e.tileWidth*(n-.5)&&f.y>i.worldView.y+o.scaleY*e.tileHeight*(-a-1)&&f.y<i.worldView.bottom+o.scaleY*e.tileHeight*(a-.5)};p.exports=l},17347:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60386),c=t(50811),l=t(62839),r=t(29633),s=function(e,i,o,n,a,f,u,d){u===void 0&&(u=!0);var v=c(e,i,o,n,null,d),g=[];v.forEach(function(D){var O=new r(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);O.copy(D),g.push(O)});for(var x=a-e,m=f-i,y=0;y<g.length;y++){var T=g[y],R=T.x+x,P=T.y+m;l(R,P,d)&&d.data[P][R]&&(T.x=R,T.y=P,T.updatePixelXY(),d.data[P][R]=T)}u&&h(a-1,f-1,o+2,n+2,d),v.length=0,g.length=0};p.exports=s},93604:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=t(51202),l=function(r,s,e,i,o,n){e||(e={}),Array.isArray(r)||(r=[r]);var a=n.tilemapLayer;i||(i=a.scene),o||(o=i.cameras.main);var f=h(0,0,n.width,n.height,null,n),u=[],d;for(d=0;d<f.length;d++){var v=f[d];if(r.indexOf(v.index)!==-1){var g=a.tileToWorldXY(v.x,v.y,void 0,o,n);e.x=g.x,e.y=g.y,u.push(i.make.sprite(e))}}if(typeof s=="number")for(d=0;d<r.length;d++)c(r[d],s,0,0,n.width,n.height,n);else if(Array.isArray(s))for(d=0;d<r.length;d++)c(r[d],s[d],0,0,n.width,n.height,n);return u};p.exports=l},71586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),c=t(82127),l=t(84314),r=new h,s=function(e,i){var o=e.tilemapLayer.tilemap,n=e.tilemapLayer,a=Math.floor(o.tileWidth*n.scaleX),f=Math.floor(o.tileHeight*n.scaleY),u=l(i.worldView.x-n.x,a,0,!0)-n.cullPaddingX,d=c(i.worldView.right-n.x,a,0,!0)+n.cullPaddingX,v=l(i.worldView.y-n.y,f,0,!0)-n.cullPaddingY,g=c(i.worldView.bottom-n.y,f,0,!0)+n.cullPaddingY;return r.setTo(u,v,d-u,g-v)};p.exports=s},381:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71586),c=t(6987),l=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var o=r.tilemapLayer,n=h(r,s);return(o.skipCull||o.scrollFactorX!==1||o.scrollFactorY!==1)&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),c(r,n,i,e),e};p.exports=l},97734:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=t(60386),l=t(68234),r=function(s,e,i,o,n,a,f){for(var u=f.collideIndexes.indexOf(s)!==-1,d=h(e,i,o,n,null,f),v=0;v<d.length;v++)d[v].index=s,l(d[v],u);a&&c(e-1,i-1,o+2,n+2,f)};p.exports=r},63555:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=function(l,r,s,e,i,o,n,a){var f=h(s,e,i,o,n,a);return f.filter(l,r)};p.exports=c},37982:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){h===void 0&&(h=0),c===void 0&&(c=!1);var r=0,s,e,i;if(c){for(e=l.height-1;e>=0;e--)for(s=l.width-1;s>=0;s--)if(i=l.data[e][s],i&&i.index===t){if(r===h)return i;r+=1}}else for(e=0;e<l.height;e++)for(s=0;s<l.width;s++)if(i=l.data[e][s],i&&i.index===t){if(r===h)return i;r+=1}return null};p.exports=S},48297:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=function(l,r,s,e,i,o,n,a){var f=h(s,e,i,o,n,a);return f.find(l,r)||null};p.exports=c},80916:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=function(l,r,s,e,i,o,n,a){var f=h(s,e,i,o,n,a);f.forEach(l,r)};p.exports=c},31493:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=t(381),l=t(37524),r=t(20887),s=t(72283),e=t(19242),i=function(o){return o===h.ORTHOGONAL?c:o===h.HEXAGONAL?l:o===h.STAGGERED?e:o===h.ISOMETRIC?r:s};p.exports=i},15494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62839),c=function(l,r,s,e){if(s===void 0&&(s=!1),h(l,r,e)){var i=e.data[r][l]||null;return i?i.index===-1?s?i:null:i:null}else return null};p.exports=c},24640:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15494),c=t(93736),l=new c,r=function(s,e,i,o,n){return n.tilemapLayer.worldToTileXY(s,e,!0,l,o),h(l.x,l.y,i,n)};p.exports=r},48495:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e){var i=e.baseTileWidth,o=e.baseTileHeight,n=e.tilemapLayer,a=0,f=0;n&&(s||(s=n.scene.cameras.main),a=n.x+s.scrollX*(1-n.scrollFactorX),f=n.y+s.scrollY*(1-n.scrollFactorY),i*=n.scaleX,o*=n.scaleY);var u=a+l*i,d=f+r*o;return[new h(u,d),new h(u+i,d),new h(u+i,d+o),new h(u,d+o)]};p.exports=c},7160:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=t(63634),l=t(72283),r=t(48495),s=function(e){return e===h.ORTHOGONAL?r:e===h.ISOMETRIC?l:e===h.HEXAGONAL?c:(e===h.STAGGERED,l)};p.exports=s},16884:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=t(72283),l=t(44150),r=function(s){return s===h.ORTHOGONAL?l:c};p.exports=r},68182:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=t(21715),l=t(21808),r=t(72283),s=t(33388),e=t(46836),i=function(o){return o===h.ORTHOGONAL?e:o===h.ISOMETRIC?l:o===h.HEXAGONAL?c:o===h.STAGGERED?s:r};p.exports=i},3752:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=t(72283),l=t(84132),r=t(42477),s=function(e){return e===h.ORTHOGONAL?r:e===h.STAGGERED?l:c};p.exports=s},50811:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c=function(l,r,s,e,i,o){l===void 0&&(l=0),r===void 0&&(r=0),s===void 0&&(s=o.width),e===void 0&&(e=o.height),i||(i={});var n=h(i,"isNotEmpty",!1),a=h(i,"isColliding",!1),f=h(i,"hasInterestingFace",!1);l<0&&(s+=l,l=0),r<0&&(e+=r,r=0),l+s>o.width&&(s=Math.max(o.width-l,0)),r+e>o.height&&(e=Math.max(o.height-r,0));for(var u=[],d=r;d<r+e;d++)for(var v=l;v<l+s;v++){var g=o.data[d][v];if(g!==null){if(n&&g.index===-1||a&&!g.collides||f&&!g.hasInterestingFace)continue;u.push(g)}}return u};p.exports=c},31674:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84068),c=t(50811),l=t(7563),r=t(72283),s=t(93736),e=function(f,u){return l.RectangleToTriangle(u,f)},i=new s,o=new s,n=new s,a=function(f,u,d,v){if(f===void 0)return[];var g=r;f instanceof h.Circle?g=l.CircleToRectangle:f instanceof h.Rectangle?g=l.RectangleToRectangle:f instanceof h.Triangle?g=e:f instanceof h.Line&&(g=l.LineToRectangle),v.tilemapLayer.worldToTileXY(f.left,f.top,!0,o,d);var x=o.x,m=o.y;v.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,n,d);var y=Math.ceil(n.x),T=Math.ceil(n.y),R=Math.max(y-x,1),P=Math.max(T-m,1),D=c(x,m,R,P,u,v),O=v.tileWidth,B=v.tileHeight;v.tilemapLayer&&(O*=v.tilemapLayer.scaleX,B*=v.tilemapLayer.scaleY);for(var G=[],b=new h.Rectangle(0,0,O,B),k=0;k<D.length;k++){var $=D[k];v.tilemapLayer.tileToWorldXY($.x,$.y,i,d),b.x=i.x,b.y=i.y,g(f,b)&&G.push($)}return G};p.exports=a},44662:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=t(93736),l=new c,r=new c,s=function(e,i,o,n,a,f,u){var d=u.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,i,!0,l,f,u);var v=l.x,g=l.y;d(e+o,i+n,!1,r,f,u);var x=Math.ceil(r.x),m=Math.ceil(r.y);return h(v,g,x-v,m-g,a,u)};p.exports=s},29296:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=t(10618),l=t(806),r=function(s){return s===h.ORTHOGONAL?l:c};p.exports=r},32688:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=t(11516),l=t(18750),r=t(72283),s=t(90562),e=t(45676),i=function(o){return o===h.ORTHOGONAL?e:o===h.ISOMETRIC?l:o===h.HEXAGONAL?c:o===h.STAGGERED?s:r};p.exports=i},74326:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=t(10618),l=t(3689),r=t(70520),s=function(e){return e===h.ORTHOGONAL?r:e===h.STAGGERED?l:c};p.exports=s},46598:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62839),c=function(l,r,s){if(h(l,r,s)){var e=s.data[r][l];return e!==null&&e.index>-1}else return!1};p.exports=c},28654:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46598),c=t(93736),l=new c,r=function(s,e,i,o){o.tilemapLayer.worldToTileXY(s,e,!0,l,i);var n=l.x,a=l.y;return h(n,a,o)};p.exports=r},6358:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82127),c=t(84314),l=function(r,s){var e=r.tilemapLayer.tilemap,i=r.tilemapLayer,o=Math.floor(e.tileWidth*i.scaleX),n=Math.floor(e.tileHeight*i.scaleY),a=r.hexSideLength,f,u,d,v;if(this.staggerAxis==="y"){var g=(n-a)/2+a;f=c(s.worldView.x-i.x,o,0,!0)-i.cullPaddingX,u=h(s.worldView.right-i.x,o,0,!0)+i.cullPaddingX,d=c(s.worldView.y-i.y,g,0,!0)-i.cullPaddingY,v=h(s.worldView.bottom-i.y,g,0,!0)+i.cullPaddingY}else{var x=(o-a)/2+a;f=c(s.worldView.x-i.x,x,0,!0)-i.cullPaddingX,u=h(s.worldView.right-i.x,x,0,!0)+i.cullPaddingX,d=c(s.worldView.y-i.y,n,0,!0)-i.cullPaddingY,v=h(s.worldView.bottom-i.y,n,0,!0)+i.cullPaddingY}return{left:f,right:u,top:d,bottom:v}};p.exports=l},37524:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6358),c=t(6987),l=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var o=r.tilemapLayer,n=h(r,s);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),c(r,n,i,e),e};p.exports=l},63634:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21715),c=t(93736),l=new c,r=function(s,e,i,o){var n=o.baseTileWidth,a=o.baseTileHeight,f=o.tilemapLayer;f&&(n*=f.scaleX,a*=f.scaleY);var u=h(s,e,l,i,o),d=[],v=.5773502691896257,g,x;this.staggerAxis==="y"?(g=v*n,x=a/2):(g=n/2,x=v*a);for(var m=0;m<6;m++){var y=2*Math.PI*(.5-m)/6;d.push(new c(u.x+g*Math.cos(y),u.y+x*Math.sin(y)))}return d};p.exports=r},21715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i){s||(s=new h);var o=i.baseTileWidth,n=i.baseTileHeight,a=i.tilemapLayer,f=0,u=0;a&&(e||(e=a.scene.cameras.main),f=a.x+e.scrollX*(1-a.scrollFactorX),u=a.y+e.scrollY*(1-a.scrollFactorY),o*=a.scaleX,n*=a.scaleY);var d=o/2,v=n/2,g,x;return this.staggerAxis==="y"?(g=f+o*l+o,x=u+1.5*r*v+v,r%2===0&&(this.staggerIndex==="odd"?g-=d:g+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(g=f+1.5*l*d+d,x=u+n*l+n,l%2===0&&(this.staggerIndex==="odd"?x-=v:x+=v)),s.set(g,x)};p.exports=c},11516:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i,o){e||(e=new h);var n=o.baseTileWidth,a=o.baseTileHeight,f=o.tilemapLayer;f&&(i||(i=f.scene.cameras.main),l=l-(f.x+i.scrollX*(1-f.scrollFactorX)),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,a*=f.scaleY);var u=.5773502691896257,d=-.3333333333333333,v=0,g=.6666666666666666,x=n/2,m=a/2,y,T,R,P,D;o.staggerAxis==="y"?(y=(l-x)/(u*n),T=(r-m)/m,R=u*y+d*T,P=v*y+g*T):(y=(l-x)/x,T=(r-m)/(u*a),R=d*y+u*T,P=g*y+v*T),D=-R-P;var O=Math.round(R),B=Math.round(P),G=Math.round(D),b=Math.abs(O-R),k=Math.abs(B-P),$=Math.abs(G-D);b>k&&b>$?O=-B-G:k>$&&(B=-O-G);var W,Z=B;return o.staggerIndex==="odd"?W=Z%2===0?B/2+O:B/2+O-.5:W=Z%2===0?B/2+O:B/2+O+.5,e.set(W,Z)};p.exports=c},62839:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t>=0&&t<c.width&&h>=0&&h<c.height};p.exports=S},20887:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13125),c=function(l,r,s,e){s===void 0&&(s=[]),e===void 0&&(e=0),s.length=0;var i=l.tilemapLayer,o=l.data,n=l.width,a=l.height,f=i.skipCull,u=0,d=n,v=0,g=a,x,m,y;if(e===0){for(m=v;m<g;m++)for(x=u;x<d;x++)if(f||h(x,m,l,r)){if(y=o[m][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;s.push(y)}}else if(e===1){for(m=v;m<g;m++)for(x=d;x>=u;x--)if(f||h(x,m,l,r)){if(y=o[m][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;s.push(y)}}else if(e===2){for(m=g;m>=v;m--)for(x=u;x<d;x++)if(f||h(x,m,l,r)){if(y=o[m][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;s.push(y)}}else if(e===3){for(m=g;m>=v;m--)for(x=d;x>=u;x--)if(f||h(x,m,l,r)){if(y=o[m][x],!y||y.index===-1||!y.visible||y.alpha===0)continue;s.push(y)}}return i.tilesDrawn=s.length,i.tilesTotal=n*a,s};p.exports=c},21808:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i){s||(s=new h);var o=i.baseTileWidth,n=i.baseTileHeight,a=i.tilemapLayer,f=0,u=0;a&&(e||(e=a.scene.cameras.main),f=a.x+e.scrollX*(1-a.scrollFactorX),o*=a.scaleX,u=a.y+e.scrollY*(1-a.scrollFactorY),n*=a.scaleY);var d=f+(l-r)*(o/2),v=u+(l+r)*(n/2);return s.set(d,v)};p.exports=c},18750:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i,o,n){e||(e=new h);var a=o.baseTileWidth,f=o.baseTileHeight,u=o.tilemapLayer;u&&(i||(i=u.scene.cameras.main),r=r-(u.y+i.scrollY*(1-u.scrollFactorY)),f*=u.scaleY,l=l-(u.x+i.scrollX*(1-u.scrollFactorX)),a*=u.scaleX);var d=a/2,v=f/2;l=l-d,n||(r=r-f);var g=.5*(l/d+r/v),x=.5*(-l/d+r/v);return s&&(g=Math.floor(g),x=Math.floor(x)),e.set(g,x)};p.exports=c},29003:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29633),c=t(62839),l=t(92839),r=t(68234),s=function(e,i,o,n,a){if(n===void 0&&(n=!0),!c(i,o,a))return null;var f,u=a.data[o][i],d=u&&u.collides;e instanceof h?(a.data[o][i]===null&&(a.data[o][i]=new h(a,e.index,i,o,a.tileWidth,a.tileHeight)),a.data[o][i].copy(e)):(f=e,a.data[o][i]===null?a.data[o][i]=new h(a,f,i,o,a.tileWidth,a.tileHeight):a.data[o][i].index=f);var v=a.data[o][i],g=a.collideIndexes.indexOf(v.index)!==-1;if(f=e instanceof h?e.index:e,f===-1)v.width=a.tileWidth,v.height=a.tileHeight;else{var x=a.tilemapLayer.tilemap.tiles,m=x[f][2],y=a.tilemapLayer.tileset[m];v.width=y.tileWidth,v.height=y.tileHeight}return r(v,g),n&&d!==v.collides&&l(i,o,a),v};p.exports=s},48565:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29003),c=t(93736),l=new c,r=function(s,e,i,o,n,a){return a.tilemapLayer.worldToTileXY(e,i,!0,l,n,a),h(s,l.x,l.y,o,a)};p.exports=r},56547:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60386),c=t(29003),l=function(r,s,e,i,o){if(i===void 0&&(i=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var n=r.length,a=r[0].length,f=0;f<n;f++)for(var u=0;u<a;u++){var d=r[f][u];c(d,s+u,e+f,!1,o)}i&&h(s-1,e-1,a+2,n+2,o)};p.exports=l},91180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=t(72861),l=function(r,s,e,i,o,n){var a,f=h(r,s,e,i,{},n);if(!o)for(o=[],a=0;a<f.length;a++)o.indexOf(f[a].index)===-1&&o.push(f[a].index);for(a=0;a<f.length;a++)f[a].index=c(o)};p.exports=l},929:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29633),c=t(62839),l=t(92839),r=function(s,e,i,o,n){if(i===void 0&&(i=!0),o===void 0&&(o=!0),!c(s,e,n))return null;var a=n.data[e][s];if(a)n.data[e][s]=i?null:new h(n,-1,s,e,n.tileWidth,n.tileHeight);else return null;return o&&a&&a.collides&&l(s,e,n),a};p.exports=r},17384:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(929),c=t(93736),l=new c,r=function(s,e,i,o,n,a){return a.tilemapLayer.worldToTileXY(s,e,!0,l,n,a),h(l.x,l.y,i,o,a)};p.exports=r},93763:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=t(95509),l=new c(105,210,231,150),r=new c(243,134,48,200),s=new c(40,39,37,150),e=function(i,o,n){o===void 0&&(o={});var a=o.tileColor!==void 0?o.tileColor:l,f=o.collidingTileColor!==void 0?o.collidingTileColor:r,u=o.faceColor!==void 0?o.faceColor:s,d=h(0,0,n.width,n.height,null,n);i.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),i.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var v=0;v<d.length;v++){var g=d[v],x=g.width,m=g.height,y=g.pixelX,T=g.pixelY,R=g.collides?f:a;R!==null&&(i.fillStyle(R.color,R.alpha/255),i.fillRect(y,T,x,m)),y+=1,T+=1,x-=2,m-=2,u!==null&&(i.lineStyle(1,u.color,u.alpha/255),g.faceTop&&i.lineBetween(y,T,y+x,T),g.faceRight&&i.lineBetween(y+x,T,y+x,T+m),g.faceBottom&&i.lineBetween(y,T+m,y+x,T+m),g.faceLeft&&i.lineBetween(y,T,y,T+m))}};p.exports=e},51202:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=function(l,r,s,e,i,o,n){for(var a=h(s,e,i,o,null,n),f=0;f<a.length;f++)a[f]&&a[f].index===l&&(a[f].index=r)};p.exports=c},6987:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=t.data,s=t.width,e=t.height,i=t.tilemapLayer,o=Math.max(0,h.left),n=Math.min(s,h.right),a=Math.max(0,h.top),f=Math.min(e,h.bottom),u,d,v;if(c===0)for(d=a;d<f;d++)for(u=o;r[d]&&u<n;u++)v=r[d][u],!(!v||v.index===-1||!v.visible||v.alpha===0)&&l.push(v);else if(c===1)for(d=a;d<f;d++)for(u=n;r[d]&&u>=o;u--)v=r[d][u],!(!v||v.index===-1||!v.visible||v.alpha===0)&&l.push(v);else if(c===2)for(d=f;d>=a;d--)for(u=o;r[d]&&u<n;u++)v=r[d][u],!(!v||v.index===-1||!v.visible||v.alpha===0)&&l.push(v);else if(c===3)for(d=f;d>=a;d--)for(u=n;r[d]&&u>=o;u--)v=r[d][u],!(!v||v.index===-1||!v.visible||v.alpha===0)&&l.push(v);return i.tilesDrawn=l.length,i.tilesTotal=s*e,l};p.exports=S},51710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),c=t(60386),l=t(91181),r=function(s,e,i,o,n){e===void 0&&(e=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++)l(s[a],e,o);if(n)for(var f=0;f<o.height;f++)for(var u=0;u<o.width;u++){var d=o.data[f][u];d&&s.indexOf(d.index)!==-1&&h(d,e)}i&&c(0,0,o.width,o.height,o)};p.exports=r},15216:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),c=t(60386),l=t(91181),r=function(s,e,i,o,n,a){if(i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),!(s>e)){for(var f=s;f<=e;f++)l(f,i,n);if(a)for(var u=0;u<n.height;u++)for(var d=0;d<n.width;d++){var v=n.data[u][d];v&&v.index>=s&&v.index<=e&&h(v,i)}o&&c(0,0,n.width,n.height,n)}};p.exports=r},33158:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),c=t(60386),l=t(91181),r=function(s,e,i,o){e===void 0&&(e=!0),i===void 0&&(i=!0),Array.isArray(s)||(s=[s]);for(var n=0;n<o.height;n++)for(var a=0;a<o.width;a++){var f=o.data[n][a];f&&s.indexOf(f.index)===-1&&(h(f,e),l(f.index,e,o))}i&&c(0,0,o.width,o.height,o)};p.exports=r},4180:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),c=t(60386),l=t(19256),r=function(s,e,i,o){e===void 0&&(e=!0),i===void 0&&(i=!0);for(var n=0;n<o.height;n++)for(var a=0;a<o.width;a++){var f=o.data[n][a];if(f){for(var u in s)if(l(f.properties,u)){var d=s[u];Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++)f.properties[u]===d[v]&&h(f,e)}}}i&&c(0,0,o.width,o.height,o)};p.exports=r},18625:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),c=t(60386),l=function(r,s,e){r===void 0&&(r=!0),s===void 0&&(s=!0);for(var i=0;i<e.height;i++)for(var o=0;o<e.width;o++){var n=e.data[i][o];if(n){var a=n.getCollisionGroup();a&&a.objects&&a.objects.length>0&&h(n,r)}}s&&c(0,0,e.width,e.height,e)};p.exports=l},91181:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=c.collideIndexes.indexOf(t);h&&l===-1?c.collideIndexes.push(t):!h&&l!==-1&&c.collideIndexes.splice(l,1)};p.exports=S},68234:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};p.exports=S},11628:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){if(typeof t=="number")l.callbacks[t]=h!==null?{callback:h,callbackContext:c}:void 0;else for(var r=0,s=t.length;r<s;r++)l.callbacks[t[r]]=h!==null?{callback:h,callbackContext:c}:void 0};p.exports=S},72732:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=function(l,r,s,e,i,o,n){for(var a=h(l,r,s,e,null,n),f=0;f<a.length;f++)a[f].setCollisionCallback(i,o)};p.exports=c},34397:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=t(18592),l=function(r,s,e,i,o){var n=h(r,s,e,i,null,o),a=n.map(function(u){return u.index});c(a);for(var f=0;f<n.length;f++)n[f].index=a[f]};p.exports=l},53945:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82127),c=t(84314),l=function(r,s){var e=r.tilemapLayer.tilemap,i=r.tilemapLayer,o=Math.floor(e.tileWidth*i.scaleX),n=Math.floor(e.tileHeight*i.scaleY),a=c(s.worldView.x-i.x,o,0,!0)-i.cullPaddingX,f=h(s.worldView.right-i.x,o,0,!0)+i.cullPaddingX,u=c(s.worldView.y-i.y,n/2,0,!0)-i.cullPaddingY,d=h(s.worldView.bottom-i.y,n/2,0,!0)+i.cullPaddingY;return{left:a,right:f,top:u,bottom:d}};p.exports=l},19242:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53945),c=t(6987),l=function(r,s,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var o=r.tilemapLayer,n=h(r,s);return o.skipCull&&o.scrollFactorX===1&&o.scrollFactorY===1&&(n.left=0,n.right=r.width,n.top=0,n.bottom=r.height),c(r,n,i,e),e};p.exports=l},33388:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i){s||(s=new h);var o=i.baseTileWidth,n=i.baseTileHeight,a=i.tilemapLayer,f=0,u=0;a&&(e||(e=a.scene.cameras.main),f=a.x+e.scrollX*(1-a.scrollFactorX),o*=a.scaleX,u=a.y+e.scrollY*(1-a.scrollFactorY),n*=a.scaleY);var d=f+l*o+r%2*(o/2),v=u+r*(n/2);return s.set(d,v)};p.exports=c},84132:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=c.baseTileHeight,r=c.tilemapLayer,s=0;return r&&(h===void 0&&(h=r.scene.cameras.main),s=r.y+h.scrollY*(1-r.scrollFactorY),l*=r.scaleY),s+t*(l/2)+l};p.exports=S},90562:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i,o){e||(e=new h);var n=o.baseTileWidth,a=o.baseTileHeight,f=o.tilemapLayer;f&&(i||(i=f.scene.cameras.main),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),a*=f.scaleY,l=l-(f.x+i.scrollX*(1-f.scrollFactorX)),n*=f.scaleX);var u=s?Math.floor(r/(a/2)):r/(a/2),d=s?Math.floor((l+u%2*.5*n)/n):(l+u%2*.5*n)/n;return e.set(d,u)};p.exports=c},3689:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=l.baseTileHeight,s=l.tilemapLayer;return s&&(c||(c=s.scene.cameras.main),t=t-(s.y+c.scrollY*(1-s.scrollFactorY)),r*=s.scaleY),h?Math.floor(t/(r/2)):t/(r/2)};p.exports=S},55217:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=function(l,r,s,e,i,o,n){for(var a=h(s,e,i,o,null,n),f=0;f<a.length;f++)a[f]&&(a[f].index===l?a[f].index=r:a[f].index===r&&(a[f].index=l))};p.exports=c},44150:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=c.baseTileWidth,r=c.tilemapLayer,s=0;return r&&(h||(h=r.scene.cameras.main),s=r.x+h.scrollX*(1-r.scrollFactorX),l*=r.scaleX),s+t*l};p.exports=S},46836:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44150),c=t(42477),l=t(93736),r=function(s,e,i,o,n){return i||(i=new l(0,0)),i.x=h(s,o,n),i.y=c(e,o,n),i};p.exports=r},42477:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=c.baseTileHeight,r=c.tilemapLayer,s=0;return r&&(h||(h=r.scene.cameras.main),s=r.y+h.scrollY*(1-r.scrollFactorY),l*=r.scaleY),s+t*l};p.exports=S},39677:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),c=function(l,r,s,e,i,o){if(i){var n,a=h(l,r,s,e,null,o),f=0;for(n=0;n<i.length;n++)f+=i[n].weight;if(!(f<=0))for(n=0;n<a.length;n++){for(var u=Math.random()*f,d=0,v=-1,g=0;g<i.length;g++)if(d+=i[g].weight,u<=d){var x=i[g].index;v=Array.isArray(x)?x[Math.floor(Math.random()*x.length)]:x;break}a[n].index=v}}};p.exports=c},806:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45676),c=t(93736),l=new c,r=function(s,e,i,o){return h(s,0,e,l,i,o),l.x};p.exports=r},45676:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),c=function(l,r,s,e,i,o){s===void 0&&(s=!0),e||(e=new h);var n=o.baseTileWidth,a=o.baseTileHeight,f=o.tilemapLayer;f&&(i||(i=f.scene.cameras.main),l=l-(f.x+i.scrollX*(1-f.scrollFactorX)),r=r-(f.y+i.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,a*=f.scaleY);var u=l/n,d=r/a;return s&&(u=Math.floor(u),d=Math.floor(d)),e.set(u,d)};p.exports=c},70520:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45676),c=t(93736),l=new c,r=function(s,e,i,o){return h(0,s,e,l,i,o),l.y};p.exports=r},5047:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(12920)};p.exports=h},52678:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),c=t(84758),l={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};l=h(!1,l,c.ORIENTATION),p.exports=l},94990:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12920),l=t(72632),r=new h({initialize:function(e){e===void 0&&(e={}),this.name=l(e,"name","layer"),this.x=l(e,"x",0),this.y=l(e,"y",0),this.width=l(e,"width",0),this.height=l(e,"height",0),this.tileWidth=l(e,"tileWidth",0),this.tileHeight=l(e,"tileHeight",0),this.baseTileWidth=l(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=l(e,"baseTileHeight",this.tileHeight),this.orientation=l(e,"orientation",c.ORTHOGONAL),this.widthInPixels=l(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=l(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=l(e,"alpha",1),this.visible=l(e,"visible",!0),this.properties=l(e,"properties",[]),this.indexes=l(e,"indexes",[]),this.collideIndexes=l(e,"collideIndexes",[]),this.callbacks=l(e,"callbacks",[]),this.bodies=l(e,"bodies",[]),this.data=l(e,"data",[]),this.tilemapLayer=l(e,"tilemapLayer",null),this.hexSideLength=l(e,"hexSideLength",0),this.staggerAxis=l(e,"staggerAxis","y"),this.staggerIndex=l(e,"staggerIndex","odd")}});p.exports=r},16586:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(12920),l=t(72632),r=new h({initialize:function(e){e===void 0&&(e={}),this.name=l(e,"name","map"),this.width=l(e,"width",0),this.height=l(e,"height",0),this.infinite=l(e,"infinite",!1),this.tileWidth=l(e,"tileWidth",0),this.tileHeight=l(e,"tileHeight",0),this.widthInPixels=l(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=l(e,"heightInPixels",this.height*this.tileHeight),this.format=l(e,"format",null),this.orientation=l(e,"orientation",c.ORTHOGONAL),this.renderOrder=l(e,"renderOrder","right-down"),this.version=l(e,"version","1"),this.properties=l(e,"properties",{}),this.layers=l(e,"layers",[]),this.images=l(e,"images",[]),this.objects=l(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=l(e,"collision",{}),this.tilesets=l(e,"tilesets",[]),this.imageCollections=l(e,"imageCollections",[]),this.tiles=l(e,"tiles",[]),this.hexSideLength=l(e,"hexSideLength",0),this.staggerAxis=l(e,"staggerAxis","y"),this.staggerIndex=l(e,"staggerIndex","odd")}});p.exports=r},15256:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=new h({initialize:function(s){s===void 0&&(s={}),this.name=c(s,"name","object layer"),this.opacity=c(s,"opacity",1),this.properties=c(s,"properties",{}),this.propertyTypes=c(s,"propertytypes",{}),this.type=c(s,"type","objectgroup"),this.visible=c(s,"visible",!0),this.objects=c(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});p.exports=l},21394:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),c=function(l){return l=l.toLowerCase(),l==="isometric"?h.ISOMETRIC:l==="staggered"?h.STAGGERED:l==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};p.exports=c},90715:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),c=t(84346),l=t(96097),r=t(2378),s=t(44909),e=function(i,o,n,a,f,u){var d;switch(o){case h.ARRAY_2D:d=c(i,n,a,f,u);break;case h.CSV:d=l(i,n,a,f,u);break;case h.TILED_JSON:d=r(i,n,u);break;case h.WELTMEISTER:d=s(i,n,u);break;default:console.warn("Unrecognized tilemap data format: "+o),d=null}return d};p.exports=e},84346:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),c=t(94990),l=t(16586),r=t(29633),s=function(e,i,o,n,a){for(var f=new c({tileWidth:o,tileHeight:n}),u=new l({name:e,tileWidth:o,tileHeight:n,format:h.ARRAY_2D,layers:[f]}),d=[],v=i.length,g=0,x=0;x<i.length;x++){d[x]=[];for(var m=i[x],y=0;y<m.length;y++){var T=parseInt(m[y],10);isNaN(T)||T===-1?d[x][y]=a?null:new r(f,-1,y,x,o,n):d[x][y]=new r(f,T,y,x,o,n)}g===0&&(g=m.length)}return u.width=f.width=g,u.height=f.height=v,u.widthInPixels=f.widthInPixels=g*o,u.heightInPixels=f.heightInPixels=v*n,f.data=d,u};p.exports=s},96097:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),c=t(84346),l=function(r,s,e,i,o){var n=s.trim().split(`
`).map(function(f){return f.split(",")}),a=c(r,n,e,i,o);return a.format=h.CSV,a};p.exports=l},30951:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94990),c=t(29633),l=function(r,s){for(var e=[],i=0;i<r.layer.length;i++){for(var o=r.layer[i],n=new h({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:o.visible===1}),a=[],f=[],u=0;u<o.data.length;u++){for(var d=0;d<o.data[u].length;d++){var v=o.data[u][d]-1,g;v>-1?g=new c(n,v,d,u,o.tilesize,o.tilesize):g=s?null:new c(n,-1,d,u,o.tilesize,o.tilesize),a.push(g)}f.push(a),a=[]}n.data=f,e.push(n)}return e};p.exports=l},47488:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47975),c=function(l){for(var r=[],s=[],e=0;e<l.layer.length;e++){var i=l.layer[e],o=i.tilesetName;o!==""&&s.indexOf(o)===-1&&(s.push(o),r.push(new h(o,0,i.tilesize,i.tilesize,0,0)))}return r};p.exports=c},44909:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),c=t(16586),l=t(30951),r=t(47488),s=function(e,i,o){if(i.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var n=0,a=0,f=0;f<i.layer.length;f++)i.layer[f].width>n&&(n=i.layer[f].width),i.layer[f].height>a&&(a=i.layer[f].height);var u=new c({width:n,height:a,name:e,tileWidth:i.layer[0].tilesize,tileHeight:i.layer[0].tilesize,format:h.WELTMEISTER});return u.layers=l(i,o),u.tilesets=r(i),u};p.exports=s},24507:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),c=function(l){for(var r,s,e,i,o,n=0;n<l.layers.length;n++){r=l.layers[n],i=null;for(var a=0;a<r.data.length;a++){o=r.data[a];for(var f=0;f<o.length;f++)s=o[f],!(s===null||s.index<0)&&(e=l.tiles[s.index][2],i=l.tilesets[e],s.width=i.tileWidth,s.height=i.tileHeight,i.tileProperties&&i.tileProperties[s.index-i.firstgid]&&(s.properties=h(s.properties,i.tileProperties[s.index-i.firstgid])))}}};p.exports=c},43908:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=window.atob(t),c=h.length,l=new Array(c/4),r=0;r<c;r+=4)l[r/4]=(h.charCodeAt(r)|h.charCodeAt(r+1)<<8|h.charCodeAt(r+2)<<16|h.charCodeAt(r+3)<<24)>>>0;return l};p.exports=S},14556:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47975),c=function(l){var r,s,e=[];for(r=0;r<l.imageCollections.length;r++)for(var i=l.imageCollections[r],o=i.images,n=0;n<o.length;n++){var a=o[n];s=new h(a.image,a.gid,i.imageWidth,i.imageHeight,0,0),s.updateTileData(i.imageWidth,i.imageHeight),l.tilesets.push(s)}for(r=0;r<l.tilesets.length;r++){s=l.tilesets[r];for(var f=s.tileMargin,u=s.tileMargin,d=0,v=0,g=0,x=s.firstgid;x<s.firstgid+s.total&&(e[x]=[f,u,r],f+=s.tileWidth+s.tileSpacing,d++,!(d===s.total||(v++,v===s.columns&&(f=s.tileMargin,u+=s.tileHeight+s.tileSpacing,v=0,g++,g===s.rows))));x++);}return e};p.exports=c},92044:(p,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c=function(l,r,s){if(!r)return{i:0,layers:l.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+h(r,"startx",0)*l.tilewidth+h(r,"offsetx",0),i=r.y+h(r,"starty",0)*l.tileheight+h(r,"offsety",0);return{i:0,layers:r.layers,name:s.name+r.name+"/",opacity:s.opacity*r.opacity,visible:s.visible&&r.visible,x:s.x+e,y:s.y+i}};p.exports=c},8847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,h=536870912,c=function(l){var r=!!(l&S),s=!!(l&t),e=!!(l&h);l=l&~(S|t|h);var i=0,o=!1;return r&&s&&e?(i=Math.PI/2,o=!0):r&&s&&!e?(i=Math.PI,o=!1):r&&!s&&e?(i=Math.PI/2,o=!1):r&&!s&&!e?(i=0,o=!0):!r&&s&&e?(i=3*Math.PI/2,o=!1):!r&&s&&!e?(i=Math.PI,o=!0):!r&&!s&&e?(i=3*Math.PI/2,o=!0):!r&&!s&&!e&&(i=0,o=!1),{gid:l,flippedHorizontal:r,flippedVertical:s,flippedAntiDiagonal:e,rotation:i,flipped:o}};p.exports=c},78339:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c=t(92044),l=function(r){for(var s=[],e=[],i=c(r);i.i<i.layers.length||e.length>0;){if(i.i>=i.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=e.pop();continue}var o=i.layers[i.i];if(i.i++,o.type!=="imagelayer"){if(o.type==="group"){var n=c(r,o,i);e.push(i),i=n}continue}var a=h(o,"offsetx",0)+h(o,"startx",0),f=h(o,"offsety",0)+h(o,"starty",0);s.push({name:i.name+o.name,image:o.image,x:i.x+a+o.x,y:i.y+f+o.y,alpha:i.opacity*o.opacity,visible:i.visible&&o.visible,properties:h(o,"properties",{})})}return s};p.exports=l},2378:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48646),c=t(14556),l=t(12920),r=t(28699),s=t(93560),e=t(21394),i=t(16586),o=t(78339),n=t(61136),a=t(95925),f=t(93392),u=function(d,v,g){var x=r(v),m=new i({width:x.width,height:x.height,name:d,tileWidth:x.tilewidth,tileHeight:x.tileheight,orientation:e(x.orientation),format:s.TILED_JSON,version:x.version,properties:x.properties,renderOrder:x.renderorder,infinite:x.infinite});m.orientation===l.HEXAGONAL&&(m.hexSideLength=x.hexsidelength,m.staggerAxis=x.staggeraxis,m.staggerIndex=x.staggerindex),m.layers=a(x,g),m.images=o(x);var y=f(x);return m.tilesets=y.tilesets,m.imageCollections=y.imageCollections,m.objects=n(x),m.tiles=c(m),h(m),m};p.exports=u},4281:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28820),c=t(8847),l=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(e,i,o){i===void 0&&(i=0),o===void 0&&(o=0);var n=h(e,r);if(n.x+=i,n.y+=o,e.gid){var a=c(e.gid);n.gid=a.gid,n.flippedHorizontal=a.flippedHorizontal,n.flippedVertical=a.flippedVertical,n.flippedAntiDiagonal=a.flippedAntiDiagonal}else e.polyline?n.polyline=e.polyline.map(l):e.polygon?n.polygon=e.polygon.map(l):e.ellipse?n.ellipse=e.ellipse:e.text?n.text=e.text:e.point?n.point=!0:n.rectangle=!0;return n};p.exports=s},61136:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),c=t(4281),l=t(15256),r=t(92044),s=function(e){for(var i=[],o=[],n=r(e);n.i<n.layers.length||o.length>0;){if(n.i>=n.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=o.pop();continue}var a=n.layers[n.i];if(n.i++,a.opacity*=n.opacity,a.visible=n.visible&&a.visible,a.type!=="objectgroup"){if(a.type==="group"){var f=r(e,a,n);o.push(n),n=f}continue}a.name=n.name+a.name;for(var u=n.x+h(a,"startx",0)+h(a,"offsetx",0),d=n.y+h(a,"starty",0)+h(a,"offsety",0),v=[],g=0;g<a.objects.length;g++){var x=c(a.objects[g],u,d);v.push(x)}var m=new l(a);m.objects=v,i.push(m)}return i};p.exports=s},95925:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43908),c=t(12920),l=t(92044),r=t(21394),s=t(72632),e=t(94990),i=t(8847),o=t(29633),n=function(a,f){for(var u=s(a,"infinite",!1),d=[],v=[],g=l(a);g.i<g.layers.length||v.length>0;){if(g.i>=g.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=v.pop();continue}var x=g.layers[g.i];if(g.i++,x.type!=="tilelayer"){if(x.type==="group"){var m=l(a,x,g);v.push(g),g=m}continue}if(x.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+x.name+"'");continue}else if(x.encoding&&x.encoding==="base64"){if(x.chunks)for(var y=0;y<x.chunks.length;y++)x.chunks[y].data=h(x.chunks[y].data);x.data&&(x.data=h(x.data)),delete x.encoding}var T,R,P,D,O=[],B=0;if(u){var G=s(x,"startx",0)+x.x,b=s(x,"starty",0)+x.y;T=new e({name:g.name+x.name,x:g.x+s(x,"offsetx",0)+G*a.tilewidth,y:g.y+s(x,"offsety",0)+b*a.tileheight,width:x.width,height:x.height,tileWidth:a.tilewidth,tileHeight:a.tileheight,alpha:g.opacity*x.opacity,visible:g.visible&&x.visible,properties:s(x,"properties",[]),orientation:r(a.orientation)}),T.orientation===c.HEXAGONAL&&(T.hexSideLength=a.hexsidelength,T.staggerAxis=a.staggeraxis,T.staggerIndex=a.staggerindex);for(var k=0;k<x.height;k++){O[k]=[null];for(var $=0;$<x.width;$++)O[k][$]=null}for(k=0,tt=x.chunks.length;k<tt;k++)for(var W=x.chunks[k],Z=W.x-G,z=W.y-b,X=0,w=0,V=W.data.length;w<V;w++){var Y=B+Z,j=X+z;R=i(W.data[w]),R.gid>0?(P=new o(T,R.gid,Y,j,a.tilewidth,a.tileheight),P.rotation=R.rotation,P.flipX=R.flipped,O[j][Y]=P):(D=f?null:new o(T,-1,Y,j,a.tilewidth,a.tileheight),O[j][Y]=D),B++,B===W.width&&(X++,B=0)}}else{T=new e({name:g.name+x.name,x:g.x+s(x,"offsetx",0)+x.x,y:g.y+s(x,"offsety",0)+x.y,width:x.width,height:x.height,tileWidth:a.tilewidth,tileHeight:a.tileheight,alpha:g.opacity*x.opacity,visible:g.visible&&x.visible,properties:s(x,"properties",[]),orientation:r(a.orientation)}),T.orientation===c.HEXAGONAL&&(T.hexSideLength=a.hexsidelength,T.staggerAxis=a.staggeraxis,T.staggerIndex=a.staggerindex);for(var J=[],_=0,tt=x.data.length;_<tt;_++)R=i(x.data[_]),R.gid>0?(P=new o(T,R.gid,B,O.length,a.tilewidth,a.tileheight),P.rotation=R.rotation,P.flipX=R.flipped,J.push(P)):(D=f?null:new o(T,-1,B,O.length,a.tilewidth,a.tileheight),J.push(D)),B++,B===x.width&&(O.push(J),B=0,J=[])}T.data=O,d.push(T)}return d};p.exports=n},93392:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47975),c=t(97042),l=t(4281),r=t(39642),s=function(e){for(var i=[],o=[],n=null,a,f=0;f<e.tilesets.length;f++){var u=e.tilesets[f];if(u.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(u.image){var d=new h(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(e.version>1){var v=void 0,g=void 0;if(Array.isArray(u.tiles)){v=v||{},g=g||{};for(var x=0;x<u.tiles.length;x++){var m=u.tiles[x];if(m.properties){var y={};m.properties.forEach(function(k){y[k.name]=k.value}),g[m.id]=y}if(m.objectgroup&&((v[m.id]||(v[m.id]={})).objectgroup=m.objectgroup,m.objectgroup.objects)){var T=m.objectgroup.objects.map(function(k){return l(k)});v[m.id].objectgroup.objects=T}m.animation&&((v[m.id]||(v[m.id]={})).animation=m.animation),m.type&&((v[m.id]||(v[m.id]={})).type=m.type)}}Array.isArray(u.wangsets)&&(v=v||{},g=g||{},r(u.wangsets,v)),v&&(d.tileData=v,d.tileProperties=g)}else if(u.tileproperties&&(d.tileProperties=u.tileproperties),u.tiles){d.tileData=u.tiles;for(a in d.tileData){var R=d.tileData[a].objectgroup;if(R&&R.objects){var P=R.objects.map(function(k){return l(k)});d.tileData[a].objectgroup.objects=P}}}d.updateTileData(u.imagewidth,u.imageheight),i.push(d)}else{var D=new c(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties),O=0;for(x=0;x<u.tiles.length;x++){m=u.tiles[x];var B=m.image,G=parseInt(m.id,10),b=u.firstgid+G;D.addImage(b,B),O=Math.max(G,O)}D.maxId=O,o.push(D)}n&&(n.lastgid=u.firstgid-1),n=u}return{tilesets:i,imageCollections:o}};p.exports=s},39642:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var c=0;c<t.length;c++){var l=t[c],r=c;if(l.name&&l.name!==""&&(r=l.name),Array.isArray(l.wangtiles)&&l.wangtiles.length>0){var s={},e={},i,o,n;if(Array.isArray(l.edgecolors))for(i=0;i<l.edgecolors.length;i++)n=1+i,o=l.edgecolors[i],o.name!==""&&(s[n]=o.name);if(Array.isArray(l.cornercolors))for(i=0;i<l.cornercolors.length;i++)n=1+i,o=l.cornercolors[i],o.name!==""&&(e[n]=o.name);if(Array.isArray(l.colors))for(i=0;i<l.colors.length;i++)o=l.colors[i],n=1+i,o.name!==""&&(s[n]=e[n]=o.name);for(var a=[s,e,s,e,s,e,s,e],f=0;f<l.wangtiles.length;f++){var u=l.wangtiles[f],d=h[u.tileid]||(h[u.tileid]={});d=d.wangid||(d.wangid={});for(var v=[],g=0;g<Math.min(a.length,u.wangid.length);g++){if(o=u.wangid[g],o===0){v.push(void 0);continue}var x=a[g][o];if(x!==void 0){v.push(x);continue}v.push(o)}d[r]=v}}}};p.exports=S},50044:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(91963),l=t(7599),r=t(57911),s=t(66458),e=new h({initialize:function(o){this.scene=o,this.systems=o.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],o.sys.events.once(l.BOOT,this.boot,this),o.sys.events.on(l.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var i=this.systems.events;i.on(l.PRE_UPDATE,this.preUpdate,this),i.on(l.UPDATE,this.update,this),i.once(l.SHUTDOWN,this.shutdown,this)},addEvent:function(i){var o;return i instanceof r?(o=i,this.removeEvent(o),o.elapsed=o.startAt,o.hasDispatched=!1,o.repeatCount=o.repeat===-1||o.loop?999999999999:o.repeat):o=new r(i),this._pendingInsertion.push(o),o},delayedCall:function(i,o,n,a){return this.addEvent({delay:i,callback:o,args:n,callbackScope:a})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(i){Array.isArray(i)||(i=[i]);for(var o=0;o<i.length;o++){var n=i[o];s(this._pendingRemoval,n),s(this._pendingInsertion,n),s(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var i=this._pendingRemoval.length,o=this._pendingInsertion.length;if(!(i===0&&o===0)){var n,a;for(n=0;n<i;n++){a=this._pendingRemoval[n];var f=this._active.indexOf(a);f>-1&&this._active.splice(f,1),a.destroy()}for(n=0;n<o;n++)a=this._pendingInsertion[n],this._active.push(a);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(i,o){if(this.now=i,!this.paused){o*=this.timeScale;for(var n=0;n<this._active.length;n++){var a=this._active[n];if(!a.paused&&(a.elapsed+=o*a.timeScale,a.elapsed>=a.delay)){var f=a.elapsed-a.delay;if(a.elapsed=a.delay,!a.hasDispatched&&a.callback&&(a.hasDispatched=!0,a.callback.apply(a.callbackScope,a.args)),a.repeatCount>0){if(a.repeatCount--,f>=a.delay)for(;f>=a.delay&&a.repeatCount>0;)a.callback&&a.callback.apply(a.callbackScope,a.args),f-=a.delay,a.repeatCount--;a.elapsed=f,a.hasDispatched=!1}else a.hasDispatched&&this._pendingRemoval.push(a)}}}},shutdown:function(){var i;for(i=0;i<this._pendingInsertion.length;i++)this._pendingInsertion[i].destroy();for(i=0;i<this._active.length;i++)this._active[i].destroy();for(i=0;i<this._pendingRemoval.length;i++)this._pendingRemoval[i].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var o=this.systems.events;o.off(l.PRE_UPDATE,this.preUpdate,this),o.off(l.UPDATE,this.update,this),o.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});c.register("Clock",e,"time"),p.exports=e},20517:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(6659),l=t(61286),r=t(72632),s=t(7599),e=new h({Extends:c,initialize:function(o,n){c.call(this),this.scene=o,this.systems=o.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var a=this.systems.events;a.on(s.PRE_UPDATE,this.preUpdate,this),a.on(s.UPDATE,this.update,this),a.once(s.SHUTDOWN,this.destroy,this),n&&this.add(n)},preUpdate:function(i,o){this.paused||(this.elapsed+=o)},update:function(){if(!this.paused){var i,o=this.events,n=!1,a=this.systems,f;for(i=0;i<o.length;i++){var u=o[i];if(!u.complete&&u.time<=this.elapsed){if(u.complete=!0,this.totalComplete++,u.once&&(n=!0),u.set&&u.target)for(var d in u.set)u.target[d]=u.set[d];u.tween&&a.tweens.add(u.tween),u.sound&&(typeof u.sound=="string"?a.sound.play(u.sound):a.sound.play(u.sound.key,u.sound.config)),f=u.target?u.target:this,u.event&&this.emit(u.event,f),u.run&&u.run.call(f),u.stop&&this.stop()}}if(n)for(i=0;i<o.length;i++)o[i].complete&&o[i].once&&(o.splice(i,1),i--);this.totalComplete>=o.length&&(this.complete=!0)}},play:function(i){return i===void 0&&(i=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,i&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var i=0;i<this.events.length;i++)this.events[i].complete=!1;return this.play(!1)},add:function(i){Array.isArray(i)||(i=[i]);var o=this.events,n=0;o.length>0&&(n=o[o.length-1].time);for(var a=0;a<i.length;a++){var f=i[a],u=r(f,"at",0),d=r(f,"in",null);d!==null&&(u=this.elapsed+d);var v=r(f,"from",null);v!==null&&(u=n+v),o.push({complete:!1,time:u,run:r(f,"run",null),event:r(f,"event",null),target:r(f,"target",null),set:r(f,"set",null),tween:r(f,"tween",null),sound:r(f,"sound",null),once:r(f,"once",!1),stop:r(f,"stop",!1)}),n=u}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var i=Math.min(this.totalComplete,this.events.length);return i/this.events.length},destroy:function(){var i=this.systems.events;i.off(s.PRE_UPDATE,this.preUpdate,this),i.off(s.UPDATE,this.update,this),i.off(s.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});l.register("timeline",function(i){return new e(this.scene,i)}),p.exports=e},57911:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(72632),l=new h({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(r){if(this.delay=c(r,"delay",0),this.repeat=c(r,"repeat",0),this.loop=c(r,"loop",!1),this.callback=c(r,"callback",void 0),this.callbackScope=c(r,"callbackScope",this),this.args=c(r,"args",[]),this.timeScale=c(r,"timeScale",1),this.startAt=c(r,"startAt",0),this.paused=c(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=l},97121:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(73779),Timeline:t(20517),TimerEvent:t(57911)}},64532:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66458),c=t(56694),l=t(5454),r=t(68710),s=t(91963),e=t(7599),i=t(91944),o=t(39366),n=t(68061),a=t(45641),f=t(56034),u=new c({initialize:function(v){this.scene=v,this.events=v.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var v=[],g=0;g<d.length;g++){var x=d[g];x instanceof o||x instanceof a?v.push(x):Array.isArray(x.tweens)?v.push(f(this,x)):v.push(n(this,x))}return v.length===1?v[0]:v},add:function(d){var v=d,g=this.tweens;return v instanceof o||v instanceof a||(Array.isArray(v.tweens)?v=f(this,v):v=n(this,v)),g.push(v.reset()),v},addMultiple:function(d){for(var v,g=[],x=this.tweens,m=0;m<d.length;m++)v=d[m],v instanceof o||v instanceof a||(Array.isArray(v.tweens)?v=f(this,v):v=n(this,v)),x.push(v.reset()),g.push(v);return g},chain:function(d){var v=f(this,d);return this.tweens.push(v.init()),v},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var v=r(this,d);return this.tweens.push(v.reset()),v},stagger:function(d,v){return i(d,v)},setLagSmooth:function(d,v){return d===void 0&&(d=1/1e-8),v===void 0&&(v=0),this.maxLag=d,this.lagSkip=Math.min(v,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var v=Date.now()-this.prevTime;v>this.maxLag&&(this.startTime+=v-this.lagSkip),this.prevTime+=v;var g=this.prevTime-this.startTime,x=g-this.nextTime,m=g-this.time*1e3;return x>0||d?(g/=1e3,this.time=g,this.nextTime+=x+(x>=this.gap?4:this.gap-x)):m=0,m},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var v=this.getDelta(d);if(!(v<=0)){this.processing=!0;var g,x,m=[],y=this.tweens;for(g=0;g<y.length;g++)x=y[g],x.update(v)&&m.push(x);var T=m.length;if(T&&y.length>0){for(g=0;g<T;g++){x=m[g];var R=y.indexOf(x);R>-1&&(x.isPendingRemove()||x.isDestroyed())&&(y.splice(R,1),x.destroy())}m.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(h(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,v){var g,x=[null];for(g=1;g<arguments.length;g++)x.push(arguments[g]);return this.tweens.forEach(function(m){x[0]=m,d.apply(v,x)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var v=[],g=this.tweens;Array.isArray(d)?d=l(d):d=[d];for(var x=d.length,m=0;m<g.length;m++)for(var y=g[m],T=0;T<x;T++)!y.isDestroyed()&&y.hasTarget(d[T])&&v.push(y);return v},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var v=this.tweens,g,x=0;x<v.length;x++)if(g=v[x],g.isPlaying()&&g.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,v=0;v<d.length;v++)d[v].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var v=this.getTweensOf(d),g=0;g<v.length;g++)v[g].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});s.register("TweenManager",u,"tweens"),p.exports=u},63130:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){return t&&t.hasOwnProperty(h)?t[h]:c};p.exports=S},21902:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35060),c=t(40587),l=function(r,s){var e=h.Power0;if(typeof r=="string")if(h.hasOwnProperty(r))e=h[r];else{var i="";if(r.indexOf(".")){i=r.substring(r.indexOf(".")+1);var o=i.toLowerCase();o==="in"?i="easeIn":o==="out"?i="easeOut":o==="inout"&&(i="easeInOut")}r=c(r.substring(0,r.indexOf(".")+1)+i),h.hasOwnProperty(r)&&(e=h[r])}else typeof r=="function"&&(e=r);if(!s)return e;var n=s.slice(0);return n.unshift(0),function(a){return n[0]=a,e.apply(this,n)}};p.exports=l},4840:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63210),c=t(88332),l=t(47614),r={bezier:h,catmull:c,catmullrom:c,linear:l},s=function(e){if(e===null)return null;var i=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(i=r[e]):typeof e=="function"&&(i=e),i};p.exports=s},28348:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l;if(t.hasOwnProperty(h)){var r=typeof t[h];r==="function"?l=function(s,e,i,o,n,a){return t[h](s,e,i,o,n,a)}:l=function(){return t[h]}}else typeof c=="function"?l=c:l=function(){return c};return l};p.exports=S},92407:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53709),c=function(l){var r,s=[];if(l.hasOwnProperty("props"))for(r in l.props)r.substring(0,1)!=="_"&&s.push({key:r,value:l.props[r]});else for(r in l)h.indexOf(r)===-1&&r.substring(0,1)!=="_"&&s.push({key:r,value:l[r]});return s};p.exports=c},65868:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),c=function(l){var r=h(l,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};p.exports=c},9744:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17489),c=t(61616);function l(o){return!!o.getActive&&typeof o.getActive=="function"}function r(o){return!!o.getStart&&typeof o.getStart=="function"}function s(o){return!!o.getEnd&&typeof o.getEnd=="function"}function e(o){return r(o)||s(o)||l(o)}var i=function(o,n){var a,f=function(W,Z,z){return z},u=function(W,Z,z){return z},d=null,v=typeof n;if(v==="number")f=function(){return n};else if(Array.isArray(n))u=function(){return n[0]},f=function(){return n[n.length-1]};else if(v==="string"){var g=n.toLowerCase(),x=g.substring(0,6)==="random",m=g.substring(0,3)==="int";if(x||m){var y=g.indexOf("("),T=g.indexOf(")"),R=g.indexOf(",");if(y&&T&&R){var P=parseFloat(g.substring(y+1,R)),D=parseFloat(g.substring(R+1,T));x?f=function(){return c(P,D)}:f=function(){return h(P,D)}}else throw new Error("invalid random() format")}else{g=g[0];var O=parseFloat(n.substr(2));switch(g){case"+":f=function(W,Z,z){return z+O};break;case"-":f=function(W,Z,z){return z-O};break;case"*":f=function(W,Z,z){return z*O};break;case"/":f=function(W,Z,z){return z/O};break;default:f=function(){return parseFloat(n)}}}}else if(v==="function")f=n;else if(v==="object")if(e(n))l(n)&&(d=n.getActive),s(n)&&(f=n.getEnd),r(n)&&(u=n.getStart);else if(n.hasOwnProperty("value"))a=i(o,n.value);else{var B=n.hasOwnProperty("to"),G=n.hasOwnProperty("from"),b=n.hasOwnProperty("start");if(B&&(G||b)){if(a=i(o,n.to),b){var k=i(o,n.start);a.getActive=k.getEnd}if(G){var $=i(o,n.from);a.getStart=$.getEnd}}}return a||(a={getActive:d,getEnd:f,getStart:u}),a};p.exports=i},68710:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(502),c=t(99730),l=t(20494),r=t(63130),s=t(21902),e=t(28348),i=t(10850),o=t(9744),n=t(72066),a=t(39366),f=function(u,d,v){if(d instanceof a)return d.parent=u,d;v===void 0?v=c:v=n(c,v);var g=i(d,"from",0),x=i(d,"to",1),m=[{value:g}],y=i(d,"delay",v.delay),T=i(d,"easeParams",v.easeParams),R=i(d,"ease",v.ease),P=o("value",x),D=new a(u,m),O=D.add(0,"value",P.getEnd,P.getStart,P.getActive,s(i(d,"ease",R),i(d,"easeParams",T)),e(d,"delay",y),i(d,"duration",v.duration),r(d,"yoyo",v.yoyo),i(d,"hold",v.hold),i(d,"repeat",v.repeat),i(d,"repeatDelay",v.repeatDelay),!1,!1);O.start=g,O.current=g,D.completeDelay=l(d,"completeDelay",0),D.loop=Math.round(l(d,"loop",0)),D.loopDelay=Math.round(l(d,"loopDelay",0)),D.paused=r(d,"paused",!1),D.persist=r(d,"persist",!1),D.callbackScope=i(d,"callbackScope",D);for(var B=h.TYPES,G=0;G<B.length;G++){var b=B[G],k=i(d,b,!1);if(k){var $=i(d,b+"Params",[]);D.setCallback(b,k,$)}}return D};p.exports=f},91944:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21902),c=t(10850),l=t(83392),r=function(s,e){e===void 0&&(e={});var i,o=c(e,"start",0),n=c(e,"ease",null),a=c(e,"grid",null),f=c(e,"from",0),u=f==="first",d=f==="center",v=f==="last",g=typeof f=="number",x=Array.isArray(s),m=parseFloat(x?s[0]:s),y=x?parseFloat(s[1]):0,T=Math.max(m,y);if(x&&(o+=m),a){var R=a[0],P=a[1],D=0,O=0,B=0,G=0,b=[];v?(D=R-1,O=P-1):g?(D=f%R,O=Math.floor(f/R)):d&&(D=(R-1)/2,O=(P-1)/2);for(var k=l.MIN_SAFE_INTEGER,$=0;$<P;$++){b[$]=[];for(var W=0;W<R;W++){B=D-W,G=O-$;var Z=Math.sqrt(B*B+G*G);Z>k&&(k=Z),b[$][W]=Z}}}var z=n?h(n):null;return a?i=function(X,w,V,Y){var j=0,J=Y%R,_=Math.floor(Y/R);J>=0&&J<R&&_>=0&&_<P&&(j=b[_][J]);var tt;if(x){var it=y-m;z?tt=j/k*it*z(j/k):tt=j/k*it}else z?tt=j*m*z(j/k):tt=j*m;return tt+o}:i=function(X,w,V,Y,j){j--;var J;u?J=Y:d?J=Math.abs(j/2-Y):v?J=j-Y:g&&(J=Math.abs(f-Y));var _;if(x){var tt;d?tt=(y-m)/j*(J*2):tt=(y-m)/j*J,z?_=tt*z(J/j):_=tt}else z?_=j*T*z(J/j):_=J*m;return _+o},i};p.exports=r},68061:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(502),c=t(99730),l=t(20494),r=t(63130),s=t(21902),e=t(4840),i=t(28348),o=t(92407),n=t(65868),a=t(10850),f=t(9744),u=t(72066),d=t(39366),v=function(g,x,m){if(x instanceof d)return x.parent=g,x;m===void 0?m=c:m=u(c,m);var y=n(x);!y&&m.targets&&(y=m.targets);for(var T=o(x),R=a(x,"delay",m.delay),P=a(x,"duration",m.duration),D=a(x,"easeParams",m.easeParams),O=a(x,"ease",m.ease),B=a(x,"hold",m.hold),G=a(x,"repeat",m.repeat),b=a(x,"repeatDelay",m.repeatDelay),k=r(x,"yoyo",m.yoyo),$=r(x,"flipX",m.flipX),W=r(x,"flipY",m.flipY),Z=a(x,"interpolation",m.interpolation),z=function(ot,ht,ct,ft){if(ct==="texture"){var Et=ft,Mt=void 0;Array.isArray(ft)?(Et=ft[0],Mt=ft[1]):ft.hasOwnProperty("value")?(Et=ft.value,Array.isArray(ft.value)?(Et=ft.value[0],Mt=ft.value[1]):typeof ft.value=="string"&&(Et=ft.value)):typeof ft=="string"&&(Et=ft),ot.addFrame(ht,Et,Mt,i(ft,"delay",R),a(ft,"duration",P),a(ft,"hold",B),a(ft,"repeat",G),a(ft,"repeatDelay",b),r(ft,"flipX",$),r(ft,"flipY",W))}else{var Dt=f(ct,ft),It=e(a(ft,"interpolation",Z));ot.add(ht,ct,Dt.getEnd,Dt.getStart,Dt.getActive,s(a(ft,"ease",O),a(ft,"easeParams",D)),i(ft,"delay",R),a(ft,"duration",P),r(ft,"yoyo",k),a(ft,"hold",B),a(ft,"repeat",G),a(ft,"repeatDelay",b),r(ft,"flipX",$),r(ft,"flipY",W),It,It?ft:null)}},X=new d(g,y),w=0;w<T.length;w++)for(var V=T[w].key,Y=T[w].value,j=0;j<y.length;j++)V==="scale"&&!y[j].hasOwnProperty("scale")?(z(X,j,"scaleX",Y),z(X,j,"scaleY",Y)):z(X,j,V,Y);X.completeDelay=l(x,"completeDelay",0),X.loop=Math.round(l(x,"loop",0)),X.loopDelay=Math.round(l(x,"loopDelay",0)),X.paused=r(x,"paused",!1),X.persist=r(x,"persist",!1),X.callbackScope=a(x,"callbackScope",X);for(var J=h.TYPES,_=0;_<J.length;_++){var tt=J[_],it=a(x,tt,!1);if(it){var st=a(x,tt+"Params",[]);X.setCallback(tt,it,st)}}return X};p.exports=v},56034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(502),c=t(20494),l=t(63130),r=t(65868),s=t(10850),e=t(68061),i=t(45641),o=function(n,a){if(a instanceof i)return a.parent=n,a;var f=new i(n);f.startDelay=s(a,"delay",0),f.completeDelay=c(a,"completeDelay",0),f.loop=Math.round(c(a,"loop",s(a,"repeat",0))),f.loopDelay=Math.round(c(a,"loopDelay",s(a,"repeatDelay",0))),f.paused=l(a,"paused",!1),f.persist=l(a,"persist",!0),f.callbackScope=s(a,"callbackScope",f);var u,d=h.TYPES;for(u=0;u<d.length;u++){var v=d[u],g=s(a,v,!1);if(g){var x=s(a,v+"Params",[]);f.setCallback(v,g,x)}}var m=s(a,"tweens",null);if(Array.isArray(m)){var y=[],T=r(a),R=void 0;for(T&&(R={targets:T}),u=0;u<m.length;u++)y.push(e(f,m[u],R));f.add(y)}return f};p.exports=o},79619:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},6383:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},72582:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},90281:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},80803:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},13640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},10472:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},5379:p=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},43449:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},61541:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},54272:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};p.exports=h},502:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(6659),l=t(54272),r=t(55303),s=new h({Extends:c,initialize:function(i){c.call(this),this.parent=i,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(l.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(l.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(l.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(l.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(l.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,i,o){return o===void 0&&(o=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:i,params:o}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});s.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],p.exports=s},65521:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),c=t(54272),l=t(55303),r=new h({initialize:function(e,i,o,n,a,f,u,d,v,g){this.tween=e,this.targetIndex=i,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=o,this.yoyo=a,this.hold=f,this.repeat=u,this.repeatDelay=d,this.repeatCounter=0,this.flipX=v,this.flipY=g,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(s){s===void 0&&(s=this.current),this.tween.targets[this.targetIndex][this.key]=s},setCreatedState:function(){this.state=l.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=l.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=l.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=l.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=l.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=l.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=l.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=l.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===l.CREATED},isDelayed:function(){return this.state===l.DELAY},isPendingRender:function(){return this.state===l.PENDING_RENDER},isPlayingForward:function(){return this.state===l.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===l.PLAYING_BACKWARD},isHolding:function(){return this.state===l.HOLD_DELAY},isRepeating:function(){return this.state===l.REPEAT_DELAY},isComplete:function(){return this.state===l.COMPLETE},setStateFromEnd:function(s){this.yoyo?this.onRepeat(s,!0,!0):this.repeatCounter>0?this.onRepeat(s,!0,!1):this.setCompleteState()},setStateFromStart:function(s){this.repeatCounter>0?this.onRepeat(s,!1):this.setCompleteState()},reset:function(){var s=this.tween,e=s.totalTargets,i=this.targetIndex,o=s.targets[i],n=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(o,n,0,i,e,s),this.repeatCounter=this.repeat===-1?l.MAX:this.repeat,this.setPendingRenderState();var a=this.duration+this.hold;this.yoyo&&(a+=this.duration);var f=a+this.repeatDelay;this.totalDuration=this.delay+a,this.repeat===-1?(this.totalDuration+=f*l.MAX,s.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>s.duration&&(s.duration=this.totalDuration),this.delay<s.startDelay&&(s.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(s,e,i){var o=this.tween,n=o.totalTargets,a=this.targetIndex,f=o.targets[a],u=this.key,d=u!=="texture";if(this.elapsed=s,this.progress=s/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||i)&&(this.start=this.getStartValue(f,u,this.start,a,n,o)),i){this.setPlayingBackwardState(),this.dispatchEvent(c.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,u,this.start,a,n,o)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-s,d&&(this.current=this.start,f[u]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(c.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});p.exports=r},99730:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};p.exports=S},53709:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(502),c=t(56694),l=t(54272),r=t(99325),s=t(61286),e=t(83392),i=t(55303),o=t(15718),n=t(96490),a=new c({Extends:h,initialize:function(u,d){h.call(this,u),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,u,d,v,g,x,m,y,T,R,P,D,O,B,G,b){var k=new o(this,f,u,d,v,g,x,m,y,T,R,P,D,O,B,G,b);return this.totalData=this.data.push(k),k},addFrame:function(f,u,d,v,g,x,m,y,T,R){var P=new n(this,f,u,d,v,g,x,m,y,T,R);return this.totalData=this.data.push(P),P},getValue:function(f){f===void 0&&(f=0);var u=null;return this.data&&(u=this.data[f].current),u},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,u,d){if(d===void 0&&(d=!1),f!=="texture")for(var v=0;v<this.totalData;v++){var g=this.data[v];g.key===f&&(g.isPlayingForward()||g.isPlayingBackward())&&(g.end=u,d&&(g.start=g.current))}return this},restart:function(){switch(this.state){case i.REMOVED:case i.FINISHED:this.seek(),this.parent.makeActive(this);break;case i.PENDING:case i.PENDING_REMOVE:this.parent.reset(this);break;case i.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,u,d){if(f===void 0&&(f=0),u===void 0&&(u=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive");var v=this.paused;if(this.paused=!1,f>0){for(var g=Math.floor(f/u),x=f-g*u,m=0;m<g;m++)this.update(u);x>0&&this.update(x)}return this.paused=v,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var u=this.data,d=0;d<this.totalData;d++)u[d].reset(f);this.duration=Math.max(this.duration,.01);var v=this.duration,g=this.completeDelay,x=this.loopCounter,m=this.loopDelay;x>0?this.totalDuration=v+g+(v+m)*x:this.totalDuration=v+g},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=i.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),f=0));var u=!1;if(this.isActive())for(var d=this.data,v=0;v<this.totalData;v++)d[v].update(f)&&(u=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),u||this.nextState();var g=this.isPendingRemove();return g&&this.persist&&(this.setFinishedState(),g=!1),g},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,u){if(!this.isSeeking){this.emit(f,this,this.targets);var d=this.callbacks[u];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});s.register("tween",function(f){return this.scene.sys.tweens.add(f)}),r.register("tween",function(f){return this.scene.sys.tweens.create(f)}),p.exports=a},45641:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66458),c=t(502),l=t(56694),r=t(54272),s=t(99325),e=t(61286),i=t(55303),o=new l({Extends:c,initialize:function(a){c.call(this,a),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?i.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive"),this},add:function(n){var a=this.parent.create(n);Array.isArray(a)||(a=[a]);for(var f=this.data,u=0;u<a.length;u++){var d=a[u];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(n){return h(this.data,n),n.setRemovedState(),n===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(n){for(var a=this.data,f=0;f<this.totalData;f++)if(a[f].hasTarget(n))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(n){return n.seek(),n.setActiveState(),this},makeActive:function(n){return n.reset(),n.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var n=this.data,a=this.totalData,f=0;f<a;f++)n[f].reset(!1);this.currentIndex=0,this.currentTween=n[0]},update:function(n){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;n*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(n):this.isCompleteDelayed()?this.updateCompleteDelay(n):this.isStartDelayed()&&(n=this.updateStartCountdown(n));var a=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(n)&&this.nextTween()&&this.nextState(),a=this.isPendingRemove(),a&&this.persist&&(this.setFinishedState(),a=!1)),a},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(n){this.currentIndex=n,this.currentTween=this.data[n],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(n,a){this.emit(n,this);var f=this.callbacks[a];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){c.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(n){return this.scene.sys.tweens.chain(n)}),s.register("tweenchain",function(n){return this.scene.sys.tweens.create(n)}),p.exports=o},15718:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65521),c=t(82897),l=t(56694),r=t(54272),s=new l({Extends:h,initialize:function(i,o,n,a,f,u,d,v,g,x,m,y,T,R,P,D,O){h.call(this,i,o,v,g,x,m,y,T,R,P),this.key=n,this.getActiveValue=u,this.getEndValue=a,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=O},reset:function(e){h.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex],o=this.key;e&&(i[o]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(i[o]=this.getActiveValue(i,o,0))},update:function(e){var i=this.tween,o=i.totalTargets,n=this.targetIndex,a=i.targets[n],f=this.key;if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(a,f,a[f],n,o,i),this.end=this.getEndValue(a,f,this.start,n,o,i),this.current=this.start,a[f]=this.start,this.setPlayingForwardState(),!0;var u=this.isPlayingForward(),d=this.isPlayingBackward();if(u||d){var v=this.elapsed,g=this.duration,x=0,m=!1;v+=e,v>=g?(x=v-g,v=g,m=!0):v<0&&(v=0);var y=c(v/g,0,1);if(this.elapsed=v,this.progress=y,this.previous=this.current,m)u?(this.current=this.end,a[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(this.current=this.start,a[f]=this.start,this.setStateFromStart(x));else{u||(y=1-y);var T=this.ease(y);this.interpolation?this.current=this.interpolation(this.interpolationData,T):this.current=this.start+(this.end-this.start)*T,a[f]=this.current}this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,i){var o=this.tween;if(!o.isSeeking){var n=o.targets[this.targetIndex],a=this.key,f=this.current,u=this.previous;o.emit(e,o,a,n,f,u);var d=o.callbacks[i];d&&d.func.apply(o.callbackScope,[o,n,a,f,u].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});p.exports=s},96490:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65521),c=t(82897),l=t(56694),r=t(54272),s=new l({Extends:h,initialize:function(i,o,n,a,f,u,d,v,g,x,m){h.call(this,i,o,f,u,!1,d,v,g,x,m),this.key="texture",this.startTexture=null,this.endTexture=n,this.startFrame=null,this.endFrame=a,this.yoyo=v!==0},reset:function(e){h.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=i.texture.key,this.startFrame=i.frame.name),e&&i.setTexture(this.startTexture,this.startFrame)},update:function(e){var i=this.tween,o=this.targetIndex,n=i.targets[o];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var a=this.isPlayingForward(),f=this.isPlayingBackward();if(a||f){var u=this.elapsed,d=this.duration,v=0,g=!1;u+=e,u>=d?(v=u-d,u=d,g=!0):u<0&&(u=0);var x=c(u/d,0,1);this.elapsed=u,this.progress=x,g&&(a?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(v)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(v))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,i){var o=this.tween;if(!o.isSeeking){var n=o.targets[this.targetIndex],a=this.key;o.emit(e,o,a,n);var f=o.callbacks[i];f&&f.func.apply(o.callbackScope,[o,n,a].concat(f.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});p.exports=s},55303:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};p.exports=S},56694:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function t(s,e,i){var o=i?s[e]:Object.getOwnPropertyDescriptor(s,e);return!i&&o.value&&typeof o.value=="object"&&(o=o.value),o&&S(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function h(s,e){var i=Object.getOwnPropertyDescriptor(s,e);return i?(i.value&&typeof i.value=="object"&&(i=i.value),i.configurable===!1):!1}function c(s,e,i,o){for(var n in e)if(e.hasOwnProperty(n)){var a=t(e,n,i);if(a!==!1){var f=o||s;if(h(f.prototype,n)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,n,a)}else s.prototype[n]=e[n]}}function l(s,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)c(s,e[i].prototype||e[i])}}function r(s){s||(s={});var e,i;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");e=s.initialize,delete s.initialize}else if(s.Extends){var o=s.Extends;e=function(){o.apply(this,arguments)}}else e=function(){};s.Extends?(e.prototype=Object.create(s.Extends.prototype),e.prototype.constructor=e,i=s.Extends,delete s.Extends):e.prototype.constructor=e;var n=null;return s.Mixins&&(n=s.Mixins,delete s.Mixins),l(e,n),c(e,s,!0,i),e}r.extend=c,r.mixin=l,r.ignoreFinals=!1,p.exports=r},72283:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};p.exports=S},10618:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};p.exports=S},78991:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r){if(r===void 0&&(r=t),c>0){var s=c-t.length;if(s<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),l&&l.call(r,h),h):null;for(var e=h.length-1;e>=0;)t.indexOf(h[e])!==-1&&h.splice(e,1),e--;if(e=h.length,e===0)return null;c>0&&e>s&&(h.splice(s),e=s);for(var i=0;i<e;i++){var o=h[i];t.push(o),l&&l.call(r,o)}return h};p.exports=S},48522:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l,r,s){if(c===void 0&&(c=0),s===void 0&&(s=t),l>0){var e=l-t.length;if(e<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(c,0,h),r&&r.call(s,h),h):null;for(var i=h.length-1;i>=0;)t.indexOf(h[i])!==-1&&h.pop(),i--;if(i=h.length,i===0)return null;l>0&&i>e&&(h.splice(e),i=e);for(var o=i-1;o>=0;o--){var n=h[o];t.splice(c,0,n),r&&r.call(s,n)}return h};p.exports=S},58742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.indexOf(h);return c!==-1&&c<t.length&&(t.splice(c,1),t.push(h)),h};p.exports=S},30164:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),c=function(l,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=l.length);var o=0;if(h(l,e,i))for(var n=e;n<i;n++){var a=l[n];a[r]===s&&o++}return o};p.exports=c},36337:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l,r=[null];for(l=3;l<arguments.length;l++)r.push(arguments[l]);for(l=0;l<t.length;l++)r[0]=t[l],h.apply(c,r);return t};p.exports=S},46208:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),c=function(l,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=l.length),h(l,e,i)){var o,n=[null];for(o=5;o<arguments.length;o++)n.push(arguments[o]);for(o=e;o<i;o++)n[0]=l[o],r.apply(s,n)}return l};p.exports=c},2406:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(h.length){if(h.length===1)return h[0]}else return NaN;var l=1,r,s;if(c){if(t<h[0][c])return h[0];for(;h[l][c]<t;)l++}else for(;h[l]<t;)l++;return l>h.length&&(l=h.length),c?(r=h[l-1][c],s=h[l][c],s-t<=t-r?h[l]:h[l-1]):(r=h[l-1],s=h[l],s-t<=t-r?s:r)};p.exports=S},5454:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var c=0;c<t.length;c++)Array.isArray(t[c])?S(t[c],h):h.push(t[c]);return h};p.exports=S},71608:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),c=function(l,r,s,e,i){e===void 0&&(e=0),i===void 0&&(i=l.length);var o=[];if(h(l,e,i))for(var n=e;n<i;n++){var a=l[n];(!r||r&&s===void 0&&a.hasOwnProperty(r)||r&&s!==void 0&&a[r]===s)&&o.push(a)}return o};p.exports=c},51463:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),c=function(l,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=l.length),h(l,e,i))for(var o=e;o<i;o++){var n=l[o];if(!r||r&&s===void 0&&n.hasOwnProperty(r)||r&&s!==void 0&&n[r]===s)return n}return null};p.exports=c},72861:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){h===void 0&&(h=0),c===void 0&&(c=t.length);var l=h+Math.floor(Math.random()*c);return t[l]===void 0?null:t[l]};p.exports=S},24218:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(h===c)return t;var l=t.indexOf(h),r=t.indexOf(c);if(l<0||r<0)throw new Error("Supplied items must be elements of the same array");return l>r||(t.splice(l,1),r===t.length-1?t.push(h):t.splice(r,0,h)),t};p.exports=S},58258:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(h===c)return t;var l=t.indexOf(h),r=t.indexOf(c);if(l<0||r<0)throw new Error("Supplied items must be elements of the same array");return l<r||(t.splice(l,1),r===0?t.unshift(h):t.splice(r,0,h)),t};p.exports=S},51172:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.indexOf(h);if(c>0){var l=t[c-1],r=t.indexOf(l);t[c]=l,t[r]=h}return t};p.exports=S},68396:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=t.indexOf(h);if(l===-1||c<0||c>=t.length)throw new Error("Supplied index out of bounds");return l!==c&&(t.splice(l,1),t.splice(c,0,h)),h};p.exports=S},27555:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.indexOf(h);if(c!==-1&&c<t.length-1){var l=t[c+1],r=t.indexOf(l);t[c]=l,t[r]=h}return t};p.exports=S},13401:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=[],s,e=!1;if((c||l)&&(e=!0,c||(c=""),l||(l="")),h<t)for(s=t;s>=h;s--)e?r.push(c+s.toString()+l):r.push(s);else for(s=t;s<=h;s++)e?r.push(c+s.toString()+l):r.push(s);return r};p.exports=S},89955:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67233),c=function(l,r,s){l===void 0&&(l=0),r===void 0&&(r=null),s===void 0&&(s=1),r===null&&(r=l,l=0);for(var e=[],i=Math.max(h((r-l)/(s||1)),0),o=0;o<i;o++)e.push(l),l+=s;return e};p.exports=c},53466:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(c,l,r){var s=c[l];c[l]=c[r],c[r]=s}function t(c,l){return c<l?-1:c>l?1:0}var h=function(c,l,r,s,e){for(r===void 0&&(r=0),s===void 0&&(s=c.length-1),e===void 0&&(e=t);s>r;){if(s-r>600){var i=s-r+1,o=l-r+1,n=Math.log(i),a=.5*Math.exp(2*n/3),f=.5*Math.sqrt(n*a*(i-a)/i)*(o-i/2<0?-1:1),u=Math.max(r,Math.floor(l-o*a/i+f)),d=Math.min(s,Math.floor(l+(i-o)*a/i+f));h(c,l,u,d,e)}var v=c[l],g=r,x=s;for(S(c,r,l),e(c[s],v)>0&&S(c,r,s);g<x;){for(S(c,g,x),g++,x--;e(c[g],v)<0;)g++;for(;e(c[x],v)>0;)x--}e(c[r],v)===0?S(c,r,x):(x++,S(c,x,s)),x<=l&&(r=x+1),l<=x&&(s=x-1)}};p.exports=h},75757:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),c=t(18592),l=function(s,e,i){for(var o=[],n=0;n<s.length;n++)for(var a=0;a<e.length;a++)for(var f=0;f<i;f++)o.push({a:s[n],b:e[a]});return o},r=function(s,e,i){var o=h(i,"max",0),n=h(i,"qty",1),a=h(i,"random",!1),f=h(i,"randomB",!1),u=h(i,"repeat",0),d=h(i,"yoyo",!1),v=[];if(f&&c(e),u===-1)if(o===0)u=0;else{var g=s.length*e.length*n;d&&(g*=2),u=Math.ceil(o/g)}for(var x=0;x<=u;x++){var m=l(s,e,n);a&&c(m),v=v.concat(m),d&&(m.reverse(),v=v.concat(m))}return o&&v.splice(o),v};p.exports=r},66458:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72677),c=function(l,r,s,e){e===void 0&&(e=l);var i;if(!Array.isArray(r))return i=l.indexOf(r),i!==-1?(h(l,i),s&&s.call(e,r),r):null;for(var o=r.length-1,n=[];o>=0;){var a=r[o];i=l.indexOf(a),i!==-1&&(h(l,i),n.push(a),s&&s.call(e,a)),o--}return n};p.exports=c},8324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72677),c=function(l,r,s,e){if(e===void 0&&(e=l),r<0||r>l.length-1)throw new Error("Index out of bounds");var i=h(l,r);return s&&s.call(e,i),i};p.exports=c},47427:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),c=function(l,r,s,e,i){if(r===void 0&&(r=0),s===void 0&&(s=l.length),i===void 0&&(i=l),h(l,r,s)){var o=s-r,n=l.splice(r,o);if(e)for(var a=0;a<n.length;a++){var f=n[a];e.call(i,f)}return n}else return[]};p.exports=c},50147:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72677),c=function(l,r,s){r===void 0&&(r=0),s===void 0&&(s=l.length);var e=r+Math.floor(Math.random()*s);return h(l,e)};p.exports=c},80402:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=t.indexOf(h),r=t.indexOf(c);return l!==-1&&r===-1?(t[l]=c,!0):!1};p.exports=S},77640:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var c=null,l=0;l<h;l++)c=t.shift(),t.push(c);return c};p.exports=S},38487:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var c=null,l=0;l<h;l++)c=t.pop(),t.unshift(c);return c};p.exports=S},45838:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){var r=t.length;if(h<0||h>r||h>=c||c>r){if(l)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=S},27847:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var c=t.indexOf(h);return c!==-1&&c>0&&(t.splice(c,1),t.unshift(h)),h};p.exports=S},6034:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),c=function(l,r,s,e,i){if(e===void 0&&(e=0),i===void 0&&(i=l.length),h(l,e,i))for(var o=e;o<i;o++){var n=l[o];n.hasOwnProperty(r)&&(n[r]=s)}return l};p.exports=c},18592:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length-1;h>0;h--){var c=Math.floor(Math.random()*(h+1)),l=t[h];t[h]=t[c],t[c]=l}return t};p.exports=S},28834:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=/\D/g;return t.sort(function(c,l){return parseInt(c.replace(h,""),10)-parseInt(l.replace(h,""),10)}),t};p.exports=S},72677:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){if(!(h>=t.length)){for(var c=t.length-1,l=t[h],r=h;r<c;r++)t[r]=t[r+1];return t.length=c,l}};p.exports=S},17922:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77290);function c(e,i){return String(e).localeCompare(i)}function l(e,i){var o=e.length;if(o<=1)return e;for(var n=new Array(o),a=1;a<o;a*=2){r(e,i,a,n);var f=e;e=n,n=f}return e}function r(e,i,o,n){var a=e.length,f=0,u=o*2,d,v,g,x,m;for(d=0;d<a;d+=u)for(v=d+o,g=v+o,v>a&&(v=a),g>a&&(g=a),x=d,m=v;;)if(x<v&&m<g)i(e[x],e[m])<=0?n[f++]=e[x++]:n[f++]=e[m++];else if(x<v)n[f++]=e[x++];else if(m<g)n[f++]=e[m++];else break}var s=function(e,i){if(i===void 0&&(i=c),!e||e.length<2)return e;if(h.features.stableSort)return e.sort(i);var o=l(e,i);return o!==e&&r(o,null,e.length,e),e};p.exports=s},96928:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(h===c)return t;var l=t.indexOf(h),r=t.indexOf(c);if(l<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[l]=c,t[r]=h,t};p.exports=S},59959:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,c=1;c<t.length;c++)if(t[c].length!==h)return!1;return!0};p.exports=S},68428:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76400),c=t(97494),l=function(r){var s="";if(!c(r))return s;for(var e=0;e<r.length;e++){for(var i=0;i<r[e].length;i++){var o=r[e][i].toString();o!=="undefined"?s+=h(o,2):s+="?",i<r[e].length-1&&(s+=" |")}if(e<r.length-1){s+=`
`;for(var n=0;n<r[e].length;n++)s+="---",n<r[e].length-1&&(s+="+");s+=`
`}}return s};p.exports=l},59521:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};p.exports=S},51995:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};p.exports=S},89011:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63515),c=function(l){return h(l,180)};p.exports=c},42549:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63515),c=function(l){return h(l,90)};p.exports=c},63515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97494),c=t(78581),l=function(r,s){if(s===void 0&&(s=90),!h(r))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")r=c(r),r.reverse();else if(s===-90||s===270||s==="rotateRight")r.reverse(),r=c(r);else if(Math.abs(s)===180||s==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};p.exports=l},14305:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63515),c=function(l){return h(l,-90)};p.exports=c},27365:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77640),c=t(38487),l=function(r,s,e){if(s===void 0&&(s=0),e===void 0&&(e=0),e!==0&&(e<0?h(r,Math.abs(e)):c(r,e)),s!==0)for(var i=0;i<r.length;i++){var o=r[i];s<0?h(o,Math.abs(s)):c(o,s)}return r};p.exports=l},78581:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length,c=t[0].length,l=new Array(c),r=0;r<c;r++){l[r]=new Array(h);for(var s=h-1;s>-1;s--)l[r][s]=t[s][r]}return l};p.exports=S},13515:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,c){for(var l=new Uint8Array(h),r=l.length,s=c?"data:"+c+";base64,":"",e=0;e<r;e+=3)s+=S[l[e]>>2],s+=S[(l[e]&3)<<4|l[e+1]>>4],s+=S[(l[e+1]&15)<<2|l[e+2]>>6],s+=S[l[e+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};p.exports=t},82329:p=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<S.length;h++)t[S.charCodeAt(h)]=h;var c=function(l){l=l.substr(l.indexOf(",")+1);var r=l.length,s=r*.75,e=0,i,o,n,a;l[r-1]==="="&&(s--,l[r-2]==="="&&s--);for(var f=new ArrayBuffer(s),u=new Uint8Array(f),d=0;d<r;d+=4)i=t[l.charCodeAt(d)],o=t[l.charCodeAt(d+1)],n=t[l.charCodeAt(d+2)],a=t[l.charCodeAt(d+3)],u[e++]=i<<2|o>>4,u[e++]=(o&15)<<4|n>>2,u[e++]=(n&3)<<6|a&63;return f};p.exports=c},78417:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={};for(var c in t)Array.isArray(t[c])?h[c]=t[c].slice(0):h[c]=t[c];return h};p.exports=S},28699:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h,c,l;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(l in t)c=t[l],h[l]=S(c);return h};p.exports=S},98611:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42911),c=function(){var l,r,s,e,i,o,n=arguments[0]||{},a=1,f=arguments.length,u=!1;for(typeof n=="boolean"&&(u=n,n=arguments[1]||{},a=2),f===a&&(n=this,--a);a<f;a++)if((l=arguments[a])!=null)for(r in l)s=n[r],e=l[r],n!==e&&(u&&e&&(h(e)||(i=Array.isArray(e)))?(i?(i=!1,o=s&&Array.isArray(s)?s:[]):o=s&&h(s)?s:{},n[r]=c(u,o,e)):e!==void 0&&(n[r]=e));return n};p.exports=c},20494:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5923),c=t(10850),l=function(r,s,e){var i=c(r,s,null);if(i===null)return e;if(Array.isArray(i))return h.RND.pick(i);if(typeof i=="object"){if(i.hasOwnProperty("randInt"))return h.RND.integerInRange(i.randInt[0],i.randInt[1]);if(i.hasOwnProperty("randFloat"))return h.RND.realInRange(i.randFloat[0],i.randFloat[1])}else if(typeof i=="function")return i(s);return i};p.exports=l},72632:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){var l=typeof t;return!t||l==="number"||l==="string"?c:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:c};p.exports=S},94324:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),c=t(82897),l=function(r,s,e,i,o){o===void 0&&(o=e);var n=h(r,s,o);return c(n,e,i)};p.exports=l},10850:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){if(!t&&!l||typeof t=="number")return c;if(t&&t.hasOwnProperty(h))return t[h];if(l&&l.hasOwnProperty(h))return l[h];if(h.indexOf(".")!==-1){for(var r=h.split("."),s=t,e=l,i=c,o=c,n=!0,a=!0,f=0;f<r.length;f++)s&&s.hasOwnProperty(r[f])?(i=s[r[f]],s=s[r[f]]):n=!1,e&&e.hasOwnProperty(r[f])?(o=e[r[f]],e=e[r[f]]):a=!1;return n?i:a?o:c}else return c};p.exports=S},87701:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var c=0;c<h.length;c++)if(!t.hasOwnProperty(h[c]))return!1;return!0};p.exports=S},53523:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var c=0;c<h.length;c++)if(t.hasOwnProperty(h[c]))return!0;return!1};p.exports=S},19256:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.hasOwnProperty(h)};p.exports=S},42911:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};p.exports=S},30657:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(32742),c=function(l,r){var s=h(l);for(var e in r)s.hasOwnProperty(e)||(s[e]=r[e]);return s};p.exports=c},72066:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(32742),c=function(l,r){var s=h(l);for(var e in r)s.hasOwnProperty(e)&&(s[e]=r[e]);return s};p.exports=c},28820:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19256),c=function(l,r){for(var s={},e=0;e<r.length;e++){var i=r[e];h(l,i)&&(s[i]=l[i])}return s};p.exports=c},22440:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=c,!0;if(h.indexOf(".")!==-1){for(var l=h.split("."),r=t,s=t,e=0;e<l.length;e++)if(r.hasOwnProperty(l[e]))s=r,r=r[l[e]];else return!1;return s[l[l.length-1]]=c,!0}return!1};p.exports=S},64615:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.replace(/%([0-9]+)/g,function(c,l){return h[Number(l)-1]})};p.exports=S},76400:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,c,l){h===void 0&&(h=0),c===void 0&&(c=" "),l===void 0&&(l=3),t=t.toString();var r=0;if(h+1>=t.length)switch(l){case 1:t=new Array(h+1-t.length).join(c)+t;break;case 3:var s=Math.ceil((r=h-t.length)/2),e=r-s;t=new Array(e+1).join(c)+t+new Array(s+1).join(c);break;default:t=t+new Array(h+1-t.length).join(c);break}return t};p.exports=S},76872:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===0?t.slice(1):t.slice(0,h-1)+t.slice(h)};p.exports=S},8051:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};p.exports=S},76583:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,c=t==="x"?h:h&3|8;return c.toString(16)})};p.exports=S},40587:p=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};p.exports=S},50379:(p,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},F={};function N(p){var S=F[p];if(S!==void 0)return S.exports;var t=F[p]={exports:{}};return I[p](t,t.exports,N),t.exports}N.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var H=N(92491);return H})())})(Op);var Mp=Op.exports;const Ft=jf(Mp);var Xi=(L=>(L.MAP="MAP",L.BUILDING="BUILDING",L.CRYSTAL="CRYSTAL",L.SCENERY="SCENERY",L.FLAG="FLAG",L))(Xi||{}),qt=(L=>(L.ENEMY="ENEMY",L.PLAYER="PLAYER",L.SCENERY="SCENERY",L.CRYSTAL="CRYSTAL",L.FLAG="FLAG",L))(qt||{}),Hs=(L=>(L.EARTH="EARTH",L.MOON="MOON",L.MARS="MARS",L))(Hs||{}),Zf=(L=>(L.EARTH="level/earth/scenery",L.MOON="level/moon/scenery",L.MARS="level/mars/scenery",L))(Zf||{}),xl=(L=>(L.EARTH="level/earth/tiles",L.MOON="level/moon/tiles",L.MARS="level/mars/tiles",L))(xl||{}),le=(L=>(L.WATER="WATER",L.SAND="SAND",L.GRASS="GRASS",L.RUBBLE="RUBBLE",L.MOUNT="MOUNT",L.SNOW="SNOW",L))(le||{});const kx=[{params:{upperBound:.12},data:{type:le.WATER,tileIndex:0,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.12,upperBound:.15},data:{type:le.WATER,tileIndex:1,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.15,upperBound:.17},data:{type:le.WATER,tileIndex:2,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.17,upperBound:.2},data:{type:le.SAND,tileIndex:6,z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.CRYSTAL]}},{params:{lowerBound:.2,upperBound:.24},data:{type:le.SAND,tileIndex:[7,8],z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.CRYSTAL]}},{params:{lowerBound:.24,upperBound:.34},data:{type:le.GRASS,tileIndex:12,z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.PLAYER,qt.SCENERY,qt.FLAG]}},{params:{lowerBound:.34,upperBound:.44},data:{type:le.GRASS,tileIndex:[13,14],z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.PLAYER,qt.SCENERY,qt.FLAG]}},{params:{lowerBound:.44,upperBound:.54},data:{type:le.GRASS,tileIndex:[15,17],z:0,collide:!1,solid:!0,spawn:[qt.ENEMY]}},{params:{lowerBound:.54,upperBound:.59},data:{type:le.MOUNT,tileIndex:[24,25],z:1,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.59,upperBound:.63},data:{type:le.MOUNT,tileIndex:26,z:1,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.63,upperBound:.72},data:{type:le.MOUNT,tileIndex:27,z:2,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.72},data:{type:le.SNOW,tileIndex:30,z:3,collide:!0,solid:!1,spawn:[]}},{data:{type:le.RUBBLE,tileIndex:[18,19],z:0,collide:!1,solid:!0,friction:.8,spawn:[qt.PLAYER]}}],Kx=[{params:{upperBound:.09},data:{type:le.WATER,tileIndex:0,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.09,upperBound:.12},data:{type:le.WATER,tileIndex:1,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.12,upperBound:.14},data:{type:le.WATER,tileIndex:2,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.14,upperBound:.18},data:{type:le.SAND,tileIndex:3,z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.CRYSTAL]}},{params:{lowerBound:.18,upperBound:.22},data:{type:le.SAND,tileIndex:[4,5],z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.CRYSTAL,qt.SCENERY]}},{params:{lowerBound:.22,upperBound:.32},data:{type:le.GRASS,tileIndex:6,z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.PLAYER,qt.SCENERY,qt.FLAG]}},{params:{lowerBound:.32,upperBound:.54},data:{type:le.GRASS,tileIndex:[7,8],z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.PLAYER,qt.SCENERY,qt.FLAG]}},{params:{lowerBound:.54,upperBound:.64},data:{type:le.MOUNT,tileIndex:12,z:1,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.64,upperBound:.72},data:{type:le.MOUNT,tileIndex:13,z:2,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.72},data:{type:le.MOUNT,tileIndex:14,z:3,collide:!0,solid:!1,spawn:[]}},{data:{type:le.RUBBLE,tileIndex:[9,10],z:0,collide:!1,solid:!0,friction:.8,spawn:[qt.PLAYER]}}],$x=[{params:{upperBound:.09},data:{type:le.WATER,tileIndex:0,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.09,upperBound:.12},data:{type:le.WATER,tileIndex:1,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.12,upperBound:.14},data:{type:le.WATER,tileIndex:2,z:0,collide:!1,solid:!1,spawn:[]}},{params:{lowerBound:.14,upperBound:.18},data:{type:le.SAND,tileIndex:3,z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.CRYSTAL]}},{params:{lowerBound:.18,upperBound:.22},data:{type:le.SAND,tileIndex:[4,5],z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.CRYSTAL,qt.SCENERY]}},{params:{lowerBound:.22,upperBound:.32},data:{type:le.GRASS,tileIndex:6,z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.PLAYER,qt.SCENERY,qt.FLAG]}},{params:{lowerBound:.32,upperBound:.54},data:{type:le.GRASS,tileIndex:[7,8],z:0,collide:!1,solid:!0,spawn:[qt.ENEMY,qt.PLAYER,qt.SCENERY,qt.FLAG]}},{params:{lowerBound:.54,upperBound:.64},data:{type:le.MOUNT,tileIndex:12,z:1,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.64,upperBound:.72},data:{type:le.MOUNT,tileIndex:13,z:2,collide:!0,solid:!1,spawn:[]}},{params:{lowerBound:.72},data:{type:le.MOUNT,tileIndex:14,z:3,collide:!0,solid:!1,spawn:[]}},{data:{type:le.RUBBLE,tileIndex:[9,10],z:0,collide:!1,solid:!0,friction:.8,spawn:[qt.PLAYER]}}],Hn={[Hs.EARTH]:{BIOMES:kx,SCENERY_DENSITY:2,SCENERY_VARIANTS_COUNT:4,CRYSTAL_VARIANTS:[1]},[Hs.MOON]:{BIOMES:$x,SCENERY_DENSITY:1.5,SCENERY_VARIANTS_COUNT:8,CRYSTAL_VARIANTS:[3],MIN_SCORE:5e3},[Hs.MARS]:{BIOMES:Kx,SCENERY_DENSITY:1.5,SCENERY_VARIANTS_COUNT:8,CRYSTAL_VARIANTS:[0,2],MIN_SCORE:2e4}};class ba extends Ft.Scene{}class gt{}class ge{static RegisterAudio(A){this.Files=this.Files.concat(this.Normalize(A).map(I=>({key:I,type:"audio",url:`assets/audio/${I}.mp3?v=${dn.version}`})))}static RegisterImages(A){this.Files=this.Files.concat(this.Normalize(A).map(I=>({key:I,type:"image",url:`assets/sprites/${I}.png?v=${dn.version}`})))}static RegisterSprites(A,I){this.Files=this.Files.concat(this.Normalize(A).map(F=>{const{width:N,height:H,margin:p,spacing:S}=typeof I=="function"?I(F):I;return{key:F,type:"spritesheet",url:`assets/sprites/${F}.png?v=${dn.version}`,frameConfig:{frameWidth:N,frameHeight:H,margin:p,spacing:S}}}))}static Clear(){this.Files=[]}static Normalize(A){return typeof A=="string"?[A]:Object.values(A)}}ge.Files=[];class Me{static Register(){if(this.Platform=this.GetCustomPlatform()??"poki",!this.Platform)throw Error("Invalid environment platform")}static GetFlag(A){return tl[this.Platform].flags[A]}static GetSDK(){return tl[this.Platform].sdk}static GetCMP(){return tl[this.Platform].cmp}static GetCustomPlatform(){const A=new URLSearchParams(window.location.search).get("sdk")?.toLowerCase();if(A&&A in tl)return A}}const r0=L=>{L=1831565813+(L|=0)|0;let A=Math.imul(L^L>>>15,1|L);return A=A+Math.imul(A^A>>>7,61|A)^A,((A^A>>>14)>>>0)/4294967296};class jx{constructor(A){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:I,separator:F,dictionaries:N,style:H,seed:p}=A;this.dictionaries=N,this.separator=F,this.length=I,this.style=H,this.seed=p}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let A=this.seed;return this.dictionaries.slice(0,this.length).reduce((I,F)=>{let N;A?(N=(p=>{if(typeof p=="string"){const S=p.split("").map(h=>h.charCodeAt(0)).reduce((h,c)=>h+c,1),t=Math.floor(Number(S));return r0(t)}return r0(p)})(A),A=4294967296*N):N=Math.random();let H=F[Math.floor(N*F.length)]||"";if(this.style==="lowerCase")H=H.toLowerCase();else if(this.style==="capital"){const[p,...S]=H.split("");H=p.toUpperCase()+S.join("")}else this.style==="upperCase"&&(H=H.toUpperCase());return I?`${I}${this.separator}${H}`:`${H}`},"")}}const a0={separator:"_",dictionaries:[]},Zx=L=>{const A=[...L&&L.dictionaries||a0.dictionaries],I={...a0,...L,length:L&&L.length||A.length,dictionaries:A};if(!L||!L.dictionaries||!L.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new jx(I).generate()};var Qx=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],Jx=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"];let el;const qx=new Uint8Array(16);function _x(){if(!el&&(el=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!el))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return el(qx)}const si=[];for(let L=0;L<256;++L)si.push((L+256).toString(16).slice(1));function t1(L,A=0){return si[L[A+0]]+si[L[A+1]]+si[L[A+2]]+si[L[A+3]]+"-"+si[L[A+4]]+si[L[A+5]]+"-"+si[L[A+6]]+si[L[A+7]]+"-"+si[L[A+8]]+si[L[A+9]]+"-"+si[L[A+10]]+si[L[A+11]]+si[L[A+12]]+si[L[A+13]]+si[L[A+14]]+si[L[A+15]]}const e1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),o0={randomUUID:e1};function wr(L,A,I){if(o0.randomUUID&&!A&&!L)return o0.randomUUID();L=L||{};const F=L.random||(L.rng||_x)();if(F[6]=F[6]&15|64,F[8]=F[8]&63|128,A){I=I||0;for(let N=0;N<16;++N)A[I+N]=F[N];return A}return t1(F)}const xi={HOST:"https://izowave.neki.guru/api",ENDPOINTS:{GET_TRAFFIC:"get-traffic",GET_RECORDS:"get-records",GET_LEADERBOARD:"get-leaderboard",GET_USERS:"get-users",GET_RESOURCES:"get-resources",GET_SESSIONS:"get-sessions",GET_MODES:"get-modes",GET_DIFFICULTIES:"get-difficulties",GET_PLANETS:"get-planets",GET_LANGS:"get-langs",GET_WAVE_COMPLETIONS:"get-wave-completions",GET_FLAG_CAPTURES:"get-flag-captures",GET_ERRORS:"get-errors",GET_USER_NAME:"get-user-name",MARK_AS_CHEATER:"mark-as-cheater",UPDATE_USER_NAME:"update-user-name",UPDATE_RECORD:"update-record",CREATE_RECORD:"create-record",CREATE_SESSION:"create-session",CREATE_ACCOUNT:"create-account",CREATE_GAME_RESULT:"create-game-result",CREATE_WAVE_COMPLETION:"create-wave-completion",CREATE_FLAG_CAPTURE:"create-flag-capture",CREATE_ERROR:"create-error"}},i1={ENEMIES:"Enemies",WAVE_TIMELEFT:"Timeleft",WAVE:"Wave",SKIP_WAVE_TIMELEFT:`Start wave
prematurely`,MODE:"Mode",INFINITY:"Endless waves",FLAGS:"Capture flags",FLAGS_CAPTURE:`Capture all flags
to win`,BUILDING:"Building",BUILDING_NAME_WALL:"Wall",BUILDING_DESCRIPTION_WALL:"Defends other buildings",BUILDING_NAME_TOWER_FIRE:"Fire tower",BUILDING_DESCRIPTION_TOWER_FIRE:"Basic fire attack of enemies",BUILDING_NAME_TOWER_FROZEN:"Frozen tower",BUILDING_DESCRIPTION_TOWER_FROZEN:"Freezes enemies for some time",BUILDING_NAME_TOWER_LAZER:"Laser tower",BUILDING_DESCRIPTION_TOWER_LAZER:"Instant and continuous laser attack of enemies",BUILDING_NAME_TOWER_ELECTRO:"Electro tower",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Mass electric shock",BUILDING_NAME_GENERATOR:"Generator",BUILDING_DESCRIPTION_GENERATOR:"Generates resources for builds and upgrades",BUILDING_NAME_AMMUNITION:"Ammo stock",BUILDING_DESCRIPTION_AMMUNITION:"Reloads towers ammo within building radius",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Uncovers enemies within building radius",BUILDING_NAME_BOOSTER:"Booster",BUILDING_DESCRIPTION_BOOSTER:"Increases towers efficiency",BUILDING_NAME_NEUTRALIZER:"Neutralizer",BUILDING_DESCRIPTION_NEUTRALIZER:"Disables enemy lasers",BUILDING_CATEGORY_DEFENSE:"Defense",BUILDING_CATEGORY_ATTACK:"Attack",BUILDING_CATEGORY_RESOURCES:"Resources",BUILDING_CATEGORY_OTHER:"Other",BUILDING_HEALTH:"Health",BUILDING_RADIUS:"Radius",BUILDING_FREEZE:"Freeze",BUILDING_POWER:"Power",BUILDING_AMMO:"Ammo",BUILDING_DAMAGE:"Damage",BUILDING_SPEED:"Speed",BUILDING_DELAY:"Delay",BUILDING_UPGRADE:"Upgrade",BUILDING_BUY_AMMO:"Buy ammo",BUILDING_REPAIR:"Repair",BUILDING_DESTROY:"Destroy",BUILDING_WILL_BE_AVAILABLE:"Will be available on %1 wave",BUILDING_LIMIT_REACHED:"You have maximum %1s",BUILDING_NEAR_TOWER:"Must be placed next to the tower",NOT_ENOUGH_RESOURCES:"Not enough resources",NOT_ENOUGH_EXPERIENCE:"Not enough experience",TIME_SCALE:`Increase time speed
during wave`,BUILDING_INDICATORS:`Display buildings
health and ammo`,AUTO_REPAIR:`Auto buy ammo
and repair buildings`,PATH_TO_CRYSTAL:`Display path
to nearest crystal`,ASSISTANT_FOLLOW:`Lock assistant's
current position`,ASSISTANT:"Assistant",ASSISTANT_UNLOCK:"New assistant with improved weapon",SKILLS:"Skills",SKILL_TARGET_CHARACTER:"Character",SKILL_TARGET_ASSISTANT:"Assistant",SKILL_UPGRADE:"Upgrade",SKILL_MAX_LEVEL:`Max
level`,SKILL_LABEL_MAX_HEALTH:"Health",SKILL_LABEL_SPEED:"Move speed",SKILL_LABEL_STAMINA:"Stamina",SKILL_LABEL_BUILD_SPEED:"Build speed",SKILL_LABEL_ATTACK_DAMAGE:"Damage",SKILL_LABEL_ATTACK_DISTANCE:"Attack distance",SKILL_LABEL_ATTACK_SPEED:"Attack speed",RESOURCES:"Resources",EXPERIENCE:"Experience",SCORE:"Score",ADS_SHOW:"Watch a video and get a reward",ADS_UNLOCK:"Unlock extra superskill by watching video",FEATURES_UNLOCKED:`Unlocked
new features!`,YES:"Yes",NO:"No",SUPERSKILL:"Superskill",SUPERSKILL_NAME_INVISIBLE:"Invisible",SUPERSKILL_DESCRIPTION_INVISIBLE:"Hides character from enemies",SUPERSKILL_NAME_FROST:"Frost",SUPERSKILL_DESCRIPTION_FROST:"Freezes all enemies",SUPERSKILL_NAME_RAGE:"Rage",SUPERSKILL_DESCRIPTION_RAGE:"Doubles towers damage",SUPERSKILL_NAME_SHIELD:"Shield",SUPERSKILL_DESCRIPTION_SHIELD:"Prevents damage to all buildings",SUPERSKILL_NAME_FIRE:"Fire",SUPERSKILL_DESCRIPTION_FIRE:"Deals damage to all enemies",TUTORIAL_SKIP_TIMELEFT:`Click to start
wave prematurely`,TUTORIAL_CLICK_TO_UPGRADE:"Click to upgrade",TUTORIAL_HOVER_TO_UPGRADE:`Hover and press [E]
to upgrade`,TUTORIAL_RESOURCES:`If resources are not enough,
you can find <crystals> on the map`,TUTORIAL_BUILD_GENERATOR:`Build <generator>
to get resources`,TUTORIAL_BUILD_GENERATOR_SECOND:`Build second <generator>
to get more resources`,TUTORIAL_BUILD_TOWER_FIRE:`Build <fire tower>
to attack enemies`,TUTORIAL_BUILD_AMMUNITION:`Build <ammo stock>
to reload towers`,TUTORIAL_BUILD_RADAR:`Build <radar>
to uncover enemies`,TUTORIAL_BUILD_NEUTRALIZER:`Build <neutralizer>
to disable enemy lasers`,TUTORIAL_STOP_BUILD:"Use [Right click] to stop build",TUTORIAL_RELOAD_TOWER:"Build <ammo stock> nearby",TUTORIAL_CLICK_TO_BUY_AMMO:"Click to buy ammo",TUTORIAL_HOVER_TO_BUY_AMMO:`Hover and press [F]
to buy ammo`,TUTORIAL_FLAG_CAPTION:`Stand nearby
to capture the <flag>`,NEW_GAME:"New game",LOAD_GAME:"Load game",SAVE_GAME:"Save game",CONTINUE_GAME:"Continue",RESTART_GAME:"Restart",MAIN_MENU:"Exit to menu",SETTINGS:"Settings",CONTROLS:"Controls",LEADERBOARD:"Leaderboard",MENU:"Menu",CONFIRM_STOP_GAME:"Do you confirm to stop the game?",CONFIRM_RESTART_GAME:"Do you confirm to restart the game?",SAVES_NOT_ALLOWED:`Attention! The game is open in incognito mode.
After restarting the game, all saves will be lost.`,PLANET:"Planet",DIFFICULTY:"Difficulty",START:"Start",INTRODUCTION:`The enemies are near!
Build a base to defend`,SAVES_NOT_FOUND:"Saves not found",IMPORT_SAVE:"Import",SAVES_LIMIT:`You have maximum saves.
Delete or rewrite existing ones`,SAVE:"Save",SAVE_NAME:"Name",SAVE_DATE:"Date",CONFIRM_REWRITE_SAVE:"Do you confirm to rewrite this save?",CONFIRM_DELETE_SAVE:"Do you confirm to delete this save?",EARTH:"Earth",MOON:"Moon",MARS:"Mars",PLANET_LOCKED:`To unlock this planet
you need to have record`,UNLOCK_BY_ADS:"Unlock now",EASY:"Easy",NORMAL:"Normal",HARD:"Hard",ON:"On",OFF:"Off",LANGUAGE:"Language",TUTORIAL:"Tutorial",AUDIO:"Audio",EFFECTS:"Effects",PLAYER:"Player",BUILDER:"Construction",BUILDINGS:"Buildings",MOVEMENT:"Movement",BUILD:"Build",STOP_BUILD:"Stop build",UPGRADE_BUILDING:"Upgrade building",REPAIR_BUILDING:"Repair building",DESTROY_BUILDING:"Destroy building",BUY_AMMO:"Buy ammo",RECORD:"Record",TOTAL_SCORE:"Total score",WAVES_COMPLETED:"Waves completed",ENEMIES_KILLED:"Enemies killed",MINUTES_LIVED:"Minutes lived",CLOSE:"Close"},n1={ENEMIES:"Enemigos",WAVE_TIMELEFT:"Tiempo restante",WAVE:"Ola",SKIP_WAVE_TIMELEFT:`Iniciar ola
prematuramente`,MODE:"Modo",INFINITY:"Olas infinitas",FLAGS:"Captura las banderas",FLAGS_CAPTURE:`Captura todas las banderas
para ganar`,BUILDING:"Edificio",BUILDING_NAME_WALL:"Muro",BUILDING_DESCRIPTION_WALL:"Defiende otros edificios",BUILDING_NAME_TOWER_FIRE:"Torre de fuego",BUILDING_DESCRIPTION_TOWER_FIRE:"Ataque bsico de fuego de los enemigos",BUILDING_NAME_TOWER_FROZEN:"Torre congelante",BUILDING_DESCRIPTION_TOWER_FROZEN:"Congela a los enemigos durante algn tiempo",BUILDING_NAME_TOWER_LAZER:"Torre laser",BUILDING_DESCRIPTION_TOWER_LAZER:"Ataque de lser instantneo y continuo de los enemigos",BUILDING_NAME_TOWER_ELECTRO:"Torre electrica",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Ataque masivo de electricidad",BUILDING_NAME_GENERATOR:"Generador",BUILDING_DESCRIPTION_GENERATOR:"Genera recursos para construcciones y mejoras",BUILDING_NAME_AMMUNITION:"Municion",BUILDING_DESCRIPTION_AMMUNITION:"Recarga la municin de las torres dentro del radio del edificio",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Descubre enemigos dentro del radio del edificio",BUILDING_NAME_BOOSTER:"Impulsor",BUILDING_DESCRIPTION_BOOSTER:"Aumenta la eficiencia de las torres",BUILDING_NAME_NEUTRALIZER:"Neutralizador",BUILDING_DESCRIPTION_NEUTRALIZER:"Desactiva los lseres enemigos",BUILDING_CATEGORY_DEFENSE:"Defensa",BUILDING_CATEGORY_ATTACK:"Ataque",BUILDING_CATEGORY_RESOURCES:"Recursos",BUILDING_CATEGORY_OTHER:"Otros",BUILDING_HEALTH:"Salud",BUILDING_RADIUS:"Radio",BUILDING_FREEZE:"Congelar",BUILDING_POWER:"Potencia",BUILDING_AMMO:"Municin",BUILDING_DAMAGE:"Dao",BUILDING_SPEED:"Velocidad",BUILDING_DELAY:"Retraso",BUILDING_UPGRADE:"Mejorar",BUILDING_BUY_AMMO:"Buy ammo",BUILDING_REPAIR:"Reparar",BUILDING_DESTROY:"Destruir",BUILDING_WILL_BE_AVAILABLE:"Estar disponible en la oleada %1",BUILDING_LIMIT_REACHED:"Tienes un mximo de %1",BUILDING_NEAR_TOWER:"Debe colocarse junto a la torre",NOT_ENOUGH_RESOURCES:"No hay suficientes recursos",NOT_ENOUGH_EXPERIENCE:"No hay suficiente experiencia",TIME_SCALE:`Aumentar la velocidad del tiempo
durante la oleada`,BUILDING_INDICATORS:`Mostrar salud y municin
de los edificios`,AUTO_REPAIR:`Compra automtica de municin
y reparacin de edificios`,PATH_TO_CRYSTAL:`Mostrar el camino
hacia el cristal ms cercano`,ASSISTANT_FOLLOW:`Bloquear la posicin
actual del asistente`,ASSISTANT:"Asistente",ASSISTANT_UNLOCK:"Nuevo asistente con arma mejorada",SKILLS:"Habilidades",SKILL_TARGET_CHARACTER:"Personaje",SKILL_TARGET_ASSISTANT:"Asistente",SKILL_UPGRADE:"Mejorar",SKILL_MAX_LEVEL:`Nivel
mximo`,SKILL_LABEL_MAX_HEALTH:"Salud",SKILL_LABEL_SPEED:"Velocidad de movimiento",SKILL_LABEL_STAMINA:"Resistencia",SKILL_LABEL_BUILD_SPEED:"Velocidad de construccion",SKILL_LABEL_ATTACK_DAMAGE:"Dano",SKILL_LABEL_ATTACK_DISTANCE:"Distancia de ataque",SKILL_LABEL_ATTACK_SPEED:"Velocidad de ataque",RESOURCES:"Recursos",EXPERIENCE:"Experiencia",SCORE:"Puntaje",ADS_SHOW:"Mira un video y obtn una recompensa",ADS_UNLOCK:"Desbloquear sperhabilidad adicional viendo el video",FEATURES_UNLOCKED:`Nuevas funciones
desbloqueadas!`,YES:"Si",NO:"No",SUPERSKILL:"Superhabilidad",SUPERSKILL_NAME_INVISIBLE:"Invisible",SUPERSKILL_DESCRIPTION_INVISIBLE:"Oculta al personaje de los enemigos",SUPERSKILL_NAME_FROST:"Helada",SUPERSKILL_DESCRIPTION_FROST:"Congela a todos los enemigos",SUPERSKILL_NAME_RAGE:"Ira",SUPERSKILL_DESCRIPTION_RAGE:"Duplica el dao de las torres",SUPERSKILL_NAME_SHIELD:"Escudo",SUPERSKILL_DESCRIPTION_SHIELD:"Evita el dao a todos los edificios",SUPERSKILL_NAME_FIRE:"Fuego",SUPERSKILL_DESCRIPTION_FIRE:"Inflige dao a todos los enemigos",TUTORIAL_SKIP_TIMELEFT:`Haz clic para empezar
la oleada prematuramente`,TUTORIAL_CLICK_TO_UPGRADE:"Haz clic para mejorar",TUTORIAL_HOVER_TO_UPGRADE:`Pasa el cursor y presiona [E]
para mejorar`,TUTORIAL_RESOURCES:`Si no tienes suficientes recursos,
puedes encontrar <cristales> en el mapa`,TUTORIAL_BUILD_GENERATOR:`Construye <generador>
para obtener recursos`,TUTORIAL_BUILD_GENERATOR_SECOND:`Construye segundo <generador>
para obtener ms recursos`,TUTORIAL_BUILD_TOWER_FIRE:`Construye <torre de fuego>
para atacar a los enemigos`,TUTORIAL_BUILD_AMMUNITION:`Construye <municin>
para recargar las torres`,TUTORIAL_BUILD_RADAR:`Construye <radar>
para descubrir enemigos`,TUTORIAL_BUILD_NEUTRALIZER:`Construye <neutralizer>
para desactivar los lseres enemigos`,TUTORIAL_STOP_BUILD:"Usa [Click derecho] para detener la construccin",TUTORIAL_RELOAD_TOWER:"Construye <municin> cercana",TUTORIAL_CLICK_TO_BUY_AMMO:"Haz clic para comprar municin",TUTORIAL_HOVER_TO_BUY_AMMO:`Pasa el cursor y presiona [F]
para comprar municin`,TUTORIAL_FLAG_CAPTION:`Permanece cerca
para capturar la <bandera>`,NEW_GAME:"Nuevo juego",LOAD_GAME:"Cargar juego",SAVE_GAME:"Guardar juego",CONTINUE_GAME:"Continuar",RESTART_GAME:"Reiniciar",MAIN_MENU:"Salir al menu",SETTINGS:"Ajustes",CONTROLS:"Controles",LEADERBOARD:"Ranking",MENU:"Menu",CONFIRM_STOP_GAME:"Confirma detener el juego?",CONFIRM_RESTART_GAME:"Confirma reiniciar el juego?",PLANET:"Planeta",DIFFICULTY:"Dificultad",START:"Comenzar",INTRODUCTION:`Los enemigos estn cerca!
Construye una base para defenderte`,SAVES_NOT_FOUND:"Guardados no encontrados",IMPORT_SAVE:"Importar",SAVES_LIMIT:`Has alcanzado el mximo de guardados.
Elimina o sobrescribe los existentes`,SAVE:"Guardar",SAVE_NAME:"Nombre",SAVE_DATE:"Fecha",CONFIRM_REWRITE_SAVE:"Confirma sobrescribir este guardado?",CONFIRM_DELETE_SAVE:"Confirma eliminar este guardado?",SAVES_NOT_ALLOWED:`Atencin! El juego est abierto en modo incgnito.
Al reiniciar el juego, se perdern todas las partidas guardadas.`,EARTH:"Tierra",MOON:"Luna",MARS:"Marte",PLANET_LOCKED:`Para desbloquear este planeta
necesitas tener un record`,UNLOCK_BY_ADS:"Desbloquear",EASY:"Facil",NORMAL:"Normal",HARD:"Duro",ON:"On",OFF:"Off",LANGUAGE:"Language",TUTORIAL:"Tutorial",AUDIO:"Audio",EFFECTS:"Efectos",PLAYER:"Jugador",BUILDER:"Construccin",BUILDINGS:"Edificios",MOVEMENT:"Movimiento",BUILD:"Construir",STOP_BUILD:"Detener construccin",UPGRADE_BUILDING:"Mejorar edificio",REPAIR_BUILDING:"Reparar edificio",DESTROY_BUILDING:"Destruir edificio",BUY_AMMO:"Comprar municin",RECORD:"Registro",TOTAL_SCORE:"Puntuacion total",WAVES_COMPLETED:"Oleadas completadas",ENEMIES_KILLED:"Enemigos eliminados",MINUTES_LIVED:"Minutos vividos",CLOSE:"Cerrar"},s1={ENEMIES:"Ennemies",WAVE_TIMELEFT:"Temps restant",WAVE:"Vague",SKIP_WAVE_TIMELEFT:`Dmarrer la vague
prmaturment`,MODE:"Mode",INFINITY:"Vagues infinies",FLAGS:"Capture les drapeaux",FLAGS_CAPTURE:`Capturez tous les drapeaux
pour gagner`,BUILDING:"Btiment",BUILDING_NAME_WALL:"Mur",BUILDING_DESCRIPTION_WALL:"Dfend les autres btiments",BUILDING_NAME_TOWER_FIRE:"Tour de feu",BUILDING_DESCRIPTION_TOWER_FIRE:"Attaque de feu de base des ennemis",BUILDING_NAME_TOWER_FROZEN:"Tour gelee",BUILDING_DESCRIPTION_TOWER_FROZEN:"Gle les ennemis pendant un certain temps",BUILDING_NAME_TOWER_LAZER:"Tour laser",BUILDING_DESCRIPTION_TOWER_LAZER:"Attaque au laser instantane et continue des ennemis",BUILDING_NAME_TOWER_ELECTRO:"Tour electrique",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Attaque lectrique de masse",BUILDING_NAME_GENERATOR:"Generateur",BUILDING_DESCRIPTION_GENERATOR:"Gnre des ressources pour les constructions",BUILDING_NAME_AMMUNITION:"Munitions",BUILDING_DESCRIPTION_AMMUNITION:"Recharge la munition des tours dans le rayon du btiment",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Dcouvre les ennemis dans le rayon du btiment",BUILDING_NAME_BOOSTER:"Booster",BUILDING_DESCRIPTION_BOOSTER:"Augmente l`efficacit des tours",BUILDING_NAME_NEUTRALIZER:"Neutraliseur",BUILDING_DESCRIPTION_NEUTRALIZER:"Dsactive les lasers ennemis",BUILDING_CATEGORY_DEFENSE:"Defense",BUILDING_CATEGORY_ATTACK:"Attaque",BUILDING_CATEGORY_RESOURCES:"Ressources",BUILDING_CATEGORY_OTHER:"Autre",BUILDING_HEALTH:"Sant",BUILDING_RADIUS:"Rayon",BUILDING_FREEZE:"Geler",BUILDING_POWER:"Puissance",BUILDING_AMMO:"Munitions",BUILDING_DAMAGE:"Dommages",BUILDING_SPEED:"Vitesse",BUILDING_DELAY:"Dlai",BUILDING_UPGRADE:"Amlioration",BUILDING_BUY_AMMO:"Buy ammo",BUILDING_REPAIR:"Rparation",BUILDING_DESTROY:"Dtruire",BUILDING_WILL_BE_AVAILABLE:"Sera disponible  la vague %1",BUILDING_LIMIT_REACHED:"Vous avez atteint le maximum de %1",BUILDING_NEAR_TOWER:"Doit tre plac  ct de la tour",NOT_ENOUGH_RESOURCES:"Pas assez de ressources",NOT_ENOUGH_EXPERIENCE:"Pas assez d`exprience",TIME_SCALE:`Augmenter la vitesse du temps
pendant la vague`,BUILDING_INDICATORS:`Afficher la sant et
la munition des btiments`,AUTO_REPAIR:`Acheter automatiquement de
la munition et rparer les btiments`,PATH_TO_CRYSTAL:`Afficher le chemin
vers le cristal le plus proche`,ASSISTANT_FOLLOW:"Verrouiller la position\nactuelle de l`assistant",ASSISTANT:"Assistant",ASSISTANT_UNLOCK:"Nouvel assistant avec une arme amliore",SKILLS:"Competences",SKILL_TARGET_CHARACTER:"Personnage",SKILL_TARGET_ASSISTANT:"Assistant",SKILL_UPGRADE:"Ameliorer",SKILL_MAX_LEVEL:`Niveau
max`,SKILL_LABEL_MAX_HEALTH:"Sante",SKILL_LABEL_SPEED:"Vitesse de deplacement",SKILL_LABEL_STAMINA:"Endurance",SKILL_LABEL_BUILD_SPEED:"Vitesse de construction",SKILL_LABEL_ATTACK_DAMAGE:"Dommages",SKILL_LABEL_ATTACK_DISTANCE:"Distance d`attaque",SKILL_LABEL_ATTACK_SPEED:"Vitesse d`attaque",RESOURCES:"Ressources",EXPERIENCE:"Experience",SCORE:"Compte",ADS_SHOW:"Regarder une vido et obtenir une rcompense",ADS_UNLOCK:"Dbloquer une comptence super supplmentaire",FEATURES_UNLOCKED:`Nouvelles
fonctionnalites debloquees!`,YES:"Oui",NO:"Non",SUPERSKILL:"Supercomptence",SUPERSKILL_NAME_INVISIBLE:"Invisible",SUPERSKILL_DESCRIPTION_INVISIBLE:"Cache le personnage des ennemis",SUPERSKILL_NAME_FROST:"Gel",SUPERSKILL_DESCRIPTION_FROST:"Gle tous les ennemis",SUPERSKILL_NAME_RAGE:"Colere",SUPERSKILL_DESCRIPTION_RAGE:"Double les dgts des tours",SUPERSKILL_NAME_SHIELD:"Bouclier",SUPERSKILL_DESCRIPTION_SHIELD:"Empche les dgts sur tous les btiments",SUPERSKILL_NAME_FIRE:"Feu",SUPERSKILL_DESCRIPTION_FIRE:"Inflige des dgts  tous les ennemis",TUTORIAL_SKIP_TIMELEFT:`Cliquez pour dmarrer
la vague prmaturment`,TUTORIAL_CLICK_TO_UPGRADE:"Cliquez pour amliorer",TUTORIAL_HOVER_TO_UPGRADE:`Survolez et appuyez sur [E]
pour amliorer`,TUTORIAL_RESOURCES:`Si les ressources ne sont pas suffisantes,
vous pouvez trouver des <cristaux> sur la carte`,TUTORIAL_BUILD_GENERATOR:`Construisez <gnrateur>
pour obtenir des ressources`,TUTORIAL_BUILD_GENERATOR_SECOND:`Construisez deuxime <gnrateur>
pour obtenir plus de ressources`,TUTORIAL_BUILD_TOWER_FIRE:`Construisez <tour de feu>
pour attaquer les ennemis`,TUTORIAL_BUILD_AMMUNITION:`Construisez <munitions>
pour recharger les tours`,TUTORIAL_BUILD_RADAR:`Construisez <radar>
pour dcouvrir les ennemis`,TUTORIAL_BUILD_NEUTRALIZER:`Construisez <neutraliseur>
pour dsactiver les lasers ennemis`,TUTORIAL_STOP_BUILD:"Utilisez [Clic droit] pour arrter la construction",TUTORIAL_RELOAD_TOWER:"Construisez <munitions>  proximit",TUTORIAL_CLICK_TO_BUY_AMMO:"Cliquez pour acheter des munitions",TUTORIAL_HOVER_TO_BUY_AMMO:`Survolez et appuyez sur [F]
pour acheter des munitions`,TUTORIAL_FLAG_CAPTION:`Restez  proximit
pour capturer le <drapeau>`,NEW_GAME:"Nouvelle jeu",LOAD_GAME:"Charger jeu",SAVE_GAME:"Sauvegarder",CONTINUE_GAME:"Continuer",RESTART_GAME:"Recommencer",MAIN_MENU:"Retour au menu",SETTINGS:"Parametres",CONTROLS:"Controles",LEADERBOARD:"Classement",MENU:"Menu",CONFIRM_STOP_GAME:"Confirmez-vous l`arret du jeu?",CONFIRM_RESTART_GAME:"Confirmez-vous le redemarrage du jeu?",PLANET:"Planete",DIFFICULTY:"Difficulte",START:"Commencer",INTRODUCTION:`Les ennemis sont proches!
Construisez une base pour vous dfendre`,SAVES_NOT_FOUND:"Sauvegardes non trouvees",IMPORT_SAVE:"Importer",SAVES_LIMIT:`Vous avez atteint le nombre maximum de sauvegardes.
Supprimez ou rcrivez les existantes`,SAVE:"Sauvegarder",SAVE_NAME:"Nom",SAVE_DATE:"Date",CONFIRM_REWRITE_SAVE:`Confirmez-vous la reecriture
de cette sauvegarde?`,CONFIRM_DELETE_SAVE:`Confirmez-vous la suppression
de cette sauvegarde?`,SAVES_NOT_ALLOWED:`Attention! Le jeu est ouvert en mode incognito.
Aprs le redmarrage du jeu, toutes les sauvegardes seront perdues.`,EARTH:"Terre",MOON:"Lune",MARS:"Mars",PLANET_LOCKED:`Pour debloquer cette planete,
vous devez avoir un record`,UNLOCK_BY_ADS:"Debloquer",EASY:"Facile",NORMAL:"Normal",HARD:"Difficile",ON:"On",OFF:"Off",LANGUAGE:"Language",TUTORIAL:"Didacticiel",AUDIO:"Audio",EFFECTS:"Effets",PLAYER:"Joueur",BUILDER:"Construction",BUILDINGS:"Btiments",MOVEMENT:"Mouvement",BUILD:"Construire",STOP_BUILD:"Arrter la construction",UPGRADE_BUILDING:"Amliorer le btiment",REPAIR_BUILDING:"Rparer le btiment",DESTROY_BUILDING:"Dtruire le btiment",BUY_AMMO:"Acheter des munitions",RECORD:"Record",TOTAL_SCORE:"Score total",WAVES_COMPLETED:"Vagues terminees",ENEMIES_KILLED:"Ennemis tues",MINUTES_LIVED:"Minutes ecoulees",CLOSE:"Fermer"},r1={ENEMIES:"Musuh",WAVE_TIMELEFT:"Sisa waktu",WAVE:"Gelombang",SKIP_WAVE_TIMELEFT:`Mulai gelombang
dengan cepat`,MODE:"Mode",INFINITY:"Gelombang tak terbatas",FLAGS:"Tangkap bendera",FLAGS_CAPTURE:`Tangkap semua bendera
untuk menang`,BUILDING:"Bangunan",BUILDING_NAME_WALL:"Dinding",BUILDING_DESCRIPTION_WALL:"Membela bangunan lain",BUILDING_NAME_TOWER_FIRE:"Menara Api",BUILDING_DESCRIPTION_TOWER_FIRE:"Serangan api dasar dari musuh",BUILDING_NAME_TOWER_FROZEN:"Menara Beku",BUILDING_DESCRIPTION_TOWER_FROZEN:"Membekukan musuh untuk beberapa waktu",BUILDING_NAME_TOWER_LAZER:"Menara Laser",BUILDING_DESCRIPTION_TOWER_LAZER:"Serangan laser instan dan terus-menerus dari musuh",BUILDING_NAME_TOWER_ELECTRO:"Menara Elektro",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Guncangan listrik massal",BUILDING_NAME_GENERATOR:"Generator",BUILDING_DESCRIPTION_GENERATOR:"Menghasilkan sumber daya untuk membangun dan meningkatkan",BUILDING_NAME_AMMUNITION:"Stock Amunisi",BUILDING_DESCRIPTION_AMMUNITION:"Mengisi ulang amunisi menara dalam radius bangunan",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Mengungkap musuh dalam radius bangunan",BUILDING_NAME_BOOSTER:"Peningkat",BUILDING_DESCRIPTION_BOOSTER:"Meningkatkan efisiensi menara",BUILDING_NAME_NEUTRALIZER:"Pengendali netral",BUILDING_DESCRIPTION_NEUTRALIZER:"Menonaktifkan laser musuh",BUILDING_CATEGORY_DEFENSE:"Pertahanan",BUILDING_CATEGORY_ATTACK:"Serangan",BUILDING_CATEGORY_RESOURCES:"Sumber daya",BUILDING_CATEGORY_OTHER:"Lainnya",BUILDING_HEALTH:"Darah",BUILDING_RADIUS:"Radius",BUILDING_FREEZE:"Beku",BUILDING_POWER:"Daya",BUILDING_AMMO:"Amunisi",BUILDING_DAMAGE:"Kerusakan",BUILDING_SPEED:"Kecepatan",BUILDING_DELAY:"Tunda",BUILDING_UPGRADE:"Meningkatkan",BUILDING_BUY_AMMO:"Beli amunisi",BUILDING_REPAIR:"Perbaiki",BUILDING_DESTROY:"Menghancurkan",BUILDING_WILL_BE_AVAILABLE:"Akan tersedia pada gelombang %1",BUILDING_LIMIT_REACHED:"Anda memiliki maksimum %1",BUILDING_NEAR_TOWER:"Harus ditempatkan di samping menara",NOT_ENOUGH_RESOURCES:"Sumber daya tidak cukup",NOT_ENOUGH_EXPERIENCE:"Pengalaman tidak cukup",TIME_SCALE:`Tingkatkan kecepatan waktu
selama gelombang`,BUILDING_INDICATORS:`Tampilkan kesehatan
bangunan dan amunisi`,AUTO_REPAIR:`Otomatis beli amunisi
dan perbaiki bangunan`,PATH_TO_CRYSTAL:`Tampilkan jalur
menuju kristal terdekat`,ASSISTANT_FOLLOW:`Kunci posisi
terkini asisten`,ASSISTANT:"Asisten",ASSISTANT_UNLOCK:"Asisten baru dengan senjata yang ditingkatkan",SKILLS:"Keahlian",SKILL_TARGET_CHARACTER:"Karakter",SKILL_TARGET_ASSISTANT:"Asisten",SKILL_UPGRADE:"Upgrade",SKILL_MAX_LEVEL:`Maks
level`,SKILL_LABEL_MAX_HEALTH:"Darah",SKILL_LABEL_SPEED:"Kecepatan gerak",SKILL_LABEL_STAMINA:"Stamina",SKILL_LABEL_BUILD_SPEED:"Kecepatan membangun",SKILL_LABEL_ATTACK_DAMAGE:"Kerusakan",SKILL_LABEL_ATTACK_DISTANCE:"Jarak serangan",SKILL_LABEL_ATTACK_SPEED:"Kecepatan serangan",RESOURCES:"Sumber daya",EXPERIENCE:"Pengalaman",SCORE:"Skor",ADS_SHOW:"Tonton video dan dapatkan hadiah",ADS_UNLOCK:"Buka superskill ekstra dengan menonton video",FEATURES_UNLOCKED:"Fitur baru dibuka!",YES:"Ya",NO:"Tidak",SUPERSKILL:"Superskill",SUPERSKILL_NAME_INVISIBLE:"Invisible",SUPERSKILL_DESCRIPTION_INVISIBLE:"Menyembunyikan karakter dari musuh",SUPERSKILL_NAME_FROST:"Frost",SUPERSKILL_DESCRIPTION_FROST:"Membekukan semua musuh",SUPERSKILL_NAME_RAGE:"Rage",SUPERSKILL_DESCRIPTION_RAGE:"Menggandakan kerusakan menara",SUPERSKILL_NAME_SHIELD:"Shield",SUPERSKILL_DESCRIPTION_SHIELD:"Mencegah kerusakan pada semua bangunan",SUPERSKILL_NAME_FIRE:"Fire",SUPERSKILL_DESCRIPTION_FIRE:"Mengakibatkan kerusakan pada semua musuh",TUTORIAL_SKIP_TIMELEFT:`Klik untuk memulai
gelombang sebelum waktunya`,TUTORIAL_CLICK_TO_UPGRADE:"Klik untuk meningkatkan",TUTORIAL_HOVER_TO_UPGRADE:`Arahkan dan tekan [E]
untuk meningkatkan`,TUTORIAL_RESOURCES:`Jika sumber daya tidak cukup,
Anda dapat menemukan <kristal> di peta`,TUTORIAL_BUILD_GENERATOR:`Bangun <generator>
untuk mendapatkan sumber daya`,TUTORIAL_BUILD_GENERATOR_SECOND:`Bangun <generator> kedua
untuk mendapatkan lebih banyak sumber daya`,TUTORIAL_BUILD_TOWER_FIRE:`Bangun <menara api>
untuk menyerang musuh`,TUTORIAL_BUILD_AMMUNITION:`Bangun <stock amunisi>
untuk mengisi ulang menara`,TUTORIAL_BUILD_RADAR:`Bangun <radar>
untuk mengungkap musuh`,TUTORIAL_BUILD_NEUTRALIZER:`Bangun <neutralizer>
untuk menonaktifkan laser musuh`,TUTORIAL_STOP_BUILD:`Gunakan [Klik kanan] untuk
menghentikan pembangunan`,TUTORIAL_RELOAD_TOWER:"Bangun <stock amunisi> di dekatnya",TUTORIAL_CLICK_TO_BUY_AMMO:"Klik untuk membeli amunisi",TUTORIAL_HOVER_TO_BUY_AMMO:`Arahkan dan tekan [F]
untuk membeli amunisi`,TUTORIAL_FLAG_CAPTION:`Berdiri di dekatnya
untuk menangkap <bendera>`,NEW_GAME:"Permainan baru",LOAD_GAME:"Muat permainan",SAVE_GAME:"Simpan permainan",CONTINUE_GAME:"Lanjutkan",RESTART_GAME:"Mulai ulang",MAIN_MENU:"Keluar ke menu",SETTINGS:"Pengaturan",CONTROLS:"Kontrol",LEADERBOARD:"Papan peringkat",MENU:"Menu",CONFIRM_STOP_GAME:`Apakah anda yakin ingin
menghentikan permainan?`,CONFIRM_RESTART_GAME:`Apakah anda yakin ingin
memulai ulang permainan?`,PLANET:"Planet",DIFFICULTY:"Kesulitan",START:"Mulai",INTRODUCTION:`Musuh sudah dekat!
Bangun markas untuk bertahan`,SAVES_NOT_FOUND:"Simpanan riwayat tidak ditemukan",IMPORT_SAVE:"Impor",SAVES_LIMIT:`Anda memiliki maksimum riwayat simpanan.
Hapus atau tulis ulang yang sudah ada`,SAVE:"Simpan",SAVE_NAME:"Nama",SAVE_DATE:"Tanggal",CONFIRM_REWRITE_SAVE:`Apakah anda yakin ingin
menumpuk ulang riwayat simpanan ini?`,CONFIRM_DELETE_SAVE:`Apakah anda yakin ingin
menghapus riwayat simpanan ini?`,SAVES_NOT_ALLOWED:`Perhatian! Permainan dibuka dalam mode penyamaran.
Setelah me-restart permainan, semua penyimpanan akan hilang.`,EARTH:"Bumi",MOON:"Bulan",MARS:"Mars",PLANET_LOCKED:`Untuk membuka kunci planet ini,
anda perlu memiliki catatan`,UNLOCK_BY_ADS:"Membuka kunci",EASY:"Mudah",NORMAL:"Normal",HARD:"Sulit",ON:"On",OFF:"Off",LANGUAGE:"Language",TUTORIAL:"Tutorial",AUDIO:"Audio",EFFECTS:"Efek",PLAYER:"Pemain",BUILDER:"Konstruksi",BUILDINGS:"Bangunans",MOVEMENT:"Gerak",BUILD:"Bangun",STOP_BUILD:"Hentikan bangun",UPGRADE_BUILDING:"Meningkatkan bangunan",REPAIR_BUILDING:"Perbaiki bangunan",DESTROY_BUILDING:"Hancurkan bangunan",BUY_AMMO:"Beli amunisi",RECORD:"Rekor",TOTAL_SCORE:"Skor total",WAVES_COMPLETED:"Gelombang selesai",ENEMIES_KILLED:"Musuh dibunuh",MINUTES_LIVED:"Menit hidup",CLOSE:"Tutup"},a1={ENEMIES:"Inimigos",WAVE_TIMELEFT:"Tempo restante",WAVE:"Onda",SKIP_WAVE_TIMELEFT:`Iniciar onda
prematuramente`,MODE:"Modo",INFINITY:"Ondas infinitas",FLAGS:"Capturar bandeiras",FLAGS_CAPTURE:`Capturar todas as bandeiras
para vencer`,BUILDING:"Edifcio",BUILDING_NAME_WALL:"Muro",BUILDING_DESCRIPTION_WALL:"Defende outros edifcios",BUILDING_NAME_TOWER_FIRE:"Torre de fogo",BUILDING_DESCRIPTION_TOWER_FIRE:"Ataque bsico de fogo dos inimigos",BUILDING_NAME_TOWER_FROZEN:"Torre congelante",BUILDING_DESCRIPTION_TOWER_FROZEN:"Congela inimigos por algum tempo",BUILDING_NAME_TOWER_LAZER:"Torre a laser",BUILDING_DESCRIPTION_TOWER_LAZER:"Ataque instantneo e contnuo a laser dos inimigos",BUILDING_NAME_TOWER_ELECTRO:"Torre eletrica",BUILDING_DESCRIPTION_TOWER_ELECTRO:"Choque eltrico em massa",BUILDING_NAME_GENERATOR:"Gerador",BUILDING_DESCRIPTION_GENERATOR:"Gera recursos para construes e melhorias",BUILDING_NAME_AMMUNITION:"Municao",BUILDING_DESCRIPTION_AMMUNITION:"Recarrega munio das torres dentro do raio do edifcio",BUILDING_NAME_RADAR:"Radar",BUILDING_DESCRIPTION_RADAR:"Revela inimigos dentro do raio do edifcio",BUILDING_NAME_BOOSTER:"Impulsionador",BUILDING_DESCRIPTION_BOOSTER:"Aumenta a eficincia das torres",BUILDING_NAME_NEUTRALIZER:"Neutralizador",BUILDING_DESCRIPTION_NEUTRALIZER:"Desativa os lasers inimigos",BUILDING_CATEGORY_DEFENSE:"Defesa",BUILDING_CATEGORY_ATTACK:"Ataque",BUILDING_CATEGORY_RESOURCES:"Recursos",BUILDING_CATEGORY_OTHER:"Outros",BUILDING_HEALTH:"Vida",BUILDING_RADIUS:"Raio",BUILDING_FREEZE:"Congelar",BUILDING_POWER:"Potncia",BUILDING_AMMO:"Munio",BUILDING_DAMAGE:"Dano",BUILDING_SPEED:"Velocidade",BUILDING_DELAY:"Atraso",BUILDING_UPGRADE:"Melhorar",BUILDING_BUY_AMMO:"Comprar munio",BUILDING_REPAIR:"Reparar",BUILDING_DESTROY:"Destruir",BUILDING_WILL_BE_AVAILABLE:"Estar disponvel na onda %1",BUILDING_LIMIT_REACHED:"Voc atingiu o mximo de %1s",BUILDING_NEAR_TOWER:"Deve ser colocado ao lado da torre",NOT_ENOUGH_RESOURCES:"Recursos insuficientes",NOT_ENOUGH_EXPERIENCE:"Experincia insuficiente",TIME_SCALE:`Aumentar a velocidade do tempo
durante a onda`,BUILDING_INDICATORS:`Mostrar vida e munio
dos edifcios`,AUTO_REPAIR:`Comprar automaticamente munio
e reparar edifcios`,PATH_TO_CRYSTAL:`Mostrar caminho
para o cristal mais prximo`,ASSISTANT_FOLLOW:`Travar a posio
atual do assistente`,ASSISTANT:"Assistente",ASSISTANT_UNLOCK:"Novo assistente com arma melhorada",SKILLS:"Habilidades",SKILL_TARGET_CHARACTER:"Personagem",SKILL_TARGET_ASSISTANT:"Assistente",SKILL_UPGRADE:"Melhorar",SKILL_MAX_LEVEL:"Nvel mximo",SKILL_LABEL_MAX_HEALTH:"Vida maxima",SKILL_LABEL_SPEED:"Velocidade de movimento",SKILL_LABEL_STAMINA:"Stamina",SKILL_LABEL_BUILD_SPEED:"Velocidade de construcao",SKILL_LABEL_ATTACK_DAMAGE:"Dano de ataque",SKILL_LABEL_ATTACK_DISTANCE:"Distancia de ataque",SKILL_LABEL_ATTACK_SPEED:"Velocidade de ataque",RESOURCES:"Recursos",EXPERIENCE:"Experiencia",SCORE:"Pontuacao",ADS_SHOW:"Assista a um vdeo e ganhe uma recompensa",ADS_UNLOCK:"Desbloqueie uma habilidade extra assistindo a um vdeo",FEATURES_UNLOCKED:`Desbloqueadas
novas possibilidades!`,YES:"Sim",NO:"Nao",SUPERSKILL:"Hiperhabilidade",SUPERSKILL_NAME_INVISIBLE:"Invisivel",SUPERSKILL_DESCRIPTION_INVISIBLE:"Esconde o personagem dos inimigos",SUPERSKILL_NAME_FROST:"Gelo",SUPERSKILL_DESCRIPTION_FROST:"Congela todos os inimigos",SUPERSKILL_NAME_RAGE:"Raiva",SUPERSKILL_DESCRIPTION_RAGE:"Dobra o dano das torres",SUPERSKILL_NAME_SHIELD:"Escudo",SUPERSKILL_DESCRIPTION_SHIELD:"Impede danos a todos os edifcios",SUPERSKILL_NAME_FIRE:"Fogo",SUPERSKILL_DESCRIPTION_FIRE:"Causa dano a todos os inimigos",TUTORIAL_SKIP_TIMELEFT:`Clique para iniciar
a onda prematuramente`,TUTORIAL_CLICK_TO_UPGRADE:"Clique para melhorar",TUTORIAL_HOVER_TO_UPGRADE:`Passe o mouse e pressione [E]
para melhorar`,TUTORIAL_RESOURCES:`Se os recursos no forem suficientes,
voc pode encontrar <cristais> no mapa`,TUTORIAL_BUILD_GENERATOR:`Construa <gerador>
para obter recursos`,TUTORIAL_BUILD_GENERATOR_SECOND:`Construa segundo <gerador>
para obter mais recursos`,TUTORIAL_BUILD_TOWER_FIRE:`Construa <torre de fogo>
para atacar inimigos`,TUTORIAL_BUILD_AMMUNITION:`Construa <munio>
para recarregar torres`,TUTORIAL_BUILD_RADAR:`Construa <radar>
para revelar inimigos`,TUTORIAL_BUILD_NEUTRALIZER:`Construa <neutralizador>
para desativar os lasers inimigos`,TUTORIAL_STOP_BUILD:"Use [Clique direito] para parar a construo",TUTORIAL_RELOAD_TOWER:"Construa <munio> nas proximidades",TUTORIAL_CLICK_TO_BUY_AMMO:"Clique para comprar munio",TUTORIAL_HOVER_TO_BUY_AMMO:`Passe o mouse e pressione [F]
para comprar munio`,TUTORIAL_FLAG_CAPTION:`Fique prximo
para capturar a <bandeira>`,NEW_GAME:"Novo jogo",LOAD_GAME:"Carregar jogo",SAVE_GAME:"Salvar jogo",CONTINUE_GAME:"Continuar",RESTART_GAME:"Reiniciar",MAIN_MENU:"Sair para o menu",SETTINGS:"Configuracoes",CONTROLS:"Controles",LEADERBOARD:"Classificacao",MENU:"Menu",CONFIRM_STOP_GAME:"Confirma parar o jogo?",CONFIRM_RESTART_GAME:"Confirma reiniciar o jogo?",PLANET:"Planeta",DIFFICULTY:"Dificuldade",START:"Iniciar",INTRODUCTION:`Os inimigos esto prximos!
Construa uma base para se defender`,SAVES_NOT_FOUND:"Salvamentos nao encontrados",IMPORT_SAVE:"Importar",SAVES_LIMIT:`Voc atingiu o limite mximo de salvamentos.
Exclua ou reescreva os existentes`,SAVE:"Salvar",SAVE_NAME:"Nome",SAVE_DATE:"Data",CONFIRM_REWRITE_SAVE:"Confirma reescrever este salvamento?",CONFIRM_DELETE_SAVE:"Confirma excluir este salvamento?",SAVES_NOT_ALLOWED:`Ateno! O jogo est aberto no modo de navegao annima.
Aps reiniciar o jogo, todos os salvamentos sero perdidos.`,EARTH:"Terra",MOON:"Lua",MARS:"Marte",PLANET_LOCKED:`Para desbloquear este planeta,
voce precisa ter um recorde`,UNLOCK_BY_ADS:"Desbloquear",EASY:"Facil",NORMAL:"Normal",HARD:"Dificil",ON:"On",OFF:"Off",LANGUAGE:"Language",TUTORIAL:"Tutorial",AUDIO:"Audio",EFFECTS:"Efeitos",PLAYER:"Jogador",BUILDER:"Construo",BUILDINGS:"Edifcios",MOVEMENT:"Movimento",BUILD:"Construir",STOP_BUILD:"Parar construo",UPGRADE_BUILDING:"Melhorar edifcio",REPAIR_BUILDING:"Reparar edifcio",DESTROY_BUILDING:"Destruir edifcio",BUY_AMMO:"Comprar munio",RECORD:"Recorde",TOTAL_SCORE:"Pontuacao total",WAVES_COMPLETED:"Ondas completadas",ENEMIES_KILLED:"Inimigos mortos",MINUTES_LIVED:"Minutos vividos",CLOSE:"Fechar"},o1={ENEMIES:"",WAVE_TIMELEFT:" ",WAVE:"",SKIP_WAVE_TIMELEFT:` 
`,MODE:"",INFINITY:" ",FLAGS:" ",FLAGS_CAPTURE:`  
 `,BUILDING:"",BUILDING_NAME_WALL:"",BUILDING_DESCRIPTION_WALL:"   ",BUILDING_NAME_TOWER_FIRE:" ",BUILDING_DESCRIPTION_TOWER_FIRE:"  ",BUILDING_NAME_TOWER_FROZEN:" ",BUILDING_DESCRIPTION_TOWER_FROZEN:" ",BUILDING_NAME_TOWER_LAZER:" ",BUILDING_DESCRIPTION_TOWER_LAZER:"   ",BUILDING_NAME_TOWER_ELECTRO:" ",BUILDING_DESCRIPTION_TOWER_ELECTRO:"  ",BUILDING_NAME_GENERATOR:"",BUILDING_DESCRIPTION_GENERATOR:"   ",BUILDING_NAME_AMMUNITION:" ",BUILDING_DESCRIPTION_AMMUNITION:"      ",BUILDING_NAME_RADAR:"",BUILDING_DESCRIPTION_RADAR:"    ",BUILDING_NAME_BOOSTER:"",BUILDING_DESCRIPTION_BOOSTER:"  ",BUILDING_NAME_NEUTRALIZER:"",BUILDING_DESCRIPTION_NEUTRALIZER:"  ",BUILDING_CATEGORY_DEFENSE:"",BUILDING_CATEGORY_ATTACK:"",BUILDING_CATEGORY_RESOURCES:"",BUILDING_CATEGORY_OTHER:"",BUILDING_HEALTH:"",BUILDING_RADIUS:"",BUILDING_FREEZE:"",BUILDING_POWER:"",BUILDING_AMMO:"",BUILDING_DAMAGE:"",BUILDING_SPEED:"",BUILDING_DELAY:"",BUILDING_UPGRADE:"",BUILDING_BUY_AMMO:" ",BUILDING_REPAIR:"",BUILDING_DESTROY:"",BUILDING_WILL_BE_AVAILABLE:"   %1 ",BUILDING_LIMIT_REACHED:"  %1",BUILDING_NEAR_TOWER:"     ",NOT_ENOUGH_RESOURCES:" ",NOT_ENOUGH_EXPERIENCE:" ",TIME_SCALE:` 
  `,BUILDING_INDICATORS:` 
  `,AUTO_REPAIR:` 
  `,PATH_TO_CRYSTAL:` 
  `,ASSISTANT_FOLLOW:` 
 `,ASSISTANT:"",ASSISTANT_UNLOCK:"    ",SKILLS:"",SKILL_TARGET_CHARACTER:"",SKILL_TARGET_ASSISTANT:"",SKILL_UPGRADE:"",SKILL_MAX_LEVEL:`
`,SKILL_LABEL_MAX_HEALTH:"",SKILL_LABEL_SPEED:" ",SKILL_LABEL_STAMINA:"",SKILL_LABEL_BUILD_SPEED:" ",SKILL_LABEL_ATTACK_DAMAGE:"",SKILL_LABEL_ATTACK_DISTANCE:" ",SKILL_LABEL_ATTACK_SPEED:" ",RESOURCES:"",EXPERIENCE:"",SCORE:"",ADS_SHOW:"    ",ADS_UNLOCK:"  ",FEATURES_UNLOCKED:`
 !`,YES:"",NO:"",SUPERSKILL:"",SUPERSKILL_NAME_INVISIBLE:"",SUPERSKILL_DESCRIPTION_INVISIBLE:"   ",SUPERSKILL_NAME_FROST:"",SUPERSKILL_DESCRIPTION_FROST:"  ",SUPERSKILL_NAME_RAGE:"",SUPERSKILL_DESCRIPTION_RAGE:"   ",SUPERSKILL_NAME_SHIELD:"",SUPERSKILL_DESCRIPTION_SHIELD:"   ",SUPERSKILL_NAME_FIRE:"",SUPERSKILL_DESCRIPTION_FIRE:"    ",TUTORIAL_SKIP_TIMELEFT:`,  
 `,TUTORIAL_CLICK_TO_UPGRADE:",  ",TUTORIAL_HOVER_TO_UPGRADE:`   [E]
 `,TUTORIAL_RESOURCES:`  ,
    <>  `,TUTORIAL_BUILD_GENERATOR:` <>
  `,TUTORIAL_BUILD_GENERATOR_SECOND:`  <>
    `,TUTORIAL_BUILD_TOWER_FIRE:` < >
  `,TUTORIAL_BUILD_AMMUNITION:` < >
  `,TUTORIAL_BUILD_RADAR:` <>
  `,TUTORIAL_BUILD_NEUTRALIZER:` <>
   `,TUTORIAL_STOP_BUILD:` [ ] 
 `,TUTORIAL_RELOAD_TOWER:"  < >",TUTORIAL_CLICK_TO_BUY_AMMO:",   ",TUTORIAL_HOVER_TO_BUY_AMMO:`   [F]
  `,TUTORIAL_FLAG_CAPTION:` ,
  <>`,NEW_GAME:" ",LOAD_GAME:"",SAVE_GAME:"",CONTINUE_GAME:"",RESTART_GAME:" ",MAIN_MENU:"  ",SETTINGS:"",CONTROLS:"",LEADERBOARD:" ",MENU:"",CONFIRM_STOP_GAME:" ?",CONFIRM_RESTART_GAME:" ?",PLANET:"",DIFFICULTY:"",START:"",INTRODUCTION:`  !
   `,SAVES_NOT_FOUND:"  ",IMPORT_SAVE:"",SAVES_LIMIT:`    .
   `,SAVE:"",SAVE_NAME:"",SAVE_DATE:"",CONFIRM_REWRITE_SAVE:"  ?",CONFIRM_DELETE_SAVE:"  ?",SAVES_NOT_ALLOWED:`!     .
      .`,EARTH:"",MOON:"",MARS:"",PLANET_LOCKED:`   
  `,UNLOCK_BY_ADS:"",EASY:"",NORMAL:"",HARD:"",ON:"",OFF:"",LANGUAGE:"",TUTORIAL:"",AUDIO:"",EFFECTS:"",PLAYER:"",BUILDER:"",BUILDINGS:"",MOVEMENT:"",BUILD:" ",STOP_BUILD:" ",UPGRADE_BUILDING:" ",REPAIR_BUILDING:" ",DESTROY_BUILDING:" ",BUY_AMMO:" ",RECORD:"",TOTAL_SCORE:" ",WAVES_COMPLETED:" ",ENEMIES_KILLED:" ",MINUTES_LIVED:" ",CLOSE:""},Ia={EN:i1,RU:o1,FR:s1,ES:n1,PT:a1,ID:r1},l0={EN:"English",ES:"Espanol",FR:"Francais",ID:"Indonesian",PT:"Portugues",RU:""};class Ot{static Register(){const A=new URLSearchParams(window.location.search).get("lang")||localStorage.getItem("SETTINGS.LANG");if(A&&A in Ia)this.Type=A;else{const I=this.Detect();I in Ia?this.Type=I:this.Type="EN"}this.Dictionary=Ia[this.Type]}static Detect(){try{return(Intl.DateTimeFormat().resolvedOptions().locale||navigator.language.split("-")[0])?.toUpperCase()??"EN"}catch{return"EN"}}static Translate(A){this.Type=A,this.Dictionary=Ia[this.Type],localStorage.setItem("SETTINGS.LANG",A);const I=new CustomEvent("changelang",{detail:A});document.dispatchEvent(I)}static Phrase(A,I){let F="";if(A in l0)F=l0[A];else if(A in this.Dictionary)F=this.Dictionary[A];else return A;return I&&(F=F.replace(/%\d+/g,N=>I[Number(N.slice(1))-1])),F}}var Di=(L=>(L.MIDGAME="midgame",L.REWARDED="rewarded",L))(Di||{});const Qf=class Tr{static RegisterUser(){this.Identificate(),this.Request(xi.ENDPOINTS.CREATE_ACCOUNT,{method:"POST",body:{userId:this.UserId,host:document.referrer?.replace(/(https?:\/\/)?([^/?]+).*/,"$2")??window.location.host,agent:window.navigator.userAgent,lang:Ot.Type,name:Zx({dictionaries:[Qx,Jx]})}})}static ToggleControls(A){Object.values(gt).forEach(I=>{I.input.keyboard&&(I.input.keyboard.enabled=A)})}static ShowAds(A){return new Promise(I=>{this.ToggleControls(!1);const F=N=>{this.ToggleControls(!0),I(N)};try{Me.Platform===cn.DEVELOPMENT?A===Di.REWARDED?(alert("REWARDED AD HAS BEEN SHOWED"),F(!0)):F(!1):A===Di.REWARDED?window.PokiSDK.rewardedBreak().then(N=>{F(N)}):window.PokiSDK.commercialBreak().then(()=>{F(!1)})}catch(N){Tr.LogWarn("Failed to show ads",N),F(!1)}})}static ToggleLoadState(A){try{Me.Platform!==cn.DEVELOPMENT&&(A||window.PokiSDK?.gameLoadingFinished())}catch(I){Tr.LogWarn("Failed to toggle load state",I)}}static TogglePlayState(A){if(this.IsPlaying!==A)try{this.IsPlaying=A,Me.Platform!==cn.DEVELOPMENT&&(A?window.PokiSDK?.gameplayStart():window.PokiSDK?.gameplayStop())}catch(I){Tr.LogWarn("Failed to toggle play state",I)}}static GetLeaderboard(A,I){return this.Request(xi.ENDPOINTS.GET_LEADERBOARD,{method:"GET",query:{currentUserId:this.UserId,mode:A,difficulty:I}})}static GetRecords(){return this.Request(xi.ENDPOINTS.GET_RECORDS,{method:"GET",query:{userId:this.UserId}}).then(A=>A?.map(I=>{const{mode:F,difficulty:N,...H}=I;return{mode:F,difficulty:N,stat:H}})).catch(A=>{Tr.LogWarn("Failed to load records",A)})}static CreateRecord(A){return this.Request(xi.ENDPOINTS.CREATE_RECORD,{method:"POST",body:{userId:this.UserId,...A}})}static UpdateRecord(A){return this.Request(xi.ENDPOINTS.UPDATE_RECORD,{method:"PATCH",body:{userId:this.UserId,...A}})}static GetName(){return this.Request(xi.ENDPOINTS.GET_USER_NAME,{method:"GET",query:{userId:this.UserId}})}static UpdateName(A){return this.Request(xi.ENDPOINTS.UPDATE_USER_NAME,{method:"PATCH",body:{userId:this.UserId,name:A}})}static LogError(A){console.error(A.message),Me.GetFlag(Ee.LOGS)&&this.Request(xi.ENDPOINTS.CREATE_ERROR,{method:"POST",body:{type:"error",message:A.message,stack:A.stack,userId:this.UserId}})}static LogWarn(A,I){console.warn(A),I&&console.warn(`  Origin Error: ${I.message}`),Me.GetFlag(Ee.LOGS)&&this.Request(xi.ENDPOINTS.CREATE_ERROR,{method:"POST",body:{type:"warn",message:A,stack:I?.message,userId:this.UserId}})}static MarkAsCheater(){this.Request(xi.ENDPOINTS.MARK_AS_CHEATER,{method:"POST",body:{userId:this.UserId}})}static NewSession(A){this.SessionId=wr(),this.Request(xi.ENDPOINTS.CREATE_SESSION,{method:"POST",body:{sessionId:this.SessionId,userId:this.UserId,version:dn.version,...A}})}static TrackWaveComplete(A){this.Request(xi.ENDPOINTS.CREATE_WAVE_COMPLETION,{method:"POST",body:{waveNumber:A.wave.number-1,resources:A.player.resources,sessionId:this.SessionId}})}static TrackFlagCapture(A){this.Request(xi.ENDPOINTS.CREATE_FLAG_CAPTURE,{method:"POST",body:{flag:A.getCapturedFlags().length,waveNumber:A.wave.number,sessionId:this.SessionId}})}static SendGameResult(A,I){this.Request(xi.ENDPOINTS.CREATE_GAME_RESULT,{method:"POST",body:{success:A,score:I,sessionId:this.SessionId}})}static Identificate(){const A=localStorage.getItem("USER_ID");A?this.UserId=A:(this.Newbie=!0,this.UserId=wr(),localStorage.setItem("USER_ID",this.UserId))}static async Load(){const A=Me.GetSDK();return A?new Promise((I,F)=>{const N=document.createElement("script");N.setAttribute("src",A),N.addEventListener("load",I),N.addEventListener("error",F),document.body.appendChild(N)}).then(()=>{window.PokiSDK?.init(),Me.GetCMP()&&window.PokiSDK?.enableEventTracking(1)}).catch(I=>{Tr.LogWarn("Failed to load SDK script",I)}):Promise.resolve()}static Request(A,I={}){if(!Me.GetFlag(Ee.API))return Promise.resolve();let F=`${xi.HOST}/${A}.php`;return I.query&&(F+=`?${new URLSearchParams(I.query)}`),fetch(F,{method:I.method??"GET",headers:{"Content-Type":"application/json"},body:I.body&&JSON.stringify(I.body)}).then(N=>N.json()).then(N=>I.modify?I.modify(N):N).catch(()=>{})}};Qf.IsPlaying=!1;Qf.Newbie=!1;let wt=Qf;class l1 extends Ft.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(A){super({game:A,name:"OutlineShader",renderTarget:!0,fragShader:`
        precision mediump float;
        uniform sampler2D uMainSampler;
        varying vec2 outTexCoord;
        uniform vec2 imageSize;
        uniform float thickness;
        uniform vec3 outlineColor;
        void main() {
          vec4 texture = texture2D(uMainSampler, outTexCoord);
          vec2 mag = vec2(thickness, thickness) / imageSize;
          float upAlpha = texture2D(uMainSampler, outTexCoord + vec2(0.0, mag.y)).a;
          float leftAlpha = texture2D(uMainSampler, outTexCoord + vec2(-mag.x, 0.0)).a;
          float downAlpha = texture2D(uMainSampler, outTexCoord + vec2(0.0, -mag.y)).a;
          float rightAlpha = texture2D(uMainSampler, outTexCoord + vec2(mag.x, 0.0)).a;
          if (texture.a == 0.0 && max(max(upAlpha, downAlpha), max(leftAlpha, rightAlpha)) == 1.0) {
            gl_FragColor = vec4(outlineColor.rgb, 1.0);
          } else {
            gl_FragColor = texture;
          }
        }
      `}),this.size=1,this.color=new Ft.Display.Color(255,255,255)}onPreRender(){this.set1f("thickness",this.size),this.set3f("outlineColor",this.color.redGL,this.color.greenGL,this.color.blueGL),this.set2f("imageSize",this.renderer.width,this.renderer.height)}setConfig({size:A,color:I}){A!==void 0&&(this.size=A),I!==void 0&&this.color.setFromRGB(Ft.Display.Color.IntegerToRGB(I))}}var Es=(L=>(L.OUTLINE="OUTLINE",L))(Es||{});const h1={[Es.OUTLINE]:l1};function u1(L){const A=Math.floor(L/1e3/60),I=Math.ceil(L/1e3)%60;return`${A<10?"0":""}${A}:${I<10?"0":""}${I}`}function f1(L){return L.split("").reduce((A,I)=>{const F=(A<<5)-A+I.charCodeAt(0);return F&F},0).toString()}function d1(L,A){let I=0,F=L;for(let N=1;N<=A;N++)N===F&&(I++,F=N+I);return I}function Fr(L,A){Object.entries(L).forEach(([I,F],N)=>{A(I,F,N)})}function El(L,A){return Object.entries(L).map(([I,F],N)=>A(I,F,N))}function c1(L){if(L instanceof Phaser.Renderer.Canvas.CanvasRenderer){wt.LogWarn("WebGL renderer is not supported");return}Fr(h1,(A,I)=>{try{L.pipelines.addPostPipeline(A,I)}catch(F){wt.LogWarn(`Failed to register '${A}' shader`,F)}})}function Dp(L,A){try{this.setPostPipeline(L),A&&this.updateShader(L,A)}catch(I){wt.LogWarn(`Failed to add '${L}' shader`,I)}}function wp(L,A){try{const I=this.postPipelines.find(F=>F.name===L);I&&I.setConfig(A)}catch(I){wt.LogWarn(`Failed to update '${L}' shader`,I)}}function Fp(L){try{this.removePostPipeline(L)}catch(A){wt.LogWarn(`Failed to remove '${L}' shader`,A)}}Phaser.GameObjects.Image.prototype.addShader=Dp;Phaser.GameObjects.Sprite.prototype.addShader=Dp;Phaser.GameObjects.Image.prototype.updateShader=wp;Phaser.GameObjects.Sprite.prototype.updateShader=wp;Phaser.GameObjects.Image.prototype.removeShader=Fp;Phaser.GameObjects.Sprite.prototype.removeShader=Fp;var Bp={exports:{}};function v1(L){throw new Error('Could not dynamically require "'+L+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Lu={exports:{}};const p1={},m1=Object.freeze(Object.defineProperty({__proto__:null,default:p1},Symbol.toStringTag,{value:"Module"})),g1=Xx(m1);var h0;function ue(){return h0||(h0=1,function(L,A){(function(I,F){L.exports=F()})(se,function(){var I=I||function(F,N){var H;if(typeof window<"u"&&window.crypto&&(H=window.crypto),typeof self<"u"&&self.crypto&&(H=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(H=globalThis.crypto),!H&&typeof window<"u"&&window.msCrypto&&(H=window.msCrypto),!H&&typeof se<"u"&&se.crypto&&(H=se.crypto),!H&&typeof v1=="function")try{H=g1}catch{}var p=function(){if(H){if(typeof H.getRandomValues=="function")try{return H.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof H.randomBytes=="function")try{return H.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},S=Object.create||function(){function a(){}return function(f){var u;return a.prototype=f,u=new a,a.prototype=null,u}}(),t={},h=t.lib={},c=h.Base=function(){return{extend:function(a){var f=S(this);return a&&f.mixIn(a),(!f.hasOwnProperty("init")||this.init===f.init)&&(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var f in a)a.hasOwnProperty(f)&&(this[f]=a[f]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=h.WordArray=c.extend({init:function(a,f){a=this.words=a||[],f!=N?this.sigBytes=f:this.sigBytes=a.length*4},toString:function(a){return(a||s).stringify(this)},concat:function(a){var f=this.words,u=a.words,d=this.sigBytes,v=a.sigBytes;if(this.clamp(),d%4)for(var g=0;g<v;g++){var x=u[g>>>2]>>>24-g%4*8&255;f[d+g>>>2]|=x<<24-(d+g)%4*8}else for(var m=0;m<v;m+=4)f[d+m>>>2]=u[m>>>2];return this.sigBytes+=v,this},clamp:function(){var a=this.words,f=this.sigBytes;a[f>>>2]&=4294967295<<32-f%4*8,a.length=F.ceil(f/4)},clone:function(){var a=c.clone.call(this);return a.words=this.words.slice(0),a},random:function(a){for(var f=[],u=0;u<a;u+=4)f.push(p());return new l.init(f,a)}}),r=t.enc={},s=r.Hex={stringify:function(a){for(var f=a.words,u=a.sigBytes,d=[],v=0;v<u;v++){var g=f[v>>>2]>>>24-v%4*8&255;d.push((g>>>4).toString(16)),d.push((g&15).toString(16))}return d.join("")},parse:function(a){for(var f=a.length,u=[],d=0;d<f;d+=2)u[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new l.init(u,f/2)}},e=r.Latin1={stringify:function(a){for(var f=a.words,u=a.sigBytes,d=[],v=0;v<u;v++){var g=f[v>>>2]>>>24-v%4*8&255;d.push(String.fromCharCode(g))}return d.join("")},parse:function(a){for(var f=a.length,u=[],d=0;d<f;d++)u[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new l.init(u,f)}},i=r.Utf8={stringify:function(a){try{return decodeURIComponent(escape(e.stringify(a)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(a){return e.parse(unescape(encodeURIComponent(a)))}},o=h.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(a){typeof a=="string"&&(a=i.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(a){var f,u=this._data,d=u.words,v=u.sigBytes,g=this.blockSize,x=g*4,m=v/x;a?m=F.ceil(m):m=F.max((m|0)-this._minBufferSize,0);var y=m*g,T=F.min(y*4,v);if(y){for(var R=0;R<y;R+=g)this._doProcessBlock(d,R);f=d.splice(0,y),u.sigBytes-=T}return new l.init(f,T)},clone:function(){var a=c.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});h.Hasher=o.extend({cfg:c.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){o.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){a&&this._append(a);var f=this._doFinalize();return f},blockSize:16,_createHelper:function(a){return function(f,u){return new a.init(u).finalize(f)}},_createHmacHelper:function(a){return function(f,u){return new n.HMAC.init(a,u).finalize(f)}}});var n=t.algo={};return t}(Math);return I})}(Lu)),Lu.exports}var Pu={exports:{}},u0;function Ol(){return u0||(u0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){return function(F){var N=I,H=N.lib,p=H.Base,S=H.WordArray,t=N.x64={};t.Word=p.extend({init:function(h,c){this.high=h,this.low=c}}),t.WordArray=p.extend({init:function(h,c){h=this.words=h||[],c!=F?this.sigBytes=c:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,c=h.length,l=[],r=0;r<c;r++){var s=h[r];l.push(s.high),l.push(s.low)}return S.create(l,this.sigBytes)},clone:function(){for(var h=p.clone.call(this),c=h.words=this.words.slice(0),l=c.length,r=0;r<l;r++)c[r]=c[r].clone();return h}})}(),I})}(Pu)),Pu.exports}var Iu={exports:{}},f0;function x1(){return f0||(f0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){return function(){if(typeof ArrayBuffer=="function"){var F=I,N=F.lib,H=N.WordArray,p=H.init,S=H.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||typeof Uint8ClampedArray<"u"&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var h=t.byteLength,c=[],l=0;l<h;l++)c[l>>>2]|=t[l]<<24-l%4*8;p.call(this,c,h)}else p.apply(this,arguments)};S.prototype=H}}(),I.lib.WordArray})}(Iu)),Iu.exports}var Ou={exports:{}},d0;function E1(){return d0||(d0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){return function(){var F=I,N=F.lib,H=N.WordArray,p=F.enc;p.Utf16=p.Utf16BE={stringify:function(t){for(var h=t.words,c=t.sigBytes,l=[],r=0;r<c;r+=2){var s=h[r>>>2]>>>16-r%4*8&65535;l.push(String.fromCharCode(s))}return l.join("")},parse:function(t){for(var h=t.length,c=[],l=0;l<h;l++)c[l>>>1]|=t.charCodeAt(l)<<16-l%2*16;return H.create(c,h*2)}},p.Utf16LE={stringify:function(t){for(var h=t.words,c=t.sigBytes,l=[],r=0;r<c;r+=2){var s=S(h[r>>>2]>>>16-r%4*8&65535);l.push(String.fromCharCode(s))}return l.join("")},parse:function(t){for(var h=t.length,c=[],l=0;l<h;l++)c[l>>>1]|=S(t.charCodeAt(l)<<16-l%2*16);return H.create(c,h*2)}};function S(t){return t<<8&4278255360|t>>>8&16711935}}(),I.enc.Utf16})}(Ou)),Ou.exports}var Mu={exports:{}},c0;function $s(){return c0||(c0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){return function(){var F=I,N=F.lib,H=N.WordArray,p=F.enc;p.Base64={stringify:function(t){var h=t.words,c=t.sigBytes,l=this._map;t.clamp();for(var r=[],s=0;s<c;s+=3)for(var e=h[s>>>2]>>>24-s%4*8&255,i=h[s+1>>>2]>>>24-(s+1)%4*8&255,o=h[s+2>>>2]>>>24-(s+2)%4*8&255,n=e<<16|i<<8|o,a=0;a<4&&s+a*.75<c;a++)r.push(l.charAt(n>>>6*(3-a)&63));var f=l.charAt(64);if(f)for(;r.length%4;)r.push(f);return r.join("")},parse:function(t){var h=t.length,c=this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var r=0;r<c.length;r++)l[c.charCodeAt(r)]=r}var s=c.charAt(64);if(s){var e=t.indexOf(s);e!==-1&&(h=e)}return S(t,h,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function S(t,h,c){for(var l=[],r=0,s=0;s<h;s++)if(s%4){var e=c[t.charCodeAt(s-1)]<<s%4*2,i=c[t.charCodeAt(s)]>>>6-s%4*2,o=e|i;l[r>>>2]|=o<<24-r%4*8,r++}return H.create(l,r)}}(),I.enc.Base64})}(Mu)),Mu.exports}var Du={exports:{}},v0;function y1(){return v0||(v0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){return function(){var F=I,N=F.lib,H=N.WordArray,p=F.enc;p.Base64url={stringify:function(t,h){h===void 0&&(h=!0);var c=t.words,l=t.sigBytes,r=h?this._safe_map:this._map;t.clamp();for(var s=[],e=0;e<l;e+=3)for(var i=c[e>>>2]>>>24-e%4*8&255,o=c[e+1>>>2]>>>24-(e+1)%4*8&255,n=c[e+2>>>2]>>>24-(e+2)%4*8&255,a=i<<16|o<<8|n,f=0;f<4&&e+f*.75<l;f++)s.push(r.charAt(a>>>6*(3-f)&63));var u=r.charAt(64);if(u)for(;s.length%4;)s.push(u);return s.join("")},parse:function(t,h){h===void 0&&(h=!0);var c=t.length,l=h?this._safe_map:this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<l.length;s++)r[l.charCodeAt(s)]=s}var e=l.charAt(64);if(e){var i=t.indexOf(e);i!==-1&&(c=i)}return S(t,c,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function S(t,h,c){for(var l=[],r=0,s=0;s<h;s++)if(s%4){var e=c[t.charCodeAt(s-1)]<<s%4*2,i=c[t.charCodeAt(s)]>>>6-s%4*2,o=e|i;l[r>>>2]|=o<<24-r%4*8,r++}return H.create(l,r)}}(),I.enc.Base64url})}(Du)),Du.exports}var wu={exports:{}},p0;function js(){return p0||(p0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){return function(F){var N=I,H=N.lib,p=H.WordArray,S=H.Hasher,t=N.algo,h=[];(function(){for(var i=0;i<64;i++)h[i]=F.abs(F.sin(i+1))*4294967296|0})();var c=t.MD5=S.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(i,o){for(var n=0;n<16;n++){var a=o+n,f=i[a];i[a]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var u=this._hash.words,d=i[o+0],v=i[o+1],g=i[o+2],x=i[o+3],m=i[o+4],y=i[o+5],T=i[o+6],R=i[o+7],P=i[o+8],D=i[o+9],O=i[o+10],B=i[o+11],G=i[o+12],b=i[o+13],k=i[o+14],$=i[o+15],W=u[0],Z=u[1],z=u[2],X=u[3];W=l(W,Z,z,X,d,7,h[0]),X=l(X,W,Z,z,v,12,h[1]),z=l(z,X,W,Z,g,17,h[2]),Z=l(Z,z,X,W,x,22,h[3]),W=l(W,Z,z,X,m,7,h[4]),X=l(X,W,Z,z,y,12,h[5]),z=l(z,X,W,Z,T,17,h[6]),Z=l(Z,z,X,W,R,22,h[7]),W=l(W,Z,z,X,P,7,h[8]),X=l(X,W,Z,z,D,12,h[9]),z=l(z,X,W,Z,O,17,h[10]),Z=l(Z,z,X,W,B,22,h[11]),W=l(W,Z,z,X,G,7,h[12]),X=l(X,W,Z,z,b,12,h[13]),z=l(z,X,W,Z,k,17,h[14]),Z=l(Z,z,X,W,$,22,h[15]),W=r(W,Z,z,X,v,5,h[16]),X=r(X,W,Z,z,T,9,h[17]),z=r(z,X,W,Z,B,14,h[18]),Z=r(Z,z,X,W,d,20,h[19]),W=r(W,Z,z,X,y,5,h[20]),X=r(X,W,Z,z,O,9,h[21]),z=r(z,X,W,Z,$,14,h[22]),Z=r(Z,z,X,W,m,20,h[23]),W=r(W,Z,z,X,D,5,h[24]),X=r(X,W,Z,z,k,9,h[25]),z=r(z,X,W,Z,x,14,h[26]),Z=r(Z,z,X,W,P,20,h[27]),W=r(W,Z,z,X,b,5,h[28]),X=r(X,W,Z,z,g,9,h[29]),z=r(z,X,W,Z,R,14,h[30]),Z=r(Z,z,X,W,G,20,h[31]),W=s(W,Z,z,X,y,4,h[32]),X=s(X,W,Z,z,P,11,h[33]),z=s(z,X,W,Z,B,16,h[34]),Z=s(Z,z,X,W,k,23,h[35]),W=s(W,Z,z,X,v,4,h[36]),X=s(X,W,Z,z,m,11,h[37]),z=s(z,X,W,Z,R,16,h[38]),Z=s(Z,z,X,W,O,23,h[39]),W=s(W,Z,z,X,b,4,h[40]),X=s(X,W,Z,z,d,11,h[41]),z=s(z,X,W,Z,x,16,h[42]),Z=s(Z,z,X,W,T,23,h[43]),W=s(W,Z,z,X,D,4,h[44]),X=s(X,W,Z,z,G,11,h[45]),z=s(z,X,W,Z,$,16,h[46]),Z=s(Z,z,X,W,g,23,h[47]),W=e(W,Z,z,X,d,6,h[48]),X=e(X,W,Z,z,R,10,h[49]),z=e(z,X,W,Z,k,15,h[50]),Z=e(Z,z,X,W,y,21,h[51]),W=e(W,Z,z,X,G,6,h[52]),X=e(X,W,Z,z,x,10,h[53]),z=e(z,X,W,Z,O,15,h[54]),Z=e(Z,z,X,W,v,21,h[55]),W=e(W,Z,z,X,P,6,h[56]),X=e(X,W,Z,z,$,10,h[57]),z=e(z,X,W,Z,T,15,h[58]),Z=e(Z,z,X,W,b,21,h[59]),W=e(W,Z,z,X,m,6,h[60]),X=e(X,W,Z,z,B,10,h[61]),z=e(z,X,W,Z,g,15,h[62]),Z=e(Z,z,X,W,D,21,h[63]),u[0]=u[0]+W|0,u[1]=u[1]+Z|0,u[2]=u[2]+z|0,u[3]=u[3]+X|0},_doFinalize:function(){var i=this._data,o=i.words,n=this._nDataBytes*8,a=i.sigBytes*8;o[a>>>5]|=128<<24-a%32;var f=F.floor(n/4294967296),u=n;o[(a+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,o[(a+64>>>9<<4)+14]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360,i.sigBytes=(o.length+1)*4,this._process();for(var d=this._hash,v=d.words,g=0;g<4;g++){var x=v[g];v[g]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}return d},clone:function(){var i=S.clone.call(this);return i._hash=this._hash.clone(),i}});function l(i,o,n,a,f,u,d){var v=i+(o&n|~o&a)+f+d;return(v<<u|v>>>32-u)+o}function r(i,o,n,a,f,u,d){var v=i+(o&a|n&~a)+f+d;return(v<<u|v>>>32-u)+o}function s(i,o,n,a,f,u,d){var v=i+(o^n^a)+f+d;return(v<<u|v>>>32-u)+o}function e(i,o,n,a,f,u,d){var v=i+(n^(o|~a))+f+d;return(v<<u|v>>>32-u)+o}N.MD5=S._createHelper(c),N.HmacMD5=S._createHmacHelper(c)}(Math),I.MD5})}(wu)),wu.exports}var Fu={exports:{}},m0;function Np(){return m0||(m0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){return function(){var F=I,N=F.lib,H=N.WordArray,p=N.Hasher,S=F.algo,t=[],h=S.SHA1=p.extend({_doReset:function(){this._hash=new H.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,l){for(var r=this._hash.words,s=r[0],e=r[1],i=r[2],o=r[3],n=r[4],a=0;a<80;a++){if(a<16)t[a]=c[l+a]|0;else{var f=t[a-3]^t[a-8]^t[a-14]^t[a-16];t[a]=f<<1|f>>>31}var u=(s<<5|s>>>27)+n+t[a];a<20?u+=(e&i|~e&o)+1518500249:a<40?u+=(e^i^o)+1859775393:a<60?u+=(e&i|e&o|i&o)-1894007588:u+=(e^i^o)-899497514,n=o,o=i,i=e<<30|e>>>2,e=s,s=u}r[0]=r[0]+s|0,r[1]=r[1]+e|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+n|0},_doFinalize:function(){var c=this._data,l=c.words,r=this._nDataBytes*8,s=c.sigBytes*8;return l[s>>>5]|=128<<24-s%32,l[(s+64>>>9<<4)+14]=Math.floor(r/4294967296),l[(s+64>>>9<<4)+15]=r,c.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var c=p.clone.call(this);return c._hash=this._hash.clone(),c}});F.SHA1=p._createHelper(h),F.HmacSHA1=p._createHmacHelper(h)}(),I.SHA1})}(Fu)),Fu.exports}var Bu={exports:{}},g0;function Jf(){return g0||(g0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){return function(F){var N=I,H=N.lib,p=H.WordArray,S=H.Hasher,t=N.algo,h=[],c=[];(function(){function s(n){for(var a=F.sqrt(n),f=2;f<=a;f++)if(!(n%f))return!1;return!0}function e(n){return(n-(n|0))*4294967296|0}for(var i=2,o=0;o<64;)s(i)&&(o<8&&(h[o]=e(F.pow(i,1/2))),c[o]=e(F.pow(i,1/3)),o++),i++})();var l=[],r=t.SHA256=S.extend({_doReset:function(){this._hash=new p.init(h.slice(0))},_doProcessBlock:function(s,e){for(var i=this._hash.words,o=i[0],n=i[1],a=i[2],f=i[3],u=i[4],d=i[5],v=i[6],g=i[7],x=0;x<64;x++){if(x<16)l[x]=s[e+x]|0;else{var m=l[x-15],y=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,T=l[x-2],R=(T<<15|T>>>17)^(T<<13|T>>>19)^T>>>10;l[x]=y+l[x-7]+R+l[x-16]}var P=u&d^~u&v,D=o&n^o&a^n&a,O=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),B=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),G=g+B+P+c[x]+l[x],b=O+D;g=v,v=d,d=u,u=f+G|0,f=a,a=n,n=o,o=G+b|0}i[0]=i[0]+o|0,i[1]=i[1]+n|0,i[2]=i[2]+a|0,i[3]=i[3]+f|0,i[4]=i[4]+u|0,i[5]=i[5]+d|0,i[6]=i[6]+v|0,i[7]=i[7]+g|0},_doFinalize:function(){var s=this._data,e=s.words,i=this._nDataBytes*8,o=s.sigBytes*8;return e[o>>>5]|=128<<24-o%32,e[(o+64>>>9<<4)+14]=F.floor(i/4294967296),e[(o+64>>>9<<4)+15]=i,s.sigBytes=e.length*4,this._process(),this._hash},clone:function(){var s=S.clone.call(this);return s._hash=this._hash.clone(),s}});N.SHA256=S._createHelper(r),N.HmacSHA256=S._createHmacHelper(r)}(Math),I.SHA256})}(Bu)),Bu.exports}var Nu={exports:{}},x0;function T1(){return x0||(x0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),Jf())})(se,function(I){return function(){var F=I,N=F.lib,H=N.WordArray,p=F.algo,S=p.SHA256,t=p.SHA224=S.extend({_doReset:function(){this._hash=new H.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=S._doFinalize.call(this);return h.sigBytes-=4,h}});F.SHA224=S._createHelper(t),F.HmacSHA224=S._createHmacHelper(t)}(),I.SHA224})}(Nu)),Nu.exports}var Uu={exports:{}},E0;function Up(){return E0||(E0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),Ol())})(se,function(I){return function(){var F=I,N=F.lib,H=N.Hasher,p=F.x64,S=p.Word,t=p.WordArray,h=F.algo;function c(){return S.create.apply(S,arguments)}var l=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],r=[];(function(){for(var e=0;e<80;e++)r[e]=c()})();var s=h.SHA512=H.extend({_doReset:function(){this._hash=new t.init([new S.init(1779033703,4089235720),new S.init(3144134277,2227873595),new S.init(1013904242,4271175723),new S.init(2773480762,1595750129),new S.init(1359893119,2917565137),new S.init(2600822924,725511199),new S.init(528734635,4215389547),new S.init(1541459225,327033209)])},_doProcessBlock:function(e,i){for(var o=this._hash.words,n=o[0],a=o[1],f=o[2],u=o[3],d=o[4],v=o[5],g=o[6],x=o[7],m=n.high,y=n.low,T=a.high,R=a.low,P=f.high,D=f.low,O=u.high,B=u.low,G=d.high,b=d.low,k=v.high,$=v.low,W=g.high,Z=g.low,z=x.high,X=x.low,w=m,V=y,Y=T,j=R,J=P,_=D,tt=O,it=B,st=G,ot=b,ht=k,ct=$,ft=W,Et=Z,Mt=z,Dt=X,It=0;It<80;It++){var pt,Lt,Pt=r[It];if(It<16)Lt=Pt.high=e[i+It*2]|0,pt=Pt.low=e[i+It*2+1]|0;else{var Jt=r[It-15],$t=Jt.high,fe=Jt.low,de=($t>>>1|fe<<31)^($t>>>8|fe<<24)^$t>>>7,re=(fe>>>1|$t<<31)^(fe>>>8|$t<<24)^(fe>>>7|$t<<25),Qt=r[It-2],ae=Qt.high,Se=Qt.low,De=(ae>>>19|Se<<13)^(ae<<3|Se>>>29)^ae>>>6,we=(Se>>>19|ae<<13)^(Se<<3|ae>>>29)^(Se>>>6|ae<<26),Qe=r[It-7],Ni=Qe.high,Ui=Qe.low,Si=r[It-16],Gi=Si.high,Ai=Si.low;pt=re+Ui,Lt=de+Ni+(pt>>>0<re>>>0?1:0),pt=pt+we,Lt=Lt+De+(pt>>>0<we>>>0?1:0),pt=pt+Ai,Lt=Lt+Gi+(pt>>>0<Ai>>>0?1:0),Pt.high=Lt,Pt.low=pt}var $n=st&ht^~st&ft,Pn=ot&ct^~ot&Et,Ha=w&Y^w&J^Y&J,Xa=V&j^V&_^j&_,ka=(w>>>28|V<<4)^(w<<30|V>>>2)^(w<<25|V>>>7),Xr=(V>>>28|w<<4)^(V<<30|w>>>2)^(V<<25|w>>>7),Ka=(st>>>14|ot<<18)^(st>>>18|ot<<14)^(st<<23|ot>>>9),kr=(ot>>>14|st<<18)^(ot>>>18|st<<14)^(ot<<23|st>>>9),Kr=l[It],As=Kr.high,Zs=Kr.low,$e=Dt+kr,mn=Mt+Ka+($e>>>0<Dt>>>0?1:0),$e=$e+Pn,mn=mn+$n+($e>>>0<Pn>>>0?1:0),$e=$e+Zs,mn=mn+As+($e>>>0<Zs>>>0?1:0),$e=$e+pt,mn=mn+Lt+($e>>>0<pt>>>0?1:0),jn=Xr+Xa,Qs=ka+Ha+(jn>>>0<Xr>>>0?1:0);Mt=ft,Dt=Et,ft=ht,Et=ct,ht=st,ct=ot,ot=it+$e|0,st=tt+mn+(ot>>>0<it>>>0?1:0)|0,tt=J,it=_,J=Y,_=j,Y=w,j=V,V=$e+jn|0,w=mn+Qs+(V>>>0<$e>>>0?1:0)|0}y=n.low=y+V,n.high=m+w+(y>>>0<V>>>0?1:0),R=a.low=R+j,a.high=T+Y+(R>>>0<j>>>0?1:0),D=f.low=D+_,f.high=P+J+(D>>>0<_>>>0?1:0),B=u.low=B+it,u.high=O+tt+(B>>>0<it>>>0?1:0),b=d.low=b+ot,d.high=G+st+(b>>>0<ot>>>0?1:0),$=v.low=$+ct,v.high=k+ht+($>>>0<ct>>>0?1:0),Z=g.low=Z+Et,g.high=W+ft+(Z>>>0<Et>>>0?1:0),X=x.low=X+Dt,x.high=z+Mt+(X>>>0<Dt>>>0?1:0)},_doFinalize:function(){var e=this._data,i=e.words,o=this._nDataBytes*8,n=e.sigBytes*8;i[n>>>5]|=128<<24-n%32,i[(n+128>>>10<<5)+30]=Math.floor(o/4294967296),i[(n+128>>>10<<5)+31]=o,e.sigBytes=i.length*4,this._process();var a=this._hash.toX32();return a},clone:function(){var e=H.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:1024/32});F.SHA512=H._createHelper(s),F.HmacSHA512=H._createHmacHelper(s)}(),I.SHA512})}(Uu)),Uu.exports}var Gu={exports:{}},y0;function S1(){return y0||(y0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),Ol(),Up())})(se,function(I){return function(){var F=I,N=F.x64,H=N.Word,p=N.WordArray,S=F.algo,t=S.SHA512,h=S.SHA384=t.extend({_doReset:function(){this._hash=new p.init([new H.init(3418070365,3238371032),new H.init(1654270250,914150663),new H.init(2438529370,812702999),new H.init(355462360,4144912697),new H.init(1731405415,4290775857),new H.init(2394180231,1750603025),new H.init(3675008525,1694076839),new H.init(1203062813,3204075428)])},_doFinalize:function(){var c=t._doFinalize.call(this);return c.sigBytes-=16,c}});F.SHA384=t._createHelper(h),F.HmacSHA384=t._createHmacHelper(h)}(),I.SHA384})}(Gu)),Gu.exports}var bu={exports:{}},T0;function A1(){return T0||(T0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),Ol())})(se,function(I){return function(F){var N=I,H=N.lib,p=H.WordArray,S=H.Hasher,t=N.x64,h=t.Word,c=N.algo,l=[],r=[],s=[];(function(){for(var o=1,n=0,a=0;a<24;a++){l[o+5*n]=(a+1)*(a+2)/2%64;var f=n%5,u=(2*o+3*n)%5;o=f,n=u}for(var o=0;o<5;o++)for(var n=0;n<5;n++)r[o+5*n]=n+(2*o+3*n)%5*5;for(var d=1,v=0;v<24;v++){for(var g=0,x=0,m=0;m<7;m++){if(d&1){var y=(1<<m)-1;y<32?x^=1<<y:g^=1<<y-32}d&128?d=d<<1^113:d<<=1}s[v]=h.create(g,x)}})();var e=[];(function(){for(var o=0;o<25;o++)e[o]=h.create()})();var i=c.SHA3=S.extend({cfg:S.cfg.extend({outputLength:512}),_doReset:function(){for(var o=this._state=[],n=0;n<25;n++)o[n]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(o,n){for(var a=this._state,f=this.blockSize/2,u=0;u<f;u++){var d=o[n+2*u],v=o[n+2*u+1];d=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,v=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360;var g=a[u];g.high^=v,g.low^=d}for(var x=0;x<24;x++){for(var m=0;m<5;m++){for(var y=0,T=0,R=0;R<5;R++){var g=a[m+5*R];y^=g.high,T^=g.low}var P=e[m];P.high=y,P.low=T}for(var m=0;m<5;m++)for(var D=e[(m+4)%5],O=e[(m+1)%5],B=O.high,G=O.low,y=D.high^(B<<1|G>>>31),T=D.low^(G<<1|B>>>31),R=0;R<5;R++){var g=a[m+5*R];g.high^=y,g.low^=T}for(var b=1;b<25;b++){var y,T,g=a[b],k=g.high,$=g.low,W=l[b];W<32?(y=k<<W|$>>>32-W,T=$<<W|k>>>32-W):(y=$<<W-32|k>>>64-W,T=k<<W-32|$>>>64-W);var Z=e[r[b]];Z.high=y,Z.low=T}var z=e[0],X=a[0];z.high=X.high,z.low=X.low;for(var m=0;m<5;m++)for(var R=0;R<5;R++){var b=m+5*R,g=a[b],w=e[b],V=e[(m+1)%5+5*R],Y=e[(m+2)%5+5*R];g.high=w.high^~V.high&Y.high,g.low=w.low^~V.low&Y.low}var g=a[0],j=s[x];g.high^=j.high,g.low^=j.low}},_doFinalize:function(){var o=this._data,n=o.words;this._nDataBytes*8;var a=o.sigBytes*8,f=this.blockSize*32;n[a>>>5]|=1<<24-a%32,n[(F.ceil((a+1)/f)*f>>>5)-1]|=128,o.sigBytes=n.length*4,this._process();for(var u=this._state,d=this.cfg.outputLength/8,v=d/8,g=[],x=0;x<v;x++){var m=u[x],y=m.high,T=m.low;y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,g.push(T),g.push(y)}return new p.init(g,d)},clone:function(){for(var o=S.clone.call(this),n=o._state=this._state.slice(0),a=0;a<25;a++)n[a]=n[a].clone();return o}});N.SHA3=S._createHelper(i),N.HmacSHA3=S._createHmacHelper(i)}(Math),I.SHA3})}(bu)),bu.exports}var zu={exports:{}},S0;function C1(){return S0||(S0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(F){var N=I,H=N.lib,p=H.WordArray,S=H.Hasher,t=N.algo,h=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),r=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),s=p.create([0,1518500249,1859775393,2400959708,2840853838]),e=p.create([1352829926,1548603684,1836072691,2053994217,0]),i=t.RIPEMD160=S.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,g){for(var x=0;x<16;x++){var m=g+x,y=v[m];v[m]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var T=this._hash.words,R=s.words,P=e.words,D=h.words,O=c.words,B=l.words,G=r.words,b,k,$,W,Z,z,X,w,V,Y;z=b=T[0],X=k=T[1],w=$=T[2],V=W=T[3],Y=Z=T[4];for(var j,x=0;x<80;x+=1)j=b+v[g+D[x]]|0,x<16?j+=o(k,$,W)+R[0]:x<32?j+=n(k,$,W)+R[1]:x<48?j+=a(k,$,W)+R[2]:x<64?j+=f(k,$,W)+R[3]:j+=u(k,$,W)+R[4],j=j|0,j=d(j,B[x]),j=j+Z|0,b=Z,Z=W,W=d($,10),$=k,k=j,j=z+v[g+O[x]]|0,x<16?j+=u(X,w,V)+P[0]:x<32?j+=f(X,w,V)+P[1]:x<48?j+=a(X,w,V)+P[2]:x<64?j+=n(X,w,V)+P[3]:j+=o(X,w,V)+P[4],j=j|0,j=d(j,G[x]),j=j+Y|0,z=Y,Y=V,V=d(w,10),w=X,X=j;j=T[1]+$+V|0,T[1]=T[2]+W+Y|0,T[2]=T[3]+Z+z|0,T[3]=T[4]+b+X|0,T[4]=T[0]+k+w|0,T[0]=j},_doFinalize:function(){var v=this._data,g=v.words,x=this._nDataBytes*8,m=v.sigBytes*8;g[m>>>5]|=128<<24-m%32,g[(m+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,v.sigBytes=(g.length+1)*4,this._process();for(var y=this._hash,T=y.words,R=0;R<5;R++){var P=T[R];T[R]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return y},clone:function(){var v=S.clone.call(this);return v._hash=this._hash.clone(),v}});function o(v,g,x){return v^g^x}function n(v,g,x){return v&g|~v&x}function a(v,g,x){return(v|~g)^x}function f(v,g,x){return v&x|g&~x}function u(v,g,x){return v^(g|~x)}function d(v,g){return v<<g|v>>>32-g}N.RIPEMD160=S._createHelper(i),N.HmacRIPEMD160=S._createHmacHelper(i)}(),I.RIPEMD160})}(zu)),zu.exports}var Vu={exports:{}},A0;function qf(){return A0||(A0=1,function(L,A){(function(I,F){L.exports=F(ue())})(se,function(I){(function(){var F=I,N=F.lib,H=N.Base,p=F.enc,S=p.Utf8,t=F.algo;t.HMAC=H.extend({init:function(h,c){h=this._hasher=new h.init,typeof c=="string"&&(c=S.parse(c));var l=h.blockSize,r=l*4;c.sigBytes>r&&(c=h.finalize(c)),c.clamp();for(var s=this._oKey=c.clone(),e=this._iKey=c.clone(),i=s.words,o=e.words,n=0;n<l;n++)i[n]^=1549556828,o[n]^=909522486;s.sigBytes=e.sigBytes=r,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var c=this._hasher,l=c.finalize(h);c.reset();var r=c.finalize(this._oKey.clone().concat(l));return r}})})()})}(Vu)),Vu.exports}var Wu={exports:{}},C0;function R1(){return C0||(C0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),Jf(),qf())})(se,function(I){return function(){var F=I,N=F.lib,H=N.Base,p=N.WordArray,S=F.algo,t=S.SHA256,h=S.HMAC,c=S.PBKDF2=H.extend({cfg:H.extend({keySize:128/32,hasher:t,iterations:25e4}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,r){for(var s=this.cfg,e=h.create(s.hasher,l),i=p.create(),o=p.create([1]),n=i.words,a=o.words,f=s.keySize,u=s.iterations;n.length<f;){var d=e.update(r).finalize(o);e.reset();for(var v=d.words,g=v.length,x=d,m=1;m<u;m++){x=e.finalize(x),e.reset();for(var y=x.words,T=0;T<g;T++)v[T]^=y[T]}i.concat(d),a[0]++}return i.sigBytes=f*4,i}});F.PBKDF2=function(l,r,s){return c.create(s).compute(l,r)}}(),I.PBKDF2})}(Wu)),Wu.exports}var Yu={exports:{}},R0;function Ts(){return R0||(R0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),Np(),qf())})(se,function(I){return function(){var F=I,N=F.lib,H=N.Base,p=N.WordArray,S=F.algo,t=S.MD5,h=S.EvpKDF=H.extend({cfg:H.extend({keySize:128/32,hasher:t,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,l){for(var r,s=this.cfg,e=s.hasher.create(),i=p.create(),o=i.words,n=s.keySize,a=s.iterations;o.length<n;){r&&e.update(r),r=e.update(c).finalize(l),e.reset();for(var f=1;f<a;f++)r=e.finalize(r),e.reset();i.concat(r)}return i.sigBytes=n*4,i}});F.EvpKDF=function(c,l,r){return h.create(r).compute(c,l)}}(),I.EvpKDF})}(Yu)),Yu.exports}var Hu={exports:{}},L0;function ei(){return L0||(L0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),Ts())})(se,function(I){I.lib.Cipher||function(F){var N=I,H=N.lib,p=H.Base,S=H.WordArray,t=H.BufferedBlockAlgorithm,h=N.enc;h.Utf8;var c=h.Base64,l=N.algo,r=l.EvpKDF,s=H.Cipher=t.extend({cfg:p.extend(),createEncryptor:function(y,T){return this.create(this._ENC_XFORM_MODE,y,T)},createDecryptor:function(y,T){return this.create(this._DEC_XFORM_MODE,y,T)},init:function(y,T,R){this.cfg=this.cfg.extend(R),this._xformMode=y,this._key=T,this.reset()},reset:function(){t.reset.call(this),this._doReset()},process:function(y){return this._append(y),this._process()},finalize:function(y){y&&this._append(y);var T=this._doFinalize();return T},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function y(T){return typeof T=="string"?m:v}return function(T){return{encrypt:function(R,P,D){return y(P).encrypt(T,R,P,D)},decrypt:function(R,P,D){return y(P).decrypt(T,R,P,D)}}}}()});H.StreamCipher=s.extend({_doFinalize:function(){var y=this._process(!0);return y},blockSize:1});var e=N.mode={},i=H.BlockCipherMode=p.extend({createEncryptor:function(y,T){return this.Encryptor.create(y,T)},createDecryptor:function(y,T){return this.Decryptor.create(y,T)},init:function(y,T){this._cipher=y,this._iv=T}}),o=e.CBC=function(){var y=i.extend();y.Encryptor=y.extend({processBlock:function(R,P){var D=this._cipher,O=D.blockSize;T.call(this,R,P,O),D.encryptBlock(R,P),this._prevBlock=R.slice(P,P+O)}}),y.Decryptor=y.extend({processBlock:function(R,P){var D=this._cipher,O=D.blockSize,B=R.slice(P,P+O);D.decryptBlock(R,P),T.call(this,R,P,O),this._prevBlock=B}});function T(R,P,D){var O,B=this._iv;B?(O=B,this._iv=F):O=this._prevBlock;for(var G=0;G<D;G++)R[P+G]^=O[G]}return y}(),n=N.pad={},a=n.Pkcs7={pad:function(y,T){for(var R=T*4,P=R-y.sigBytes%R,D=P<<24|P<<16|P<<8|P,O=[],B=0;B<P;B+=4)O.push(D);var G=S.create(O,P);y.concat(G)},unpad:function(y){var T=y.words[y.sigBytes-1>>>2]&255;y.sigBytes-=T}};H.BlockCipher=s.extend({cfg:s.cfg.extend({mode:o,padding:a}),reset:function(){var y;s.reset.call(this);var T=this.cfg,R=T.iv,P=T.mode;this._xformMode==this._ENC_XFORM_MODE?y=P.createEncryptor:(y=P.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==y?this._mode.init(this,R&&R.words):(this._mode=y.call(P,this,R&&R.words),this._mode.__creator=y)},_doProcessBlock:function(y,T){this._mode.processBlock(y,T)},_doFinalize:function(){var y,T=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(T.pad(this._data,this.blockSize),y=this._process(!0)):(y=this._process(!0),T.unpad(y)),y},blockSize:128/32});var f=H.CipherParams=p.extend({init:function(y){this.mixIn(y)},toString:function(y){return(y||this.formatter).stringify(this)}}),u=N.format={},d=u.OpenSSL={stringify:function(y){var T,R=y.ciphertext,P=y.salt;return P?T=S.create([1398893684,1701076831]).concat(P).concat(R):T=R,T.toString(c)},parse:function(y){var T,R=c.parse(y),P=R.words;return P[0]==1398893684&&P[1]==1701076831&&(T=S.create(P.slice(2,4)),P.splice(0,4),R.sigBytes-=16),f.create({ciphertext:R,salt:T})}},v=H.SerializableCipher=p.extend({cfg:p.extend({format:d}),encrypt:function(y,T,R,P){P=this.cfg.extend(P);var D=y.createEncryptor(R,P),O=D.finalize(T),B=D.cfg;return f.create({ciphertext:O,key:R,iv:B.iv,algorithm:y,mode:B.mode,padding:B.padding,blockSize:y.blockSize,formatter:P.format})},decrypt:function(y,T,R,P){P=this.cfg.extend(P),T=this._parse(T,P.format);var D=y.createDecryptor(R,P).finalize(T.ciphertext);return D},_parse:function(y,T){return typeof y=="string"?T.parse(y,this):y}}),g=N.kdf={},x=g.OpenSSL={execute:function(y,T,R,P,D){if(P||(P=S.random(64/8)),D)var O=r.create({keySize:T+R,hasher:D}).compute(y,P);else var O=r.create({keySize:T+R}).compute(y,P);var B=S.create(O.words.slice(T),R*4);return O.sigBytes=T*4,f.create({key:O,iv:B,salt:P})}},m=H.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:x}),encrypt:function(y,T,R,P){P=this.cfg.extend(P);var D=P.kdf.execute(R,y.keySize,y.ivSize,P.salt,P.hasher);P.iv=D.iv;var O=v.encrypt.call(this,y,T,D.key,P);return O.mixIn(D),O},decrypt:function(y,T,R,P){P=this.cfg.extend(P),T=this._parse(T,P.format);var D=P.kdf.execute(R,y.keySize,y.ivSize,T.salt,P.hasher);P.iv=D.iv;var O=v.decrypt.call(this,y,T,D.key,P);return O}})}()})}(Hu)),Hu.exports}var Xu={exports:{}},P0;function L1(){return P0||(P0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.mode.CFB=function(){var F=I.lib.BlockCipherMode.extend();F.Encryptor=F.extend({processBlock:function(H,p){var S=this._cipher,t=S.blockSize;N.call(this,H,p,t,S),this._prevBlock=H.slice(p,p+t)}}),F.Decryptor=F.extend({processBlock:function(H,p){var S=this._cipher,t=S.blockSize,h=H.slice(p,p+t);N.call(this,H,p,t,S),this._prevBlock=h}});function N(H,p,S,t){var h,c=this._iv;c?(h=c.slice(0),this._iv=void 0):h=this._prevBlock,t.encryptBlock(h,0);for(var l=0;l<S;l++)H[p+l]^=h[l]}return F}(),I.mode.CFB})}(Xu)),Xu.exports}var ku={exports:{}},I0;function P1(){return I0||(I0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.mode.CTR=function(){var F=I.lib.BlockCipherMode.extend(),N=F.Encryptor=F.extend({processBlock:function(H,p){var S=this._cipher,t=S.blockSize,h=this._iv,c=this._counter;h&&(c=this._counter=h.slice(0),this._iv=void 0);var l=c.slice(0);S.encryptBlock(l,0),c[t-1]=c[t-1]+1|0;for(var r=0;r<t;r++)H[p+r]^=l[r]}});return F.Decryptor=N,F}(),I.mode.CTR})}(ku)),ku.exports}var Ku={exports:{}},O0;function I1(){return O0||(O0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return I.mode.CTRGladman=function(){var F=I.lib.BlockCipherMode.extend();function N(S){if((S>>24&255)===255){var t=S>>16&255,h=S>>8&255,c=S&255;t===255?(t=0,h===255?(h=0,c===255?c=0:++c):++h):++t,S=0,S+=t<<16,S+=h<<8,S+=c}else S+=1<<24;return S}function H(S){return(S[0]=N(S[0]))===0&&(S[1]=N(S[1])),S}var p=F.Encryptor=F.extend({processBlock:function(S,t){var h=this._cipher,c=h.blockSize,l=this._iv,r=this._counter;l&&(r=this._counter=l.slice(0),this._iv=void 0),H(r);var s=r.slice(0);h.encryptBlock(s,0);for(var e=0;e<c;e++)S[t+e]^=s[e]}});return F.Decryptor=p,F}(),I.mode.CTRGladman})}(Ku)),Ku.exports}var $u={exports:{}},M0;function O1(){return M0||(M0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.mode.OFB=function(){var F=I.lib.BlockCipherMode.extend(),N=F.Encryptor=F.extend({processBlock:function(H,p){var S=this._cipher,t=S.blockSize,h=this._iv,c=this._keystream;h&&(c=this._keystream=h.slice(0),this._iv=void 0),S.encryptBlock(c,0);for(var l=0;l<t;l++)H[p+l]^=c[l]}});return F.Decryptor=N,F}(),I.mode.OFB})}($u)),$u.exports}var ju={exports:{}},D0;function M1(){return D0||(D0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.mode.ECB=function(){var F=I.lib.BlockCipherMode.extend();return F.Encryptor=F.extend({processBlock:function(N,H){this._cipher.encryptBlock(N,H)}}),F.Decryptor=F.extend({processBlock:function(N,H){this._cipher.decryptBlock(N,H)}}),F}(),I.mode.ECB})}(ju)),ju.exports}var Zu={exports:{}},w0;function D1(){return w0||(w0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.pad.AnsiX923={pad:function(F,N){var H=F.sigBytes,p=N*4,S=p-H%p,t=H+S-1;F.clamp(),F.words[t>>>2]|=S<<24-t%4*8,F.sigBytes+=S},unpad:function(F){var N=F.words[F.sigBytes-1>>>2]&255;F.sigBytes-=N}},I.pad.Ansix923})}(Zu)),Zu.exports}var Qu={exports:{}},F0;function w1(){return F0||(F0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.pad.Iso10126={pad:function(F,N){var H=N*4,p=H-F.sigBytes%H;F.concat(I.lib.WordArray.random(p-1)).concat(I.lib.WordArray.create([p<<24],1))},unpad:function(F){var N=F.words[F.sigBytes-1>>>2]&255;F.sigBytes-=N}},I.pad.Iso10126})}(Qu)),Qu.exports}var Ju={exports:{}},B0;function F1(){return B0||(B0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.pad.Iso97971={pad:function(F,N){F.concat(I.lib.WordArray.create([2147483648],1)),I.pad.ZeroPadding.pad(F,N)},unpad:function(F){I.pad.ZeroPadding.unpad(F),F.sigBytes--}},I.pad.Iso97971})}(Ju)),Ju.exports}var qu={exports:{}},N0;function B1(){return N0||(N0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.pad.ZeroPadding={pad:function(F,N){var H=N*4;F.clamp(),F.sigBytes+=H-(F.sigBytes%H||H)},unpad:function(F){for(var N=F.words,H=F.sigBytes-1,H=F.sigBytes-1;H>=0;H--)if(N[H>>>2]>>>24-H%4*8&255){F.sigBytes=H+1;break}}},I.pad.ZeroPadding})}(qu)),qu.exports}var _u={exports:{}},U0;function N1(){return U0||(U0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return I.pad.NoPadding={pad:function(){},unpad:function(){}},I.pad.NoPadding})}(_u)),_u.exports}var tf={exports:{}},G0;function U1(){return G0||(G0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),ei())})(se,function(I){return function(F){var N=I,H=N.lib,p=H.CipherParams,S=N.enc,t=S.Hex,h=N.format;h.Hex={stringify:function(c){return c.ciphertext.toString(t)},parse:function(c){var l=t.parse(c);return p.create({ciphertext:l})}}}(),I.format.Hex})}(tf)),tf.exports}var ef={exports:{}},b0;function G1(){return b0||(b0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),$s(),js(),Ts(),ei())})(se,function(I){return function(){var F=I,N=F.lib,H=N.BlockCipher,p=F.algo,S=[],t=[],h=[],c=[],l=[],r=[],s=[],e=[],i=[],o=[];(function(){for(var f=[],u=0;u<256;u++)u<128?f[u]=u<<1:f[u]=u<<1^283;for(var d=0,v=0,u=0;u<256;u++){var g=v^v<<1^v<<2^v<<3^v<<4;g=g>>>8^g&255^99,S[d]=g,t[g]=d;var x=f[d],m=f[x],y=f[m],T=f[g]*257^g*16843008;h[d]=T<<24|T>>>8,c[d]=T<<16|T>>>16,l[d]=T<<8|T>>>24,r[d]=T;var T=y*16843009^m*65537^x*257^d*16843008;s[g]=T<<24|T>>>8,e[g]=T<<16|T>>>16,i[g]=T<<8|T>>>24,o[g]=T,d?(d=x^f[f[f[y^x]]],v^=f[f[v]]):d=v=1}})();var n=[0,1,2,4,8,16,32,64,128,27,54],a=p.AES=H.extend({_doReset:function(){var f;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var u=this._keyPriorReset=this._key,d=u.words,v=u.sigBytes/4,g=this._nRounds=v+6,x=(g+1)*4,m=this._keySchedule=[],y=0;y<x;y++)y<v?m[y]=d[y]:(f=m[y-1],y%v?v>6&&y%v==4&&(f=S[f>>>24]<<24|S[f>>>16&255]<<16|S[f>>>8&255]<<8|S[f&255]):(f=f<<8|f>>>24,f=S[f>>>24]<<24|S[f>>>16&255]<<16|S[f>>>8&255]<<8|S[f&255],f^=n[y/v|0]<<24),m[y]=m[y-v]^f);for(var T=this._invKeySchedule=[],R=0;R<x;R++){var y=x-R;if(R%4)var f=m[y];else var f=m[y-4];R<4||y<=4?T[R]=f:T[R]=s[S[f>>>24]]^e[S[f>>>16&255]]^i[S[f>>>8&255]]^o[S[f&255]]}}},encryptBlock:function(f,u){this._doCryptBlock(f,u,this._keySchedule,h,c,l,r,S)},decryptBlock:function(f,u){var d=f[u+1];f[u+1]=f[u+3],f[u+3]=d,this._doCryptBlock(f,u,this._invKeySchedule,s,e,i,o,t);var d=f[u+1];f[u+1]=f[u+3],f[u+3]=d},_doCryptBlock:function(f,u,d,v,g,x,m,y){for(var T=this._nRounds,R=f[u]^d[0],P=f[u+1]^d[1],D=f[u+2]^d[2],O=f[u+3]^d[3],B=4,G=1;G<T;G++){var b=v[R>>>24]^g[P>>>16&255]^x[D>>>8&255]^m[O&255]^d[B++],k=v[P>>>24]^g[D>>>16&255]^x[O>>>8&255]^m[R&255]^d[B++],$=v[D>>>24]^g[O>>>16&255]^x[R>>>8&255]^m[P&255]^d[B++],W=v[O>>>24]^g[R>>>16&255]^x[P>>>8&255]^m[D&255]^d[B++];R=b,P=k,D=$,O=W}var b=(y[R>>>24]<<24|y[P>>>16&255]<<16|y[D>>>8&255]<<8|y[O&255])^d[B++],k=(y[P>>>24]<<24|y[D>>>16&255]<<16|y[O>>>8&255]<<8|y[R&255])^d[B++],$=(y[D>>>24]<<24|y[O>>>16&255]<<16|y[R>>>8&255]<<8|y[P&255])^d[B++],W=(y[O>>>24]<<24|y[R>>>16&255]<<16|y[P>>>8&255]<<8|y[D&255])^d[B++];f[u]=b,f[u+1]=k,f[u+2]=$,f[u+3]=W},keySize:256/32});F.AES=H._createHelper(a)}(),I.AES})}(ef)),ef.exports}var nf={exports:{}},z0;function b1(){return z0||(z0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),$s(),js(),Ts(),ei())})(se,function(I){return function(){var F=I,N=F.lib,H=N.WordArray,p=N.BlockCipher,S=F.algo,t=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],r=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],s=S.DES=p.extend({_doReset:function(){for(var n=this._key,a=n.words,f=[],u=0;u<56;u++){var d=t[u]-1;f[u]=a[d>>>5]>>>31-d%32&1}for(var v=this._subKeys=[],g=0;g<16;g++){for(var x=v[g]=[],m=c[g],u=0;u<24;u++)x[u/6|0]|=f[(h[u]-1+m)%28]<<31-u%6,x[4+(u/6|0)]|=f[28+(h[u+24]-1+m)%28]<<31-u%6;x[0]=x[0]<<1|x[0]>>>31;for(var u=1;u<7;u++)x[u]=x[u]>>>(u-1)*4+3;x[7]=x[7]<<5|x[7]>>>27}for(var y=this._invSubKeys=[],u=0;u<16;u++)y[u]=v[15-u]},encryptBlock:function(n,a){this._doCryptBlock(n,a,this._subKeys)},decryptBlock:function(n,a){this._doCryptBlock(n,a,this._invSubKeys)},_doCryptBlock:function(n,a,f){this._lBlock=n[a],this._rBlock=n[a+1],e.call(this,4,252645135),e.call(this,16,65535),i.call(this,2,858993459),i.call(this,8,16711935),e.call(this,1,1431655765);for(var u=0;u<16;u++){for(var d=f[u],v=this._lBlock,g=this._rBlock,x=0,m=0;m<8;m++)x|=l[m][((g^d[m])&r[m])>>>0];this._lBlock=g,this._rBlock=v^x}var y=this._lBlock;this._lBlock=this._rBlock,this._rBlock=y,e.call(this,1,1431655765),i.call(this,8,16711935),i.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[a]=this._lBlock,n[a+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function e(n,a){var f=(this._lBlock>>>n^this._rBlock)&a;this._rBlock^=f,this._lBlock^=f<<n}function i(n,a){var f=(this._rBlock>>>n^this._lBlock)&a;this._lBlock^=f,this._rBlock^=f<<n}F.DES=p._createHelper(s);var o=S.TripleDES=p.extend({_doReset:function(){var n=this._key,a=n.words;if(a.length!==2&&a.length!==4&&a.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var f=a.slice(0,2),u=a.length<4?a.slice(0,2):a.slice(2,4),d=a.length<6?a.slice(0,2):a.slice(4,6);this._des1=s.createEncryptor(H.create(f)),this._des2=s.createEncryptor(H.create(u)),this._des3=s.createEncryptor(H.create(d))},encryptBlock:function(n,a){this._des1.encryptBlock(n,a),this._des2.decryptBlock(n,a),this._des3.encryptBlock(n,a)},decryptBlock:function(n,a){this._des3.decryptBlock(n,a),this._des2.encryptBlock(n,a),this._des1.decryptBlock(n,a)},keySize:192/32,ivSize:64/32,blockSize:64/32});F.TripleDES=p._createHelper(o)}(),I.TripleDES})}(nf)),nf.exports}var sf={exports:{}},V0;function z1(){return V0||(V0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),$s(),js(),Ts(),ei())})(se,function(I){return function(){var F=I,N=F.lib,H=N.StreamCipher,p=F.algo,S=p.RC4=H.extend({_doReset:function(){for(var c=this._key,l=c.words,r=c.sigBytes,s=this._S=[],e=0;e<256;e++)s[e]=e;for(var e=0,i=0;e<256;e++){var o=e%r,n=l[o>>>2]>>>24-o%4*8&255;i=(i+s[e]+n)%256;var a=s[e];s[e]=s[i],s[i]=a}this._i=this._j=0},_doProcessBlock:function(c,l){c[l]^=t.call(this)},keySize:256/32,ivSize:0});function t(){for(var c=this._S,l=this._i,r=this._j,s=0,e=0;e<4;e++){l=(l+1)%256,r=(r+c[l])%256;var i=c[l];c[l]=c[r],c[r]=i,s|=c[(c[l]+c[r])%256]<<24-e*8}return this._i=l,this._j=r,s}F.RC4=H._createHelper(S);var h=p.RC4Drop=S.extend({cfg:S.cfg.extend({drop:192}),_doReset:function(){S._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)t.call(this)}});F.RC4Drop=H._createHelper(h)}(),I.RC4})}(sf)),sf.exports}var rf={exports:{}},W0;function V1(){return W0||(W0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),$s(),js(),Ts(),ei())})(se,function(I){return function(){var F=I,N=F.lib,H=N.StreamCipher,p=F.algo,S=[],t=[],h=[],c=p.Rabbit=H.extend({_doReset:function(){for(var r=this._key.words,s=this.cfg.iv,e=0;e<4;e++)r[e]=(r[e]<<8|r[e]>>>24)&16711935|(r[e]<<24|r[e]>>>8)&4278255360;var i=this._X=[r[0],r[3]<<16|r[2]>>>16,r[1],r[0]<<16|r[3]>>>16,r[2],r[1]<<16|r[0]>>>16,r[3],r[2]<<16|r[1]>>>16],o=this._C=[r[2]<<16|r[2]>>>16,r[0]&4294901760|r[1]&65535,r[3]<<16|r[3]>>>16,r[1]&4294901760|r[2]&65535,r[0]<<16|r[0]>>>16,r[2]&4294901760|r[3]&65535,r[1]<<16|r[1]>>>16,r[3]&4294901760|r[0]&65535];this._b=0;for(var e=0;e<4;e++)l.call(this);for(var e=0;e<8;e++)o[e]^=i[e+4&7];if(s){var n=s.words,a=n[0],f=n[1],u=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,d=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,v=u>>>16|d&4294901760,g=d<<16|u&65535;o[0]^=u,o[1]^=v,o[2]^=d,o[3]^=g,o[4]^=u,o[5]^=v,o[6]^=d,o[7]^=g;for(var e=0;e<4;e++)l.call(this)}},_doProcessBlock:function(r,s){var e=this._X;l.call(this),S[0]=e[0]^e[5]>>>16^e[3]<<16,S[1]=e[2]^e[7]>>>16^e[5]<<16,S[2]=e[4]^e[1]>>>16^e[7]<<16,S[3]=e[6]^e[3]>>>16^e[1]<<16;for(var i=0;i<4;i++)S[i]=(S[i]<<8|S[i]>>>24)&16711935|(S[i]<<24|S[i]>>>8)&4278255360,r[s+i]^=S[i]},blockSize:128/32,ivSize:64/32});function l(){for(var r=this._X,s=this._C,e=0;e<8;e++)t[e]=s[e];s[0]=s[0]+1295307597+this._b|0,s[1]=s[1]+3545052371+(s[0]>>>0<t[0]>>>0?1:0)|0,s[2]=s[2]+886263092+(s[1]>>>0<t[1]>>>0?1:0)|0,s[3]=s[3]+1295307597+(s[2]>>>0<t[2]>>>0?1:0)|0,s[4]=s[4]+3545052371+(s[3]>>>0<t[3]>>>0?1:0)|0,s[5]=s[5]+886263092+(s[4]>>>0<t[4]>>>0?1:0)|0,s[6]=s[6]+1295307597+(s[5]>>>0<t[5]>>>0?1:0)|0,s[7]=s[7]+3545052371+(s[6]>>>0<t[6]>>>0?1:0)|0,this._b=s[7]>>>0<t[7]>>>0?1:0;for(var e=0;e<8;e++){var i=r[e]+s[e],o=i&65535,n=i>>>16,a=((o*o>>>17)+o*n>>>15)+n*n,f=((i&4294901760)*i|0)+((i&65535)*i|0);h[e]=a^f}r[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,r[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,r[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,r[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,r[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,r[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,r[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,r[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}F.Rabbit=H._createHelper(c)}(),I.Rabbit})}(rf)),rf.exports}var af={exports:{}},Y0;function W1(){return Y0||(Y0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),$s(),js(),Ts(),ei())})(se,function(I){return function(){var F=I,N=F.lib,H=N.StreamCipher,p=F.algo,S=[],t=[],h=[],c=p.RabbitLegacy=H.extend({_doReset:function(){var r=this._key.words,s=this.cfg.iv,e=this._X=[r[0],r[3]<<16|r[2]>>>16,r[1],r[0]<<16|r[3]>>>16,r[2],r[1]<<16|r[0]>>>16,r[3],r[2]<<16|r[1]>>>16],i=this._C=[r[2]<<16|r[2]>>>16,r[0]&4294901760|r[1]&65535,r[3]<<16|r[3]>>>16,r[1]&4294901760|r[2]&65535,r[0]<<16|r[0]>>>16,r[2]&4294901760|r[3]&65535,r[1]<<16|r[1]>>>16,r[3]&4294901760|r[0]&65535];this._b=0;for(var o=0;o<4;o++)l.call(this);for(var o=0;o<8;o++)i[o]^=e[o+4&7];if(s){var n=s.words,a=n[0],f=n[1],u=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,d=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,v=u>>>16|d&4294901760,g=d<<16|u&65535;i[0]^=u,i[1]^=v,i[2]^=d,i[3]^=g,i[4]^=u,i[5]^=v,i[6]^=d,i[7]^=g;for(var o=0;o<4;o++)l.call(this)}},_doProcessBlock:function(r,s){var e=this._X;l.call(this),S[0]=e[0]^e[5]>>>16^e[3]<<16,S[1]=e[2]^e[7]>>>16^e[5]<<16,S[2]=e[4]^e[1]>>>16^e[7]<<16,S[3]=e[6]^e[3]>>>16^e[1]<<16;for(var i=0;i<4;i++)S[i]=(S[i]<<8|S[i]>>>24)&16711935|(S[i]<<24|S[i]>>>8)&4278255360,r[s+i]^=S[i]},blockSize:128/32,ivSize:64/32});function l(){for(var r=this._X,s=this._C,e=0;e<8;e++)t[e]=s[e];s[0]=s[0]+1295307597+this._b|0,s[1]=s[1]+3545052371+(s[0]>>>0<t[0]>>>0?1:0)|0,s[2]=s[2]+886263092+(s[1]>>>0<t[1]>>>0?1:0)|0,s[3]=s[3]+1295307597+(s[2]>>>0<t[2]>>>0?1:0)|0,s[4]=s[4]+3545052371+(s[3]>>>0<t[3]>>>0?1:0)|0,s[5]=s[5]+886263092+(s[4]>>>0<t[4]>>>0?1:0)|0,s[6]=s[6]+1295307597+(s[5]>>>0<t[5]>>>0?1:0)|0,s[7]=s[7]+3545052371+(s[6]>>>0<t[6]>>>0?1:0)|0,this._b=s[7]>>>0<t[7]>>>0?1:0;for(var e=0;e<8;e++){var i=r[e]+s[e],o=i&65535,n=i>>>16,a=((o*o>>>17)+o*n>>>15)+n*n,f=((i&4294901760)*i|0)+((i&65535)*i|0);h[e]=a^f}r[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,r[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,r[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,r[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,r[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,r[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,r[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,r[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}F.RabbitLegacy=H._createHelper(c)}(),I.RabbitLegacy})}(af)),af.exports}var of={exports:{}},H0;function Y1(){return H0||(H0=1,function(L,A){(function(I,F,N){L.exports=F(ue(),$s(),js(),Ts(),ei())})(se,function(I){return function(){var F=I,N=F.lib,H=N.BlockCipher,p=F.algo;const S=16,t=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function l(o,n){let a=n>>24&255,f=n>>16&255,u=n>>8&255,d=n&255,v=o.sbox[0][a]+o.sbox[1][f];return v=v^o.sbox[2][u],v=v+o.sbox[3][d],v}function r(o,n,a){let f=n,u=a,d;for(let v=0;v<S;++v)f=f^o.pbox[v],u=l(o,f)^u,d=f,f=u,u=d;return d=f,f=u,u=d,u=u^o.pbox[S],f=f^o.pbox[S+1],{left:f,right:u}}function s(o,n,a){let f=n,u=a,d;for(let v=S+1;v>1;--v)f=f^o.pbox[v],u=l(o,f)^u,d=f,f=u,u=d;return d=f,f=u,u=d,u=u^o.pbox[1],f=f^o.pbox[0],{left:f,right:u}}function e(o,n,a){for(let g=0;g<4;g++){o.sbox[g]=[];for(let x=0;x<256;x++)o.sbox[g][x]=h[g][x]}let f=0;for(let g=0;g<S+2;g++)o.pbox[g]=t[g]^n[f],f++,f>=a&&(f=0);let u=0,d=0,v=0;for(let g=0;g<S+2;g+=2)v=r(o,u,d),u=v.left,d=v.right,o.pbox[g]=u,o.pbox[g+1]=d;for(let g=0;g<4;g++)for(let x=0;x<256;x+=2)v=r(o,u,d),u=v.left,d=v.right,o.sbox[g][x]=u,o.sbox[g][x+1]=d;return!0}var i=p.Blowfish=H.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var o=this._keyPriorReset=this._key,n=o.words,a=o.sigBytes/4;e(c,n,a)}},encryptBlock:function(o,n){var a=r(c,o[n],o[n+1]);o[n]=a.left,o[n+1]=a.right},decryptBlock:function(o,n){var a=s(c,o[n],o[n+1]);o[n]=a.left,o[n+1]=a.right},blockSize:64/32,keySize:128/32,ivSize:64/32});F.Blowfish=H._createHelper(i)}(),I.Blowfish})}(of)),of.exports}(function(L,A){(function(I,F,N){L.exports=F(ue(),Ol(),x1(),E1(),$s(),y1(),js(),Np(),Jf(),T1(),Up(),S1(),A1(),C1(),qf(),R1(),Ts(),ei(),L1(),P1(),I1(),O1(),M1(),D1(),w1(),F1(),B1(),N1(),U1(),G1(),b1(),z1(),V1(),W1(),Y1())})(se,function(I){return I})})(Bp);var H1=Bp.exports;const Af=jf(H1),Cf=(L,A)=>A.some(I=>L instanceof I);let X0,k0;function X1(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k1(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rf=new WeakMap,lf=new WeakMap,Ml=new WeakMap;function K1(L){const A=new Promise((I,F)=>{const N=()=>{L.removeEventListener("success",H),L.removeEventListener("error",p)},H=()=>{I(ys(L.result)),N()},p=()=>{F(L.error),N()};L.addEventListener("success",H),L.addEventListener("error",p)});return Ml.set(A,L),A}function $1(L){if(Rf.has(L))return;const A=new Promise((I,F)=>{const N=()=>{L.removeEventListener("complete",H),L.removeEventListener("error",p),L.removeEventListener("abort",p)},H=()=>{I(),N()},p=()=>{F(L.error||new DOMException("AbortError","AbortError")),N()};L.addEventListener("complete",H),L.addEventListener("error",p),L.addEventListener("abort",p)});Rf.set(L,A)}let Lf={get(L,A,I){if(L instanceof IDBTransaction){if(A==="done")return Rf.get(L);if(A==="store")return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return ys(L[A])},set(L,A,I){return L[A]=I,!0},has(L,A){return L instanceof IDBTransaction&&(A==="done"||A==="store")?!0:A in L}};function Gp(L){Lf=L(Lf)}function j1(L){return k1().includes(L)?function(...A){return L.apply(Pf(this),A),ys(this.request)}:function(...A){return ys(L.apply(Pf(this),A))}}function Z1(L){return typeof L=="function"?j1(L):(L instanceof IDBTransaction&&$1(L),Cf(L,X1())?new Proxy(L,Lf):L)}function ys(L){if(L instanceof IDBRequest)return K1(L);if(lf.has(L))return lf.get(L);const A=Z1(L);return A!==L&&(lf.set(L,A),Ml.set(A,L)),A}const Pf=L=>Ml.get(L);function Q1(L,A,{blocked:I,upgrade:F,blocking:N,terminated:H}={}){const p=indexedDB.open(L,A),S=ys(p);return F&&p.addEventListener("upgradeneeded",t=>{F(ys(p.result),t.oldVersion,t.newVersion,ys(p.transaction),t)}),I&&p.addEventListener("blocked",t=>I(t.oldVersion,t.newVersion,t)),S.then(t=>{H&&t.addEventListener("close",()=>H()),N&&t.addEventListener("versionchange",h=>N(h.oldVersion,h.newVersion,h))}).catch(()=>{}),S}function J1(L,{blocked:A}={}){const I=indexedDB.deleteDatabase(L);return A&&I.addEventListener("blocked",F=>A(F.oldVersion,F)),ys(I).then(()=>{})}const q1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],hf=new Map;function K0(L,A){if(!(L instanceof IDBDatabase&&!(A in L)&&typeof A=="string"))return;if(hf.get(A))return hf.get(A);const I=A.replace(/FromIndex$/,""),F=A!==I,N=_1.includes(I);if(!(I in(F?IDBIndex:IDBObjectStore).prototype)||!(N||q1.includes(I)))return;const H=async function(p,...S){const t=this.transaction(p,N?"readwrite":"readonly");let h=t.store;return F&&(h=h.index(S.shift())),(await Promise.all([h[I](...S),N&&t.done]))[0]};return hf.set(A,H),H}Gp(L=>({...L,get:(A,I,F)=>K0(A,I)||L.get(A,I,F),has:(A,I)=>!!K0(A,I)||L.has(A,I)}));const tE=["continue","continuePrimaryKey","advance"],$0={},If=new WeakMap,bp=new WeakMap,eE={get(L,A){if(!tE.includes(A))return L[A];let I=$0[A];return I||(I=$0[A]=function(...F){If.set(this,bp.get(this)[A](...F))}),I}};async function*iE(...L){let A=this;if(A instanceof IDBCursor||(A=await A.openCursor(...L)),!A)return;A=A;const I=new Proxy(A,eE);for(bp.set(I,A),Ml.set(I,Pf(A));A;)yield I,A=await(If.get(I)||A.continue()),If.delete(I)}function j0(L,A){return A===Symbol.asyncIterator&&Cf(L,[IDBIndex,IDBObjectStore,IDBCursor])||A==="iterate"&&Cf(L,[IDBIndex,IDBObjectStore])}Gp(L=>({...L,get(A,I,F){return j0(A,I)?iE:L.get(A,I,F)},has(A,I){return j0(A,I)||L.has(A,I)}}));const Z0="SAVES";var Yi=(L=>(L.SAVES="SAVES",L))(Yi||{});const _f=class Of{static async Connect(){return Q1(Z0,1,{upgrade:(A,I,F)=>{A.objectStoreNames.contains(Yi.SAVES)?F&&F>I&&this.ClearData(A):A.createObjectStore(Yi.SAVES,{keyPath:"name"})}}).then(A=>{this.DB=A}).catch(A=>{A.message?.includes("is less than the existing version")?J1(Z0).then(()=>{this.Connect()}):wt.LogWarn("Failed to register storage",A)})}static async ClearData(A){try{await A.transaction(Yi.SAVES,"readwrite").objectStore(Yi.SAVES).clear()}catch(I){wt.LogWarn("Failed to clear storage",I)}}static async LoadSaves(){if(!this.DB)return Promise.resolve();const I=this.DB.transaction(Yi.SAVES,"readonly").objectStore(Yi.SAVES);this.Saves=[],await I.getAll().then(F=>{F.forEach(N=>{try{this.Saves.push({...N,payload:JSON.parse(N.payload)})}catch{return null}}),this.Saves=this.Saves.sort((N,H)=>H.date-N.date)}).catch(F=>{wt.LogWarn("Failed to load game saves",F)})}static async DeleteSave(A){if(!this.DB)return Promise.resolve();await this.DB.transaction(Yi.SAVES,"readwrite").objectStore(Yi.SAVES).delete(A);const N=this.Saves.findIndex(H=>H.name===A);N!==-1&&this.Saves.splice(N,1)}static GetSnapshot(A){return{game:A.getSavePayload(),world:gt.World.getSavePayload(),level:gt.World.level.getSavePayload(),player:gt.World.player.getSavePayload(),wave:gt.World.wave.getSavePayload()}}static AutoSave(A){return{name:"[AUTOSAVE]",date:Date.now(),payload:Of.GetSnapshot(A)}}static async AddSave(A){return this.DB?this.DB.transaction(Yi.SAVES,"readwrite").objectStore(Yi.SAVES).add({...A,payload:JSON.stringify(A.payload)}).then(()=>(this.Saves.unshift(A),A)).catch(N=>(wt.LogWarn("Failed to add save into database",N),null)):Promise.resolve(null)}static async CreateSave(A,I=""){if(!this.DB)return Promise.resolve(null);const F={name:I,payload:Of.GetSnapshot(A),date:Date.now()},N=this.Saves.findIndex(H=>H.name===I);return N!==-1&&(await this.DB.transaction(Yi.SAVES,"readwrite").objectStore(Yi.SAVES).delete(I),this.Saves.splice(N,1)),this.AddSave(F)}static ExportSave(A){try{const I=A.name||`autosave${Math.round(Math.random()*1e3)}`,F=Af.AES.encrypt(JSON.stringify({...A,name:I}),Xn.SAVES.KEY).toString(),N=`data:text/plain;charset=utf-8,${encodeURIComponent(F)}`,H=document.createElement("a");H.setAttribute("href",N),H.setAttribute("download",`${I.replace(" ","_").toLowerCase()}.iw`),H.click(),H.remove()}catch(I){wt.LogWarn("Failed to export save",I)}}};_f.DB=null;_f.Saves=[];let ri=_f;var Yt=(L=>(L.SKIP_TIMELEFT="SKIP_TIMELEFT",L.STOP_BUILD="STOP_BUILD",L.BUILD_TOWER_FIRE="BUILD_TOWER_FIRE",L.BUILD_AMMUNITION="BUILD_AMMUNITION",L.BUILD_GENERATOR="BUILD_GENERATOR",L.BUILD_GENERATOR_SECOND="BUILD_GENERATOR_SECOND",L.BUILD_RADAR="BUILD_RADAR",L.BUILD_NEUTRALIZER="BUILD_NEUTRALIZER",L.BUY_AMMO="BUY_AMMO",L.UPGRADE_BUILDING="UPGRADE_BUILDING",L.RELOAD_TOWER="RELOAD_TOWER",L.UPGRADE_SKILL="UPGRADE_SKILL",L.RESOURCES="RESOURCES",L))(Yt||{}),Gn=(L=>(L.IDLE="IDLE",L.IN_PROGRESS="IN_PROGRESS",L.PAUSED="PAUSED",L.COMPLETED="COMPLETED",L))(Gn||{}),ps=(L=>(L.BEG="beg",L.END="end",L))(ps||{});class Ut{static get Progress(){return this._Progress}static set Progress(A){this._Progress=A}static get IsEnabled(){return this._IsEnabled}static set IsEnabled(A){this._IsEnabled=A}static Reset(){this.IndexBind=0,this.Progress={},this.EventListeners=[],this.EventHistory=[]}static Load(A){this.IndexBind=0,this.Progress={...A},this.EventListeners=[],this.EventHistory=[],this.RecallEmit()}static Start(A){this.Progress[A]===Gn.IN_PROGRESS||this.Progress[A]===Gn.COMPLETED||(this.Progress[A]=Gn.IN_PROGRESS,this.Emit(ps.BEG,A))}static Pause(A){this.Progress[A]===Gn.IN_PROGRESS&&(this.Progress[A]=Gn.PAUSED,this.Emit(ps.END,A))}static Complete(A){this.Progress[A]!==Gn.COMPLETED&&(this.Progress[A]=Gn.COMPLETED,this.Emit(ps.END,A))}static IsPending(A){return this.Progress[A]===Gn.IN_PROGRESS}static Bind(A,I){const{beg:F,end:N}=I,H=this.Subscribe(ps.BEG,A,F),p=this.Subscribe(ps.END,A,N);return()=>{this.Unsubscribe(H),this.Unsubscribe(p)}}static ToggleHintsVisible(A){document.querySelectorAll("[role=hint]").forEach(F=>{F.classList.toggle("hidden",!A)})}static Enable(){this.IsEnabled||(this.IsEnabled=!0,this.RecallEmit())}static Disable(){if(!this.IsEnabled)return;this.EventHistory=[],Object.keys(this.Progress).forEach(I=>{this.IsPending(I)&&this.Emit(ps.END,I)}),this.IsEnabled=!1}static RecallEmit(){if(!this.IsEnabled)return;Object.keys(this.Progress).forEach(I=>{this.IsPending(I)&&this.Emit(ps.BEG,I)})}static Emit(A,I){!this.IsEnabled||this.EventHistory.some(N=>N.event===A&&N.step===I)||(this.EventHistory.push({event:A,step:I}),this.EventListeners.forEach(N=>{N.event===A&&(!N.step||N.step===I)&&N.callback(I)}))}static Subscribe(A,I,F){const N=this.IndexBind;return this.IndexBind++,this.EventListeners.push({index:N,event:A,step:I,callback:F}),this.EventHistory.forEach(H=>{H.event===A&&(!I||H.step===I)&&F(H.step)}),N}static Unsubscribe(A){const I=this.EventListeners.findIndex(F=>F.index===A);I!==-1&&this.EventListeners.splice(I,1)}}Ut._Progress={};Ut._IsEnabled=!0;Ut.IndexBind=0;Ut.EventHistory=[];Ut.EventListeners=[];var Ae=(L=>(L.UPGRADE="upgrade",L.RELOAD="reload",L.NEED_RELOAD="need_reload",L.BUY_AMMO="buy_ammo",L.AMMO_OVER="ammo_over",L.BREAK="break",L.CREATE="create",L))(Ae||{}),Ht=(L=>(L.WALL="WALL",L.TOWER_FIRE="TOWER_FIRE",L.TOWER_LAZER="TOWER_LAZER",L.TOWER_FROZEN="TOWER_FROZEN",L.TOWER_ELECTRO="TOWER_ELECTRO",L.GENERATOR="GENERATOR",L.AMMUNITION="AMMUNITION",L.RADAR="RADAR",L.NEUTRALIZER="NEUTRALIZER",L.BOOSTER="BOOSTER",L))(Ht||{}),Wr=(L=>(L.WALL="building/textures/wall",L.TOWER_FIRE="building/textures/tower_fire",L.TOWER_FROZEN="building/textures/tower_frozen",L.TOWER_LAZER="building/textures/tower_lazer",L.TOWER_ELECTRO="building/textures/tower_electro",L.GENERATOR="building/textures/generator",L.AMMUNITION="building/textures/ammunition",L.RADAR="building/textures/radar",L.NEUTRALIZER="building/textures/neutralizer",L.BOOSTER="building/textures/booster",L))(Wr||{}),vi=(L=>(L.CONFIRM="building/icons/confirm",L.CONFIRM_DISABLED="building/icons/confirm_disabled",L.DECLINE="building/icons/decline",L.ALERT="building/icons/alert",L.UPGRADE="building/icons/upgrade",L.AMMO="building/icons/params/ammo",L.DAMAGE="building/icons/params/damage",L.SPEED="building/icons/params/speed",L.DELAY="building/icons/params/delay",L.POWER="building/icons/params/power",L.FREEZE="building/icons/params/freeze",L))(vi||{}),yi=(L=>(L.SELECT="building/select",L.UNSELECT="building/unselect",L.BUILD="building/build",L.UPGRADE="building/upgrade",L.DEAD="building/dead",L.OVER="building/over",L.RELOAD="building/reload",L.REPAIR="building/repair",L.DAMAGE_1="building/damage_1",L.DAMAGE_2="building/damage_2",L.ELECTRO="building/electro",L))(yi||{}),bn=(L=>(L.NONE="NONE",L.FOCUSED="FOCUSED",L.SELECTED="SELECTED",L))(bn||{}),Ji=(L=>(L.DEFENSE="DEFENSE",L.ATTACK="ATTACK",L.RESOURCES="RESOURCES",L.OTHER="OTHER",L))(Ji||{});const Mf=[{step:Yt.BUILD_RADAR,variant:Ht.RADAR},{step:Yt.BUILD_NEUTRALIZER,variant:Ht.NEUTRALIZER},{step:Yt.BUILD_AMMUNITION,variant:Ht.AMMUNITION,pause:!0},{step:Yt.BUILD_GENERATOR_SECOND,variant:Ht.GENERATOR,pause:!0},{step:Yt.BUILD_GENERATOR,variant:Ht.GENERATOR,pause:!0},{step:Yt.BUILD_TOWER_FIRE,variant:Ht.TOWER_FIRE,pause:!0}],nE={[Yt.BUILD_GENERATOR]:{variant:Ht.GENERATOR,label:"TUTORIAL_BUILD_GENERATOR"},[Yt.BUILD_GENERATOR_SECOND]:{variant:Ht.GENERATOR,label:"TUTORIAL_BUILD_GENERATOR_SECOND"},[Yt.BUILD_RADAR]:{variant:Ht.RADAR,label:"TUTORIAL_BUILD_RADAR"},[Yt.BUILD_NEUTRALIZER]:{variant:Ht.NEUTRALIZER,label:"TUTORIAL_BUILD_NEUTRALIZER"},[Yt.BUILD_TOWER_FIRE]:{variant:Ht.TOWER_FIRE,label:"TUTORIAL_BUILD_TOWER_FIRE"},[Yt.BUILD_AMMUNITION]:{variant:Ht.AMMUNITION,label:"TUTORIAL_BUILD_AMMUNITION"}};var Bt;(L=>{class A{constructor(p){this.cloned=!1,this.value=p.defaultValue,this.defaultValue=p.defaultValue,this.growth=p.growth,this.maxLevel=p.maxLevel,this.roundTo=p.roundTo,this.minValue=p.minValue}get value(){return this._value}set value(p){this._value=p}getValue(p){let S=this.getRawValue(p);return S=this.clampValue(S),S=this.round(S),S}calculate(p,S=1){if(this.cloned){let t=this.getRawValue(p)*S;t=this.clampValue(t),t=this.round(t),this.value=t}else throw Error("Invalid calculate of origin progression")}clampValue(p){return this.minValue?Math.max(this.minValue,p):p}clampLevel(p){return this.maxLevel?Math.min(this.maxLevel,p):p}round(p){return this.roundTo?Math.floor(p/this.roundTo)*this.roundTo:Math.floor(p)}clone(){const p=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return p.cloned=!0,p}}class I extends A{getRawValue(p){const S=this.clampLevel(p);return this.defaultValue+this.defaultValue*this.growth*(S-1)}}L.Linear=I;class F extends A{constructor(p){super(p),this.retardationLevel=p.retardationLevel}getRawValue(p){const S=this.getRetardationValue(p);if(S===null){const t=this.clampLevel(p);return this.defaultValue*(this.growth+1)**(t-1)}return S}getRetardationValue(p){if(!this.retardationLevel||p<=this.retardationLevel)return null;const S=new F({defaultValue:this.defaultValue,growth:this.growth});return new I({defaultValue:S.getValue(this.retardationLevel),growth:this.growth}).getValue(p-this.retardationLevel+1)}}L.Quadratic=F;class N extends A{getRawValue(p){const S=this.clampLevel(p);return this.defaultValue*S**(this.growth+1)}}L.QuadraticMixed=N})(Bt||(Bt={}));const sE={[Ht.WALL]:{CATEGORY:Ji.DEFENSE,COST:10,MIN_WAVE:4,MAX_LEVEL:3,HEALTH:new Bt.Quadratic({defaultValue:2e3,growth:1,roundTo:100})},[Ht.TOWER_FROZEN]:{CATEGORY:Ji.DEFENSE,COST:40,MIN_WAVE:4,MAX_LEVEL:5,HEALTH:new Bt.Quadratic({defaultValue:400,growth:1,roundTo:100}),AMMO:30,FREEZE:new Bt.Linear({defaultValue:800,growth:.375}),RADIUS:new Bt.Linear({defaultValue:130,growth:.15}),DELAY:new Bt.Linear({defaultValue:1400,growth:-.11,roundTo:100}),SHOT_SPEED:new Bt.Linear({defaultValue:300,growth:.083})},[Ht.NEUTRALIZER]:{CATEGORY:Ji.DEFENSE,COST:140,MIN_WAVE:22,MAX_LEVEL:3,HEALTH:new Bt.Quadratic({defaultValue:500,growth:1,roundTo:100}),RADIUS:new Bt.Linear({defaultValue:140,growth:.3})},[Ht.TOWER_FIRE]:{CATEGORY:Ji.ATTACK,COST:30,MIN_WAVE:1,MAX_LEVEL:5,HEALTH:new Bt.Quadratic({defaultValue:300,growth:1,roundTo:100}),AMMO:30,DAMAGE:new Bt.Linear({defaultValue:45,growth:.9,roundTo:1}),RADIUS:new Bt.Linear({defaultValue:150,growth:.15}),DELAY:new Bt.Linear({defaultValue:1400,growth:-.11,roundTo:100}),SHOT_SPEED:new Bt.Linear({defaultValue:300,growth:.083})},[Ht.TOWER_LAZER]:{CATEGORY:Ji.ATTACK,COST:80,MIN_WAVE:6,MAX_LEVEL:5,HEALTH:new Bt.Quadratic({defaultValue:300,growth:1,roundTo:100}),AMMO:30,DAMAGE:new Bt.Linear({defaultValue:70,growth:.8,roundTo:1}),RADIUS:new Bt.Linear({defaultValue:140,growth:.15}),DELAY:new Bt.Linear({defaultValue:1300,growth:-.14,roundTo:100})},[Ht.TOWER_ELECTRO]:{CATEGORY:Ji.ATTACK,COST:120,MIN_WAVE:15,MAX_LEVEL:5,HEALTH:new Bt.Quadratic({defaultValue:400,growth:1,roundTo:100}),AMMO:30,DAMAGE:new Bt.Linear({defaultValue:110,growth:.8,roundTo:1}),RADIUS:new Bt.Linear({defaultValue:90,growth:.2}),DELAY:new Bt.Linear({defaultValue:1500,growth:-.1,roundTo:100})},[Ht.GENERATOR]:{CATEGORY:Ji.RESOURCES,COST:20,MIN_WAVE:1,MIN_WAVE_UPGRADE:2,MAX_LEVEL:4,LIMIT:!0,HEALTH:new Bt.Quadratic({defaultValue:200,growth:1,roundTo:100}),DELAY:new Bt.Linear({defaultValue:1200,growth:-.138,roundTo:100})},[Ht.AMMUNITION]:{CATEGORY:Ji.RESOURCES,COST:40,MIN_WAVE:3,MAX_LEVEL:3,HEALTH:new Bt.Quadratic({defaultValue:600,growth:1,roundTo:100}),RADIUS:new Bt.Linear({defaultValue:105,growth:.3}),MAX_AMMO:120,DEFAULT_AMMO:new Bt.Quadratic({defaultValue:120,growth:1,roundTo:10})},[Ht.BOOSTER]:{CATEGORY:Ji.OTHER,COST:80,MIN_WAVE:9,MAX_LEVEL:3,HEALTH:new Bt.Quadratic({defaultValue:600,growth:1,roundTo:100}),RADIUS:new Bt.Linear({defaultValue:80,growth:.2}),POWER:new Bt.Linear({defaultValue:.1,growth:1,roundTo:.1})},[Ht.RADAR]:{CATEGORY:Ji.OTHER,COST:50,MIN_WAVE:8,MAX_LEVEL:4,HEALTH:new Bt.Quadratic({defaultValue:400,growth:1,roundTo:100}),RADIUS:new Bt.Linear({defaultValue:140,growth:.3})}},kt={TILE:{width:42,height:48,origin:.75},VARIANTS:sE,BREAK_COST_MULTIPLIER:.5,UPGRADE_COST_MULTIPLIER:.5,REPAIR_COST_MULTIPLIER:.75,LIMITED_BOUND:5,TILE_COST_MULTIPLIER:.0013,EXPERIENCE_BUILD:30,EXPERIENCE_UPGRADE:new Bt.Linear({defaultValue:15,growth:1})};var Ve=(L=>(L.SELECT_BUILDING="select_building",L.UNSELECT_BUILDING="unselect_building",L.SHOW_HINT="show_hint",L.HIDE_HINT="hide_hint",L.TOGGLE_MODE="toggle_mode",L))(Ve||{}),Ue=(L=>(L.TIME_SCALE="TIME_SCALE",L.BUILDING_INDICATORS="BUILDING_INDICATORS",L.AUTO_REPAIR="AUTO_REPAIR",L.PATH_TO_CRYSTAL="PATH_TO_CRYSTAL",L.ASSISTANT_FOLLOW="ASSISTANT_FOLLOW",L))(Ue||{}),td=(L=>(L.TIME_SCALE="world/modes/time_scale",L.BUILDING_INDICATORS="world/modes/building_indicators",L.AUTO_REPAIR="world/modes/auto_repair",L.PATH_TO_CRYSTAL="world/modes/path_to_crystal",L.ASSISTANT_FOLLOW="world/modes/assistant_follow",L))(td||{}),Cn=(L=>(L.BUILDING_SELECT="building_select",L.BUILDING_UNSELECT="building_unselect",L.BUILD_START="build_start",L.BUILD_STOP="build_stop",L.BUILD="build",L))(Cn||{}),Xt=(L=>(L.BUILDING="BUILDING",L.NPC="NPC",L.ENEMY="ENEMY",L.SHOT="SHOT",L.CRYSTAL="CRYSTAL",L.SPRITE="SPRITE",L.FLAG="FLAG",L))(Xt||{}),Ir=(L=>(L.PLAYER="player/player",L.SUPERSKILL="player/superskill",L))(Ir||{}),ed=(L=>(L.MAX_HEALTH="player/skills/max_health",L.SPEED="player/skills/speed",L.STAMINA="player/skills/stamina",L.BUILD_SPEED="player/skills/build_speed",L.ATTACK_DAMAGE="player/skills/attack_damage",L.ATTACK_DISTANCE="player/skills/attack_distance",L.ATTACK_SPEED="player/skills/attack_speed",L))(ed||{}),Dl=(L=>(L.INVISIBLE="player/superskills/invisible",L.FROST="player/superskills/frost",L.SHIELD="player/superskills/shield",L.RAGE="player/superskills/rage",L.FIRE="player/superskills/fire",L))(Dl||{}),fn=(L=>(L.UPGRADE="player/upgrade",L.WALK="player/walk",L.DAMAGE_1="player/damage_1",L.DAMAGE_2="player/damage_2",L.DAMAGE_3="player/damage_3",L.SUPERSKILL="player/superskill",L))(fn||{}),Vn=(L=>(L.CHARACTER="CHARACTER",L.ASSISTANT="ASSISTANT",L))(Vn||{}),ye=(L=>(L.MAX_HEALTH="MAX_HEALTH",L.SPEED="SPEED",L.STAMINA="STAMINA",L.BUILD_SPEED="BUILD_SPEED",L.ATTACK_DAMAGE="ATTACK_DAMAGE",L.ATTACK_DISTANCE="ATTACK_DISTANCE",L.ATTACK_SPEED="ATTACK_SPEED",L))(ye||{}),li=(L=>(L.SHIELD="SHIELD",L.INVISIBLE="INVISIBLE",L.FROST="FROST",L.FIRE="FIRE",L.RAGE="RAGE",L))(li||{}),Te=(L=>(L.USE_SUPERSKILL="use_superskill",L.COMPLETE_SUPERSKILL="complete_superskill",L.UNLOCK_SUPERSKILL="unlock_superskill",L.UPGRADE_SKILL="upgrade_skill",L.UPDATE_EXPERIENCE="update_experience",L.UPDATE_SCORE="update_score",L.UPDATE_RESOURCES="update_resources",L))(Te||{}),ai=(L=>(L.UP="up",L.DOWN="down",L.LEFT="left",L.RIGHT="right",L))(ai||{}),Fi=(L=>(L.START="start",L.COMPLETE="complete",L.SKIP_TIMELEFT="skip_timeleft",L))(Fi||{}),Cr=(L=>(L.START="wave/start",L.COMPLETE="wave/complete",L.TICK="wave/tick",L))(Cr||{});class id{static Bind(A){this.World=A,A.wave.on(Fi.START,this.OnWaveStart.bind(this)),A.wave.on(Fi.COMPLETE,this.OnWaveComplete.bind(this)),A.wave.on(Fi.SKIP_TIMELEFT,this.OnWaveSkipTimeleft.bind(this)),A.player.on(Te.UPDATE_RESOURCES,this.OnPlayerUpdateResources.bind(this)),A.player.on(Te.UPGRADE_SKILL,this.OnPlayerUpgradeSkill.bind(this)),A.builder.on(Cn.BUILDING_UNSELECT,this.OnBuilderUnselectBuilding.bind(this)),A.builder.on(Cn.BUILD,this.OnBuilderBuild.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Ae.UPGRADE,this.OnBuildingUpgrade.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Ae.RELOAD,this.OnBuildingReload.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Ae.NEED_RELOAD,this.OnBuildingNeedReload.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Ae.AMMO_OVER,this.OnBuildingAmmoOver.bind(this)),A.getEntitiesGroup(Xt.BUILDING).on(Ae.BUY_AMMO,this.OnBuildingBuyAmmo.bind(this)),this.OnStart()}static OnStart(){Ut.Start(Yt.BUILD_TOWER_FIRE)}static OnWaveStart(){Ut.IsPending(Yt.SKIP_TIMELEFT)&&Ut.Complete(Yt.SKIP_TIMELEFT)}static OnWaveComplete(A){switch(A+1){case 2:{Ut.Start(Yt.BUILD_GENERATOR_SECOND);break}case kt.VARIANTS.AMMUNITION.MIN_WAVE:{Ut.Start(Yt.BUILD_AMMUNITION);break}case kt.VARIANTS.RADAR.MIN_WAVE:{Ut.Start(Yt.BUILD_RADAR);break}case kt.VARIANTS.NEUTRALIZER.MIN_WAVE:{Ut.Start(Yt.BUILD_NEUTRALIZER);break}}}static OnWaveSkipTimeleft(){Ut.Complete(Yt.SKIP_TIMELEFT)}static OnPlayerUpdateResources(A){A<kt.VARIANTS.GENERATOR.COST?this.World.builder.getBuildingsByVariant(Ht.GENERATOR).length===0&&(Ut.Start(Yt.RESOURCES),Ut.IsPending(Yt.RESOURCES)&&this.World.setModeActive(Ue.PATH_TO_CRYSTAL,!0)):Ut.IsPending(Yt.RESOURCES)&&Ut.Complete(Yt.RESOURCES)}static OnPlayerUpgradeSkill(){Ut.Complete(Yt.UPGRADE_SKILL)}static OnBuilderBuild(A){switch(A){case Ht.AMMUNITION:{Ut.Complete(Yt.BUILD_AMMUNITION);break}case Ht.RADAR:{Ut.Complete(Yt.BUILD_RADAR);break}case Ht.NEUTRALIZER:{Ut.Complete(Yt.BUILD_NEUTRALIZER);break}case Ht.TOWER_FIRE:{Ut.IsPending(Yt.BUILD_TOWER_FIRE)&&(Ut.Complete(Yt.BUILD_TOWER_FIRE),Ut.Start(Yt.BUILD_GENERATOR));break}case Ht.GENERATOR:Ut.IsPending(Yt.BUILD_GENERATOR)?Ut.Complete(Yt.BUILD_GENERATOR):Ut.IsPending(Yt.BUILD_GENERATOR_SECOND)&&(Ut.Complete(Yt.BUILD_GENERATOR_SECOND),Ut.Start(Yt.UPGRADE_BUILDING))}this.World.builder.variant&&Ut.Start(Yt.STOP_BUILD)}static OnBuilderUnselectBuilding(){Ut.IsPending(Yt.STOP_BUILD)&&(Ut.Complete(Yt.STOP_BUILD),Ut.Start(Yt.UPGRADE_SKILL))}static OnBuildingUpgrade(){Ut.IsPending(Yt.UPGRADE_BUILDING)&&Ut.Start(Yt.SKIP_TIMELEFT),Ut.Complete(Yt.UPGRADE_BUILDING)}static OnBuildingNeedReload(){Ut.Start(Yt.RELOAD_TOWER)}static OnBuildingReload(){Ut.Complete(Yt.RELOAD_TOWER)}static OnBuildingAmmoOver(){Ut.Start(Yt.BUY_AMMO)}static OnBuildingBuyAmmo(){Ut.Complete(Yt.BUY_AMMO)}static IsBuildingAllow(A){if(!Ut.IsEnabled)return!0;const I=Mf.find(F=>Ut.IsPending(F.step));return I?I.variant===A:this.World.wave.number>2}}var zp={exports:{}},uf={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function rE(){if(Q0)return oe;Q0=1;var L=Symbol.for("react.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),p=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),t=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),l=Symbol.iterator;function r(W){return W===null||typeof W!="object"?null:(W=l&&W[l]||W["@@iterator"],typeof W=="function"?W:null)}var s={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e=Object.assign,i={};function o(W,Z,z){this.props=W,this.context=Z,this.refs=i,this.updater=z||s}o.prototype.isReactComponent={},o.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},o.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function n(){}n.prototype=o.prototype;function a(W,Z,z){this.props=W,this.context=Z,this.refs=i,this.updater=z||s}var f=a.prototype=new n;f.constructor=a,e(f,o.prototype),f.isPureReactComponent=!0;var u=Array.isArray,d=Object.prototype.hasOwnProperty,v={current:null},g={key:!0,ref:!0,__self:!0,__source:!0};function x(W,Z,z){var X,w={},V=null,Y=null;if(Z!=null)for(X in Z.ref!==void 0&&(Y=Z.ref),Z.key!==void 0&&(V=""+Z.key),Z)d.call(Z,X)&&!g.hasOwnProperty(X)&&(w[X]=Z[X]);var j=arguments.length-2;if(j===1)w.children=z;else if(1<j){for(var J=Array(j),_=0;_<j;_++)J[_]=arguments[_+2];w.children=J}if(W&&W.defaultProps)for(X in j=W.defaultProps,j)w[X]===void 0&&(w[X]=j[X]);return{$$typeof:L,type:W,key:V,ref:Y,props:w,_owner:v.current}}function m(W,Z){return{$$typeof:L,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function y(W){return typeof W=="object"&&W!==null&&W.$$typeof===L}function T(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(z){return Z[z]})}var R=/\/+/g;function P(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?T(""+W.key):Z.toString(36)}function D(W,Z,z,X,w){var V=typeof W;(V==="undefined"||V==="boolean")&&(W=null);var Y=!1;if(W===null)Y=!0;else switch(V){case"string":case"number":Y=!0;break;case"object":switch(W.$$typeof){case L:case A:Y=!0}}if(Y)return Y=W,w=w(Y),W=X===""?"."+P(Y,0):X,u(w)?(z="",W!=null&&(z=W.replace(R,"$&/")+"/"),D(w,Z,z,"",function(_){return _})):w!=null&&(y(w)&&(w=m(w,z+(!w.key||Y&&Y.key===w.key?"":(""+w.key).replace(R,"$&/")+"/")+W)),Z.push(w)),1;if(Y=0,X=X===""?".":X+":",u(W))for(var j=0;j<W.length;j++){V=W[j];var J=X+P(V,j);Y+=D(V,Z,z,J,w)}else if(J=r(W),typeof J=="function")for(W=J.call(W),j=0;!(V=W.next()).done;)V=V.value,J=X+P(V,j++),Y+=D(V,Z,z,J,w);else if(V==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Y}function O(W,Z,z){if(W==null)return W;var X=[],w=0;return D(W,X,"","",function(V){return Z.call(z,V,w++)}),X}function B(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(z){(W._status===0||W._status===-1)&&(W._status=1,W._result=z)},function(z){(W._status===0||W._status===-1)&&(W._status=2,W._result=z)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var G={current:null},b={transition:null},k={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:b,ReactCurrentOwner:v};function $(){throw Error("act(...) is not supported in production builds of React.")}return oe.Children={map:O,forEach:function(W,Z,z){O(W,function(){Z.apply(this,arguments)},z)},count:function(W){var Z=0;return O(W,function(){Z++}),Z},toArray:function(W){return O(W,function(Z){return Z})||[]},only:function(W){if(!y(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},oe.Component=o,oe.Fragment=I,oe.Profiler=N,oe.PureComponent=a,oe.StrictMode=F,oe.Suspense=t,oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,oe.act=$,oe.cloneElement=function(W,Z,z){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var X=e({},W.props),w=W.key,V=W.ref,Y=W._owner;if(Z!=null){if(Z.ref!==void 0&&(V=Z.ref,Y=v.current),Z.key!==void 0&&(w=""+Z.key),W.type&&W.type.defaultProps)var j=W.type.defaultProps;for(J in Z)d.call(Z,J)&&!g.hasOwnProperty(J)&&(X[J]=Z[J]===void 0&&j!==void 0?j[J]:Z[J])}var J=arguments.length-2;if(J===1)X.children=z;else if(1<J){j=Array(J);for(var _=0;_<J;_++)j[_]=arguments[_+2];X.children=j}return{$$typeof:L,type:W.type,key:w,ref:V,props:X,_owner:Y}},oe.createContext=function(W){return W={$$typeof:p,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:H,_context:W},W.Consumer=W},oe.createElement=x,oe.createFactory=function(W){var Z=x.bind(null,W);return Z.type=W,Z},oe.createRef=function(){return{current:null}},oe.forwardRef=function(W){return{$$typeof:S,render:W}},oe.isValidElement=y,oe.lazy=function(W){return{$$typeof:c,_payload:{_status:-1,_result:W},_init:B}},oe.memo=function(W,Z){return{$$typeof:h,type:W,compare:Z===void 0?null:Z}},oe.startTransition=function(W){var Z=b.transition;b.transition={};try{W()}finally{b.transition=Z}},oe.unstable_act=$,oe.useCallback=function(W,Z){return G.current.useCallback(W,Z)},oe.useContext=function(W){return G.current.useContext(W)},oe.useDebugValue=function(){},oe.useDeferredValue=function(W){return G.current.useDeferredValue(W)},oe.useEffect=function(W,Z){return G.current.useEffect(W,Z)},oe.useId=function(){return G.current.useId()},oe.useImperativeHandle=function(W,Z,z){return G.current.useImperativeHandle(W,Z,z)},oe.useInsertionEffect=function(W,Z){return G.current.useInsertionEffect(W,Z)},oe.useLayoutEffect=function(W,Z){return G.current.useLayoutEffect(W,Z)},oe.useMemo=function(W,Z){return G.current.useMemo(W,Z)},oe.useReducer=function(W,Z,z){return G.current.useReducer(W,Z,z)},oe.useRef=function(W){return G.current.useRef(W)},oe.useState=function(W){return G.current.useState(W)},oe.useSyncExternalStore=function(W,Z,z){return G.current.useSyncExternalStore(W,Z,z)},oe.useTransition=function(){return G.current.useTransition()},oe.version="18.3.1",oe}var J0;function nd(){return J0||(J0=1,uf.exports=rE()),uf.exports}var il={},ff={exports:{}},Oi={},df={exports:{}},cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function aE(){return q0||(q0=1,function(L){function A(b,k){var $=b.length;b.push(k);t:for(;0<$;){var W=$-1>>>1,Z=b[W];if(0<N(Z,k))b[W]=k,b[$]=Z,$=W;else break t}}function I(b){return b.length===0?null:b[0]}function F(b){if(b.length===0)return null;var k=b[0],$=b.pop();if($!==k){b[0]=$;t:for(var W=0,Z=b.length,z=Z>>>1;W<z;){var X=2*(W+1)-1,w=b[X],V=X+1,Y=b[V];if(0>N(w,$))V<Z&&0>N(Y,w)?(b[W]=Y,b[V]=$,W=V):(b[W]=w,b[X]=$,W=X);else if(V<Z&&0>N(Y,$))b[W]=Y,b[V]=$,W=V;else break t}}return k}function N(b,k){var $=b.sortIndex-k.sortIndex;return $!==0?$:b.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var H=performance;L.unstable_now=function(){return H.now()}}else{var p=Date,S=p.now();L.unstable_now=function(){return p.now()-S}}var t=[],h=[],c=1,l=null,r=3,s=!1,e=!1,i=!1,o=typeof setTimeout=="function"?setTimeout:null,n=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(b){for(var k=I(h);k!==null;){if(k.callback===null)F(h);else if(k.startTime<=b)F(h),k.sortIndex=k.expirationTime,A(t,k);else break;k=I(h)}}function u(b){if(i=!1,f(b),!e)if(I(t)!==null)e=!0,B(d);else{var k=I(h);k!==null&&G(u,k.startTime-b)}}function d(b,k){e=!1,i&&(i=!1,n(x),x=-1),s=!0;var $=r;try{for(f(k),l=I(t);l!==null&&(!(l.expirationTime>k)||b&&!T());){var W=l.callback;if(typeof W=="function"){l.callback=null,r=l.priorityLevel;var Z=W(l.expirationTime<=k);k=L.unstable_now(),typeof Z=="function"?l.callback=Z:l===I(t)&&F(t),f(k)}else F(t);l=I(t)}if(l!==null)var z=!0;else{var X=I(h);X!==null&&G(u,X.startTime-k),z=!1}return z}finally{l=null,r=$,s=!1}}var v=!1,g=null,x=-1,m=5,y=-1;function T(){return!(L.unstable_now()-y<m)}function R(){if(g!==null){var b=L.unstable_now();y=b;var k=!0;try{k=g(!0,b)}finally{k?P():(v=!1,g=null)}}else v=!1}var P;if(typeof a=="function")P=function(){a(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,O=D.port2;D.port1.onmessage=R,P=function(){O.postMessage(null)}}else P=function(){o(R,0)};function B(b){g=b,v||(v=!0,P())}function G(b,k){x=o(function(){b(L.unstable_now())},k)}L.unstable_IdlePriority=5,L.unstable_ImmediatePriority=1,L.unstable_LowPriority=4,L.unstable_NormalPriority=3,L.unstable_Profiling=null,L.unstable_UserBlockingPriority=2,L.unstable_cancelCallback=function(b){b.callback=null},L.unstable_continueExecution=function(){e||s||(e=!0,B(d))},L.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<b?Math.floor(1e3/b):5},L.unstable_getCurrentPriorityLevel=function(){return r},L.unstable_getFirstCallbackNode=function(){return I(t)},L.unstable_next=function(b){switch(r){case 1:case 2:case 3:var k=3;break;default:k=r}var $=r;r=k;try{return b()}finally{r=$}},L.unstable_pauseExecution=function(){},L.unstable_requestPaint=function(){},L.unstable_runWithPriority=function(b,k){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var $=r;r=b;try{return k()}finally{r=$}},L.unstable_scheduleCallback=function(b,k,$){var W=L.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,b){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,b={id:c++,callback:k,priorityLevel:b,startTime:$,expirationTime:Z,sortIndex:-1},$>W?(b.sortIndex=$,A(h,b),I(t)===null&&b===I(h)&&(i?(n(x),x=-1):i=!0,G(u,$-W))):(b.sortIndex=Z,A(t,b),e||s||(e=!0,B(d))),b},L.unstable_shouldYield=T,L.unstable_wrapCallback=function(b){var k=r;return function(){var $=r;r=k;try{return b.apply(this,arguments)}finally{r=$}}}}(cf)),cf}var _0;function oE(){return _0||(_0=1,df.exports=aE()),df.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function lE(){if(tp)return Oi;tp=1;var L=nd(),A=oE();function I(E){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+E,M=1;M<arguments.length;M++)C+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+E+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F=new Set,N={};function H(E,C){p(E,C),p(E+"Capture",C)}function p(E,C){for(N[E]=C,E=0;E<C.length;E++)F.add(C[E])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},l={};function r(E){return t.call(l,E)?!0:t.call(c,E)?!1:h.test(E)?l[E]=!0:(c[E]=!0,!1)}function s(E,C,M,U){if(M!==null&&M.type===0)return!1;switch(typeof C){case"function":case"symbol":return!0;case"boolean":return U?!1:M!==null?!M.acceptsBooleans:(E=E.toLowerCase().slice(0,5),E!=="data-"&&E!=="aria-");default:return!1}}function e(E,C,M,U){if(C===null||typeof C>"u"||s(E,C,M,U))return!0;if(U)return!1;if(M!==null)switch(M.type){case 3:return!C;case 4:return C===!1;case 5:return isNaN(C);case 6:return isNaN(C)||1>C}return!1}function i(E,C,M,U,K,Q,et){this.acceptsBooleans=C===2||C===3||C===4,this.attributeName=U,this.attributeNamespace=K,this.mustUseProperty=M,this.propertyName=E,this.type=C,this.sanitizeURL=Q,this.removeEmptyString=et}var o={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(E){o[E]=new i(E,0,!1,E,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(E){var C=E[0];o[C]=new i(C,1,!1,E[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(E){o[E]=new i(E,2,!1,E.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(E){o[E]=new i(E,2,!1,E,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(E){o[E]=new i(E,3,!1,E.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(E){o[E]=new i(E,3,!0,E,null,!1,!1)}),["capture","download"].forEach(function(E){o[E]=new i(E,4,!1,E,null,!1,!1)}),["cols","rows","size","span"].forEach(function(E){o[E]=new i(E,6,!1,E,null,!1,!1)}),["rowSpan","start"].forEach(function(E){o[E]=new i(E,5,!1,E.toLowerCase(),null,!1,!1)});var n=/[\-:]([a-z])/g;function a(E){return E[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(E){var C=E.replace(n,a);o[C]=new i(C,1,!1,E,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(E){var C=E.replace(n,a);o[C]=new i(C,1,!1,E,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(E){var C=E.replace(n,a);o[C]=new i(C,1,!1,E,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(E){o[E]=new i(E,1,!1,E.toLowerCase(),null,!1,!1)}),o.xlinkHref=new i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(E){o[E]=new i(E,1,!1,E.toLowerCase(),null,!0,!0)});function f(E,C,M,U){var K=o.hasOwnProperty(C)?o[C]:null;(K!==null?K.type!==0:U||!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(e(C,M,K,U)&&(M=null),U||K===null?r(C)&&(M===null?E.removeAttribute(C):E.setAttribute(C,""+M)):K.mustUseProperty?E[K.propertyName]=M===null?K.type===3?!1:"":M:(C=K.attributeName,U=K.attributeNamespace,M===null?E.removeAttribute(C):(K=K.type,M=K===3||K===4&&M===!0?"":""+M,U?E.setAttributeNS(U,C,M):E.setAttribute(C,M))))}var u=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),v=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),b=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var $=Object.assign,W;function Z(E){if(W===void 0)try{throw Error()}catch(M){var C=M.stack.trim().match(/\n( *(at )?)/);W=C&&C[1]||""}return`
`+W+E}var z=!1;function X(E,C){if(!E||z)return"";z=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(C)if(C=function(){throw Error()},Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(vt){var U=vt}Reflect.construct(E,[],C)}else{try{C.call()}catch(vt){U=vt}E.call(C.prototype)}else{try{throw Error()}catch(vt){U=vt}E()}}catch(vt){if(vt&&U&&typeof vt.stack=="string"){for(var K=vt.stack.split(`
`),Q=U.stack.split(`
`),et=K.length-1,nt=Q.length-1;1<=et&&0<=nt&&K[et]!==Q[nt];)nt--;for(;1<=et&&0<=nt;et--,nt--)if(K[et]!==Q[nt]){if(et!==1||nt!==1)do if(et--,nt--,0>nt||K[et]!==Q[nt]){var at=`
`+K[et].replace(" at new "," at ");return E.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",E.displayName)),at}while(1<=et&&0<=nt);break}}}finally{z=!1,Error.prepareStackTrace=M}return(E=E?E.displayName||E.name:"")?Z(E):""}function w(E){switch(E.tag){case 5:return Z(E.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return E=X(E.type,!1),E;case 11:return E=X(E.type.render,!1),E;case 1:return E=X(E.type,!0),E;default:return""}}function V(E){if(E==null)return null;if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case g:return"Fragment";case v:return"Portal";case m:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case T:return(E.displayName||"Context")+".Consumer";case y:return(E._context.displayName||"Context")+".Provider";case R:var C=E.render;return E=E.displayName,E||(E=C.displayName||C.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case O:return C=E.displayName||null,C!==null?C:V(E.type)||"Memo";case B:C=E._payload,E=E._init;try{return V(E(C))}catch{}}return null}function Y(E){var C=E.type;switch(E.tag){case 24:return"Cache";case 9:return(C.displayName||"Context")+".Consumer";case 10:return(C._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return E=C.render,E=E.displayName||E.name||"",C.displayName||(E!==""?"ForwardRef("+E+")":"ForwardRef");case 7:return"Fragment";case 5:return C;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(C);case 8:return C===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C}return null}function j(E){switch(typeof E){case"boolean":case"number":case"string":case"undefined":return E;case"object":return E;default:return""}}function J(E){var C=E.type;return(E=E.nodeName)&&E.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function _(E){var C=J(E)?"checked":"value",M=Object.getOwnPropertyDescriptor(E.constructor.prototype,C),U=""+E[C];if(!E.hasOwnProperty(C)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var K=M.get,Q=M.set;return Object.defineProperty(E,C,{configurable:!0,get:function(){return K.call(this)},set:function(et){U=""+et,Q.call(this,et)}}),Object.defineProperty(E,C,{enumerable:M.enumerable}),{getValue:function(){return U},setValue:function(et){U=""+et},stopTracking:function(){E._valueTracker=null,delete E[C]}}}}function tt(E){E._valueTracker||(E._valueTracker=_(E))}function it(E){if(!E)return!1;var C=E._valueTracker;if(!C)return!0;var M=C.getValue(),U="";return E&&(U=J(E)?E.checked?"true":"false":E.value),E=U,E!==M?(C.setValue(E),!0):!1}function st(E){if(E=E||(typeof document<"u"?document:void 0),typeof E>"u")return null;try{return E.activeElement||E.body}catch{return E.body}}function ot(E,C){var M=C.checked;return $({},C,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:M??E._wrapperState.initialChecked})}function ht(E,C){var M=C.defaultValue==null?"":C.defaultValue,U=C.checked!=null?C.checked:C.defaultChecked;M=j(C.value!=null?C.value:M),E._wrapperState={initialChecked:U,initialValue:M,controlled:C.type==="checkbox"||C.type==="radio"?C.checked!=null:C.value!=null}}function ct(E,C){C=C.checked,C!=null&&f(E,"checked",C,!1)}function ft(E,C){ct(E,C);var M=j(C.value),U=C.type;if(M!=null)U==="number"?(M===0&&E.value===""||E.value!=M)&&(E.value=""+M):E.value!==""+M&&(E.value=""+M);else if(U==="submit"||U==="reset"){E.removeAttribute("value");return}C.hasOwnProperty("value")?Mt(E,C.type,M):C.hasOwnProperty("defaultValue")&&Mt(E,C.type,j(C.defaultValue)),C.checked==null&&C.defaultChecked!=null&&(E.defaultChecked=!!C.defaultChecked)}function Et(E,C,M){if(C.hasOwnProperty("value")||C.hasOwnProperty("defaultValue")){var U=C.type;if(!(U!=="submit"&&U!=="reset"||C.value!==void 0&&C.value!==null))return;C=""+E._wrapperState.initialValue,M||C===E.value||(E.value=C),E.defaultValue=C}M=E.name,M!==""&&(E.name=""),E.defaultChecked=!!E._wrapperState.initialChecked,M!==""&&(E.name=M)}function Mt(E,C,M){(C!=="number"||st(E.ownerDocument)!==E)&&(M==null?E.defaultValue=""+E._wrapperState.initialValue:E.defaultValue!==""+M&&(E.defaultValue=""+M))}var Dt=Array.isArray;function It(E,C,M,U){if(E=E.options,C){C={};for(var K=0;K<M.length;K++)C["$"+M[K]]=!0;for(M=0;M<E.length;M++)K=C.hasOwnProperty("$"+E[M].value),E[M].selected!==K&&(E[M].selected=K),K&&U&&(E[M].defaultSelected=!0)}else{for(M=""+j(M),C=null,K=0;K<E.length;K++){if(E[K].value===M){E[K].selected=!0,U&&(E[K].defaultSelected=!0);return}C!==null||E[K].disabled||(C=E[K])}C!==null&&(C.selected=!0)}}function pt(E,C){if(C.dangerouslySetInnerHTML!=null)throw Error(I(91));return $({},C,{value:void 0,defaultValue:void 0,children:""+E._wrapperState.initialValue})}function Lt(E,C){var M=C.value;if(M==null){if(M=C.children,C=C.defaultValue,M!=null){if(C!=null)throw Error(I(92));if(Dt(M)){if(1<M.length)throw Error(I(93));M=M[0]}C=M}C==null&&(C=""),M=C}E._wrapperState={initialValue:j(M)}}function Pt(E,C){var M=j(C.value),U=j(C.defaultValue);M!=null&&(M=""+M,M!==E.value&&(E.value=M),C.defaultValue==null&&E.defaultValue!==M&&(E.defaultValue=M)),U!=null&&(E.defaultValue=""+U)}function Jt(E){var C=E.textContent;C===E._wrapperState.initialValue&&C!==""&&C!==null&&(E.value=C)}function $t(E){switch(E){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(E,C){return E==null||E==="http://www.w3.org/1999/xhtml"?$t(C):E==="http://www.w3.org/2000/svg"&&C==="foreignObject"?"http://www.w3.org/1999/xhtml":E}var de,re=function(E){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(C,M,U,K){MSApp.execUnsafeLocalFunction(function(){return E(C,M,U,K)})}:E}(function(E,C){if(E.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in E)E.innerHTML=C;else{for(de=de||document.createElement("div"),de.innerHTML="<svg>"+C.valueOf().toString()+"</svg>",C=de.firstChild;E.firstChild;)E.removeChild(E.firstChild);for(;C.firstChild;)E.appendChild(C.firstChild)}});function Qt(E,C){if(C){var M=E.firstChild;if(M&&M===E.lastChild&&M.nodeType===3){M.nodeValue=C;return}}E.textContent=C}var ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(E){Se.forEach(function(C){C=C+E.charAt(0).toUpperCase()+E.substring(1),ae[C]=ae[E]})});function De(E,C,M){return C==null||typeof C=="boolean"||C===""?"":M||typeof C!="number"||C===0||ae.hasOwnProperty(E)&&ae[E]?(""+C).trim():C+"px"}function we(E,C){E=E.style;for(var M in C)if(C.hasOwnProperty(M)){var U=M.indexOf("--")===0,K=De(M,C[M],U);M==="float"&&(M="cssFloat"),U?E.setProperty(M,K):E[M]=K}}var Qe=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ni(E,C){if(C){if(Qe[E]&&(C.children!=null||C.dangerouslySetInnerHTML!=null))throw Error(I(137,E));if(C.dangerouslySetInnerHTML!=null){if(C.children!=null)throw Error(I(60));if(typeof C.dangerouslySetInnerHTML!="object"||!("__html"in C.dangerouslySetInnerHTML))throw Error(I(61))}if(C.style!=null&&typeof C.style!="object")throw Error(I(62))}}function Ui(E,C){if(E.indexOf("-")===-1)return typeof C.is=="string";switch(E){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function Gi(E){return E=E.target||E.srcElement||window,E.correspondingUseElement&&(E=E.correspondingUseElement),E.nodeType===3?E.parentNode:E}var Ai=null,$n=null,Pn=null;function Ha(E){if(E=fa(E)){if(typeof Ai!="function")throw Error(I(280));var C=E.stateNode;C&&(C=po(C),Ai(E.stateNode,E.type,C))}}function Xa(E){$n?Pn?Pn.push(E):Pn=[E]:$n=E}function ka(){if($n){var E=$n,C=Pn;if(Pn=$n=null,Ha(E),C)for(E=0;E<C.length;E++)Ha(C[E])}}function Xr(E,C){return E(C)}function Ka(){}var kr=!1;function Kr(E,C,M){if(kr)return E(C,M);kr=!0;try{return Xr(E,C,M)}finally{kr=!1,($n!==null||Pn!==null)&&(Ka(),ka())}}function As(E,C){var M=E.stateNode;if(M===null)return null;var U=po(M);if(U===null)return null;M=U[C];t:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(U=!U.disabled)||(E=E.type,U=!(E==="button"||E==="input"||E==="select"||E==="textarea")),E=!U;break t;default:E=!1}if(E)return null;if(M&&typeof M!="function")throw Error(I(231,C,typeof M));return M}var Zs=!1;if(S)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Zs=!1}function mn(E,C,M,U,K,Q,et,nt,at){var vt=Array.prototype.slice.call(arguments,3);try{C.apply(M,vt)}catch(St){this.onError(St)}}var jn=!1,Qs=null,$a=!1,kl=null,bm={onError:function(E){jn=!0,Qs=E}};function zm(E,C,M,U,K,Q,et,nt,at){jn=!1,Qs=null,mn.apply(bm,arguments)}function Vm(E,C,M,U,K,Q,et,nt,at){if(zm.apply(this,arguments),jn){if(jn){var vt=Qs;jn=!1,Qs=null}else throw Error(I(198));$a||($a=!0,kl=vt)}}function Cs(E){var C=E,M=E;if(E.alternate)for(;C.return;)C=C.return;else{E=C;do C=E,C.flags&4098&&(M=C.return),E=C.return;while(E)}return C.tag===3?M:null}function Id(E){if(E.tag===13){var C=E.memoizedState;if(C===null&&(E=E.alternate,E!==null&&(C=E.memoizedState)),C!==null)return C.dehydrated}return null}function Od(E){if(Cs(E)!==E)throw Error(I(188))}function Wm(E){var C=E.alternate;if(!C){if(C=Cs(E),C===null)throw Error(I(188));return C!==E?null:E}for(var M=E,U=C;;){var K=M.return;if(K===null)break;var Q=K.alternate;if(Q===null){if(U=K.return,U!==null){M=U;continue}break}if(K.child===Q.child){for(Q=K.child;Q;){if(Q===M)return Od(K),E;if(Q===U)return Od(K),C;Q=Q.sibling}throw Error(I(188))}if(M.return!==U.return)M=K,U=Q;else{for(var et=!1,nt=K.child;nt;){if(nt===M){et=!0,M=K,U=Q;break}if(nt===U){et=!0,U=K,M=Q;break}nt=nt.sibling}if(!et){for(nt=Q.child;nt;){if(nt===M){et=!0,M=Q,U=K;break}if(nt===U){et=!0,U=Q,M=K;break}nt=nt.sibling}if(!et)throw Error(I(189))}}if(M.alternate!==U)throw Error(I(190))}if(M.tag!==3)throw Error(I(188));return M.stateNode.current===M?E:C}function Md(E){return E=Wm(E),E!==null?Dd(E):null}function Dd(E){if(E.tag===5||E.tag===6)return E;for(E=E.child;E!==null;){var C=Dd(E);if(C!==null)return C;E=E.sibling}return null}var wd=A.unstable_scheduleCallback,Fd=A.unstable_cancelCallback,Ym=A.unstable_shouldYield,Hm=A.unstable_requestPaint,We=A.unstable_now,Xm=A.unstable_getCurrentPriorityLevel,Kl=A.unstable_ImmediatePriority,Bd=A.unstable_UserBlockingPriority,ja=A.unstable_NormalPriority,km=A.unstable_LowPriority,Nd=A.unstable_IdlePriority,Za=null,gn=null;function Km(E){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Za,E,void 0,(E.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Zm,$m=Math.log,jm=Math.LN2;function Zm(E){return E>>>=0,E===0?32:31-($m(E)/jm|0)|0}var Qa=64,Ja=4194304;function $r(E){switch(E&-E){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return E&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return E}}function qa(E,C){var M=E.pendingLanes;if(M===0)return 0;var U=0,K=E.suspendedLanes,Q=E.pingedLanes,et=M&268435455;if(et!==0){var nt=et&~K;nt!==0?U=$r(nt):(Q&=et,Q!==0&&(U=$r(Q)))}else et=M&~K,et!==0?U=$r(et):Q!==0&&(U=$r(Q));if(U===0)return 0;if(C!==0&&C!==U&&!(C&K)&&(K=U&-U,Q=C&-C,K>=Q||K===16&&(Q&4194240)!==0))return C;if(U&4&&(U|=M&16),C=E.entangledLanes,C!==0)for(E=E.entanglements,C&=U;0<C;)M=31-en(C),K=1<<M,U|=E[M],C&=~K;return U}function Qm(E,C){switch(E){case 1:case 2:case 4:return C+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(E,C){for(var M=E.suspendedLanes,U=E.pingedLanes,K=E.expirationTimes,Q=E.pendingLanes;0<Q;){var et=31-en(Q),nt=1<<et,at=K[et];at===-1?(!(nt&M)||nt&U)&&(K[et]=Qm(nt,C)):at<=C&&(E.expiredLanes|=nt),Q&=~nt}}function $l(E){return E=E.pendingLanes&-1073741825,E!==0?E:E&1073741824?1073741824:0}function Ud(){var E=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),E}function jl(E){for(var C=[],M=0;31>M;M++)C.push(E);return C}function jr(E,C,M){E.pendingLanes|=C,C!==536870912&&(E.suspendedLanes=0,E.pingedLanes=0),E=E.eventTimes,C=31-en(C),E[C]=M}function qm(E,C){var M=E.pendingLanes&~C;E.pendingLanes=C,E.suspendedLanes=0,E.pingedLanes=0,E.expiredLanes&=C,E.mutableReadLanes&=C,E.entangledLanes&=C,C=E.entanglements;var U=E.eventTimes;for(E=E.expirationTimes;0<M;){var K=31-en(M),Q=1<<K;C[K]=0,U[K]=-1,E[K]=-1,M&=~Q}}function Zl(E,C){var M=E.entangledLanes|=C;for(E=E.entanglements;M;){var U=31-en(M),K=1<<U;K&C|E[U]&C&&(E[U]|=C),M&=~K}}var xe=0;function Gd(E){return E&=-E,1<E?4<E?E&268435455?16:536870912:4:1}var bd,Ql,zd,Vd,Wd,Jl=!1,_a=[],Zn=null,Qn=null,Jn=null,Zr=new Map,Qr=new Map,qn=[],_m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(E,C){switch(E){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Zr.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(C.pointerId)}}function Jr(E,C,M,U,K,Q){return E===null||E.nativeEvent!==Q?(E={blockedOn:C,domEventName:M,eventSystemFlags:U,nativeEvent:Q,targetContainers:[K]},C!==null&&(C=fa(C),C!==null&&Ql(C)),E):(E.eventSystemFlags|=U,C=E.targetContainers,K!==null&&C.indexOf(K)===-1&&C.push(K),E)}function tg(E,C,M,U,K){switch(C){case"focusin":return Zn=Jr(Zn,E,C,M,U,K),!0;case"dragenter":return Qn=Jr(Qn,E,C,M,U,K),!0;case"mouseover":return Jn=Jr(Jn,E,C,M,U,K),!0;case"pointerover":var Q=K.pointerId;return Zr.set(Q,Jr(Zr.get(Q)||null,E,C,M,U,K)),!0;case"gotpointercapture":return Q=K.pointerId,Qr.set(Q,Jr(Qr.get(Q)||null,E,C,M,U,K)),!0}return!1}function Hd(E){var C=Rs(E.target);if(C!==null){var M=Cs(C);if(M!==null){if(C=M.tag,C===13){if(C=Id(M),C!==null){E.blockedOn=C,Wd(E.priority,function(){zd(M)});return}}else if(C===3&&M.stateNode.current.memoizedState.isDehydrated){E.blockedOn=M.tag===3?M.stateNode.containerInfo:null;return}}}E.blockedOn=null}function to(E){if(E.blockedOn!==null)return!1;for(var C=E.targetContainers;0<C.length;){var M=_l(E.domEventName,E.eventSystemFlags,C[0],E.nativeEvent);if(M===null){M=E.nativeEvent;var U=new M.constructor(M.type,M);Si=U,M.target.dispatchEvent(U),Si=null}else return C=fa(M),C!==null&&Ql(C),E.blockedOn=M,!1;C.shift()}return!0}function Xd(E,C,M){to(E)&&M.delete(C)}function eg(){Jl=!1,Zn!==null&&to(Zn)&&(Zn=null),Qn!==null&&to(Qn)&&(Qn=null),Jn!==null&&to(Jn)&&(Jn=null),Zr.forEach(Xd),Qr.forEach(Xd)}function qr(E,C){E.blockedOn===C&&(E.blockedOn=null,Jl||(Jl=!0,A.unstable_scheduleCallback(A.unstable_NormalPriority,eg)))}function _r(E){function C(K){return qr(K,E)}if(0<_a.length){qr(_a[0],E);for(var M=1;M<_a.length;M++){var U=_a[M];U.blockedOn===E&&(U.blockedOn=null)}}for(Zn!==null&&qr(Zn,E),Qn!==null&&qr(Qn,E),Jn!==null&&qr(Jn,E),Zr.forEach(C),Qr.forEach(C),M=0;M<qn.length;M++)U=qn[M],U.blockedOn===E&&(U.blockedOn=null);for(;0<qn.length&&(M=qn[0],M.blockedOn===null);)Hd(M),M.blockedOn===null&&qn.shift()}var Js=u.ReactCurrentBatchConfig,eo=!0;function ig(E,C,M,U){var K=xe,Q=Js.transition;Js.transition=null;try{xe=1,ql(E,C,M,U)}finally{xe=K,Js.transition=Q}}function ng(E,C,M,U){var K=xe,Q=Js.transition;Js.transition=null;try{xe=4,ql(E,C,M,U)}finally{xe=K,Js.transition=Q}}function ql(E,C,M,U){if(eo){var K=_l(E,C,M,U);if(K===null)mh(E,C,U,io,M),Yd(E,U);else if(tg(K,E,C,M,U))U.stopPropagation();else if(Yd(E,U),C&4&&-1<_m.indexOf(E)){for(;K!==null;){var Q=fa(K);if(Q!==null&&bd(Q),Q=_l(E,C,M,U),Q===null&&mh(E,C,U,io,M),Q===K)break;K=Q}K!==null&&U.stopPropagation()}else mh(E,C,U,null,M)}}var io=null;function _l(E,C,M,U){if(io=null,E=Gi(U),E=Rs(E),E!==null)if(C=Cs(E),C===null)E=null;else if(M=C.tag,M===13){if(E=Id(C),E!==null)return E;E=null}else if(M===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;E=null}else C!==E&&(E=null);return io=E,null}function kd(E){switch(E){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xm()){case Kl:return 1;case Bd:return 4;case ja:case km:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var _n=null,th=null,no=null;function Kd(){if(no)return no;var E,C=th,M=C.length,U,K="value"in _n?_n.value:_n.textContent,Q=K.length;for(E=0;E<M&&C[E]===K[E];E++);var et=M-E;for(U=1;U<=et&&C[M-U]===K[Q-U];U++);return no=K.slice(E,1<U?1-U:void 0)}function so(E){var C=E.keyCode;return"charCode"in E?(E=E.charCode,E===0&&C===13&&(E=13)):E=C,E===10&&(E=13),32<=E||E===13?E:0}function ro(){return!0}function $d(){return!1}function bi(E){function C(M,U,K,Q,et){this._reactName=M,this._targetInst=K,this.type=U,this.nativeEvent=Q,this.target=et,this.currentTarget=null;for(var nt in E)E.hasOwnProperty(nt)&&(M=E[nt],this[nt]=M?M(Q):Q[nt]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?ro:$d,this.isPropagationStopped=$d,this}return $(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var M=this.nativeEvent;M&&(M.preventDefault?M.preventDefault():typeof M.returnValue!="unknown"&&(M.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var M=this.nativeEvent;M&&(M.stopPropagation?M.stopPropagation():typeof M.cancelBubble!="unknown"&&(M.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),C}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(E){return E.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eh=bi(qs),ta=$({},qs,{view:0,detail:0}),sg=bi(ta),ih,nh,ea,ao=$({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(E){return E.relatedTarget===void 0?E.fromElement===E.srcElement?E.toElement:E.fromElement:E.relatedTarget},movementX:function(E){return"movementX"in E?E.movementX:(E!==ea&&(ea&&E.type==="mousemove"?(ih=E.screenX-ea.screenX,nh=E.screenY-ea.screenY):nh=ih=0,ea=E),ih)},movementY:function(E){return"movementY"in E?E.movementY:nh}}),jd=bi(ao),rg=$({},ao,{dataTransfer:0}),ag=bi(rg),og=$({},ta,{relatedTarget:0}),sh=bi(og),lg=$({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),hg=bi(lg),ug=$({},qs,{clipboardData:function(E){return"clipboardData"in E?E.clipboardData:window.clipboardData}}),fg=bi(ug),dg=$({},qs,{data:0}),Zd=bi(dg),cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mg(E){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(E):(E=pg[E])?!!C[E]:!1}function rh(){return mg}var gg=$({},ta,{key:function(E){if(E.key){var C=cg[E.key]||E.key;if(C!=="Unidentified")return C}return E.type==="keypress"?(E=so(E),E===13?"Enter":String.fromCharCode(E)):E.type==="keydown"||E.type==="keyup"?vg[E.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(E){return E.type==="keypress"?so(E):0},keyCode:function(E){return E.type==="keydown"||E.type==="keyup"?E.keyCode:0},which:function(E){return E.type==="keypress"?so(E):E.type==="keydown"||E.type==="keyup"?E.keyCode:0}}),xg=bi(gg),Eg=$({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=bi(Eg),yg=$({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),Tg=bi(yg),Sg=$({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ag=bi(Sg),Cg=$({},ao,{deltaX:function(E){return"deltaX"in E?E.deltaX:"wheelDeltaX"in E?-E.wheelDeltaX:0},deltaY:function(E){return"deltaY"in E?E.deltaY:"wheelDeltaY"in E?-E.wheelDeltaY:"wheelDelta"in E?-E.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=bi(Cg),Lg=[9,13,27,32],ah=S&&"CompositionEvent"in window,ia=null;S&&"documentMode"in document&&(ia=document.documentMode);var Pg=S&&"TextEvent"in window&&!ia,Jd=S&&(!ah||ia&&8<ia&&11>=ia),qd=String.fromCharCode(32),_d=!1;function tc(E,C){switch(E){case"keyup":return Lg.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ec(E){return E=E.detail,typeof E=="object"&&"data"in E?E.data:null}var _s=!1;function Ig(E,C){switch(E){case"compositionend":return ec(C);case"keypress":return C.which!==32?null:(_d=!0,qd);case"textInput":return E=C.data,E===qd&&_d?null:E;default:return null}}function Og(E,C){if(_s)return E==="compositionend"||!ah&&tc(E,C)?(E=Kd(),no=th=_n=null,_s=!1,E):null;switch(E){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return Jd&&C.locale!=="ko"?null:C.data;default:return null}}var Mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(E){var C=E&&E.nodeName&&E.nodeName.toLowerCase();return C==="input"?!!Mg[E.type]:C==="textarea"}function nc(E,C,M,U){Xa(U),C=fo(C,"onChange"),0<C.length&&(M=new eh("onChange","change",null,M,U),E.push({event:M,listeners:C}))}var na=null,sa=null;function Dg(E){Tc(E,0)}function oo(E){var C=sr(E);if(it(C))return E}function wg(E,C){if(E==="change")return C}var sc=!1;if(S){var oh;if(S){var lh="oninput"in document;if(!lh){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),lh=typeof rc.oninput=="function"}oh=lh}else oh=!1;sc=oh&&(!document.documentMode||9<document.documentMode)}function ac(){na&&(na.detachEvent("onpropertychange",oc),sa=na=null)}function oc(E){if(E.propertyName==="value"&&oo(sa)){var C=[];nc(C,sa,E,Gi(E)),Kr(Dg,C)}}function Fg(E,C,M){E==="focusin"?(ac(),na=C,sa=M,na.attachEvent("onpropertychange",oc)):E==="focusout"&&ac()}function Bg(E){if(E==="selectionchange"||E==="keyup"||E==="keydown")return oo(sa)}function Ng(E,C){if(E==="click")return oo(C)}function Ug(E,C){if(E==="input"||E==="change")return oo(C)}function Gg(E,C){return E===C&&(E!==0||1/E===1/C)||E!==E&&C!==C}var nn=typeof Object.is=="function"?Object.is:Gg;function ra(E,C){if(nn(E,C))return!0;if(typeof E!="object"||E===null||typeof C!="object"||C===null)return!1;var M=Object.keys(E),U=Object.keys(C);if(M.length!==U.length)return!1;for(U=0;U<M.length;U++){var K=M[U];if(!t.call(C,K)||!nn(E[K],C[K]))return!1}return!0}function lc(E){for(;E&&E.firstChild;)E=E.firstChild;return E}function hc(E,C){var M=lc(E);E=0;for(var U;M;){if(M.nodeType===3){if(U=E+M.textContent.length,E<=C&&U>=C)return{node:M,offset:C-E};E=U}t:{for(;M;){if(M.nextSibling){M=M.nextSibling;break t}M=M.parentNode}M=void 0}M=lc(M)}}function uc(E,C){return E&&C?E===C?!0:E&&E.nodeType===3?!1:C&&C.nodeType===3?uc(E,C.parentNode):"contains"in E?E.contains(C):E.compareDocumentPosition?!!(E.compareDocumentPosition(C)&16):!1:!1}function fc(){for(var E=window,C=st();C instanceof E.HTMLIFrameElement;){try{var M=typeof C.contentWindow.location.href=="string"}catch{M=!1}if(M)E=C.contentWindow;else break;C=st(E.document)}return C}function hh(E){var C=E&&E.nodeName&&E.nodeName.toLowerCase();return C&&(C==="input"&&(E.type==="text"||E.type==="search"||E.type==="tel"||E.type==="url"||E.type==="password")||C==="textarea"||E.contentEditable==="true")}function bg(E){var C=fc(),M=E.focusedElem,U=E.selectionRange;if(C!==M&&M&&M.ownerDocument&&uc(M.ownerDocument.documentElement,M)){if(U!==null&&hh(M)){if(C=U.start,E=U.end,E===void 0&&(E=C),"selectionStart"in M)M.selectionStart=C,M.selectionEnd=Math.min(E,M.value.length);else if(E=(C=M.ownerDocument||document)&&C.defaultView||window,E.getSelection){E=E.getSelection();var K=M.textContent.length,Q=Math.min(U.start,K);U=U.end===void 0?Q:Math.min(U.end,K),!E.extend&&Q>U&&(K=U,U=Q,Q=K),K=hc(M,Q);var et=hc(M,U);K&&et&&(E.rangeCount!==1||E.anchorNode!==K.node||E.anchorOffset!==K.offset||E.focusNode!==et.node||E.focusOffset!==et.offset)&&(C=C.createRange(),C.setStart(K.node,K.offset),E.removeAllRanges(),Q>U?(E.addRange(C),E.extend(et.node,et.offset)):(C.setEnd(et.node,et.offset),E.addRange(C)))}}for(C=[],E=M;E=E.parentNode;)E.nodeType===1&&C.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<C.length;M++)E=C[M],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}var zg=S&&"documentMode"in document&&11>=document.documentMode,tr=null,uh=null,aa=null,fh=!1;function dc(E,C,M){var U=M.window===M?M.document:M.nodeType===9?M:M.ownerDocument;fh||tr==null||tr!==st(U)||(U=tr,"selectionStart"in U&&hh(U)?U={start:U.selectionStart,end:U.selectionEnd}:(U=(U.ownerDocument&&U.ownerDocument.defaultView||window).getSelection(),U={anchorNode:U.anchorNode,anchorOffset:U.anchorOffset,focusNode:U.focusNode,focusOffset:U.focusOffset}),aa&&ra(aa,U)||(aa=U,U=fo(uh,"onSelect"),0<U.length&&(C=new eh("onSelect","select",null,C,M),E.push({event:C,listeners:U}),C.target=tr)))}function lo(E,C){var M={};return M[E.toLowerCase()]=C.toLowerCase(),M["Webkit"+E]="webkit"+C,M["Moz"+E]="moz"+C,M}var er={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionend:lo("Transition","TransitionEnd")},dh={},cc={};S&&(cc=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function ho(E){if(dh[E])return dh[E];if(!er[E])return E;var C=er[E],M;for(M in C)if(C.hasOwnProperty(M)&&M in cc)return dh[E]=C[M];return E}var vc=ho("animationend"),pc=ho("animationiteration"),mc=ho("animationstart"),gc=ho("transitionend"),xc=new Map,Ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(E,C){xc.set(E,C),H(C,[E])}for(var ch=0;ch<Ec.length;ch++){var vh=Ec[ch],Vg=vh.toLowerCase(),Wg=vh[0].toUpperCase()+vh.slice(1);ts(Vg,"on"+Wg)}ts(vc,"onAnimationEnd"),ts(pc,"onAnimationIteration"),ts(mc,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(gc,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),H("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),H("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),H("onBeforeInput",["compositionend","keypress","textInput","paste"]),H("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function yc(E,C,M){var U=E.type||"unknown-event";E.currentTarget=M,Vm(U,C,void 0,E),E.currentTarget=null}function Tc(E,C){C=(C&4)!==0;for(var M=0;M<E.length;M++){var U=E[M],K=U.event;U=U.listeners;t:{var Q=void 0;if(C)for(var et=U.length-1;0<=et;et--){var nt=U[et],at=nt.instance,vt=nt.currentTarget;if(nt=nt.listener,at!==Q&&K.isPropagationStopped())break t;yc(K,nt,vt),Q=at}else for(et=0;et<U.length;et++){if(nt=U[et],at=nt.instance,vt=nt.currentTarget,nt=nt.listener,at!==Q&&K.isPropagationStopped())break t;yc(K,nt,vt),Q=at}}}if($a)throw E=kl,$a=!1,kl=null,E}function Le(E,C){var M=C[Sh];M===void 0&&(M=C[Sh]=new Set);var U=E+"__bubble";M.has(U)||(Sc(C,E,2,!1),M.add(U))}function ph(E,C,M){var U=0;C&&(U|=4),Sc(M,E,U,C)}var uo="_reactListening"+Math.random().toString(36).slice(2);function la(E){if(!E[uo]){E[uo]=!0,F.forEach(function(M){M!=="selectionchange"&&(Yg.has(M)||ph(M,!1,E),ph(M,!0,E))});var C=E.nodeType===9?E:E.ownerDocument;C===null||C[uo]||(C[uo]=!0,ph("selectionchange",!1,C))}}function Sc(E,C,M,U){switch(kd(C)){case 1:var K=ig;break;case 4:K=ng;break;default:K=ql}M=K.bind(null,C,M,E),K=void 0,!Zs||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(K=!0),U?K!==void 0?E.addEventListener(C,M,{capture:!0,passive:K}):E.addEventListener(C,M,!0):K!==void 0?E.addEventListener(C,M,{passive:K}):E.addEventListener(C,M,!1)}function mh(E,C,M,U,K){var Q=U;if(!(C&1)&&!(C&2)&&U!==null)t:for(;;){if(U===null)return;var et=U.tag;if(et===3||et===4){var nt=U.stateNode.containerInfo;if(nt===K||nt.nodeType===8&&nt.parentNode===K)break;if(et===4)for(et=U.return;et!==null;){var at=et.tag;if((at===3||at===4)&&(at=et.stateNode.containerInfo,at===K||at.nodeType===8&&at.parentNode===K))return;et=et.return}for(;nt!==null;){if(et=Rs(nt),et===null)return;if(at=et.tag,at===5||at===6){U=Q=et;continue t}nt=nt.parentNode}}U=U.return}Kr(function(){var vt=Q,St=Gi(M),At=[];t:{var Tt=xc.get(E);if(Tt!==void 0){var Nt=eh,zt=E;switch(E){case"keypress":if(so(M)===0)break t;case"keydown":case"keyup":Nt=xg;break;case"focusin":zt="focus",Nt=sh;break;case"focusout":zt="blur",Nt=sh;break;case"beforeblur":case"afterblur":Nt=sh;break;case"click":if(M.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=Tg;break;case vc:case pc:case mc:Nt=hg;break;case gc:Nt=Ag;break;case"scroll":Nt=sg;break;case"wheel":Nt=Rg;break;case"copy":case"cut":case"paste":Nt=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=Qd}var Vt=(C&4)!==0,Ye=!Vt&&E==="scroll",ut=Vt?Tt!==null?Tt+"Capture":null:Tt;Vt=[];for(var lt=vt,dt;lt!==null;){dt=lt;var Rt=dt.stateNode;if(dt.tag===5&&Rt!==null&&(dt=Rt,ut!==null&&(Rt=As(lt,ut),Rt!=null&&Vt.push(ha(lt,Rt,dt)))),Ye)break;lt=lt.return}0<Vt.length&&(Tt=new Nt(Tt,zt,null,M,St),At.push({event:Tt,listeners:Vt}))}}if(!(C&7)){t:{if(Tt=E==="mouseover"||E==="pointerover",Nt=E==="mouseout"||E==="pointerout",Tt&&M!==Si&&(zt=M.relatedTarget||M.fromElement)&&(Rs(zt)||zt[In]))break t;if((Nt||Tt)&&(Tt=St.window===St?St:(Tt=St.ownerDocument)?Tt.defaultView||Tt.parentWindow:window,Nt?(zt=M.relatedTarget||M.toElement,Nt=vt,zt=zt?Rs(zt):null,zt!==null&&(Ye=Cs(zt),zt!==Ye||zt.tag!==5&&zt.tag!==6)&&(zt=null)):(Nt=null,zt=vt),Nt!==zt)){if(Vt=jd,Rt="onMouseLeave",ut="onMouseEnter",lt="mouse",(E==="pointerout"||E==="pointerover")&&(Vt=Qd,Rt="onPointerLeave",ut="onPointerEnter",lt="pointer"),Ye=Nt==null?Tt:sr(Nt),dt=zt==null?Tt:sr(zt),Tt=new Vt(Rt,lt+"leave",Nt,M,St),Tt.target=Ye,Tt.relatedTarget=dt,Rt=null,Rs(St)===vt&&(Vt=new Vt(ut,lt+"enter",zt,M,St),Vt.target=dt,Vt.relatedTarget=Ye,Rt=Vt),Ye=Rt,Nt&&zt)e:{for(Vt=Nt,ut=zt,lt=0,dt=Vt;dt;dt=ir(dt))lt++;for(dt=0,Rt=ut;Rt;Rt=ir(Rt))dt++;for(;0<lt-dt;)Vt=ir(Vt),lt--;for(;0<dt-lt;)ut=ir(ut),dt--;for(;lt--;){if(Vt===ut||ut!==null&&Vt===ut.alternate)break e;Vt=ir(Vt),ut=ir(ut)}Vt=null}else Vt=null;Nt!==null&&Ac(At,Tt,Nt,Vt,!1),zt!==null&&Ye!==null&&Ac(At,Ye,zt,Vt,!0)}}t:{if(Tt=vt?sr(vt):window,Nt=Tt.nodeName&&Tt.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Tt.type==="file")var Wt=wg;else if(ic(Tt))if(sc)Wt=Ug;else{Wt=Bg;var jt=Fg}else(Nt=Tt.nodeName)&&Nt.toLowerCase()==="input"&&(Tt.type==="checkbox"||Tt.type==="radio")&&(Wt=Ng);if(Wt&&(Wt=Wt(E,vt))){nc(At,Wt,M,St);break t}jt&&jt(E,Tt,vt),E==="focusout"&&(jt=Tt._wrapperState)&&jt.controlled&&Tt.type==="number"&&Mt(Tt,"number",Tt.value)}switch(jt=vt?sr(vt):window,E){case"focusin":(ic(jt)||jt.contentEditable==="true")&&(tr=jt,uh=vt,aa=null);break;case"focusout":aa=uh=tr=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,dc(At,M,St);break;case"selectionchange":if(zg)break;case"keydown":case"keyup":dc(At,M,St)}var Zt;if(ah)t:{switch(E){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else _s?tc(E,M)&&(_t="onCompositionEnd"):E==="keydown"&&M.keyCode===229&&(_t="onCompositionStart");_t&&(Jd&&M.locale!=="ko"&&(_s||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&_s&&(Zt=Kd()):(_n=St,th="value"in _n?_n.value:_n.textContent,_s=!0)),jt=fo(vt,_t),0<jt.length&&(_t=new Zd(_t,E,null,M,St),At.push({event:_t,listeners:jt}),Zt?_t.data=Zt:(Zt=ec(M),Zt!==null&&(_t.data=Zt)))),(Zt=Pg?Ig(E,M):Og(E,M))&&(vt=fo(vt,"onBeforeInput"),0<vt.length&&(St=new Zd("onBeforeInput","beforeinput",null,M,St),At.push({event:St,listeners:vt}),St.data=Zt))}Tc(At,C)})}function ha(E,C,M){return{instance:E,listener:C,currentTarget:M}}function fo(E,C){for(var M=C+"Capture",U=[];E!==null;){var K=E,Q=K.stateNode;K.tag===5&&Q!==null&&(K=Q,Q=As(E,M),Q!=null&&U.unshift(ha(E,Q,K)),Q=As(E,C),Q!=null&&U.push(ha(E,Q,K))),E=E.return}return U}function ir(E){if(E===null)return null;do E=E.return;while(E&&E.tag!==5);return E||null}function Ac(E,C,M,U,K){for(var Q=C._reactName,et=[];M!==null&&M!==U;){var nt=M,at=nt.alternate,vt=nt.stateNode;if(at!==null&&at===U)break;nt.tag===5&&vt!==null&&(nt=vt,K?(at=As(M,Q),at!=null&&et.unshift(ha(M,at,nt))):K||(at=As(M,Q),at!=null&&et.push(ha(M,at,nt)))),M=M.return}et.length!==0&&E.push({event:C,listeners:et})}var Hg=/\r\n?/g,Xg=/\u0000|\uFFFD/g;function Cc(E){return(typeof E=="string"?E:""+E).replace(Hg,`
`).replace(Xg,"")}function co(E,C,M){if(C=Cc(C),Cc(E)!==C&&M)throw Error(I(425))}function vo(){}var gh=null,xh=null;function Eh(E,C){return E==="textarea"||E==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,kg=typeof clearTimeout=="function"?clearTimeout:void 0,Rc=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Rc<"u"?function(E){return Rc.resolve(null).then(E).catch($g)}:yh;function $g(E){setTimeout(function(){throw E})}function Th(E,C){var M=C,U=0;do{var K=M.nextSibling;if(E.removeChild(M),K&&K.nodeType===8)if(M=K.data,M==="/$"){if(U===0){E.removeChild(K),_r(C);return}U--}else M!=="$"&&M!=="$?"&&M!=="$!"||U++;M=K}while(M);_r(C)}function es(E){for(;E!=null;E=E.nextSibling){var C=E.nodeType;if(C===1||C===3)break;if(C===8){if(C=E.data,C==="$"||C==="$!"||C==="$?")break;if(C==="/$")return null}}return E}function Lc(E){E=E.previousSibling;for(var C=0;E;){if(E.nodeType===8){var M=E.data;if(M==="$"||M==="$!"||M==="$?"){if(C===0)return E;C--}else M==="/$"&&C++}E=E.previousSibling}return null}var nr=Math.random().toString(36).slice(2),xn="__reactFiber$"+nr,ua="__reactProps$"+nr,In="__reactContainer$"+nr,Sh="__reactEvents$"+nr,jg="__reactListeners$"+nr,Zg="__reactHandles$"+nr;function Rs(E){var C=E[xn];if(C)return C;for(var M=E.parentNode;M;){if(C=M[In]||M[xn]){if(M=C.alternate,C.child!==null||M!==null&&M.child!==null)for(E=Lc(E);E!==null;){if(M=E[xn])return M;E=Lc(E)}return C}E=M,M=E.parentNode}return null}function fa(E){return E=E[xn]||E[In],!E||E.tag!==5&&E.tag!==6&&E.tag!==13&&E.tag!==3?null:E}function sr(E){if(E.tag===5||E.tag===6)return E.stateNode;throw Error(I(33))}function po(E){return E[ua]||null}var Ah=[],rr=-1;function is(E){return{current:E}}function Pe(E){0>rr||(E.current=Ah[rr],Ah[rr]=null,rr--)}function Ce(E,C){rr++,Ah[rr]=E.current,E.current=C}var ns={},hi=is(ns),Ci=is(!1),Ls=ns;function ar(E,C){var M=E.type.contextTypes;if(!M)return ns;var U=E.stateNode;if(U&&U.__reactInternalMemoizedUnmaskedChildContext===C)return U.__reactInternalMemoizedMaskedChildContext;var K={},Q;for(Q in M)K[Q]=C[Q];return U&&(E=E.stateNode,E.__reactInternalMemoizedUnmaskedChildContext=C,E.__reactInternalMemoizedMaskedChildContext=K),K}function Ri(E){return E=E.childContextTypes,E!=null}function mo(){Pe(Ci),Pe(hi)}function Pc(E,C,M){if(hi.current!==ns)throw Error(I(168));Ce(hi,C),Ce(Ci,M)}function Ic(E,C,M){var U=E.stateNode;if(C=C.childContextTypes,typeof U.getChildContext!="function")return M;U=U.getChildContext();for(var K in U)if(!(K in C))throw Error(I(108,Y(E)||"Unknown",K));return $({},M,U)}function go(E){return E=(E=E.stateNode)&&E.__reactInternalMemoizedMergedChildContext||ns,Ls=hi.current,Ce(hi,E),Ce(Ci,Ci.current),!0}function Oc(E,C,M){var U=E.stateNode;if(!U)throw Error(I(169));M?(E=Ic(E,C,Ls),U.__reactInternalMemoizedMergedChildContext=E,Pe(Ci),Pe(hi),Ce(hi,E)):Pe(Ci),Ce(Ci,M)}var On=null,xo=!1,Ch=!1;function Mc(E){On===null?On=[E]:On.push(E)}function Qg(E){xo=!0,Mc(E)}function ss(){if(!Ch&&On!==null){Ch=!0;var E=0,C=xe;try{var M=On;for(xe=1;E<M.length;E++){var U=M[E];do U=U(!0);while(U!==null)}On=null,xo=!1}catch(K){throw On!==null&&(On=On.slice(E+1)),wd(Kl,ss),K}finally{xe=C,Ch=!1}}return null}var or=[],lr=0,Eo=null,yo=0,ki=[],Ki=0,Ps=null,Mn=1,Dn="";function Is(E,C){or[lr++]=yo,or[lr++]=Eo,Eo=E,yo=C}function Dc(E,C,M){ki[Ki++]=Mn,ki[Ki++]=Dn,ki[Ki++]=Ps,Ps=E;var U=Mn;E=Dn;var K=32-en(U)-1;U&=~(1<<K),M+=1;var Q=32-en(C)+K;if(30<Q){var et=K-K%5;Q=(U&(1<<et)-1).toString(32),U>>=et,K-=et,Mn=1<<32-en(C)+K|M<<K|U,Dn=Q+E}else Mn=1<<Q|M<<K|U,Dn=E}function Rh(E){E.return!==null&&(Is(E,1),Dc(E,1,0))}function Lh(E){for(;E===Eo;)Eo=or[--lr],or[lr]=null,yo=or[--lr],or[lr]=null;for(;E===Ps;)Ps=ki[--Ki],ki[Ki]=null,Dn=ki[--Ki],ki[Ki]=null,Mn=ki[--Ki],ki[Ki]=null}var zi=null,Vi=null,Oe=!1,sn=null;function wc(E,C){var M=Qi(5,null,null,0);M.elementType="DELETED",M.stateNode=C,M.return=E,C=E.deletions,C===null?(E.deletions=[M],E.flags|=16):C.push(M)}function Fc(E,C){switch(E.tag){case 5:var M=E.type;return C=C.nodeType!==1||M.toLowerCase()!==C.nodeName.toLowerCase()?null:C,C!==null?(E.stateNode=C,zi=E,Vi=es(C.firstChild),!0):!1;case 6:return C=E.pendingProps===""||C.nodeType!==3?null:C,C!==null?(E.stateNode=C,zi=E,Vi=null,!0):!1;case 13:return C=C.nodeType!==8?null:C,C!==null?(M=Ps!==null?{id:Mn,overflow:Dn}:null,E.memoizedState={dehydrated:C,treeContext:M,retryLane:1073741824},M=Qi(18,null,null,0),M.stateNode=C,M.return=E,E.child=M,zi=E,Vi=null,!0):!1;default:return!1}}function Ph(E){return(E.mode&1)!==0&&(E.flags&128)===0}function Ih(E){if(Oe){var C=Vi;if(C){var M=C;if(!Fc(E,C)){if(Ph(E))throw Error(I(418));C=es(M.nextSibling);var U=zi;C&&Fc(E,C)?wc(U,M):(E.flags=E.flags&-4097|2,Oe=!1,zi=E)}}else{if(Ph(E))throw Error(I(418));E.flags=E.flags&-4097|2,Oe=!1,zi=E}}}function Bc(E){for(E=E.return;E!==null&&E.tag!==5&&E.tag!==3&&E.tag!==13;)E=E.return;zi=E}function To(E){if(E!==zi)return!1;if(!Oe)return Bc(E),Oe=!0,!1;var C;if((C=E.tag!==3)&&!(C=E.tag!==5)&&(C=E.type,C=C!=="head"&&C!=="body"&&!Eh(E.type,E.memoizedProps)),C&&(C=Vi)){if(Ph(E))throw Nc(),Error(I(418));for(;C;)wc(E,C),C=es(C.nextSibling)}if(Bc(E),E.tag===13){if(E=E.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(I(317));t:{for(E=E.nextSibling,C=0;E;){if(E.nodeType===8){var M=E.data;if(M==="/$"){if(C===0){Vi=es(E.nextSibling);break t}C--}else M!=="$"&&M!=="$!"&&M!=="$?"||C++}E=E.nextSibling}Vi=null}}else Vi=zi?es(E.stateNode.nextSibling):null;return!0}function Nc(){for(var E=Vi;E;)E=es(E.nextSibling)}function hr(){Vi=zi=null,Oe=!1}function Oh(E){sn===null?sn=[E]:sn.push(E)}var Jg=u.ReactCurrentBatchConfig;function da(E,C,M){if(E=M.ref,E!==null&&typeof E!="function"&&typeof E!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(I(309));var U=M.stateNode}if(!U)throw Error(I(147,E));var K=U,Q=""+E;return C!==null&&C.ref!==null&&typeof C.ref=="function"&&C.ref._stringRef===Q?C.ref:(C=function(et){var nt=K.refs;et===null?delete nt[Q]:nt[Q]=et},C._stringRef=Q,C)}if(typeof E!="string")throw Error(I(284));if(!M._owner)throw Error(I(290,E))}return E}function So(E,C){throw E=Object.prototype.toString.call(C),Error(I(31,E==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":E))}function Uc(E){var C=E._init;return C(E._payload)}function Gc(E){function C(ut,lt){if(E){var dt=ut.deletions;dt===null?(ut.deletions=[lt],ut.flags|=16):dt.push(lt)}}function M(ut,lt){if(!E)return null;for(;lt!==null;)C(ut,lt),lt=lt.sibling;return null}function U(ut,lt){for(ut=new Map;lt!==null;)lt.key!==null?ut.set(lt.key,lt):ut.set(lt.index,lt),lt=lt.sibling;return ut}function K(ut,lt){return ut=ds(ut,lt),ut.index=0,ut.sibling=null,ut}function Q(ut,lt,dt){return ut.index=dt,E?(dt=ut.alternate,dt!==null?(dt=dt.index,dt<lt?(ut.flags|=2,lt):dt):(ut.flags|=2,lt)):(ut.flags|=1048576,lt)}function et(ut){return E&&ut.alternate===null&&(ut.flags|=2),ut}function nt(ut,lt,dt,Rt){return lt===null||lt.tag!==6?(lt=yu(dt,ut.mode,Rt),lt.return=ut,lt):(lt=K(lt,dt),lt.return=ut,lt)}function at(ut,lt,dt,Rt){var Wt=dt.type;return Wt===g?St(ut,lt,dt.props.children,Rt,dt.key):lt!==null&&(lt.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===B&&Uc(Wt)===lt.type)?(Rt=K(lt,dt.props),Rt.ref=da(ut,lt,dt),Rt.return=ut,Rt):(Rt=Ko(dt.type,dt.key,dt.props,null,ut.mode,Rt),Rt.ref=da(ut,lt,dt),Rt.return=ut,Rt)}function vt(ut,lt,dt,Rt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==dt.containerInfo||lt.stateNode.implementation!==dt.implementation?(lt=Tu(dt,ut.mode,Rt),lt.return=ut,lt):(lt=K(lt,dt.children||[]),lt.return=ut,lt)}function St(ut,lt,dt,Rt,Wt){return lt===null||lt.tag!==7?(lt=Us(dt,ut.mode,Rt,Wt),lt.return=ut,lt):(lt=K(lt,dt),lt.return=ut,lt)}function At(ut,lt,dt){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return lt=yu(""+lt,ut.mode,dt),lt.return=ut,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case d:return dt=Ko(lt.type,lt.key,lt.props,null,ut.mode,dt),dt.ref=da(ut,null,lt),dt.return=ut,dt;case v:return lt=Tu(lt,ut.mode,dt),lt.return=ut,lt;case B:var Rt=lt._init;return At(ut,Rt(lt._payload),dt)}if(Dt(lt)||k(lt))return lt=Us(lt,ut.mode,dt,null),lt.return=ut,lt;So(ut,lt)}return null}function Tt(ut,lt,dt,Rt){var Wt=lt!==null?lt.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number")return Wt!==null?null:nt(ut,lt,""+dt,Rt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case d:return dt.key===Wt?at(ut,lt,dt,Rt):null;case v:return dt.key===Wt?vt(ut,lt,dt,Rt):null;case B:return Wt=dt._init,Tt(ut,lt,Wt(dt._payload),Rt)}if(Dt(dt)||k(dt))return Wt!==null?null:St(ut,lt,dt,Rt,null);So(ut,dt)}return null}function Nt(ut,lt,dt,Rt,Wt){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return ut=ut.get(dt)||null,nt(lt,ut,""+Rt,Wt);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case d:return ut=ut.get(Rt.key===null?dt:Rt.key)||null,at(lt,ut,Rt,Wt);case v:return ut=ut.get(Rt.key===null?dt:Rt.key)||null,vt(lt,ut,Rt,Wt);case B:var jt=Rt._init;return Nt(ut,lt,dt,jt(Rt._payload),Wt)}if(Dt(Rt)||k(Rt))return ut=ut.get(dt)||null,St(lt,ut,Rt,Wt,null);So(lt,Rt)}return null}function zt(ut,lt,dt,Rt){for(var Wt=null,jt=null,Zt=lt,_t=lt=0,_e=null;Zt!==null&&_t<dt.length;_t++){Zt.index>_t?(_e=Zt,Zt=null):_e=Zt.sibling;var ve=Tt(ut,Zt,dt[_t],Rt);if(ve===null){Zt===null&&(Zt=_e);break}E&&Zt&&ve.alternate===null&&C(ut,Zt),lt=Q(ve,lt,_t),jt===null?Wt=ve:jt.sibling=ve,jt=ve,Zt=_e}if(_t===dt.length)return M(ut,Zt),Oe&&Is(ut,_t),Wt;if(Zt===null){for(;_t<dt.length;_t++)Zt=At(ut,dt[_t],Rt),Zt!==null&&(lt=Q(Zt,lt,_t),jt===null?Wt=Zt:jt.sibling=Zt,jt=Zt);return Oe&&Is(ut,_t),Wt}for(Zt=U(ut,Zt);_t<dt.length;_t++)_e=Nt(Zt,ut,_t,dt[_t],Rt),_e!==null&&(E&&_e.alternate!==null&&Zt.delete(_e.key===null?_t:_e.key),lt=Q(_e,lt,_t),jt===null?Wt=_e:jt.sibling=_e,jt=_e);return E&&Zt.forEach(function(cs){return C(ut,cs)}),Oe&&Is(ut,_t),Wt}function Vt(ut,lt,dt,Rt){var Wt=k(dt);if(typeof Wt!="function")throw Error(I(150));if(dt=Wt.call(dt),dt==null)throw Error(I(151));for(var jt=Wt=null,Zt=lt,_t=lt=0,_e=null,ve=dt.next();Zt!==null&&!ve.done;_t++,ve=dt.next()){Zt.index>_t?(_e=Zt,Zt=null):_e=Zt.sibling;var cs=Tt(ut,Zt,ve.value,Rt);if(cs===null){Zt===null&&(Zt=_e);break}E&&Zt&&cs.alternate===null&&C(ut,Zt),lt=Q(cs,lt,_t),jt===null?Wt=cs:jt.sibling=cs,jt=cs,Zt=_e}if(ve.done)return M(ut,Zt),Oe&&Is(ut,_t),Wt;if(Zt===null){for(;!ve.done;_t++,ve=dt.next())ve=At(ut,ve.value,Rt),ve!==null&&(lt=Q(ve,lt,_t),jt===null?Wt=ve:jt.sibling=ve,jt=ve);return Oe&&Is(ut,_t),Wt}for(Zt=U(ut,Zt);!ve.done;_t++,ve=dt.next())ve=Nt(Zt,ut,_t,ve.value,Rt),ve!==null&&(E&&ve.alternate!==null&&Zt.delete(ve.key===null?_t:ve.key),lt=Q(ve,lt,_t),jt===null?Wt=ve:jt.sibling=ve,jt=ve);return E&&Zt.forEach(function(Mx){return C(ut,Mx)}),Oe&&Is(ut,_t),Wt}function Ye(ut,lt,dt,Rt){if(typeof dt=="object"&&dt!==null&&dt.type===g&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case d:t:{for(var Wt=dt.key,jt=lt;jt!==null;){if(jt.key===Wt){if(Wt=dt.type,Wt===g){if(jt.tag===7){M(ut,jt.sibling),lt=K(jt,dt.props.children),lt.return=ut,ut=lt;break t}}else if(jt.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===B&&Uc(Wt)===jt.type){M(ut,jt.sibling),lt=K(jt,dt.props),lt.ref=da(ut,jt,dt),lt.return=ut,ut=lt;break t}M(ut,jt);break}else C(ut,jt);jt=jt.sibling}dt.type===g?(lt=Us(dt.props.children,ut.mode,Rt,dt.key),lt.return=ut,ut=lt):(Rt=Ko(dt.type,dt.key,dt.props,null,ut.mode,Rt),Rt.ref=da(ut,lt,dt),Rt.return=ut,ut=Rt)}return et(ut);case v:t:{for(jt=dt.key;lt!==null;){if(lt.key===jt)if(lt.tag===4&&lt.stateNode.containerInfo===dt.containerInfo&&lt.stateNode.implementation===dt.implementation){M(ut,lt.sibling),lt=K(lt,dt.children||[]),lt.return=ut,ut=lt;break t}else{M(ut,lt);break}else C(ut,lt);lt=lt.sibling}lt=Tu(dt,ut.mode,Rt),lt.return=ut,ut=lt}return et(ut);case B:return jt=dt._init,Ye(ut,lt,jt(dt._payload),Rt)}if(Dt(dt))return zt(ut,lt,dt,Rt);if(k(dt))return Vt(ut,lt,dt,Rt);So(ut,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"?(dt=""+dt,lt!==null&&lt.tag===6?(M(ut,lt.sibling),lt=K(lt,dt),lt.return=ut,ut=lt):(M(ut,lt),lt=yu(dt,ut.mode,Rt),lt.return=ut,ut=lt),et(ut)):M(ut,lt)}return Ye}var ur=Gc(!0),bc=Gc(!1),Ao=is(null),Co=null,fr=null,Mh=null;function Dh(){Mh=fr=Co=null}function wh(E){var C=Ao.current;Pe(Ao),E._currentValue=C}function Fh(E,C,M){for(;E!==null;){var U=E.alternate;if((E.childLanes&C)!==C?(E.childLanes|=C,U!==null&&(U.childLanes|=C)):U!==null&&(U.childLanes&C)!==C&&(U.childLanes|=C),E===M)break;E=E.return}}function dr(E,C){Co=E,Mh=fr=null,E=E.dependencies,E!==null&&E.firstContext!==null&&(E.lanes&C&&(Li=!0),E.firstContext=null)}function $i(E){var C=E._currentValue;if(Mh!==E)if(E={context:E,memoizedValue:C,next:null},fr===null){if(Co===null)throw Error(I(308));fr=E,Co.dependencies={lanes:0,firstContext:E}}else fr=fr.next=E;return C}var Os=null;function Bh(E){Os===null?Os=[E]:Os.push(E)}function zc(E,C,M,U){var K=C.interleaved;return K===null?(M.next=M,Bh(C)):(M.next=K.next,K.next=M),C.interleaved=M,wn(E,U)}function wn(E,C){E.lanes|=C;var M=E.alternate;for(M!==null&&(M.lanes|=C),M=E,E=E.return;E!==null;)E.childLanes|=C,M=E.alternate,M!==null&&(M.childLanes|=C),M=E,E=E.return;return M.tag===3?M.stateNode:null}var rs=!1;function Nh(E){E.updateQueue={baseState:E.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vc(E,C){E=E.updateQueue,C.updateQueue===E&&(C.updateQueue={baseState:E.baseState,firstBaseUpdate:E.firstBaseUpdate,lastBaseUpdate:E.lastBaseUpdate,shared:E.shared,effects:E.effects})}function Fn(E,C){return{eventTime:E,lane:C,tag:0,payload:null,callback:null,next:null}}function as(E,C,M){var U=E.updateQueue;if(U===null)return null;if(U=U.shared,ce&2){var K=U.pending;return K===null?C.next=C:(C.next=K.next,K.next=C),U.pending=C,wn(E,M)}return K=U.interleaved,K===null?(C.next=C,Bh(U)):(C.next=K.next,K.next=C),U.interleaved=C,wn(E,M)}function Ro(E,C,M){if(C=C.updateQueue,C!==null&&(C=C.shared,(M&4194240)!==0)){var U=C.lanes;U&=E.pendingLanes,M|=U,C.lanes=M,Zl(E,M)}}function Wc(E,C){var M=E.updateQueue,U=E.alternate;if(U!==null&&(U=U.updateQueue,M===U)){var K=null,Q=null;if(M=M.firstBaseUpdate,M!==null){do{var et={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};Q===null?K=Q=et:Q=Q.next=et,M=M.next}while(M!==null);Q===null?K=Q=C:Q=Q.next=C}else K=Q=C;M={baseState:U.baseState,firstBaseUpdate:K,lastBaseUpdate:Q,shared:U.shared,effects:U.effects},E.updateQueue=M;return}E=M.lastBaseUpdate,E===null?M.firstBaseUpdate=C:E.next=C,M.lastBaseUpdate=C}function Lo(E,C,M,U){var K=E.updateQueue;rs=!1;var Q=K.firstBaseUpdate,et=K.lastBaseUpdate,nt=K.shared.pending;if(nt!==null){K.shared.pending=null;var at=nt,vt=at.next;at.next=null,et===null?Q=vt:et.next=vt,et=at;var St=E.alternate;St!==null&&(St=St.updateQueue,nt=St.lastBaseUpdate,nt!==et&&(nt===null?St.firstBaseUpdate=vt:nt.next=vt,St.lastBaseUpdate=at))}if(Q!==null){var At=K.baseState;et=0,St=vt=at=null,nt=Q;do{var Tt=nt.lane,Nt=nt.eventTime;if((U&Tt)===Tt){St!==null&&(St=St.next={eventTime:Nt,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});t:{var zt=E,Vt=nt;switch(Tt=C,Nt=M,Vt.tag){case 1:if(zt=Vt.payload,typeof zt=="function"){At=zt.call(Nt,At,Tt);break t}At=zt;break t;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Vt.payload,Tt=typeof zt=="function"?zt.call(Nt,At,Tt):zt,Tt==null)break t;At=$({},At,Tt);break t;case 2:rs=!0}}nt.callback!==null&&nt.lane!==0&&(E.flags|=64,Tt=K.effects,Tt===null?K.effects=[nt]:Tt.push(nt))}else Nt={eventTime:Nt,lane:Tt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},St===null?(vt=St=Nt,at=At):St=St.next=Nt,et|=Tt;if(nt=nt.next,nt===null){if(nt=K.shared.pending,nt===null)break;Tt=nt,nt=Tt.next,Tt.next=null,K.lastBaseUpdate=Tt,K.shared.pending=null}}while(1);if(St===null&&(at=At),K.baseState=at,K.firstBaseUpdate=vt,K.lastBaseUpdate=St,C=K.shared.interleaved,C!==null){K=C;do et|=K.lane,K=K.next;while(K!==C)}else Q===null&&(K.shared.lanes=0);ws|=et,E.lanes=et,E.memoizedState=At}}function Yc(E,C,M){if(E=C.effects,C.effects=null,E!==null)for(C=0;C<E.length;C++){var U=E[C],K=U.callback;if(K!==null){if(U.callback=null,U=M,typeof K!="function")throw Error(I(191,K));K.call(U)}}}var ca={},En=is(ca),va=is(ca),pa=is(ca);function Ms(E){if(E===ca)throw Error(I(174));return E}function Uh(E,C){switch(Ce(pa,C),Ce(va,E),Ce(En,ca),E=C.nodeType,E){case 9:case 11:C=(C=C.documentElement)?C.namespaceURI:fe(null,"");break;default:E=E===8?C.parentNode:C,C=E.namespaceURI||null,E=E.tagName,C=fe(C,E)}Pe(En),Ce(En,C)}function cr(){Pe(En),Pe(va),Pe(pa)}function Hc(E){Ms(pa.current);var C=Ms(En.current),M=fe(C,E.type);C!==M&&(Ce(va,E),Ce(En,M))}function Gh(E){va.current===E&&(Pe(En),Pe(va))}var Fe=is(0);function Po(E){for(var C=E;C!==null;){if(C.tag===13){var M=C.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||M.data==="$?"||M.data==="$!"))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if(C.flags&128)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===E)break;for(;C.sibling===null;){if(C.return===null||C.return===E)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var bh=[];function zh(){for(var E=0;E<bh.length;E++)bh[E]._workInProgressVersionPrimary=null;bh.length=0}var Io=u.ReactCurrentDispatcher,Vh=u.ReactCurrentBatchConfig,Ds=0,Be=null,je=null,Je=null,Oo=!1,ma=!1,ga=0,qg=0;function ui(){throw Error(I(321))}function Wh(E,C){if(C===null)return!1;for(var M=0;M<C.length&&M<E.length;M++)if(!nn(E[M],C[M]))return!1;return!0}function Yh(E,C,M,U,K,Q){if(Ds=Q,Be=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,Io.current=E===null||E.memoizedState===null?ix:nx,E=M(U,K),ma){Q=0;do{if(ma=!1,ga=0,25<=Q)throw Error(I(301));Q+=1,Je=je=null,C.updateQueue=null,Io.current=sx,E=M(U,K)}while(ma)}if(Io.current=wo,C=je!==null&&je.next!==null,Ds=0,Je=je=Be=null,Oo=!1,C)throw Error(I(300));return E}function Hh(){var E=ga!==0;return ga=0,E}function yn(){var E={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Be.memoizedState=Je=E:Je=Je.next=E,Je}function ji(){if(je===null){var E=Be.alternate;E=E!==null?E.memoizedState:null}else E=je.next;var C=Je===null?Be.memoizedState:Je.next;if(C!==null)Je=C,je=E;else{if(E===null)throw Error(I(310));je=E,E={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Je===null?Be.memoizedState=Je=E:Je=Je.next=E}return Je}function xa(E,C){return typeof C=="function"?C(E):C}function Xh(E){var C=ji(),M=C.queue;if(M===null)throw Error(I(311));M.lastRenderedReducer=E;var U=je,K=U.baseQueue,Q=M.pending;if(Q!==null){if(K!==null){var et=K.next;K.next=Q.next,Q.next=et}U.baseQueue=K=Q,M.pending=null}if(K!==null){Q=K.next,U=U.baseState;var nt=et=null,at=null,vt=Q;do{var St=vt.lane;if((Ds&St)===St)at!==null&&(at=at.next={lane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),U=vt.hasEagerState?vt.eagerState:E(U,vt.action);else{var At={lane:St,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null};at===null?(nt=at=At,et=U):at=at.next=At,Be.lanes|=St,ws|=St}vt=vt.next}while(vt!==null&&vt!==Q);at===null?et=U:at.next=nt,nn(U,C.memoizedState)||(Li=!0),C.memoizedState=U,C.baseState=et,C.baseQueue=at,M.lastRenderedState=U}if(E=M.interleaved,E!==null){K=E;do Q=K.lane,Be.lanes|=Q,ws|=Q,K=K.next;while(K!==E)}else K===null&&(M.lanes=0);return[C.memoizedState,M.dispatch]}function kh(E){var C=ji(),M=C.queue;if(M===null)throw Error(I(311));M.lastRenderedReducer=E;var U=M.dispatch,K=M.pending,Q=C.memoizedState;if(K!==null){M.pending=null;var et=K=K.next;do Q=E(Q,et.action),et=et.next;while(et!==K);nn(Q,C.memoizedState)||(Li=!0),C.memoizedState=Q,C.baseQueue===null&&(C.baseState=Q),M.lastRenderedState=Q}return[Q,U]}function Xc(){}function kc(E,C){var M=Be,U=ji(),K=C(),Q=!nn(U.memoizedState,K);if(Q&&(U.memoizedState=K,Li=!0),U=U.queue,Kh(jc.bind(null,M,U,E),[E]),U.getSnapshot!==C||Q||Je!==null&&Je.memoizedState.tag&1){if(M.flags|=2048,Ea(9,$c.bind(null,M,U,K,C),void 0,null),qe===null)throw Error(I(349));Ds&30||Kc(M,C,K)}return K}function Kc(E,C,M){E.flags|=16384,E={getSnapshot:C,value:M},C=Be.updateQueue,C===null?(C={lastEffect:null,stores:null},Be.updateQueue=C,C.stores=[E]):(M=C.stores,M===null?C.stores=[E]:M.push(E))}function $c(E,C,M,U){C.value=M,C.getSnapshot=U,Zc(C)&&Qc(E)}function jc(E,C,M){return M(function(){Zc(C)&&Qc(E)})}function Zc(E){var C=E.getSnapshot;E=E.value;try{var M=C();return!nn(E,M)}catch{return!0}}function Qc(E){var C=wn(E,1);C!==null&&ln(C,E,1,-1)}function Jc(E){var C=yn();return typeof E=="function"&&(E=E()),C.memoizedState=C.baseState=E,E={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:E},C.queue=E,E=E.dispatch=ex.bind(null,Be,E),[C.memoizedState,E]}function Ea(E,C,M,U){return E={tag:E,create:C,destroy:M,deps:U,next:null},C=Be.updateQueue,C===null?(C={lastEffect:null,stores:null},Be.updateQueue=C,C.lastEffect=E.next=E):(M=C.lastEffect,M===null?C.lastEffect=E.next=E:(U=M.next,M.next=E,E.next=U,C.lastEffect=E)),E}function qc(){return ji().memoizedState}function Mo(E,C,M,U){var K=yn();Be.flags|=E,K.memoizedState=Ea(1|C,M,void 0,U===void 0?null:U)}function Do(E,C,M,U){var K=ji();U=U===void 0?null:U;var Q=void 0;if(je!==null){var et=je.memoizedState;if(Q=et.destroy,U!==null&&Wh(U,et.deps)){K.memoizedState=Ea(C,M,Q,U);return}}Be.flags|=E,K.memoizedState=Ea(1|C,M,Q,U)}function _c(E,C){return Mo(8390656,8,E,C)}function Kh(E,C){return Do(2048,8,E,C)}function tv(E,C){return Do(4,2,E,C)}function ev(E,C){return Do(4,4,E,C)}function iv(E,C){if(typeof C=="function")return E=E(),C(E),function(){C(null)};if(C!=null)return E=E(),C.current=E,function(){C.current=null}}function nv(E,C,M){return M=M!=null?M.concat([E]):null,Do(4,4,iv.bind(null,C,E),M)}function $h(){}function sv(E,C){var M=ji();C=C===void 0?null:C;var U=M.memoizedState;return U!==null&&C!==null&&Wh(C,U[1])?U[0]:(M.memoizedState=[E,C],E)}function rv(E,C){var M=ji();C=C===void 0?null:C;var U=M.memoizedState;return U!==null&&C!==null&&Wh(C,U[1])?U[0]:(E=E(),M.memoizedState=[E,C],E)}function av(E,C,M){return Ds&21?(nn(M,C)||(M=Ud(),Be.lanes|=M,ws|=M,E.baseState=!0),C):(E.baseState&&(E.baseState=!1,Li=!0),E.memoizedState=M)}function _g(E,C){var M=xe;xe=M!==0&&4>M?M:4,E(!0);var U=Vh.transition;Vh.transition={};try{E(!1),C()}finally{xe=M,Vh.transition=U}}function ov(){return ji().memoizedState}function tx(E,C,M){var U=us(E);if(M={lane:U,action:M,hasEagerState:!1,eagerState:null,next:null},lv(E))hv(C,M);else if(M=zc(E,C,M,U),M!==null){var K=gi();ln(M,E,U,K),uv(M,C,U)}}function ex(E,C,M){var U=us(E),K={lane:U,action:M,hasEagerState:!1,eagerState:null,next:null};if(lv(E))hv(C,K);else{var Q=E.alternate;if(E.lanes===0&&(Q===null||Q.lanes===0)&&(Q=C.lastRenderedReducer,Q!==null))try{var et=C.lastRenderedState,nt=Q(et,M);if(K.hasEagerState=!0,K.eagerState=nt,nn(nt,et)){var at=C.interleaved;at===null?(K.next=K,Bh(C)):(K.next=at.next,at.next=K),C.interleaved=K;return}}catch{}finally{}M=zc(E,C,K,U),M!==null&&(K=gi(),ln(M,E,U,K),uv(M,C,U))}}function lv(E){var C=E.alternate;return E===Be||C!==null&&C===Be}function hv(E,C){ma=Oo=!0;var M=E.pending;M===null?C.next=C:(C.next=M.next,M.next=C),E.pending=C}function uv(E,C,M){if(M&4194240){var U=C.lanes;U&=E.pendingLanes,M|=U,C.lanes=M,Zl(E,M)}}var wo={readContext:$i,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},ix={readContext:$i,useCallback:function(E,C){return yn().memoizedState=[E,C===void 0?null:C],E},useContext:$i,useEffect:_c,useImperativeHandle:function(E,C,M){return M=M!=null?M.concat([E]):null,Mo(4194308,4,iv.bind(null,C,E),M)},useLayoutEffect:function(E,C){return Mo(4194308,4,E,C)},useInsertionEffect:function(E,C){return Mo(4,2,E,C)},useMemo:function(E,C){var M=yn();return C=C===void 0?null:C,E=E(),M.memoizedState=[E,C],E},useReducer:function(E,C,M){var U=yn();return C=M!==void 0?M(C):C,U.memoizedState=U.baseState=C,E={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E,lastRenderedState:C},U.queue=E,E=E.dispatch=tx.bind(null,Be,E),[U.memoizedState,E]},useRef:function(E){var C=yn();return E={current:E},C.memoizedState=E},useState:Jc,useDebugValue:$h,useDeferredValue:function(E){return yn().memoizedState=E},useTransition:function(){var E=Jc(!1),C=E[0];return E=_g.bind(null,E[1]),yn().memoizedState=E,[C,E]},useMutableSource:function(){},useSyncExternalStore:function(E,C,M){var U=Be,K=yn();if(Oe){if(M===void 0)throw Error(I(407));M=M()}else{if(M=C(),qe===null)throw Error(I(349));Ds&30||Kc(U,C,M)}K.memoizedState=M;var Q={value:M,getSnapshot:C};return K.queue=Q,_c(jc.bind(null,U,Q,E),[E]),U.flags|=2048,Ea(9,$c.bind(null,U,Q,M,C),void 0,null),M},useId:function(){var E=yn(),C=qe.identifierPrefix;if(Oe){var M=Dn,U=Mn;M=(U&~(1<<32-en(U)-1)).toString(32)+M,C=":"+C+"R"+M,M=ga++,0<M&&(C+="H"+M.toString(32)),C+=":"}else M=qg++,C=":"+C+"r"+M.toString(32)+":";return E.memoizedState=C},unstable_isNewReconciler:!1},nx={readContext:$i,useCallback:sv,useContext:$i,useEffect:Kh,useImperativeHandle:nv,useInsertionEffect:tv,useLayoutEffect:ev,useMemo:rv,useReducer:Xh,useRef:qc,useState:function(){return Xh(xa)},useDebugValue:$h,useDeferredValue:function(E){var C=ji();return av(C,je.memoizedState,E)},useTransition:function(){var E=Xh(xa)[0],C=ji().memoizedState;return[E,C]},useMutableSource:Xc,useSyncExternalStore:kc,useId:ov,unstable_isNewReconciler:!1},sx={readContext:$i,useCallback:sv,useContext:$i,useEffect:Kh,useImperativeHandle:nv,useInsertionEffect:tv,useLayoutEffect:ev,useMemo:rv,useReducer:kh,useRef:qc,useState:function(){return kh(xa)},useDebugValue:$h,useDeferredValue:function(E){var C=ji();return je===null?C.memoizedState=E:av(C,je.memoizedState,E)},useTransition:function(){var E=kh(xa)[0],C=ji().memoizedState;return[E,C]},useMutableSource:Xc,useSyncExternalStore:kc,useId:ov,unstable_isNewReconciler:!1};function rn(E,C){if(E&&E.defaultProps){C=$({},C),E=E.defaultProps;for(var M in E)C[M]===void 0&&(C[M]=E[M]);return C}return C}function jh(E,C,M,U){C=E.memoizedState,M=M(U,C),M=M==null?C:$({},C,M),E.memoizedState=M,E.lanes===0&&(E.updateQueue.baseState=M)}var Fo={isMounted:function(E){return(E=E._reactInternals)?Cs(E)===E:!1},enqueueSetState:function(E,C,M){E=E._reactInternals;var U=gi(),K=us(E),Q=Fn(U,K);Q.payload=C,M!=null&&(Q.callback=M),C=as(E,Q,K),C!==null&&(ln(C,E,K,U),Ro(C,E,K))},enqueueReplaceState:function(E,C,M){E=E._reactInternals;var U=gi(),K=us(E),Q=Fn(U,K);Q.tag=1,Q.payload=C,M!=null&&(Q.callback=M),C=as(E,Q,K),C!==null&&(ln(C,E,K,U),Ro(C,E,K))},enqueueForceUpdate:function(E,C){E=E._reactInternals;var M=gi(),U=us(E),K=Fn(M,U);K.tag=2,C!=null&&(K.callback=C),C=as(E,K,U),C!==null&&(ln(C,E,U,M),Ro(C,E,U))}};function fv(E,C,M,U,K,Q,et){return E=E.stateNode,typeof E.shouldComponentUpdate=="function"?E.shouldComponentUpdate(U,Q,et):C.prototype&&C.prototype.isPureReactComponent?!ra(M,U)||!ra(K,Q):!0}function dv(E,C,M){var U=!1,K=ns,Q=C.contextType;return typeof Q=="object"&&Q!==null?Q=$i(Q):(K=Ri(C)?Ls:hi.current,U=C.contextTypes,Q=(U=U!=null)?ar(E,K):ns),C=new C(M,Q),E.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Fo,E.stateNode=C,C._reactInternals=E,U&&(E=E.stateNode,E.__reactInternalMemoizedUnmaskedChildContext=K,E.__reactInternalMemoizedMaskedChildContext=Q),C}function cv(E,C,M,U){E=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(M,U),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(M,U),C.state!==E&&Fo.enqueueReplaceState(C,C.state,null)}function Zh(E,C,M,U){var K=E.stateNode;K.props=M,K.state=E.memoizedState,K.refs={},Nh(E);var Q=C.contextType;typeof Q=="object"&&Q!==null?K.context=$i(Q):(Q=Ri(C)?Ls:hi.current,K.context=ar(E,Q)),K.state=E.memoizedState,Q=C.getDerivedStateFromProps,typeof Q=="function"&&(jh(E,C,Q,M),K.state=E.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(C=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),C!==K.state&&Fo.enqueueReplaceState(K,K.state,null),Lo(E,M,K,U),K.state=E.memoizedState),typeof K.componentDidMount=="function"&&(E.flags|=4194308)}function vr(E,C){try{var M="",U=C;do M+=w(U),U=U.return;while(U);var K=M}catch(Q){K=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:E,source:C,stack:K,digest:null}}function Qh(E,C,M){return{value:E,source:null,stack:M??null,digest:C??null}}function Jh(E,C){try{console.error(C.value)}catch(M){setTimeout(function(){throw M})}}var rx=typeof WeakMap=="function"?WeakMap:Map;function vv(E,C,M){M=Fn(-1,M),M.tag=3,M.payload={element:null};var U=C.value;return M.callback=function(){Vo||(Vo=!0,du=U),Jh(E,C)},M}function pv(E,C,M){M=Fn(-1,M),M.tag=3;var U=E.type.getDerivedStateFromError;if(typeof U=="function"){var K=C.value;M.payload=function(){return U(K)},M.callback=function(){Jh(E,C)}}var Q=E.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(M.callback=function(){Jh(E,C),typeof U!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var et=C.stack;this.componentDidCatch(C.value,{componentStack:et!==null?et:""})}),M}function mv(E,C,M){var U=E.pingCache;if(U===null){U=E.pingCache=new rx;var K=new Set;U.set(C,K)}else K=U.get(C),K===void 0&&(K=new Set,U.set(C,K));K.has(M)||(K.add(M),E=Ex.bind(null,E,C,M),C.then(E,E))}function gv(E){do{var C;if((C=E.tag===13)&&(C=E.memoizedState,C=C!==null?C.dehydrated!==null:!0),C)return E;E=E.return}while(E!==null);return null}function xv(E,C,M,U,K){return E.mode&1?(E.flags|=65536,E.lanes=K,E):(E===C?E.flags|=65536:(E.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(C=Fn(-1,1),C.tag=2,as(M,C,1))),M.lanes|=1),E)}var ax=u.ReactCurrentOwner,Li=!1;function mi(E,C,M,U){C.child=E===null?bc(C,null,M,U):ur(C,E.child,M,U)}function Ev(E,C,M,U,K){M=M.render;var Q=C.ref;return dr(C,K),U=Yh(E,C,M,U,Q,K),M=Hh(),E!==null&&!Li?(C.updateQueue=E.updateQueue,C.flags&=-2053,E.lanes&=~K,Bn(E,C,K)):(Oe&&M&&Rh(C),C.flags|=1,mi(E,C,U,K),C.child)}function yv(E,C,M,U,K){if(E===null){var Q=M.type;return typeof Q=="function"&&!Eu(Q)&&Q.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(C.tag=15,C.type=Q,Tv(E,C,Q,U,K)):(E=Ko(M.type,null,U,C,C.mode,K),E.ref=C.ref,E.return=C,C.child=E)}if(Q=E.child,!(E.lanes&K)){var et=Q.memoizedProps;if(M=M.compare,M=M!==null?M:ra,M(et,U)&&E.ref===C.ref)return Bn(E,C,K)}return C.flags|=1,E=ds(Q,U),E.ref=C.ref,E.return=C,C.child=E}function Tv(E,C,M,U,K){if(E!==null){var Q=E.memoizedProps;if(ra(Q,U)&&E.ref===C.ref)if(Li=!1,C.pendingProps=U=Q,(E.lanes&K)!==0)E.flags&131072&&(Li=!0);else return C.lanes=E.lanes,Bn(E,C,K)}return qh(E,C,M,U,K)}function Sv(E,C,M){var U=C.pendingProps,K=U.children,Q=E!==null?E.memoizedState:null;if(U.mode==="hidden")if(!(C.mode&1))C.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(mr,Wi),Wi|=M;else{if(!(M&1073741824))return E=Q!==null?Q.baseLanes|M:M,C.lanes=C.childLanes=1073741824,C.memoizedState={baseLanes:E,cachePool:null,transitions:null},C.updateQueue=null,Ce(mr,Wi),Wi|=E,null;C.memoizedState={baseLanes:0,cachePool:null,transitions:null},U=Q!==null?Q.baseLanes:M,Ce(mr,Wi),Wi|=U}else Q!==null?(U=Q.baseLanes|M,C.memoizedState=null):U=M,Ce(mr,Wi),Wi|=U;return mi(E,C,K,M),C.child}function Av(E,C){var M=C.ref;(E===null&&M!==null||E!==null&&E.ref!==M)&&(C.flags|=512,C.flags|=2097152)}function qh(E,C,M,U,K){var Q=Ri(M)?Ls:hi.current;return Q=ar(C,Q),dr(C,K),M=Yh(E,C,M,U,Q,K),U=Hh(),E!==null&&!Li?(C.updateQueue=E.updateQueue,C.flags&=-2053,E.lanes&=~K,Bn(E,C,K)):(Oe&&U&&Rh(C),C.flags|=1,mi(E,C,M,K),C.child)}function Cv(E,C,M,U,K){if(Ri(M)){var Q=!0;go(C)}else Q=!1;if(dr(C,K),C.stateNode===null)No(E,C),dv(C,M,U),Zh(C,M,U,K),U=!0;else if(E===null){var et=C.stateNode,nt=C.memoizedProps;et.props=nt;var at=et.context,vt=M.contextType;typeof vt=="object"&&vt!==null?vt=$i(vt):(vt=Ri(M)?Ls:hi.current,vt=ar(C,vt));var St=M.getDerivedStateFromProps,At=typeof St=="function"||typeof et.getSnapshotBeforeUpdate=="function";At||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(nt!==U||at!==vt)&&cv(C,et,U,vt),rs=!1;var Tt=C.memoizedState;et.state=Tt,Lo(C,U,et,K),at=C.memoizedState,nt!==U||Tt!==at||Ci.current||rs?(typeof St=="function"&&(jh(C,M,St,U),at=C.memoizedState),(nt=rs||fv(C,M,nt,U,Tt,at,vt))?(At||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(C.flags|=4194308)):(typeof et.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=U,C.memoizedState=at),et.props=U,et.state=at,et.context=vt,U=nt):(typeof et.componentDidMount=="function"&&(C.flags|=4194308),U=!1)}else{et=C.stateNode,Vc(E,C),nt=C.memoizedProps,vt=C.type===C.elementType?nt:rn(C.type,nt),et.props=vt,At=C.pendingProps,Tt=et.context,at=M.contextType,typeof at=="object"&&at!==null?at=$i(at):(at=Ri(M)?Ls:hi.current,at=ar(C,at));var Nt=M.getDerivedStateFromProps;(St=typeof Nt=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(nt!==At||Tt!==at)&&cv(C,et,U,at),rs=!1,Tt=C.memoizedState,et.state=Tt,Lo(C,U,et,K);var zt=C.memoizedState;nt!==At||Tt!==zt||Ci.current||rs?(typeof Nt=="function"&&(jh(C,M,Nt,U),zt=C.memoizedState),(vt=rs||fv(C,M,vt,U,Tt,zt,at)||!1)?(St||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(U,zt,at),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(U,zt,at)),typeof et.componentDidUpdate=="function"&&(C.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof et.componentDidUpdate!="function"||nt===E.memoizedProps&&Tt===E.memoizedState||(C.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||nt===E.memoizedProps&&Tt===E.memoizedState||(C.flags|=1024),C.memoizedProps=U,C.memoizedState=zt),et.props=U,et.state=zt,et.context=at,U=vt):(typeof et.componentDidUpdate!="function"||nt===E.memoizedProps&&Tt===E.memoizedState||(C.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||nt===E.memoizedProps&&Tt===E.memoizedState||(C.flags|=1024),U=!1)}return _h(E,C,M,U,Q,K)}function _h(E,C,M,U,K,Q){Av(E,C);var et=(C.flags&128)!==0;if(!U&&!et)return K&&Oc(C,M,!1),Bn(E,C,Q);U=C.stateNode,ax.current=C;var nt=et&&typeof M.getDerivedStateFromError!="function"?null:U.render();return C.flags|=1,E!==null&&et?(C.child=ur(C,E.child,null,Q),C.child=ur(C,null,nt,Q)):mi(E,C,nt,Q),C.memoizedState=U.state,K&&Oc(C,M,!0),C.child}function Rv(E){var C=E.stateNode;C.pendingContext?Pc(E,C.pendingContext,C.pendingContext!==C.context):C.context&&Pc(E,C.context,!1),Uh(E,C.containerInfo)}function Lv(E,C,M,U,K){return hr(),Oh(K),C.flags|=256,mi(E,C,M,U),C.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function eu(E){return{baseLanes:E,cachePool:null,transitions:null}}function Pv(E,C,M){var U=C.pendingProps,K=Fe.current,Q=!1,et=(C.flags&128)!==0,nt;if((nt=et)||(nt=E!==null&&E.memoizedState===null?!1:(K&2)!==0),nt?(Q=!0,C.flags&=-129):(E===null||E.memoizedState!==null)&&(K|=1),Ce(Fe,K&1),E===null)return Ih(C),E=C.memoizedState,E!==null&&(E=E.dehydrated,E!==null)?(C.mode&1?E.data==="$!"?C.lanes=8:C.lanes=1073741824:C.lanes=1,null):(et=U.children,E=U.fallback,Q?(U=C.mode,Q=C.child,et={mode:"hidden",children:et},!(U&1)&&Q!==null?(Q.childLanes=0,Q.pendingProps=et):Q=$o(et,U,0,null),E=Us(E,U,M,null),Q.return=C,E.return=C,Q.sibling=E,C.child=Q,C.child.memoizedState=eu(M),C.memoizedState=tu,E):iu(C,et));if(K=E.memoizedState,K!==null&&(nt=K.dehydrated,nt!==null))return ox(E,C,et,U,nt,K,M);if(Q){Q=U.fallback,et=C.mode,K=E.child,nt=K.sibling;var at={mode:"hidden",children:U.children};return!(et&1)&&C.child!==K?(U=C.child,U.childLanes=0,U.pendingProps=at,C.deletions=null):(U=ds(K,at),U.subtreeFlags=K.subtreeFlags&14680064),nt!==null?Q=ds(nt,Q):(Q=Us(Q,et,M,null),Q.flags|=2),Q.return=C,U.return=C,U.sibling=Q,C.child=U,U=Q,Q=C.child,et=E.child.memoizedState,et=et===null?eu(M):{baseLanes:et.baseLanes|M,cachePool:null,transitions:et.transitions},Q.memoizedState=et,Q.childLanes=E.childLanes&~M,C.memoizedState=tu,U}return Q=E.child,E=Q.sibling,U=ds(Q,{mode:"visible",children:U.children}),!(C.mode&1)&&(U.lanes=M),U.return=C,U.sibling=null,E!==null&&(M=C.deletions,M===null?(C.deletions=[E],C.flags|=16):M.push(E)),C.child=U,C.memoizedState=null,U}function iu(E,C){return C=$o({mode:"visible",children:C},E.mode,0,null),C.return=E,E.child=C}function Bo(E,C,M,U){return U!==null&&Oh(U),ur(C,E.child,null,M),E=iu(C,C.pendingProps.children),E.flags|=2,C.memoizedState=null,E}function ox(E,C,M,U,K,Q,et){if(M)return C.flags&256?(C.flags&=-257,U=Qh(Error(I(422))),Bo(E,C,et,U)):C.memoizedState!==null?(C.child=E.child,C.flags|=128,null):(Q=U.fallback,K=C.mode,U=$o({mode:"visible",children:U.children},K,0,null),Q=Us(Q,K,et,null),Q.flags|=2,U.return=C,Q.return=C,U.sibling=Q,C.child=U,C.mode&1&&ur(C,E.child,null,et),C.child.memoizedState=eu(et),C.memoizedState=tu,Q);if(!(C.mode&1))return Bo(E,C,et,null);if(K.data==="$!"){if(U=K.nextSibling&&K.nextSibling.dataset,U)var nt=U.dgst;return U=nt,Q=Error(I(419)),U=Qh(Q,U,void 0),Bo(E,C,et,U)}if(nt=(et&E.childLanes)!==0,Li||nt){if(U=qe,U!==null){switch(et&-et){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=K&(U.suspendedLanes|et)?0:K,K!==0&&K!==Q.retryLane&&(Q.retryLane=K,wn(E,K),ln(U,E,K,-1))}return xu(),U=Qh(Error(I(421))),Bo(E,C,et,U)}return K.data==="$?"?(C.flags|=128,C.child=E.child,C=yx.bind(null,E),K._reactRetry=C,null):(E=Q.treeContext,Vi=es(K.nextSibling),zi=C,Oe=!0,sn=null,E!==null&&(ki[Ki++]=Mn,ki[Ki++]=Dn,ki[Ki++]=Ps,Mn=E.id,Dn=E.overflow,Ps=C),C=iu(C,U.children),C.flags|=4096,C)}function Iv(E,C,M){E.lanes|=C;var U=E.alternate;U!==null&&(U.lanes|=C),Fh(E.return,C,M)}function nu(E,C,M,U,K){var Q=E.memoizedState;Q===null?E.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:U,tail:M,tailMode:K}:(Q.isBackwards=C,Q.rendering=null,Q.renderingStartTime=0,Q.last=U,Q.tail=M,Q.tailMode=K)}function Ov(E,C,M){var U=C.pendingProps,K=U.revealOrder,Q=U.tail;if(mi(E,C,U.children,M),U=Fe.current,U&2)U=U&1|2,C.flags|=128;else{if(E!==null&&E.flags&128)t:for(E=C.child;E!==null;){if(E.tag===13)E.memoizedState!==null&&Iv(E,M,C);else if(E.tag===19)Iv(E,M,C);else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===C)break t;for(;E.sibling===null;){if(E.return===null||E.return===C)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}U&=1}if(Ce(Fe,U),!(C.mode&1))C.memoizedState=null;else switch(K){case"forwards":for(M=C.child,K=null;M!==null;)E=M.alternate,E!==null&&Po(E)===null&&(K=M),M=M.sibling;M=K,M===null?(K=C.child,C.child=null):(K=M.sibling,M.sibling=null),nu(C,!1,K,M,Q);break;case"backwards":for(M=null,K=C.child,C.child=null;K!==null;){if(E=K.alternate,E!==null&&Po(E)===null){C.child=K;break}E=K.sibling,K.sibling=M,M=K,K=E}nu(C,!0,M,null,Q);break;case"together":nu(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function No(E,C){!(C.mode&1)&&E!==null&&(E.alternate=null,C.alternate=null,C.flags|=2)}function Bn(E,C,M){if(E!==null&&(C.dependencies=E.dependencies),ws|=C.lanes,!(M&C.childLanes))return null;if(E!==null&&C.child!==E.child)throw Error(I(153));if(C.child!==null){for(E=C.child,M=ds(E,E.pendingProps),C.child=M,M.return=C;E.sibling!==null;)E=E.sibling,M=M.sibling=ds(E,E.pendingProps),M.return=C;M.sibling=null}return C.child}function lx(E,C,M){switch(C.tag){case 3:Rv(C),hr();break;case 5:Hc(C);break;case 1:Ri(C.type)&&go(C);break;case 4:Uh(C,C.stateNode.containerInfo);break;case 10:var U=C.type._context,K=C.memoizedProps.value;Ce(Ao,U._currentValue),U._currentValue=K;break;case 13:if(U=C.memoizedState,U!==null)return U.dehydrated!==null?(Ce(Fe,Fe.current&1),C.flags|=128,null):M&C.child.childLanes?Pv(E,C,M):(Ce(Fe,Fe.current&1),E=Bn(E,C,M),E!==null?E.sibling:null);Ce(Fe,Fe.current&1);break;case 19:if(U=(M&C.childLanes)!==0,E.flags&128){if(U)return Ov(E,C,M);C.flags|=128}if(K=C.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Ce(Fe,Fe.current),U)break;return null;case 22:case 23:return C.lanes=0,Sv(E,C,M)}return Bn(E,C,M)}var Mv,su,Dv,wv;Mv=function(E,C){for(var M=C.child;M!==null;){if(M.tag===5||M.tag===6)E.appendChild(M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===C)break;for(;M.sibling===null;){if(M.return===null||M.return===C)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},su=function(){},Dv=function(E,C,M,U){var K=E.memoizedProps;if(K!==U){E=C.stateNode,Ms(En.current);var Q=null;switch(M){case"input":K=ot(E,K),U=ot(E,U),Q=[];break;case"select":K=$({},K,{value:void 0}),U=$({},U,{value:void 0}),Q=[];break;case"textarea":K=pt(E,K),U=pt(E,U),Q=[];break;default:typeof K.onClick!="function"&&typeof U.onClick=="function"&&(E.onclick=vo)}Ni(M,U);var et;M=null;for(vt in K)if(!U.hasOwnProperty(vt)&&K.hasOwnProperty(vt)&&K[vt]!=null)if(vt==="style"){var nt=K[vt];for(et in nt)nt.hasOwnProperty(et)&&(M||(M={}),M[et]="")}else vt!=="dangerouslySetInnerHTML"&&vt!=="children"&&vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&vt!=="autoFocus"&&(N.hasOwnProperty(vt)?Q||(Q=[]):(Q=Q||[]).push(vt,null));for(vt in U){var at=U[vt];if(nt=K?.[vt],U.hasOwnProperty(vt)&&at!==nt&&(at!=null||nt!=null))if(vt==="style")if(nt){for(et in nt)!nt.hasOwnProperty(et)||at&&at.hasOwnProperty(et)||(M||(M={}),M[et]="");for(et in at)at.hasOwnProperty(et)&&nt[et]!==at[et]&&(M||(M={}),M[et]=at[et])}else M||(Q||(Q=[]),Q.push(vt,M)),M=at;else vt==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,nt=nt?nt.__html:void 0,at!=null&&nt!==at&&(Q=Q||[]).push(vt,at)):vt==="children"?typeof at!="string"&&typeof at!="number"||(Q=Q||[]).push(vt,""+at):vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&(N.hasOwnProperty(vt)?(at!=null&&vt==="onScroll"&&Le("scroll",E),Q||nt===at||(Q=[])):(Q=Q||[]).push(vt,at))}M&&(Q=Q||[]).push("style",M);var vt=Q;(C.updateQueue=vt)&&(C.flags|=4)}},wv=function(E,C,M,U){M!==U&&(C.flags|=4)};function ya(E,C){if(!Oe)switch(E.tailMode){case"hidden":C=E.tail;for(var M=null;C!==null;)C.alternate!==null&&(M=C),C=C.sibling;M===null?E.tail=null:M.sibling=null;break;case"collapsed":M=E.tail;for(var U=null;M!==null;)M.alternate!==null&&(U=M),M=M.sibling;U===null?C||E.tail===null?E.tail=null:E.tail.sibling=null:U.sibling=null}}function fi(E){var C=E.alternate!==null&&E.alternate.child===E.child,M=0,U=0;if(C)for(var K=E.child;K!==null;)M|=K.lanes|K.childLanes,U|=K.subtreeFlags&14680064,U|=K.flags&14680064,K.return=E,K=K.sibling;else for(K=E.child;K!==null;)M|=K.lanes|K.childLanes,U|=K.subtreeFlags,U|=K.flags,K.return=E,K=K.sibling;return E.subtreeFlags|=U,E.childLanes=M,C}function hx(E,C,M){var U=C.pendingProps;switch(Lh(C),C.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(C),null;case 1:return Ri(C.type)&&mo(),fi(C),null;case 3:return U=C.stateNode,cr(),Pe(Ci),Pe(hi),zh(),U.pendingContext&&(U.context=U.pendingContext,U.pendingContext=null),(E===null||E.child===null)&&(To(C)?C.flags|=4:E===null||E.memoizedState.isDehydrated&&!(C.flags&256)||(C.flags|=1024,sn!==null&&(pu(sn),sn=null))),su(E,C),fi(C),null;case 5:Gh(C);var K=Ms(pa.current);if(M=C.type,E!==null&&C.stateNode!=null)Dv(E,C,M,U,K),E.ref!==C.ref&&(C.flags|=512,C.flags|=2097152);else{if(!U){if(C.stateNode===null)throw Error(I(166));return fi(C),null}if(E=Ms(En.current),To(C)){U=C.stateNode,M=C.type;var Q=C.memoizedProps;switch(U[xn]=C,U[ua]=Q,E=(C.mode&1)!==0,M){case"dialog":Le("cancel",U),Le("close",U);break;case"iframe":case"object":case"embed":Le("load",U);break;case"video":case"audio":for(K=0;K<oa.length;K++)Le(oa[K],U);break;case"source":Le("error",U);break;case"img":case"image":case"link":Le("error",U),Le("load",U);break;case"details":Le("toggle",U);break;case"input":ht(U,Q),Le("invalid",U);break;case"select":U._wrapperState={wasMultiple:!!Q.multiple},Le("invalid",U);break;case"textarea":Lt(U,Q),Le("invalid",U)}Ni(M,Q),K=null;for(var et in Q)if(Q.hasOwnProperty(et)){var nt=Q[et];et==="children"?typeof nt=="string"?U.textContent!==nt&&(Q.suppressHydrationWarning!==!0&&co(U.textContent,nt,E),K=["children",nt]):typeof nt=="number"&&U.textContent!==""+nt&&(Q.suppressHydrationWarning!==!0&&co(U.textContent,nt,E),K=["children",""+nt]):N.hasOwnProperty(et)&&nt!=null&&et==="onScroll"&&Le("scroll",U)}switch(M){case"input":tt(U),Et(U,Q,!0);break;case"textarea":tt(U),Jt(U);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(U.onclick=vo)}U=K,C.updateQueue=U,U!==null&&(C.flags|=4)}else{et=K.nodeType===9?K:K.ownerDocument,E==="http://www.w3.org/1999/xhtml"&&(E=$t(M)),E==="http://www.w3.org/1999/xhtml"?M==="script"?(E=et.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild)):typeof U.is=="string"?E=et.createElement(M,{is:U.is}):(E=et.createElement(M),M==="select"&&(et=E,U.multiple?et.multiple=!0:U.size&&(et.size=U.size))):E=et.createElementNS(E,M),E[xn]=C,E[ua]=U,Mv(E,C,!1,!1),C.stateNode=E;t:{switch(et=Ui(M,U),M){case"dialog":Le("cancel",E),Le("close",E),K=U;break;case"iframe":case"object":case"embed":Le("load",E),K=U;break;case"video":case"audio":for(K=0;K<oa.length;K++)Le(oa[K],E);K=U;break;case"source":Le("error",E),K=U;break;case"img":case"image":case"link":Le("error",E),Le("load",E),K=U;break;case"details":Le("toggle",E),K=U;break;case"input":ht(E,U),K=ot(E,U),Le("invalid",E);break;case"option":K=U;break;case"select":E._wrapperState={wasMultiple:!!U.multiple},K=$({},U,{value:void 0}),Le("invalid",E);break;case"textarea":Lt(E,U),K=pt(E,U),Le("invalid",E);break;default:K=U}Ni(M,K),nt=K;for(Q in nt)if(nt.hasOwnProperty(Q)){var at=nt[Q];Q==="style"?we(E,at):Q==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&re(E,at)):Q==="children"?typeof at=="string"?(M!=="textarea"||at!=="")&&Qt(E,at):typeof at=="number"&&Qt(E,""+at):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(N.hasOwnProperty(Q)?at!=null&&Q==="onScroll"&&Le("scroll",E):at!=null&&f(E,Q,at,et))}switch(M){case"input":tt(E),Et(E,U,!1);break;case"textarea":tt(E),Jt(E);break;case"option":U.value!=null&&E.setAttribute("value",""+j(U.value));break;case"select":E.multiple=!!U.multiple,Q=U.value,Q!=null?It(E,!!U.multiple,Q,!1):U.defaultValue!=null&&It(E,!!U.multiple,U.defaultValue,!0);break;default:typeof K.onClick=="function"&&(E.onclick=vo)}switch(M){case"button":case"input":case"select":case"textarea":U=!!U.autoFocus;break t;case"img":U=!0;break t;default:U=!1}}U&&(C.flags|=4)}C.ref!==null&&(C.flags|=512,C.flags|=2097152)}return fi(C),null;case 6:if(E&&C.stateNode!=null)wv(E,C,E.memoizedProps,U);else{if(typeof U!="string"&&C.stateNode===null)throw Error(I(166));if(M=Ms(pa.current),Ms(En.current),To(C)){if(U=C.stateNode,M=C.memoizedProps,U[xn]=C,(Q=U.nodeValue!==M)&&(E=zi,E!==null))switch(E.tag){case 3:co(U.nodeValue,M,(E.mode&1)!==0);break;case 5:E.memoizedProps.suppressHydrationWarning!==!0&&co(U.nodeValue,M,(E.mode&1)!==0)}Q&&(C.flags|=4)}else U=(M.nodeType===9?M:M.ownerDocument).createTextNode(U),U[xn]=C,C.stateNode=U}return fi(C),null;case 13:if(Pe(Fe),U=C.memoizedState,E===null||E.memoizedState!==null&&E.memoizedState.dehydrated!==null){if(Oe&&Vi!==null&&C.mode&1&&!(C.flags&128))Nc(),hr(),C.flags|=98560,Q=!1;else if(Q=To(C),U!==null&&U.dehydrated!==null){if(E===null){if(!Q)throw Error(I(318));if(Q=C.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(I(317));Q[xn]=C}else hr(),!(C.flags&128)&&(C.memoizedState=null),C.flags|=4;fi(C),Q=!1}else sn!==null&&(pu(sn),sn=null),Q=!0;if(!Q)return C.flags&65536?C:null}return C.flags&128?(C.lanes=M,C):(U=U!==null,U!==(E!==null&&E.memoizedState!==null)&&U&&(C.child.flags|=8192,C.mode&1&&(E===null||Fe.current&1?Ze===0&&(Ze=3):xu())),C.updateQueue!==null&&(C.flags|=4),fi(C),null);case 4:return cr(),su(E,C),E===null&&la(C.stateNode.containerInfo),fi(C),null;case 10:return wh(C.type._context),fi(C),null;case 17:return Ri(C.type)&&mo(),fi(C),null;case 19:if(Pe(Fe),Q=C.memoizedState,Q===null)return fi(C),null;if(U=(C.flags&128)!==0,et=Q.rendering,et===null)if(U)ya(Q,!1);else{if(Ze!==0||E!==null&&E.flags&128)for(E=C.child;E!==null;){if(et=Po(E),et!==null){for(C.flags|=128,ya(Q,!1),U=et.updateQueue,U!==null&&(C.updateQueue=U,C.flags|=4),C.subtreeFlags=0,U=M,M=C.child;M!==null;)Q=M,E=U,Q.flags&=14680066,et=Q.alternate,et===null?(Q.childLanes=0,Q.lanes=E,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=et.childLanes,Q.lanes=et.lanes,Q.child=et.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=et.memoizedProps,Q.memoizedState=et.memoizedState,Q.updateQueue=et.updateQueue,Q.type=et.type,E=et.dependencies,Q.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),M=M.sibling;return Ce(Fe,Fe.current&1|2),C.child}E=E.sibling}Q.tail!==null&&We()>gr&&(C.flags|=128,U=!0,ya(Q,!1),C.lanes=4194304)}else{if(!U)if(E=Po(et),E!==null){if(C.flags|=128,U=!0,M=E.updateQueue,M!==null&&(C.updateQueue=M,C.flags|=4),ya(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!et.alternate&&!Oe)return fi(C),null}else 2*We()-Q.renderingStartTime>gr&&M!==1073741824&&(C.flags|=128,U=!0,ya(Q,!1),C.lanes=4194304);Q.isBackwards?(et.sibling=C.child,C.child=et):(M=Q.last,M!==null?M.sibling=et:C.child=et,Q.last=et)}return Q.tail!==null?(C=Q.tail,Q.rendering=C,Q.tail=C.sibling,Q.renderingStartTime=We(),C.sibling=null,M=Fe.current,Ce(Fe,U?M&1|2:M&1),C):(fi(C),null);case 22:case 23:return gu(),U=C.memoizedState!==null,E!==null&&E.memoizedState!==null!==U&&(C.flags|=8192),U&&C.mode&1?Wi&1073741824&&(fi(C),C.subtreeFlags&6&&(C.flags|=8192)):fi(C),null;case 24:return null;case 25:return null}throw Error(I(156,C.tag))}function ux(E,C){switch(Lh(C),C.tag){case 1:return Ri(C.type)&&mo(),E=C.flags,E&65536?(C.flags=E&-65537|128,C):null;case 3:return cr(),Pe(Ci),Pe(hi),zh(),E=C.flags,E&65536&&!(E&128)?(C.flags=E&-65537|128,C):null;case 5:return Gh(C),null;case 13:if(Pe(Fe),E=C.memoizedState,E!==null&&E.dehydrated!==null){if(C.alternate===null)throw Error(I(340));hr()}return E=C.flags,E&65536?(C.flags=E&-65537|128,C):null;case 19:return Pe(Fe),null;case 4:return cr(),null;case 10:return wh(C.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var Uo=!1,di=!1,fx=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function pr(E,C){var M=E.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(U){be(E,C,U)}else M.current=null}function ru(E,C,M){try{M()}catch(U){be(E,C,U)}}var Fv=!1;function dx(E,C){if(gh=eo,E=fc(),hh(E)){if("selectionStart"in E)var M={start:E.selectionStart,end:E.selectionEnd};else t:{M=(M=E.ownerDocument)&&M.defaultView||window;var U=M.getSelection&&M.getSelection();if(U&&U.rangeCount!==0){M=U.anchorNode;var K=U.anchorOffset,Q=U.focusNode;U=U.focusOffset;try{M.nodeType,Q.nodeType}catch{M=null;break t}var et=0,nt=-1,at=-1,vt=0,St=0,At=E,Tt=null;e:for(;;){for(var Nt;At!==M||K!==0&&At.nodeType!==3||(nt=et+K),At!==Q||U!==0&&At.nodeType!==3||(at=et+U),At.nodeType===3&&(et+=At.nodeValue.length),(Nt=At.firstChild)!==null;)Tt=At,At=Nt;for(;;){if(At===E)break e;if(Tt===M&&++vt===K&&(nt=et),Tt===Q&&++St===U&&(at=et),(Nt=At.nextSibling)!==null)break;At=Tt,Tt=At.parentNode}At=Nt}M=nt===-1||at===-1?null:{start:nt,end:at}}else M=null}M=M||{start:0,end:0}}else M=null;for(xh={focusedElem:E,selectionRange:M},eo=!1,Gt=C;Gt!==null;)if(C=Gt,E=C.child,(C.subtreeFlags&1028)!==0&&E!==null)E.return=C,Gt=E;else for(;Gt!==null;){C=Gt;try{var zt=C.alternate;if(C.flags&1024)switch(C.tag){case 0:case 11:case 15:break;case 1:if(zt!==null){var Vt=zt.memoizedProps,Ye=zt.memoizedState,ut=C.stateNode,lt=ut.getSnapshotBeforeUpdate(C.elementType===C.type?Vt:rn(C.type,Vt),Ye);ut.__reactInternalSnapshotBeforeUpdate=lt}break;case 3:var dt=C.stateNode.containerInfo;dt.nodeType===1?dt.textContent="":dt.nodeType===9&&dt.documentElement&&dt.removeChild(dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(Rt){be(C,C.return,Rt)}if(E=C.sibling,E!==null){E.return=C.return,Gt=E;break}Gt=C.return}return zt=Fv,Fv=!1,zt}function Ta(E,C,M){var U=C.updateQueue;if(U=U!==null?U.lastEffect:null,U!==null){var K=U=U.next;do{if((K.tag&E)===E){var Q=K.destroy;K.destroy=void 0,Q!==void 0&&ru(C,M,Q)}K=K.next}while(K!==U)}}function Go(E,C){if(C=C.updateQueue,C=C!==null?C.lastEffect:null,C!==null){var M=C=C.next;do{if((M.tag&E)===E){var U=M.create;M.destroy=U()}M=M.next}while(M!==C)}}function au(E){var C=E.ref;if(C!==null){var M=E.stateNode;switch(E.tag){case 5:E=M;break;default:E=M}typeof C=="function"?C(E):C.current=E}}function Bv(E){var C=E.alternate;C!==null&&(E.alternate=null,Bv(C)),E.child=null,E.deletions=null,E.sibling=null,E.tag===5&&(C=E.stateNode,C!==null&&(delete C[xn],delete C[ua],delete C[Sh],delete C[jg],delete C[Zg])),E.stateNode=null,E.return=null,E.dependencies=null,E.memoizedProps=null,E.memoizedState=null,E.pendingProps=null,E.stateNode=null,E.updateQueue=null}function Nv(E){return E.tag===5||E.tag===3||E.tag===4}function Uv(E){t:for(;;){for(;E.sibling===null;){if(E.return===null||Nv(E.return))return null;E=E.return}for(E.sibling.return=E.return,E=E.sibling;E.tag!==5&&E.tag!==6&&E.tag!==18;){if(E.flags&2||E.child===null||E.tag===4)continue t;E.child.return=E,E=E.child}if(!(E.flags&2))return E.stateNode}}function ou(E,C,M){var U=E.tag;if(U===5||U===6)E=E.stateNode,C?M.nodeType===8?M.parentNode.insertBefore(E,C):M.insertBefore(E,C):(M.nodeType===8?(C=M.parentNode,C.insertBefore(E,M)):(C=M,C.appendChild(E)),M=M._reactRootContainer,M!=null||C.onclick!==null||(C.onclick=vo));else if(U!==4&&(E=E.child,E!==null))for(ou(E,C,M),E=E.sibling;E!==null;)ou(E,C,M),E=E.sibling}function lu(E,C,M){var U=E.tag;if(U===5||U===6)E=E.stateNode,C?M.insertBefore(E,C):M.appendChild(E);else if(U!==4&&(E=E.child,E!==null))for(lu(E,C,M),E=E.sibling;E!==null;)lu(E,C,M),E=E.sibling}var ii=null,an=!1;function os(E,C,M){for(M=M.child;M!==null;)Gv(E,C,M),M=M.sibling}function Gv(E,C,M){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Za,M)}catch{}switch(M.tag){case 5:di||pr(M,C);case 6:var U=ii,K=an;ii=null,os(E,C,M),ii=U,an=K,ii!==null&&(an?(E=ii,M=M.stateNode,E.nodeType===8?E.parentNode.removeChild(M):E.removeChild(M)):ii.removeChild(M.stateNode));break;case 18:ii!==null&&(an?(E=ii,M=M.stateNode,E.nodeType===8?Th(E.parentNode,M):E.nodeType===1&&Th(E,M),_r(E)):Th(ii,M.stateNode));break;case 4:U=ii,K=an,ii=M.stateNode.containerInfo,an=!0,os(E,C,M),ii=U,an=K;break;case 0:case 11:case 14:case 15:if(!di&&(U=M.updateQueue,U!==null&&(U=U.lastEffect,U!==null))){K=U=U.next;do{var Q=K,et=Q.destroy;Q=Q.tag,et!==void 0&&(Q&2||Q&4)&&ru(M,C,et),K=K.next}while(K!==U)}os(E,C,M);break;case 1:if(!di&&(pr(M,C),U=M.stateNode,typeof U.componentWillUnmount=="function"))try{U.props=M.memoizedProps,U.state=M.memoizedState,U.componentWillUnmount()}catch(nt){be(M,C,nt)}os(E,C,M);break;case 21:os(E,C,M);break;case 22:M.mode&1?(di=(U=di)||M.memoizedState!==null,os(E,C,M),di=U):os(E,C,M);break;default:os(E,C,M)}}function bv(E){var C=E.updateQueue;if(C!==null){E.updateQueue=null;var M=E.stateNode;M===null&&(M=E.stateNode=new fx),C.forEach(function(U){var K=Tx.bind(null,E,U);M.has(U)||(M.add(U),U.then(K,K))})}}function on(E,C){var M=C.deletions;if(M!==null)for(var U=0;U<M.length;U++){var K=M[U];try{var Q=E,et=C,nt=et;t:for(;nt!==null;){switch(nt.tag){case 5:ii=nt.stateNode,an=!1;break t;case 3:ii=nt.stateNode.containerInfo,an=!0;break t;case 4:ii=nt.stateNode.containerInfo,an=!0;break t}nt=nt.return}if(ii===null)throw Error(I(160));Gv(Q,et,K),ii=null,an=!1;var at=K.alternate;at!==null&&(at.return=null),K.return=null}catch(vt){be(K,C,vt)}}if(C.subtreeFlags&12854)for(C=C.child;C!==null;)zv(C,E),C=C.sibling}function zv(E,C){var M=E.alternate,U=E.flags;switch(E.tag){case 0:case 11:case 14:case 15:if(on(C,E),Tn(E),U&4){try{Ta(3,E,E.return),Go(3,E)}catch(Vt){be(E,E.return,Vt)}try{Ta(5,E,E.return)}catch(Vt){be(E,E.return,Vt)}}break;case 1:on(C,E),Tn(E),U&512&&M!==null&&pr(M,M.return);break;case 5:if(on(C,E),Tn(E),U&512&&M!==null&&pr(M,M.return),E.flags&32){var K=E.stateNode;try{Qt(K,"")}catch(Vt){be(E,E.return,Vt)}}if(U&4&&(K=E.stateNode,K!=null)){var Q=E.memoizedProps,et=M!==null?M.memoizedProps:Q,nt=E.type,at=E.updateQueue;if(E.updateQueue=null,at!==null)try{nt==="input"&&Q.type==="radio"&&Q.name!=null&&ct(K,Q),Ui(nt,et);var vt=Ui(nt,Q);for(et=0;et<at.length;et+=2){var St=at[et],At=at[et+1];St==="style"?we(K,At):St==="dangerouslySetInnerHTML"?re(K,At):St==="children"?Qt(K,At):f(K,St,At,vt)}switch(nt){case"input":ft(K,Q);break;case"textarea":Pt(K,Q);break;case"select":var Tt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!Q.multiple;var Nt=Q.value;Nt!=null?It(K,!!Q.multiple,Nt,!1):Tt!==!!Q.multiple&&(Q.defaultValue!=null?It(K,!!Q.multiple,Q.defaultValue,!0):It(K,!!Q.multiple,Q.multiple?[]:"",!1))}K[ua]=Q}catch(Vt){be(E,E.return,Vt)}}break;case 6:if(on(C,E),Tn(E),U&4){if(E.stateNode===null)throw Error(I(162));K=E.stateNode,Q=E.memoizedProps;try{K.nodeValue=Q}catch(Vt){be(E,E.return,Vt)}}break;case 3:if(on(C,E),Tn(E),U&4&&M!==null&&M.memoizedState.isDehydrated)try{_r(C.containerInfo)}catch(Vt){be(E,E.return,Vt)}break;case 4:on(C,E),Tn(E);break;case 13:on(C,E),Tn(E),K=E.child,K.flags&8192&&(Q=K.memoizedState!==null,K.stateNode.isHidden=Q,!Q||K.alternate!==null&&K.alternate.memoizedState!==null||(fu=We())),U&4&&bv(E);break;case 22:if(St=M!==null&&M.memoizedState!==null,E.mode&1?(di=(vt=di)||St,on(C,E),di=vt):on(C,E),Tn(E),U&8192){if(vt=E.memoizedState!==null,(E.stateNode.isHidden=vt)&&!St&&E.mode&1)for(Gt=E,St=E.child;St!==null;){for(At=Gt=St;Gt!==null;){switch(Tt=Gt,Nt=Tt.child,Tt.tag){case 0:case 11:case 14:case 15:Ta(4,Tt,Tt.return);break;case 1:pr(Tt,Tt.return);var zt=Tt.stateNode;if(typeof zt.componentWillUnmount=="function"){U=Tt,M=Tt.return;try{C=U,zt.props=C.memoizedProps,zt.state=C.memoizedState,zt.componentWillUnmount()}catch(Vt){be(U,M,Vt)}}break;case 5:pr(Tt,Tt.return);break;case 22:if(Tt.memoizedState!==null){Yv(At);continue}}Nt!==null?(Nt.return=Tt,Gt=Nt):Yv(At)}St=St.sibling}t:for(St=null,At=E;;){if(At.tag===5){if(St===null){St=At;try{K=At.stateNode,vt?(Q=K.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(nt=At.stateNode,at=At.memoizedProps.style,et=at!=null&&at.hasOwnProperty("display")?at.display:null,nt.style.display=De("display",et))}catch(Vt){be(E,E.return,Vt)}}}else if(At.tag===6){if(St===null)try{At.stateNode.nodeValue=vt?"":At.memoizedProps}catch(Vt){be(E,E.return,Vt)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===E)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===E)break t;for(;At.sibling===null;){if(At.return===null||At.return===E)break t;St===At&&(St=null),At=At.return}St===At&&(St=null),At.sibling.return=At.return,At=At.sibling}}break;case 19:on(C,E),Tn(E),U&4&&bv(E);break;case 21:break;default:on(C,E),Tn(E)}}function Tn(E){var C=E.flags;if(C&2){try{t:{for(var M=E.return;M!==null;){if(Nv(M)){var U=M;break t}M=M.return}throw Error(I(160))}switch(U.tag){case 5:var K=U.stateNode;U.flags&32&&(Qt(K,""),U.flags&=-33);var Q=Uv(E);lu(E,Q,K);break;case 3:case 4:var et=U.stateNode.containerInfo,nt=Uv(E);ou(E,nt,et);break;default:throw Error(I(161))}}catch(at){be(E,E.return,at)}E.flags&=-3}C&4096&&(E.flags&=-4097)}function cx(E,C,M){Gt=E,Vv(E)}function Vv(E,C,M){for(var U=(E.mode&1)!==0;Gt!==null;){var K=Gt,Q=K.child;if(K.tag===22&&U){var et=K.memoizedState!==null||Uo;if(!et){var nt=K.alternate,at=nt!==null&&nt.memoizedState!==null||di;nt=Uo;var vt=di;if(Uo=et,(di=at)&&!vt)for(Gt=K;Gt!==null;)et=Gt,at=et.child,et.tag===22&&et.memoizedState!==null?Hv(K):at!==null?(at.return=et,Gt=at):Hv(K);for(;Q!==null;)Gt=Q,Vv(Q),Q=Q.sibling;Gt=K,Uo=nt,di=vt}Wv(E)}else K.subtreeFlags&8772&&Q!==null?(Q.return=K,Gt=Q):Wv(E)}}function Wv(E){for(;Gt!==null;){var C=Gt;if(C.flags&8772){var M=C.alternate;try{if(C.flags&8772)switch(C.tag){case 0:case 11:case 15:di||Go(5,C);break;case 1:var U=C.stateNode;if(C.flags&4&&!di)if(M===null)U.componentDidMount();else{var K=C.elementType===C.type?M.memoizedProps:rn(C.type,M.memoizedProps);U.componentDidUpdate(K,M.memoizedState,U.__reactInternalSnapshotBeforeUpdate)}var Q=C.updateQueue;Q!==null&&Yc(C,Q,U);break;case 3:var et=C.updateQueue;if(et!==null){if(M=null,C.child!==null)switch(C.child.tag){case 5:M=C.child.stateNode;break;case 1:M=C.child.stateNode}Yc(C,et,M)}break;case 5:var nt=C.stateNode;if(M===null&&C.flags&4){M=nt;var at=C.memoizedProps;switch(C.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&M.focus();break;case"img":at.src&&(M.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(C.memoizedState===null){var vt=C.alternate;if(vt!==null){var St=vt.memoizedState;if(St!==null){var At=St.dehydrated;At!==null&&_r(At)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}di||C.flags&512&&au(C)}catch(Tt){be(C,C.return,Tt)}}if(C===E){Gt=null;break}if(M=C.sibling,M!==null){M.return=C.return,Gt=M;break}Gt=C.return}}function Yv(E){for(;Gt!==null;){var C=Gt;if(C===E){Gt=null;break}var M=C.sibling;if(M!==null){M.return=C.return,Gt=M;break}Gt=C.return}}function Hv(E){for(;Gt!==null;){var C=Gt;try{switch(C.tag){case 0:case 11:case 15:var M=C.return;try{Go(4,C)}catch(at){be(C,M,at)}break;case 1:var U=C.stateNode;if(typeof U.componentDidMount=="function"){var K=C.return;try{U.componentDidMount()}catch(at){be(C,K,at)}}var Q=C.return;try{au(C)}catch(at){be(C,Q,at)}break;case 5:var et=C.return;try{au(C)}catch(at){be(C,et,at)}}}catch(at){be(C,C.return,at)}if(C===E){Gt=null;break}var nt=C.sibling;if(nt!==null){nt.return=C.return,Gt=nt;break}Gt=C.return}}var vx=Math.ceil,bo=u.ReactCurrentDispatcher,hu=u.ReactCurrentOwner,Zi=u.ReactCurrentBatchConfig,ce=0,qe=null,Xe=null,ni=0,Wi=0,mr=is(0),Ze=0,Sa=null,ws=0,zo=0,uu=0,Aa=null,Pi=null,fu=0,gr=1/0,Nn=null,Vo=!1,du=null,ls=null,Wo=!1,hs=null,Yo=0,Ca=0,cu=null,Ho=-1,Xo=0;function gi(){return ce&6?We():Ho!==-1?Ho:Ho=We()}function us(E){return E.mode&1?ce&2&&ni!==0?ni&-ni:Jg.transition!==null?(Xo===0&&(Xo=Ud()),Xo):(E=xe,E!==0||(E=window.event,E=E===void 0?16:kd(E.type)),E):1}function ln(E,C,M,U){if(50<Ca)throw Ca=0,cu=null,Error(I(185));jr(E,M,U),(!(ce&2)||E!==qe)&&(E===qe&&(!(ce&2)&&(zo|=M),Ze===4&&fs(E,ni)),Ii(E,U),M===1&&ce===0&&!(C.mode&1)&&(gr=We()+500,xo&&ss()))}function Ii(E,C){var M=E.callbackNode;Jm(E,C);var U=qa(E,E===qe?ni:0);if(U===0)M!==null&&Fd(M),E.callbackNode=null,E.callbackPriority=0;else if(C=U&-U,E.callbackPriority!==C){if(M!=null&&Fd(M),C===1)E.tag===0?Qg(kv.bind(null,E)):Mc(kv.bind(null,E)),Kg(function(){!(ce&6)&&ss()}),M=null;else{switch(Gd(U)){case 1:M=Kl;break;case 4:M=Bd;break;case 16:M=ja;break;case 536870912:M=Nd;break;default:M=ja}M=_v(M,Xv.bind(null,E))}E.callbackPriority=C,E.callbackNode=M}}function Xv(E,C){if(Ho=-1,Xo=0,ce&6)throw Error(I(327));var M=E.callbackNode;if(xr()&&E.callbackNode!==M)return null;var U=qa(E,E===qe?ni:0);if(U===0)return null;if(U&30||U&E.expiredLanes||C)C=ko(E,U);else{C=U;var K=ce;ce|=2;var Q=$v();(qe!==E||ni!==C)&&(Nn=null,gr=We()+500,Bs(E,C));do try{gx();break}catch(nt){Kv(E,nt)}while(1);Dh(),bo.current=Q,ce=K,Xe!==null?C=0:(qe=null,ni=0,C=Ze)}if(C!==0){if(C===2&&(K=$l(E),K!==0&&(U=K,C=vu(E,K))),C===1)throw M=Sa,Bs(E,0),fs(E,U),Ii(E,We()),M;if(C===6)fs(E,U);else{if(K=E.current.alternate,!(U&30)&&!px(K)&&(C=ko(E,U),C===2&&(Q=$l(E),Q!==0&&(U=Q,C=vu(E,Q))),C===1))throw M=Sa,Bs(E,0),fs(E,U),Ii(E,We()),M;switch(E.finishedWork=K,E.finishedLanes=U,C){case 0:case 1:throw Error(I(345));case 2:Ns(E,Pi,Nn);break;case 3:if(fs(E,U),(U&130023424)===U&&(C=fu+500-We(),10<C)){if(qa(E,0)!==0)break;if(K=E.suspendedLanes,(K&U)!==U){gi(),E.pingedLanes|=E.suspendedLanes&K;break}E.timeoutHandle=yh(Ns.bind(null,E,Pi,Nn),C);break}Ns(E,Pi,Nn);break;case 4:if(fs(E,U),(U&4194240)===U)break;for(C=E.eventTimes,K=-1;0<U;){var et=31-en(U);Q=1<<et,et=C[et],et>K&&(K=et),U&=~Q}if(U=K,U=We()-U,U=(120>U?120:480>U?480:1080>U?1080:1920>U?1920:3e3>U?3e3:4320>U?4320:1960*vx(U/1960))-U,10<U){E.timeoutHandle=yh(Ns.bind(null,E,Pi,Nn),U);break}Ns(E,Pi,Nn);break;case 5:Ns(E,Pi,Nn);break;default:throw Error(I(329))}}}return Ii(E,We()),E.callbackNode===M?Xv.bind(null,E):null}function vu(E,C){var M=Aa;return E.current.memoizedState.isDehydrated&&(Bs(E,C).flags|=256),E=ko(E,C),E!==2&&(C=Pi,Pi=M,C!==null&&pu(C)),E}function pu(E){Pi===null?Pi=E:Pi.push.apply(Pi,E)}function px(E){for(var C=E;;){if(C.flags&16384){var M=C.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var U=0;U<M.length;U++){var K=M[U],Q=K.getSnapshot;K=K.value;try{if(!nn(Q(),K))return!1}catch{return!1}}}if(M=C.child,C.subtreeFlags&16384&&M!==null)M.return=C,C=M;else{if(C===E)break;for(;C.sibling===null;){if(C.return===null||C.return===E)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function fs(E,C){for(C&=~uu,C&=~zo,E.suspendedLanes|=C,E.pingedLanes&=~C,E=E.expirationTimes;0<C;){var M=31-en(C),U=1<<M;E[M]=-1,C&=~U}}function kv(E){if(ce&6)throw Error(I(327));xr();var C=qa(E,0);if(!(C&1))return Ii(E,We()),null;var M=ko(E,C);if(E.tag!==0&&M===2){var U=$l(E);U!==0&&(C=U,M=vu(E,U))}if(M===1)throw M=Sa,Bs(E,0),fs(E,C),Ii(E,We()),M;if(M===6)throw Error(I(345));return E.finishedWork=E.current.alternate,E.finishedLanes=C,Ns(E,Pi,Nn),Ii(E,We()),null}function mu(E,C){var M=ce;ce|=1;try{return E(C)}finally{ce=M,ce===0&&(gr=We()+500,xo&&ss())}}function Fs(E){hs!==null&&hs.tag===0&&!(ce&6)&&xr();var C=ce;ce|=1;var M=Zi.transition,U=xe;try{if(Zi.transition=null,xe=1,E)return E()}finally{xe=U,Zi.transition=M,ce=C,!(ce&6)&&ss()}}function gu(){Wi=mr.current,Pe(mr)}function Bs(E,C){E.finishedWork=null,E.finishedLanes=0;var M=E.timeoutHandle;if(M!==-1&&(E.timeoutHandle=-1,kg(M)),Xe!==null)for(M=Xe.return;M!==null;){var U=M;switch(Lh(U),U.tag){case 1:U=U.type.childContextTypes,U!=null&&mo();break;case 3:cr(),Pe(Ci),Pe(hi),zh();break;case 5:Gh(U);break;case 4:cr();break;case 13:Pe(Fe);break;case 19:Pe(Fe);break;case 10:wh(U.type._context);break;case 22:case 23:gu()}M=M.return}if(qe=E,Xe=E=ds(E.current,null),ni=Wi=C,Ze=0,Sa=null,uu=zo=ws=0,Pi=Aa=null,Os!==null){for(C=0;C<Os.length;C++)if(M=Os[C],U=M.interleaved,U!==null){M.interleaved=null;var K=U.next,Q=M.pending;if(Q!==null){var et=Q.next;Q.next=K,U.next=et}M.pending=U}Os=null}return E}function Kv(E,C){do{var M=Xe;try{if(Dh(),Io.current=wo,Oo){for(var U=Be.memoizedState;U!==null;){var K=U.queue;K!==null&&(K.pending=null),U=U.next}Oo=!1}if(Ds=0,Je=je=Be=null,ma=!1,ga=0,hu.current=null,M===null||M.return===null){Ze=1,Sa=C,Xe=null;break}t:{var Q=E,et=M.return,nt=M,at=C;if(C=ni,nt.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var vt=at,St=nt,At=St.tag;if(!(St.mode&1)&&(At===0||At===11||At===15)){var Tt=St.alternate;Tt?(St.updateQueue=Tt.updateQueue,St.memoizedState=Tt.memoizedState,St.lanes=Tt.lanes):(St.updateQueue=null,St.memoizedState=null)}var Nt=gv(et);if(Nt!==null){Nt.flags&=-257,xv(Nt,et,nt,Q,C),Nt.mode&1&&mv(Q,vt,C),C=Nt,at=vt;var zt=C.updateQueue;if(zt===null){var Vt=new Set;Vt.add(at),C.updateQueue=Vt}else zt.add(at);break t}else{if(!(C&1)){mv(Q,vt,C),xu();break t}at=Error(I(426))}}else if(Oe&&nt.mode&1){var Ye=gv(et);if(Ye!==null){!(Ye.flags&65536)&&(Ye.flags|=256),xv(Ye,et,nt,Q,C),Oh(vr(at,nt));break t}}Q=at=vr(at,nt),Ze!==4&&(Ze=2),Aa===null?Aa=[Q]:Aa.push(Q),Q=et;do{switch(Q.tag){case 3:Q.flags|=65536,C&=-C,Q.lanes|=C;var ut=vv(Q,at,C);Wc(Q,ut);break t;case 1:nt=at;var lt=Q.type,dt=Q.stateNode;if(!(Q.flags&128)&&(typeof lt.getDerivedStateFromError=="function"||dt!==null&&typeof dt.componentDidCatch=="function"&&(ls===null||!ls.has(dt)))){Q.flags|=65536,C&=-C,Q.lanes|=C;var Rt=pv(Q,nt,C);Wc(Q,Rt);break t}}Q=Q.return}while(Q!==null)}Zv(M)}catch(Wt){C=Wt,Xe===M&&M!==null&&(Xe=M=M.return);continue}break}while(1)}function $v(){var E=bo.current;return bo.current=wo,E===null?wo:E}function xu(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),qe===null||!(ws&268435455)&&!(zo&268435455)||fs(qe,ni)}function ko(E,C){var M=ce;ce|=2;var U=$v();(qe!==E||ni!==C)&&(Nn=null,Bs(E,C));do try{mx();break}catch(K){Kv(E,K)}while(1);if(Dh(),ce=M,bo.current=U,Xe!==null)throw Error(I(261));return qe=null,ni=0,Ze}function mx(){for(;Xe!==null;)jv(Xe)}function gx(){for(;Xe!==null&&!Ym();)jv(Xe)}function jv(E){var C=qv(E.alternate,E,Wi);E.memoizedProps=E.pendingProps,C===null?Zv(E):Xe=C,hu.current=null}function Zv(E){var C=E;do{var M=C.alternate;if(E=C.return,C.flags&32768){if(M=ux(M,C),M!==null){M.flags&=32767,Xe=M;return}if(E!==null)E.flags|=32768,E.subtreeFlags=0,E.deletions=null;else{Ze=6,Xe=null;return}}else if(M=hx(M,C,Wi),M!==null){Xe=M;return}if(C=C.sibling,C!==null){Xe=C;return}Xe=C=E}while(C!==null);Ze===0&&(Ze=5)}function Ns(E,C,M){var U=xe,K=Zi.transition;try{Zi.transition=null,xe=1,xx(E,C,M,U)}finally{Zi.transition=K,xe=U}return null}function xx(E,C,M,U){do xr();while(hs!==null);if(ce&6)throw Error(I(327));M=E.finishedWork;var K=E.finishedLanes;if(M===null)return null;if(E.finishedWork=null,E.finishedLanes=0,M===E.current)throw Error(I(177));E.callbackNode=null,E.callbackPriority=0;var Q=M.lanes|M.childLanes;if(qm(E,Q),E===qe&&(Xe=qe=null,ni=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||Wo||(Wo=!0,_v(ja,function(){return xr(),null})),Q=(M.flags&15990)!==0,M.subtreeFlags&15990||Q){Q=Zi.transition,Zi.transition=null;var et=xe;xe=1;var nt=ce;ce|=4,hu.current=null,dx(E,M),zv(M,E),bg(xh),eo=!!gh,xh=gh=null,E.current=M,cx(M),Hm(),ce=nt,xe=et,Zi.transition=Q}else E.current=M;if(Wo&&(Wo=!1,hs=E,Yo=K),Q=E.pendingLanes,Q===0&&(ls=null),Km(M.stateNode),Ii(E,We()),C!==null)for(U=E.onRecoverableError,M=0;M<C.length;M++)K=C[M],U(K.value,{componentStack:K.stack,digest:K.digest});if(Vo)throw Vo=!1,E=du,du=null,E;return Yo&1&&E.tag!==0&&xr(),Q=E.pendingLanes,Q&1?E===cu?Ca++:(Ca=0,cu=E):Ca=0,ss(),null}function xr(){if(hs!==null){var E=Gd(Yo),C=Zi.transition,M=xe;try{if(Zi.transition=null,xe=16>E?16:E,hs===null)var U=!1;else{if(E=hs,hs=null,Yo=0,ce&6)throw Error(I(331));var K=ce;for(ce|=4,Gt=E.current;Gt!==null;){var Q=Gt,et=Q.child;if(Gt.flags&16){var nt=Q.deletions;if(nt!==null){for(var at=0;at<nt.length;at++){var vt=nt[at];for(Gt=vt;Gt!==null;){var St=Gt;switch(St.tag){case 0:case 11:case 15:Ta(8,St,Q)}var At=St.child;if(At!==null)At.return=St,Gt=At;else for(;Gt!==null;){St=Gt;var Tt=St.sibling,Nt=St.return;if(Bv(St),St===vt){Gt=null;break}if(Tt!==null){Tt.return=Nt,Gt=Tt;break}Gt=Nt}}}var zt=Q.alternate;if(zt!==null){var Vt=zt.child;if(Vt!==null){zt.child=null;do{var Ye=Vt.sibling;Vt.sibling=null,Vt=Ye}while(Vt!==null)}}Gt=Q}}if(Q.subtreeFlags&2064&&et!==null)et.return=Q,Gt=et;else t:for(;Gt!==null;){if(Q=Gt,Q.flags&2048)switch(Q.tag){case 0:case 11:case 15:Ta(9,Q,Q.return)}var ut=Q.sibling;if(ut!==null){ut.return=Q.return,Gt=ut;break t}Gt=Q.return}}var lt=E.current;for(Gt=lt;Gt!==null;){et=Gt;var dt=et.child;if(et.subtreeFlags&2064&&dt!==null)dt.return=et,Gt=dt;else t:for(et=lt;Gt!==null;){if(nt=Gt,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Go(9,nt)}}catch(Wt){be(nt,nt.return,Wt)}if(nt===et){Gt=null;break t}var Rt=nt.sibling;if(Rt!==null){Rt.return=nt.return,Gt=Rt;break t}Gt=nt.return}}if(ce=K,ss(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Za,E)}catch{}U=!0}return U}finally{xe=M,Zi.transition=C}}return!1}function Qv(E,C,M){C=vr(M,C),C=vv(E,C,1),E=as(E,C,1),C=gi(),E!==null&&(jr(E,1,C),Ii(E,C))}function be(E,C,M){if(E.tag===3)Qv(E,E,M);else for(;C!==null;){if(C.tag===3){Qv(C,E,M);break}else if(C.tag===1){var U=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof U.componentDidCatch=="function"&&(ls===null||!ls.has(U))){E=vr(M,E),E=pv(C,E,1),C=as(C,E,1),E=gi(),C!==null&&(jr(C,1,E),Ii(C,E));break}}C=C.return}}function Ex(E,C,M){var U=E.pingCache;U!==null&&U.delete(C),C=gi(),E.pingedLanes|=E.suspendedLanes&M,qe===E&&(ni&M)===M&&(Ze===4||Ze===3&&(ni&130023424)===ni&&500>We()-fu?Bs(E,0):uu|=M),Ii(E,C)}function Jv(E,C){C===0&&(E.mode&1?(C=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):C=1);var M=gi();E=wn(E,C),E!==null&&(jr(E,C,M),Ii(E,M))}function yx(E){var C=E.memoizedState,M=0;C!==null&&(M=C.retryLane),Jv(E,M)}function Tx(E,C){var M=0;switch(E.tag){case 13:var U=E.stateNode,K=E.memoizedState;K!==null&&(M=K.retryLane);break;case 19:U=E.stateNode;break;default:throw Error(I(314))}U!==null&&U.delete(C),Jv(E,M)}var qv;qv=function(E,C,M){if(E!==null)if(E.memoizedProps!==C.pendingProps||Ci.current)Li=!0;else{if(!(E.lanes&M)&&!(C.flags&128))return Li=!1,lx(E,C,M);Li=!!(E.flags&131072)}else Li=!1,Oe&&C.flags&1048576&&Dc(C,yo,C.index);switch(C.lanes=0,C.tag){case 2:var U=C.type;No(E,C),E=C.pendingProps;var K=ar(C,hi.current);dr(C,M),K=Yh(null,C,U,E,K,M);var Q=Hh();return C.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(C.tag=1,C.memoizedState=null,C.updateQueue=null,Ri(U)?(Q=!0,go(C)):Q=!1,C.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,Nh(C),K.updater=Fo,C.stateNode=K,K._reactInternals=C,Zh(C,U,E,M),C=_h(null,C,U,!0,Q,M)):(C.tag=0,Oe&&Q&&Rh(C),mi(null,C,K,M),C=C.child),C;case 16:U=C.elementType;t:{switch(No(E,C),E=C.pendingProps,K=U._init,U=K(U._payload),C.type=U,K=C.tag=Ax(U),E=rn(U,E),K){case 0:C=qh(null,C,U,E,M);break t;case 1:C=Cv(null,C,U,E,M);break t;case 11:C=Ev(null,C,U,E,M);break t;case 14:C=yv(null,C,U,rn(U.type,E),M);break t}throw Error(I(306,U,""))}return C;case 0:return U=C.type,K=C.pendingProps,K=C.elementType===U?K:rn(U,K),qh(E,C,U,K,M);case 1:return U=C.type,K=C.pendingProps,K=C.elementType===U?K:rn(U,K),Cv(E,C,U,K,M);case 3:t:{if(Rv(C),E===null)throw Error(I(387));U=C.pendingProps,Q=C.memoizedState,K=Q.element,Vc(E,C),Lo(C,U,null,M);var et=C.memoizedState;if(U=et.element,Q.isDehydrated)if(Q={element:U,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},C.updateQueue.baseState=Q,C.memoizedState=Q,C.flags&256){K=vr(Error(I(423)),C),C=Lv(E,C,U,M,K);break t}else if(U!==K){K=vr(Error(I(424)),C),C=Lv(E,C,U,M,K);break t}else for(Vi=es(C.stateNode.containerInfo.firstChild),zi=C,Oe=!0,sn=null,M=bc(C,null,U,M),C.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(hr(),U===K){C=Bn(E,C,M);break t}mi(E,C,U,M)}C=C.child}return C;case 5:return Hc(C),E===null&&Ih(C),U=C.type,K=C.pendingProps,Q=E!==null?E.memoizedProps:null,et=K.children,Eh(U,K)?et=null:Q!==null&&Eh(U,Q)&&(C.flags|=32),Av(E,C),mi(E,C,et,M),C.child;case 6:return E===null&&Ih(C),null;case 13:return Pv(E,C,M);case 4:return Uh(C,C.stateNode.containerInfo),U=C.pendingProps,E===null?C.child=ur(C,null,U,M):mi(E,C,U,M),C.child;case 11:return U=C.type,K=C.pendingProps,K=C.elementType===U?K:rn(U,K),Ev(E,C,U,K,M);case 7:return mi(E,C,C.pendingProps,M),C.child;case 8:return mi(E,C,C.pendingProps.children,M),C.child;case 12:return mi(E,C,C.pendingProps.children,M),C.child;case 10:t:{if(U=C.type._context,K=C.pendingProps,Q=C.memoizedProps,et=K.value,Ce(Ao,U._currentValue),U._currentValue=et,Q!==null)if(nn(Q.value,et)){if(Q.children===K.children&&!Ci.current){C=Bn(E,C,M);break t}}else for(Q=C.child,Q!==null&&(Q.return=C);Q!==null;){var nt=Q.dependencies;if(nt!==null){et=Q.child;for(var at=nt.firstContext;at!==null;){if(at.context===U){if(Q.tag===1){at=Fn(-1,M&-M),at.tag=2;var vt=Q.updateQueue;if(vt!==null){vt=vt.shared;var St=vt.pending;St===null?at.next=at:(at.next=St.next,St.next=at),vt.pending=at}}Q.lanes|=M,at=Q.alternate,at!==null&&(at.lanes|=M),Fh(Q.return,M,C),nt.lanes|=M;break}at=at.next}}else if(Q.tag===10)et=Q.type===C.type?null:Q.child;else if(Q.tag===18){if(et=Q.return,et===null)throw Error(I(341));et.lanes|=M,nt=et.alternate,nt!==null&&(nt.lanes|=M),Fh(et,M,C),et=Q.sibling}else et=Q.child;if(et!==null)et.return=Q;else for(et=Q;et!==null;){if(et===C){et=null;break}if(Q=et.sibling,Q!==null){Q.return=et.return,et=Q;break}et=et.return}Q=et}mi(E,C,K.children,M),C=C.child}return C;case 9:return K=C.type,U=C.pendingProps.children,dr(C,M),K=$i(K),U=U(K),C.flags|=1,mi(E,C,U,M),C.child;case 14:return U=C.type,K=rn(U,C.pendingProps),K=rn(U.type,K),yv(E,C,U,K,M);case 15:return Tv(E,C,C.type,C.pendingProps,M);case 17:return U=C.type,K=C.pendingProps,K=C.elementType===U?K:rn(U,K),No(E,C),C.tag=1,Ri(U)?(E=!0,go(C)):E=!1,dr(C,M),dv(C,U,K),Zh(C,U,K,M),_h(null,C,U,!0,E,M);case 19:return Ov(E,C,M);case 22:return Sv(E,C,M)}throw Error(I(156,C.tag))};function _v(E,C){return wd(E,C)}function Sx(E,C,M,U){this.tag=E,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=U,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(E,C,M,U){return new Sx(E,C,M,U)}function Eu(E){return E=E.prototype,!(!E||!E.isReactComponent)}function Ax(E){if(typeof E=="function")return Eu(E)?1:0;if(E!=null){if(E=E.$$typeof,E===R)return 11;if(E===O)return 14}return 2}function ds(E,C){var M=E.alternate;return M===null?(M=Qi(E.tag,C,E.key,E.mode),M.elementType=E.elementType,M.type=E.type,M.stateNode=E.stateNode,M.alternate=E,E.alternate=M):(M.pendingProps=C,M.type=E.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=E.flags&14680064,M.childLanes=E.childLanes,M.lanes=E.lanes,M.child=E.child,M.memoizedProps=E.memoizedProps,M.memoizedState=E.memoizedState,M.updateQueue=E.updateQueue,C=E.dependencies,M.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},M.sibling=E.sibling,M.index=E.index,M.ref=E.ref,M}function Ko(E,C,M,U,K,Q){var et=2;if(U=E,typeof E=="function")Eu(E)&&(et=1);else if(typeof E=="string")et=5;else t:switch(E){case g:return Us(M.children,K,Q,C);case x:et=8,K|=8;break;case m:return E=Qi(12,M,C,K|2),E.elementType=m,E.lanes=Q,E;case P:return E=Qi(13,M,C,K),E.elementType=P,E.lanes=Q,E;case D:return E=Qi(19,M,C,K),E.elementType=D,E.lanes=Q,E;case G:return $o(M,K,Q,C);default:if(typeof E=="object"&&E!==null)switch(E.$$typeof){case y:et=10;break t;case T:et=9;break t;case R:et=11;break t;case O:et=14;break t;case B:et=16,U=null;break t}throw Error(I(130,E==null?E:typeof E,""))}return C=Qi(et,M,C,K),C.elementType=E,C.type=U,C.lanes=Q,C}function Us(E,C,M,U){return E=Qi(7,E,U,C),E.lanes=M,E}function $o(E,C,M,U){return E=Qi(22,E,U,C),E.elementType=G,E.lanes=M,E.stateNode={isHidden:!1},E}function yu(E,C,M){return E=Qi(6,E,null,C),E.lanes=M,E}function Tu(E,C,M){return C=Qi(4,E.children!==null?E.children:[],E.key,C),C.lanes=M,C.stateNode={containerInfo:E.containerInfo,pendingChildren:null,implementation:E.implementation},C}function Cx(E,C,M,U,K){this.tag=C,this.containerInfo=E,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=U,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function Su(E,C,M,U,K,Q,et,nt,at){return E=new Cx(E,C,M,nt,at),C===1?(C=1,Q===!0&&(C|=8)):C=0,Q=Qi(3,null,null,C),E.current=Q,Q.stateNode=E,Q.memoizedState={element:U,isDehydrated:M,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nh(Q),E}function Rx(E,C,M){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:U==null?null:""+U,children:E,containerInfo:C,implementation:M}}function t0(E){if(!E)return ns;E=E._reactInternals;t:{if(Cs(E)!==E||E.tag!==1)throw Error(I(170));var C=E;do{switch(C.tag){case 3:C=C.stateNode.context;break t;case 1:if(Ri(C.type)){C=C.stateNode.__reactInternalMemoizedMergedChildContext;break t}}C=C.return}while(C!==null);throw Error(I(171))}if(E.tag===1){var M=E.type;if(Ri(M))return Ic(E,M,C)}return C}function e0(E,C,M,U,K,Q,et,nt,at){return E=Su(M,U,!0,E,K,Q,et,nt,at),E.context=t0(null),M=E.current,U=gi(),K=us(M),Q=Fn(U,K),Q.callback=C??null,as(M,Q,K),E.current.lanes=K,jr(E,K,U),Ii(E,U),E}function jo(E,C,M,U){var K=C.current,Q=gi(),et=us(K);return M=t0(M),C.context===null?C.context=M:C.pendingContext=M,C=Fn(Q,et),C.payload={element:E},U=U===void 0?null:U,U!==null&&(C.callback=U),E=as(K,C,et),E!==null&&(ln(E,K,et,Q),Ro(E,K,et)),et}function Zo(E){if(E=E.current,!E.child)return null;switch(E.child.tag){case 5:return E.child.stateNode;default:return E.child.stateNode}}function i0(E,C){if(E=E.memoizedState,E!==null&&E.dehydrated!==null){var M=E.retryLane;E.retryLane=M!==0&&M<C?M:C}}function Au(E,C){i0(E,C),(E=E.alternate)&&i0(E,C)}function Lx(){return null}var n0=typeof reportError=="function"?reportError:function(E){console.error(E)};function Cu(E){this._internalRoot=E}Qo.prototype.render=Cu.prototype.render=function(E){var C=this._internalRoot;if(C===null)throw Error(I(409));jo(E,C,null,null)},Qo.prototype.unmount=Cu.prototype.unmount=function(){var E=this._internalRoot;if(E!==null){this._internalRoot=null;var C=E.containerInfo;Fs(function(){jo(null,E,null,null)}),C[In]=null}};function Qo(E){this._internalRoot=E}Qo.prototype.unstable_scheduleHydration=function(E){if(E){var C=Vd();E={blockedOn:null,target:E,priority:C};for(var M=0;M<qn.length&&C!==0&&C<qn[M].priority;M++);qn.splice(M,0,E),M===0&&Hd(E)}};function Ru(E){return!(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)}function Jo(E){return!(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11&&(E.nodeType!==8||E.nodeValue!==" react-mount-point-unstable "))}function s0(){}function Px(E,C,M,U,K){if(K){if(typeof U=="function"){var Q=U;U=function(){var vt=Zo(et);Q.call(vt)}}var et=e0(C,U,E,0,null,!1,!1,"",s0);return E._reactRootContainer=et,E[In]=et.current,la(E.nodeType===8?E.parentNode:E),Fs(),et}for(;K=E.lastChild;)E.removeChild(K);if(typeof U=="function"){var nt=U;U=function(){var vt=Zo(at);nt.call(vt)}}var at=Su(E,0,!1,null,null,!1,!1,"",s0);return E._reactRootContainer=at,E[In]=at.current,la(E.nodeType===8?E.parentNode:E),Fs(function(){jo(C,at,M,U)}),at}function qo(E,C,M,U,K){var Q=M._reactRootContainer;if(Q){var et=Q;if(typeof K=="function"){var nt=K;K=function(){var at=Zo(et);nt.call(at)}}jo(C,et,E,K)}else et=Px(M,C,E,K,U);return Zo(et)}bd=function(E){switch(E.tag){case 3:var C=E.stateNode;if(C.current.memoizedState.isDehydrated){var M=$r(C.pendingLanes);M!==0&&(Zl(C,M|1),Ii(C,We()),!(ce&6)&&(gr=We()+500,ss()))}break;case 13:Fs(function(){var U=wn(E,1);if(U!==null){var K=gi();ln(U,E,1,K)}}),Au(E,1)}},Ql=function(E){if(E.tag===13){var C=wn(E,134217728);if(C!==null){var M=gi();ln(C,E,134217728,M)}Au(E,134217728)}},zd=function(E){if(E.tag===13){var C=us(E),M=wn(E,C);if(M!==null){var U=gi();ln(M,E,C,U)}Au(E,C)}},Vd=function(){return xe},Wd=function(E,C){var M=xe;try{return xe=E,C()}finally{xe=M}},Ai=function(E,C,M){switch(C){case"input":if(ft(E,M),C=M.name,M.type==="radio"&&C!=null){for(M=E;M.parentNode;)M=M.parentNode;for(M=M.querySelectorAll("input[name="+JSON.stringify(""+C)+'][type="radio"]'),C=0;C<M.length;C++){var U=M[C];if(U!==E&&U.form===E.form){var K=po(U);if(!K)throw Error(I(90));it(U),ft(U,K)}}}break;case"textarea":Pt(E,M);break;case"select":C=M.value,C!=null&&It(E,!!M.multiple,C,!1)}},Xr=mu,Ka=Fs;var Ix={usingClientEntryPoint:!1,Events:[fa,sr,po,Xa,ka,mu]},Ra={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ox={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:function(E){return E=Md(E),E===null?null:E.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||Lx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{Za=_o.inject(Ox),gn=_o}catch{}}return Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ix,Oi.createPortal=function(E,C){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ru(C))throw Error(I(200));return Rx(E,C,null,M)},Oi.createRoot=function(E,C){if(!Ru(E))throw Error(I(299));var M=!1,U="",K=n0;return C!=null&&(C.unstable_strictMode===!0&&(M=!0),C.identifierPrefix!==void 0&&(U=C.identifierPrefix),C.onRecoverableError!==void 0&&(K=C.onRecoverableError)),C=Su(E,1,!1,null,null,M,!1,U,K),E[In]=C.current,la(E.nodeType===8?E.parentNode:E),new Cu(C)},Oi.findDOMNode=function(E){if(E==null)return null;if(E.nodeType===1)return E;var C=E._reactInternals;if(C===void 0)throw typeof E.render=="function"?Error(I(188)):(E=Object.keys(E).join(","),Error(I(268,E)));return E=Md(C),E=E===null?null:E.stateNode,E},Oi.flushSync=function(E){return Fs(E)},Oi.hydrate=function(E,C,M){if(!Jo(C))throw Error(I(200));return qo(null,E,C,!0,M)},Oi.hydrateRoot=function(E,C,M){if(!Ru(E))throw Error(I(405));var U=M!=null&&M.hydratedSources||null,K=!1,Q="",et=n0;if(M!=null&&(M.unstable_strictMode===!0&&(K=!0),M.identifierPrefix!==void 0&&(Q=M.identifierPrefix),M.onRecoverableError!==void 0&&(et=M.onRecoverableError)),C=e0(C,null,E,1,M??null,K,!1,Q,et),E[In]=C.current,la(E),U)for(E=0;E<U.length;E++)M=U[E],K=M._getVersion,K=K(M._source),C.mutableSourceEagerHydrationData==null?C.mutableSourceEagerHydrationData=[M,K]:C.mutableSourceEagerHydrationData.push(M,K);return new Qo(C)},Oi.render=function(E,C,M){if(!Jo(C))throw Error(I(200));return qo(null,E,C,!1,M)},Oi.unmountComponentAtNode=function(E){if(!Jo(E))throw Error(I(40));return E._reactRootContainer?(Fs(function(){qo(null,null,E,!1,function(){E._reactRootContainer=null,E[In]=null})}),!0):!1},Oi.unstable_batchedUpdates=mu,Oi.unstable_renderSubtreeIntoContainer=function(E,C,M,U){if(!Jo(M))throw Error(I(200));if(E==null||E._reactInternals===void 0)throw Error(I(38));return qo(E,C,M,!1,U)},Oi.version="18.3.1-next-f1338f8080-20240426",Oi}var ep;function hE(){if(ep)return ff.exports;ep=1;function L(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L)}catch(A){console.error(A)}}return L(),ff.exports=lE(),ff.exports}var ip;function uE(){if(ip)return il;ip=1;var L=hE();return il.createRoot=L.createRoot,il.hydrateRoot=L.hydrateRoot,il}(()=>{var L={460:function(F,N,H){var p=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(N,"__esModule",{value:!0});var S=p(H(969)),t=S.default.Loader.File.createObjectURL;S.default.Loader.File.createObjectURL=function(h,c,l){h.originBlob=c,t.call(this,h,c,l)}},610:function(F,N,H){var p=this&&this.__createBinding||(Object.create?function(t,h,c,l){l===void 0&&(l=c);var r=Object.getOwnPropertyDescriptor(h,c);r&&!("get"in r?!h.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return h[c]}}),Object.defineProperty(t,l,r)}:function(t,h,c,l){l===void 0&&(l=c),t[l]=h[c]}),S=this&&this.__exportStar||function(t,h){for(var c in t)c==="default"||Object.prototype.hasOwnProperty.call(h,c)||p(h,t,c)};Object.defineProperty(N,"__esModule",{value:!0}),S(H(159),N),S(H(644),N),S(H(418),N)},644:function(F,N,H){var p=this&&this.__createBinding||(Object.create?function(r,s,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(s,e);o&&!("get"in o?!s.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return s[e]}}),Object.defineProperty(r,i,o)}:function(r,s,e,i){i===void 0&&(i=e),r[i]=s[e]}),S=this&&this.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),t=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&p(s,r,e);return S(s,r),s},h=this&&this.__rest||function(r,s){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)s.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(e[i[o]]=r[i[o]])}return e};Object.defineProperty(N,"__esModule",{value:!0}),N.RelativePosition=void 0;var c=t(H(497)),l=H(362);N.RelativePosition=function(r){var s=r.children,e=h(r,["children"]),i=(0,l.useRelativePosition)(e);return(0,c.useLayoutEffect)(function(){i.current&&(i.current.style.position="absolute")},[]),c.default.createElement("div",{ref:i},s)}},159:function(F,N,H){var p=this&&this.__createBinding||(Object.create?function(r,s,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(s,e);o&&!("get"in o?!s.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return s[e]}}),Object.defineProperty(r,i,o)}:function(r,s,e,i){i===void 0&&(i=e),r[i]=s[e]}),S=this&&this.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),t=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&p(s,r,e);return S(s,r),s},h=this&&this.__rest||function(r,s){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)s.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(e[i[o]]=r[i[o]])}return e};Object.defineProperty(N,"__esModule",{value:!0}),N.RelativeScale=void 0;var c=t(H(497)),l=H(362);N.RelativeScale=function(r){var s=r.children,e=h(r,["children"]),i=(0,l.useRelativeScale)(e);return(0,c.useLayoutEffect)(function(){i.current&&(i.current.style.position="absolute")},[]),c.default.createElement("div",{ref:i},s)}},418:function(F,N,H){var p=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(N,"__esModule",{value:!0}),N.Texture=void 0;var S=p(H(497)),t=H(362);N.Texture=function(h){var c=h.name,l=(0,t.useTexture)(c);return l?S.default.createElement("img",{src:l,role:"texture",alt:c}):null}},794:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.SceneProvider=N.SceneContext=void 0;var p=H(497);N.SceneContext=(0,p.createContext)(null),N.SceneProvider=N.SceneContext.Provider},362:function(F,N,H){var p=this&&this.__createBinding||(Object.create?function(t,h,c,l){l===void 0&&(l=c);var r=Object.getOwnPropertyDescriptor(h,c);r&&!("get"in r?!h.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return h[c]}}),Object.defineProperty(t,l,r)}:function(t,h,c,l){l===void 0&&(l=c),t[l]=h[c]}),S=this&&this.__exportStar||function(t,h){for(var c in t)c==="default"||Object.prototype.hasOwnProperty.call(h,c)||p(h,t,c)};Object.defineProperty(N,"__esModule",{value:!0}),S(H(386),N),S(H(664),N),S(H(531),N),S(H(692),N),S(H(465),N),S(H(870),N),S(H(666),N),S(H(457),N),S(H(13),N),S(H(90),N),S(H(253),N),S(H(711),N),S(H(519),N)},253:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useClickOutside=void 0;var p=H(497),S=H(13);N.useClickOutside=function(t,h,c){var l=(0,S.useMobilePlatform)(),r=(0,p.useCallback)(function(s){t.current&&(s.composedPath().includes(t.current)||h())},c);(0,p.useEffect)(function(){var s=l?"touchend":"mouseup";return document.addEventListener(s,r),function(){document.removeEventListener(s,r)}},[l,r])}},90:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useClick=void 0;var p=H(497),S=H(13);N.useClick=function(t,h,c,l){var r=(0,S.useMobilePlatform)(),s=(0,p.useCallback)(function(e){c(e),e.stopPropagation(),e.preventDefault()},l);(0,p.useEffect)(function(){var e,i=t.current;if(i)return e=r?h==="up"?"touchend":"touchstart":h==="up"?"mouseup":"mousedown",i.addEventListener(e,s),function(){i.removeEventListener(e,s)}},[h,r,s])}},664:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useCurrentScene=void 0;var p=H(497),S=H(794);N.useCurrentScene=function(){var t=(0,p.useContext)(S.SceneContext);if(!t)throw Error("Undefined scene context");return t}},711:(F,N,H)=>{function p(t,h){(h==null||h>t.length)&&(h=t.length);for(var c=0,l=new Array(h);c<h;c++)l[c]=t[c];return l}Object.defineProperty(N,"__esModule",{value:!0}),N.useEvent=void 0;var S=H(497);N.useEvent=function(t,h,c,l){var r;(0,S.useEffect)(function(){if(t)return t.on(h,c),function(){t.off(h,c)}},[t,h].concat(function(s){if(Array.isArray(s))return p(s)}(r=l)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(r)||function(s,e){if(s){if(typeof s=="string")return p(s,e);var i=Object.prototype.toString.call(s).slice(8,-1);return i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set"?Array.from(s):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(s,e):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))}},386:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useGame=void 0;var p=H(497),S=H(794);N.useGame=function(){var t=(0,p.useContext)(S.SceneContext);if(!t)throw Error("Undefined scene context");return t.game}},519:(F,N,H)=>{function p(r,s){if(r){if(typeof r=="string")return S(r,s);var e=Object.prototype.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?S(r,s):void 0}}function S(r,s){(s==null||s>r.length)&&(s=r.length);for(var e=0,i=new Array(s);e<s;e++)i[e]=r[e];return i}Object.defineProperty(N,"__esModule",{value:!0}),N.useInteraction=void 0;var t=H(497),h=H(13),c=H(90),l=H(253);N.useInteraction=function(r,s,e){var i,o,n=(0,h.useMobilePlatform)(),a=(i=(0,t.useState)(!1),o=2,function(g){if(Array.isArray(g))return g}(i)||function(g,x){var m=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(m!=null){var y,T,R,P,D=[],O=!0,B=!1;try{if(R=(m=m.call(g)).next,x===0){if(Object(m)!==m)return;O=!1}else for(;!(O=(y=R.call(m)).done)&&(D.push(y.value),D.length!==x);O=!0);}catch(G){B=!0,T=G}finally{try{if(!O&&m.return!=null&&(P=m.return(),Object(P)!==P))return}finally{if(B)throw T}}return D}}(i,o)||p(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),f=a[0],u=a[1];(0,l.useClickOutside)(r,function(){u(!1)},[]),(0,c.useClick)(r,"down",function(){f?(s?.(),n&&u(!1)):u(!0)},[f,n].concat(function(g){return function(x){if(Array.isArray(x))return S(x)}(g)||function(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(g)||p(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(e??[])));var d=function(){u(!0)},v=function(){u(!1)};return(0,t.useEffect)(function(){if(!n){var g=r.current;if(g)return g.addEventListener("mouseenter",d),g.addEventListener("mouseleave",v),function(){g.removeEventListener("mouseenter",d),g.removeEventListener("mouseleave",v)}}},[n]),f}},457:(F,N,H)=>{function p(t,h){(h==null||h>t.length)&&(h=t.length);for(var c=0,l=new Array(h);c<h;c++)l[c]=t[c];return l}Object.defineProperty(N,"__esModule",{value:!0}),N.useMatchMedia=void 0;var S=H(497);N.useMatchMedia=function(t){var h,c,l=(h=(0,S.useState)(null),c=2,function(i){if(Array.isArray(i))return i}(h)||function(i,o){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var a,f,u,d,v=[],g=!0,x=!1;try{if(u=(n=n.call(i)).next,o===0){if(Object(n)!==n)return;g=!1}else for(;!(g=(a=u.call(n)).done)&&(v.push(a.value),v.length!==o);g=!0);}catch(m){x=!0,f=m}finally{try{if(!g&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(x)throw f}}return v}}(h,c)||function(i,o){if(i){if(typeof i=="string")return p(i,o);var n=Object.prototype.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(i,o):void 0}}(h,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),r=l[0],s=l[1],e=function(i){s(i.matches)};return(0,S.useEffect)(function(){var i=window.matchMedia(t);return s(i.matches),i.addEventListener("change",e),function(){i.removeEventListener("change",e)}},[t]),r}},13:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useMobilePlatform=void 0;var p=H(386);N.useMobilePlatform=function(){return!(0,p.useGame)().device.os.desktop}},465:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useRelativePosition=void 0;var p=H(497),S=H(664),t=H(692);N.useRelativePosition=function(h){var c=h.x,l=h.y,r=h.camera,s=(0,S.useCurrentScene)(),e=r??s.cameras.main,i=(0,p.useRef)(null);return(0,t.useSceneUpdate)(s,function(){if(i.current){var o=Math.round((c-e.worldView.x)*e.zoom),n=Math.round((l-e.worldView.y)*e.zoom);i.current.style.transform="translate(".concat(o,"px, ").concat(n,"px)")}},[c,l,e]),i}},870:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useRelativeScale=void 0;var p=H(497),S=H(386);N.useRelativeScale=function(t){var h=t.target,c=t.min,l=t.max,r=t.round,s=(0,S.useGame)(),e=(0,p.useRef)(null),i=(0,p.useCallback)(function(){if(e.current){var o=s.canvas.parentElement;if(o){var n=o.clientWidth/h;typeof l=="number"&&(n=Math.min(n,l)),typeof c=="number"&&(n=Math.max(n,c)),r&&(n=Math.round(10*n)/10),e.current.style.removeProperty("transform"),e.current.style.removeProperty("transformOrigin"),e.current.style.removeProperty("width"),e.current.style.removeProperty("height");var a=e.current.clientWidth,f=e.current.clientHeight;e.current.style.transform="scale(".concat(n,")"),e.current.style.transformOrigin="0 0",e.current.style.width="".concat(a/n,"px"),e.current.style.height="".concat(f/n,"px")}}},[h,c,l,r]);return(0,p.useEffect)(function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[i]),e}},692:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useSceneUpdate=void 0;var p=H(497);N.useSceneUpdate=function(S,t,h){(0,p.useEffect)(function(){return t(),S.events.on("update",t),function(){S.events.off("update",t)}},h)}},531:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useScene=void 0;var p=H(497),S=H(386);N.useScene=function(t){var h=(0,S.useGame)();return(0,p.useMemo)(function(){return h.scene.getScene(t)},[t])}},666:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.useTexture=void 0;var p=H(497),S=H(386);N.useTexture=function(t){var h=(0,S.useGame)();return(0,p.useMemo)(function(){var c=h.textures.get(t).getSourceImage();return c.originBlob?URL.createObjectURL(c.originBlob):null},[t])}},820:function(F,N,H){var p=this&&this.__createBinding||(Object.create?function(t,h,c,l){l===void 0&&(l=c);var r=Object.getOwnPropertyDescriptor(h,c);r&&!("get"in r?!h.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return h[c]}}),Object.defineProperty(t,l,r)}:function(t,h,c,l){l===void 0&&(l=c),t[l]=h[c]}),S=this&&this.__exportStar||function(t,h){for(var c in t)c==="default"||Object.prototype.hasOwnProperty.call(h,c)||p(h,t,c)};Object.defineProperty(N,"__esModule",{value:!0}),H(460),S(H(362),N),S(H(130),N),S(H(904),N),S(H(610),N)},130:function(F,N,H){function p(a){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(a)}function S(a,f){for(var u=0;u<f.length;u++){var d=f[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,t(d.key),d)}}function t(a){var f=function(u,d){if(p(u)!="object"||!u)return u;var v=u[Symbol.toPrimitive];if(v!==void 0){var g=v.call(u,"string");if(p(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(a);return p(f)=="symbol"?f:String(f)}var h=this&&this.__createBinding||(Object.create?function(a,f,u,d){d===void 0&&(d=u);var v=Object.getOwnPropertyDescriptor(f,u);v&&!("get"in v?!f.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return f[u]}}),Object.defineProperty(a,d,v)}:function(a,f,u,d){d===void 0&&(d=u),a[d]=f[u]}),c=this&&this.__setModuleDefault||(Object.create?function(a,f){Object.defineProperty(a,"default",{enumerable:!0,value:f})}:function(a,f){a.default=f}),l=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var f={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&h(f,a,u);return c(f,a),f},r=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(N,"__esModule",{value:!0}),N.Interface=void 0;var s=r(H(969)),e=l(H(497)),i=H(183),o=H(794),n=function(){function a(d){var v=this;(function(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a);var g=d.game.canvas.parentElement;if(!g)throw Error("Undefined canvas parent element");d.interface&&(console.warn("Scene already had an existing interface"),d.interface.destroy()),this.container=document.createElement("div"),this.root=(0,i.createRoot)(this.container),this.scene=d,this.scene.interface=this,this.configureContainer(),this.setInteractive(!1),g.style.position="relative",g.append(this.container),this.scene.events.on("shutdown",function(){v.destroy()})}var f,u;return f=a,u=[{key:"setInteractive",value:function(d){this.container.style.pointerEvents=d?"all":"none",this.container.style.userSelect=d?"all":"none"}},{key:"render",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=this.scene;d.displayName&&this.container.setAttribute("data-component",d.displayName),this.root.render(e.default.createElement(o.SceneProvider,{value:g},e.default.createElement(function(){return(0,e.useEffect)(function(){g.events.emit(s.default.Interface.Events.MOUNT)},[]),e.default.createElement(d,Object.assign({},v))},null)))}},{key:"destroy",value:function(){this.scene.events.emit(s.default.Interface.Events.UNMOUNT),delete this.scene.interface,this.root.unmount(),this.container.remove()}},{key:"configureContainer",value:function(){this.container.className="phaser-scene-interface",this.container.style.position="absolute",this.container.style.left="0",this.container.style.right="0",this.container.style.top="0",this.container.style.bottom="0"}}],u&&S(f.prototype,u),Object.defineProperty(f,"prototype",{writable:!1}),a}();N.Interface=n,s.default.Interface={Events:{MOUNT:"interface_mount",UNMOUNT:"interface_unmount"}}},898:(F,N)=>{function H(h,c){var l=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!l){if(Array.isArray(h)||(l=function(n,a){if(n){if(typeof n=="string")return p(n,a);var f=Object.prototype.toString.call(n).slice(8,-1);return f==="Object"&&n.constructor&&(f=n.constructor.name),f==="Map"||f==="Set"?Array.from(n):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?p(n,a):void 0}}(h))||c&&h&&typeof h.length=="number"){l&&(h=l);var r=0,s=function(){};return{s,n:function(){return r>=h.length?{done:!0}:{done:!1,value:h[r++]}},e:function(n){throw n},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var e,i=!0,o=!1;return{s:function(){l=l.call(h)},n:function(){var n=l.next();return i=n.done,n},e:function(n){o=!0,e=n},f:function(){try{i||l.return==null||l.return()}finally{if(o)throw e}}}}function p(h,c){(c==null||c>h.length)&&(c=h.length);for(var l=0,r=new Array(c);l<c;l++)r[l]=h[l];return r}function S(h,c,l){if(!c)return h;if(!h||h.length!==c.length)return c;for(var r=l??Object.keys(h[0]),s=0;s<h.length;s++){var e,i=H(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(h[s][o]!==c[s][o])return c}}catch(n){i.e(n)}finally{i.f()}}return h}function t(h,c,l){if(!c)return h;if(!h)return c;var r,s=H(l??Object.keys(h));try{for(s.s();!(r=s.n()).done;){var e=r.value;if(h[e]!==c[e])return c}}catch(i){s.e(i)}finally{s.f()}return h}Object.defineProperty(N,"__esModule",{value:!0}),N.ifModifiedObject=N.getModifiedObject=N.ifModifiedArray=N.getModifiedArray=void 0,N.getModifiedArray=S,N.ifModifiedArray=function(h,c){return function(l){return S(l,h,c)}},N.getModifiedObject=t,N.ifModifiedObject=function(h,c){return function(l){return t(l,h,c)}}},904:function(F,N,H){var p=this&&this.__createBinding||(Object.create?function(t,h,c,l){l===void 0&&(l=c);var r=Object.getOwnPropertyDescriptor(h,c);r&&!("get"in r?!h.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return h[c]}}),Object.defineProperty(t,l,r)}:function(t,h,c,l){l===void 0&&(l=c),t[l]=h[c]}),S=this&&this.__exportStar||function(t,h){for(var c in t)c==="default"||Object.prototype.hasOwnProperty.call(h,c)||p(h,t,c)};Object.defineProperty(N,"__esModule",{value:!0}),S(H(898),N)},969:F=>{F.exports=Mp},497:F=>{F.exports=nd()},183:F=>{F.exports=uE()}},A={},I=function F(N){var H=A[N];if(H!==void 0)return H.exports;var p=A[N]={exports:{}};return L[N].call(p.exports,p,p.exports,F),p.exports}(820);zp.exports=I})();var Ct=zp.exports,mt=nd();const q=jf(mt);var wi=function(){return wi=Object.assign||function(A){for(var I,F=1,N=arguments.length;F<N;F++){I=arguments[F];for(var H in I)Object.prototype.hasOwnProperty.call(I,H)&&(A[H]=I[H])}return A},wi.apply(this,arguments)};function Na(L,A,I){if(I||arguments.length===2)for(var F=0,N=A.length,H;F<N;F++)(H||!(F in A))&&(H||(H=Array.prototype.slice.call(A,0,F)),H[F]=A[F]);return L.concat(H||Array.prototype.slice.call(A))}var Ie="-ms-",Da="-moz-",pe="-webkit-",Vp="comm",wl="rule",sd="decl",fE="@import",Wp="@keyframes",dE="@layer",Yp=Math.abs,rd=String.fromCharCode,Df=Object.assign;function cE(L,A){return ti(L,0)^45?(((A<<2^ti(L,0))<<2^ti(L,1))<<2^ti(L,2))<<2^ti(L,3):0}function Hp(L){return L.trim()}function Wn(L,A){return(L=A.exec(L))?L[0]:L}function ie(L,A,I){return L.replace(A,I)}function fl(L,A,I){return L.indexOf(A,I)}function ti(L,A){return L.charCodeAt(A)|0}function Br(L,A,I){return L.slice(A,I)}function An(L){return L.length}function Xp(L){return L.length}function Oa(L,A){return A.push(L),L}function vE(L,A){return L.map(A).join("")}function np(L,A){return L.filter(function(I){return!Wn(I,A)})}var Fl=1,Nr=1,kp=0,_i=0,Ke=0,Yr="";function Bl(L,A,I,F,N,H,p,S){return{value:L,root:A,parent:I,type:F,props:N,children:H,line:Fl,column:Nr,length:p,return:"",siblings:S}}function ms(L,A){return Df(Bl("",null,null,"",null,null,0,L.siblings),L,{length:-L.length},A)}function Er(L){for(;L.root;)L=ms(L.root,{children:[L]});Oa(L,L.siblings)}function pE(){return Ke}function mE(){return Ke=_i>0?ti(Yr,--_i):0,Nr--,Ke===10&&(Nr=1,Fl--),Ke}function vn(){return Ke=_i<kp?ti(Yr,_i++):0,Nr++,Ke===10&&(Nr=1,Fl++),Ke}function Xs(){return ti(Yr,_i)}function dl(){return _i}function Nl(L,A){return Br(Yr,L,A)}function wf(L){switch(L){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gE(L){return Fl=Nr=1,kp=An(Yr=L),_i=0,[]}function xE(L){return Yr="",L}function vf(L){return Hp(Nl(_i-1,Ff(L===91?L+2:L===40?L+1:L)))}function EE(L){for(;(Ke=Xs())&&Ke<33;)vn();return wf(L)>2||wf(Ke)>3?"":" "}function yE(L,A){for(;--A&&vn()&&!(Ke<48||Ke>102||Ke>57&&Ke<65||Ke>70&&Ke<97););return Nl(L,dl()+(A<6&&Xs()==32&&vn()==32))}function Ff(L){for(;vn();)switch(Ke){case L:return _i;case 34:case 39:L!==34&&L!==39&&Ff(Ke);break;case 40:L===41&&Ff(L);break;case 92:vn();break}return _i}function TE(L,A){for(;vn()&&L+Ke!==47+10;)if(L+Ke===42+42&&Xs()===47)break;return"/*"+Nl(A,_i-1)+"*"+rd(L===47?L:vn())}function SE(L){for(;!wf(Xs());)vn();return Nl(L,_i)}function AE(L){return xE(cl("",null,null,null,[""],L=gE(L),0,[0],L))}function cl(L,A,I,F,N,H,p,S,t){for(var h=0,c=0,l=p,r=0,s=0,e=0,i=1,o=1,n=1,a=0,f="",u=N,d=H,v=F,g=f;o;)switch(e=a,a=vn()){case 40:if(e!=108&&ti(g,l-1)==58){fl(g+=ie(vf(a),"&","&\f"),"&\f",Yp(h?S[h-1]:0))!=-1&&(n=-1);break}case 34:case 39:case 91:g+=vf(a);break;case 9:case 10:case 13:case 32:g+=EE(e);break;case 92:g+=yE(dl()-1,7);continue;case 47:switch(Xs()){case 42:case 47:Oa(CE(TE(vn(),dl()),A,I,t),t);break;default:g+="/"}break;case 123*i:S[h++]=An(g)*n;case 125*i:case 59:case 0:switch(a){case 0:case 125:o=0;case 59+c:n==-1&&(g=ie(g,/\f/g,"")),s>0&&An(g)-l&&Oa(s>32?rp(g+";",F,I,l-1,t):rp(ie(g," ","")+";",F,I,l-2,t),t);break;case 59:g+=";";default:if(Oa(v=sp(g,A,I,h,c,N,S,f,u=[],d=[],l,H),H),a===123)if(c===0)cl(g,A,v,v,u,H,l,S,d);else switch(r===99&&ti(g,3)===110?100:r){case 100:case 108:case 109:case 115:cl(L,v,v,F&&Oa(sp(L,v,v,0,0,N,S,f,N,u=[],l,d),d),N,d,l,S,F?u:d);break;default:cl(g,v,v,v,[""],d,0,S,d)}}h=c=s=0,i=n=1,f=g="",l=p;break;case 58:l=1+An(g),s=e;default:if(i<1){if(a==123)--i;else if(a==125&&i++==0&&mE()==125)continue}switch(g+=rd(a),a*i){case 38:n=c>0?1:(g+="\f",-1);break;case 44:S[h++]=(An(g)-1)*n,n=1;break;case 64:Xs()===45&&(g+=vf(vn())),r=Xs(),c=l=An(f=g+=SE(dl())),a++;break;case 45:e===45&&An(g)==2&&(i=0)}}return H}function sp(L,A,I,F,N,H,p,S,t,h,c,l){for(var r=N-1,s=N===0?H:[""],e=Xp(s),i=0,o=0,n=0;i<F;++i)for(var a=0,f=Br(L,r+1,r=Yp(o=p[i])),u=L;a<e;++a)(u=Hp(o>0?s[a]+" "+f:ie(f,/&\f/g,s[a])))&&(t[n++]=u);return Bl(L,A,I,N===0?wl:S,t,h,c,l)}function CE(L,A,I,F){return Bl(L,A,I,Vp,rd(pE()),Br(L,2,-2),0,F)}function rp(L,A,I,F,N){return Bl(L,A,I,sd,Br(L,0,F),Br(L,F+1,-1),F,N)}function Kp(L,A,I){switch(cE(L,A)){case 5103:return pe+"print-"+L+L;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pe+L+L;case 4789:return Da+L+L;case 5349:case 4246:case 4810:case 6968:case 2756:return pe+L+Da+L+Ie+L+L;case 5936:switch(ti(L,A+11)){case 114:return pe+L+Ie+ie(L,/[svh]\w+-[tblr]{2}/,"tb")+L;case 108:return pe+L+Ie+ie(L,/[svh]\w+-[tblr]{2}/,"tb-rl")+L;case 45:return pe+L+Ie+ie(L,/[svh]\w+-[tblr]{2}/,"lr")+L}case 6828:case 4268:case 2903:return pe+L+Ie+L+L;case 6165:return pe+L+Ie+"flex-"+L+L;case 5187:return pe+L+ie(L,/(\w+).+(:[^]+)/,pe+"box-$1$2"+Ie+"flex-$1$2")+L;case 5443:return pe+L+Ie+"flex-item-"+ie(L,/flex-|-self/g,"")+(Wn(L,/flex-|baseline/)?"":Ie+"grid-row-"+ie(L,/flex-|-self/g,""))+L;case 4675:return pe+L+Ie+"flex-line-pack"+ie(L,/align-content|flex-|-self/g,"")+L;case 5548:return pe+L+Ie+ie(L,"shrink","negative")+L;case 5292:return pe+L+Ie+ie(L,"basis","preferred-size")+L;case 6060:return pe+"box-"+ie(L,"-grow","")+pe+L+Ie+ie(L,"grow","positive")+L;case 4554:return pe+ie(L,/([^-])(transform)/g,"$1"+pe+"$2")+L;case 6187:return ie(ie(ie(L,/(zoom-|grab)/,pe+"$1"),/(image-set)/,pe+"$1"),L,"")+L;case 5495:case 3959:return ie(L,/(image-set\([^]*)/,pe+"$1$`$1");case 4968:return ie(ie(L,/(.+:)(flex-)?(.*)/,pe+"box-pack:$3"+Ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pe+L+L;case 4200:if(!Wn(L,/flex-|baseline/))return Ie+"grid-column-align"+Br(L,A)+L;break;case 2592:case 3360:return Ie+ie(L,"template-","")+L;case 4384:case 3616:return I&&I.some(function(F,N){return A=N,Wn(F.props,/grid-\w+-end/)})?~fl(L+(I=I[A].value),"span",0)?L:Ie+ie(L,"-start","")+L+Ie+"grid-row-span:"+(~fl(I,"span",0)?Wn(I,/\d+/):+Wn(I,/\d+/)-+Wn(L,/\d+/))+";":Ie+ie(L,"-start","")+L;case 4896:case 4128:return I&&I.some(function(F){return Wn(F.props,/grid-\w+-start/)})?L:Ie+ie(ie(L,"-end","-span"),"span ","")+L;case 4095:case 3583:case 4068:case 2532:return ie(L,/(.+)-inline(.+)/,pe+"$1$2")+L;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(An(L)-1-A>6)switch(ti(L,A+1)){case 109:if(ti(L,A+4)!==45)break;case 102:return ie(L,/(.+:)(.+)-([^]+)/,"$1"+pe+"$2-$3$1"+Da+(ti(L,A+3)==108?"$3":"$2-$3"))+L;case 115:return~fl(L,"stretch",0)?Kp(ie(L,"stretch","fill-available"),A,I)+L:L}break;case 5152:case 5920:return ie(L,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(F,N,H,p,S,t,h){return Ie+N+":"+H+h+(p?Ie+N+"-span:"+(S?t:+t-+H)+h:"")+L});case 4949:if(ti(L,A+6)===121)return ie(L,":",":"+pe)+L;break;case 6444:switch(ti(L,ti(L,14)===45?18:11)){case 120:return ie(L,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+pe+(ti(L,14)===45?"inline-":"")+"box$3$1"+pe+"$2$3$1"+Ie+"$2box$3")+L;case 100:return ie(L,":",":"+Ie)+L}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ie(L,"scroll-","scroll-snap-")+L}return L}function yl(L,A){for(var I="",F=0;F<L.length;F++)I+=A(L[F],F,L,A)||"";return I}function RE(L,A,I,F){switch(L.type){case dE:if(L.children.length)break;case fE:case sd:return L.return=L.return||L.value;case Vp:return"";case Wp:return L.return=L.value+"{"+yl(L.children,F)+"}";case wl:if(!An(L.value=L.props.join(",")))return""}return An(I=yl(L.children,F))?L.return=L.value+"{"+I+"}":""}function LE(L){var A=Xp(L);return function(I,F,N,H){for(var p="",S=0;S<A;S++)p+=L[S](I,F,N,H)||"";return p}}function PE(L){return function(A){A.root||(A=A.return)&&L(A)}}function IE(L,A,I,F){if(L.length>-1&&!L.return)switch(L.type){case sd:L.return=Kp(L.value,L.length,I);return;case Wp:return yl([ms(L,{value:ie(L.value,"@","@"+pe)})],F);case wl:if(L.length)return vE(I=L.props,function(N){switch(Wn(N,F=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Er(ms(L,{props:[ie(N,/:(read-\w+)/,":"+Da+"$1")]})),Er(ms(L,{props:[N]})),Df(L,{props:np(I,F)});break;case"::placeholder":Er(ms(L,{props:[ie(N,/:(plac\w+)/,":"+pe+"input-$1")]})),Er(ms(L,{props:[ie(N,/:(plac\w+)/,":"+Da+"$1")]})),Er(ms(L,{props:[ie(N,/:(plac\w+)/,Ie+"input-$1")]})),Er(ms(L,{props:[N]})),Df(L,{props:np(I,F)});break}return""})}}var OE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ur=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",$p="active",jp="data-styled-version",Ul="6.1.11",ad=`/*!sc*/
`,od=typeof window<"u"&&"HTMLElement"in window,ME=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),Gl=Object.freeze([]),Gr=Object.freeze({});function DE(L,A,I){return I===void 0&&(I=Gr),L.theme!==I.theme&&L.theme||A||I.theme}var Zp=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),wE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,FE=/(^-|-$)/g;function ap(L){return L.replace(wE,"-").replace(FE,"")}var BE=/(a)(d)/gi,nl=52,op=function(L){return String.fromCharCode(L+(L>25?39:97))};function Bf(L){var A,I="";for(A=Math.abs(L);A>nl;A=A/nl|0)I=op(A%nl)+I;return(op(A%nl)+I).replace(BE,"$1-$2")}var pf,Qp=5381,Rr=function(L,A){for(var I=A.length;I;)L=33*L^A.charCodeAt(--I);return L},Jp=function(L){return Rr(Qp,L)};function qp(L){return Bf(Jp(L)>>>0)}function NE(L){return L.displayName||L.name||"Component"}function mf(L){return typeof L=="string"&&!0}var _p=typeof Symbol=="function"&&Symbol.for,tm=_p?Symbol.for("react.memo"):60115,UE=_p?Symbol.for("react.forward_ref"):60112,GE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},em={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zE=((pf={})[UE]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pf[tm]=em,pf);function lp(L){return("type"in(A=L)&&A.type.$$typeof)===tm?em:"$$typeof"in L?zE[L.$$typeof]:GE;var A}var VE=Object.defineProperty,WE=Object.getOwnPropertyNames,hp=Object.getOwnPropertySymbols,YE=Object.getOwnPropertyDescriptor,HE=Object.getPrototypeOf,up=Object.prototype;function im(L,A,I){if(typeof A!="string"){if(up){var F=HE(A);F&&F!==up&&im(L,F,I)}var N=WE(A);hp&&(N=N.concat(hp(A)));for(var H=lp(L),p=lp(A),S=0;S<N.length;++S){var t=N[S];if(!(t in bE||I&&I[t]||p&&t in p||H&&t in H)){var h=YE(A,t);try{VE(L,t,h)}catch{}}}}return L}function br(L){return typeof L=="function"}function ld(L){return typeof L=="object"&&"styledComponentId"in L}function zs(L,A){return L&&A?"".concat(L," ").concat(A):L||A||""}function Nf(L,A){if(L.length===0)return"";for(var I=L[0],F=1;F<L.length;F++)I+=A?A+L[F]:L[F];return I}function Ua(L){return L!==null&&typeof L=="object"&&L.constructor.name===Object.name&&!("props"in L&&L.$$typeof)}function Uf(L,A,I){if(I===void 0&&(I=!1),!I&&!Ua(L)&&!Array.isArray(L))return A;if(Array.isArray(A))for(var F=0;F<A.length;F++)L[F]=Uf(L[F],A[F]);else if(Ua(A))for(var F in A)L[F]=Uf(L[F],A[F]);return L}function hd(L,A){Object.defineProperty(L,"toString",{value:A})}function za(L){for(var A=[],I=1;I<arguments.length;I++)A[I-1]=arguments[I];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(L," for more information.").concat(A.length>0?" Args: ".concat(A.join(", ")):""))}var XE=function(){function L(A){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=A}return L.prototype.indexOfGroup=function(A){for(var I=0,F=0;F<A;F++)I+=this.groupSizes[F];return I},L.prototype.insertRules=function(A,I){if(A>=this.groupSizes.length){for(var F=this.groupSizes,N=F.length,H=N;A>=H;)if((H<<=1)<0)throw za(16,"".concat(A));this.groupSizes=new Uint32Array(H),this.groupSizes.set(F),this.length=H;for(var p=N;p<H;p++)this.groupSizes[p]=0}for(var S=this.indexOfGroup(A+1),t=(p=0,I.length);p<t;p++)this.tag.insertRule(S,I[p])&&(this.groupSizes[A]++,S++)},L.prototype.clearGroup=function(A){if(A<this.length){var I=this.groupSizes[A],F=this.indexOfGroup(A),N=F+I;this.groupSizes[A]=0;for(var H=F;H<N;H++)this.tag.deleteRule(F)}},L.prototype.getGroup=function(A){var I="";if(A>=this.length||this.groupSizes[A]===0)return I;for(var F=this.groupSizes[A],N=this.indexOfGroup(A),H=N+F,p=N;p<H;p++)I+="".concat(this.tag.getRule(p)).concat(ad);return I},L}(),vl=new Map,Tl=new Map,pl=1,sl=function(L){if(vl.has(L))return vl.get(L);for(;Tl.has(pl);)pl++;var A=pl++;return vl.set(L,A),Tl.set(A,L),A},kE=function(L,A){pl=A+1,vl.set(L,A),Tl.set(A,L)},KE="style[".concat(Ur,"][").concat(jp,'="').concat(Ul,'"]'),$E=new RegExp("^".concat(Ur,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),jE=function(L,A,I){for(var F,N=I.split(","),H=0,p=N.length;H<p;H++)(F=N[H])&&L.registerName(A,F)},ZE=function(L,A){for(var I,F=((I=A.textContent)!==null&&I!==void 0?I:"").split(ad),N=[],H=0,p=F.length;H<p;H++){var S=F[H].trim();if(S){var t=S.match($E);if(t){var h=0|parseInt(t[1],10),c=t[2];h!==0&&(kE(c,h),jE(L,c,t[3]),L.getTag().insertRules(h,N)),N.length=0}else N.push(S)}}};function QE(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var nm=function(L){var A=document.head,I=L||A,F=document.createElement("style"),N=function(S){var t=Array.from(S.querySelectorAll("style[".concat(Ur,"]")));return t[t.length-1]}(I),H=N!==void 0?N.nextSibling:null;F.setAttribute(Ur,$p),F.setAttribute(jp,Ul);var p=QE();return p&&F.setAttribute("nonce",p),I.insertBefore(F,H),F},JE=function(){function L(A){this.element=nm(A),this.element.appendChild(document.createTextNode("")),this.sheet=function(I){if(I.sheet)return I.sheet;for(var F=document.styleSheets,N=0,H=F.length;N<H;N++){var p=F[N];if(p.ownerNode===I)return p}throw za(17)}(this.element),this.length=0}return L.prototype.insertRule=function(A,I){try{return this.sheet.insertRule(I,A),this.length++,!0}catch{return!1}},L.prototype.deleteRule=function(A){this.sheet.deleteRule(A),this.length--},L.prototype.getRule=function(A){var I=this.sheet.cssRules[A];return I&&I.cssText?I.cssText:""},L}(),qE=function(){function L(A){this.element=nm(A),this.nodes=this.element.childNodes,this.length=0}return L.prototype.insertRule=function(A,I){if(A<=this.length&&A>=0){var F=document.createTextNode(I);return this.element.insertBefore(F,this.nodes[A]||null),this.length++,!0}return!1},L.prototype.deleteRule=function(A){this.element.removeChild(this.nodes[A]),this.length--},L.prototype.getRule=function(A){return A<this.length?this.nodes[A].textContent:""},L}(),_E=function(){function L(A){this.rules=[],this.length=0}return L.prototype.insertRule=function(A,I){return A<=this.length&&(this.rules.splice(A,0,I),this.length++,!0)},L.prototype.deleteRule=function(A){this.rules.splice(A,1),this.length--},L.prototype.getRule=function(A){return A<this.length?this.rules[A]:""},L}(),fp=od,ty={isServer:!od,useCSSOMInjection:!ME},sm=function(){function L(A,I,F){A===void 0&&(A=Gr),I===void 0&&(I={});var N=this;this.options=wi(wi({},ty),A),this.gs=I,this.names=new Map(F),this.server=!!A.isServer,!this.server&&od&&fp&&(fp=!1,function(H){for(var p=document.querySelectorAll(KE),S=0,t=p.length;S<t;S++){var h=p[S];h&&h.getAttribute(Ur)!==$p&&(ZE(H,h),h.parentNode&&h.parentNode.removeChild(h))}}(this)),hd(this,function(){return function(H){for(var p=H.getTag(),S=p.length,t="",h=function(l){var r=function(n){return Tl.get(n)}(l);if(r===void 0)return"continue";var s=H.names.get(r),e=p.getGroup(l);if(s===void 0||e.length===0)return"continue";var i="".concat(Ur,".g").concat(l,'[id="').concat(r,'"]'),o="";s!==void 0&&s.forEach(function(n){n.length>0&&(o+="".concat(n,","))}),t+="".concat(e).concat(i,'{content:"').concat(o,'"}').concat(ad)},c=0;c<S;c++)h(c);return t}(N)})}return L.registerId=function(A){return sl(A)},L.prototype.reconstructWithOptions=function(A,I){return I===void 0&&(I=!0),new L(wi(wi({},this.options),A),this.gs,I&&this.names||void 0)},L.prototype.allocateGSInstance=function(A){return this.gs[A]=(this.gs[A]||0)+1},L.prototype.getTag=function(){return this.tag||(this.tag=(A=function(I){var F=I.useCSSOMInjection,N=I.target;return I.isServer?new _E(N):F?new JE(N):new qE(N)}(this.options),new XE(A)));var A},L.prototype.hasNameForId=function(A,I){return this.names.has(A)&&this.names.get(A).has(I)},L.prototype.registerName=function(A,I){if(sl(A),this.names.has(A))this.names.get(A).add(I);else{var F=new Set;F.add(I),this.names.set(A,F)}},L.prototype.insertRules=function(A,I,F){this.registerName(A,I),this.getTag().insertRules(sl(A),F)},L.prototype.clearNames=function(A){this.names.has(A)&&this.names.get(A).clear()},L.prototype.clearRules=function(A){this.getTag().clearGroup(sl(A)),this.clearNames(A)},L.prototype.clearTag=function(){this.tag=void 0},L}(),ey=/&/g,iy=/^\s*\/\/.*$/gm;function rm(L,A){return L.map(function(I){return I.type==="rule"&&(I.value="".concat(A," ").concat(I.value),I.value=I.value.replaceAll(",",",".concat(A," ")),I.props=I.props.map(function(F){return"".concat(A," ").concat(F)})),Array.isArray(I.children)&&I.type!=="@keyframes"&&(I.children=rm(I.children,A)),I})}function ny(L){var A,I,F,N=L===void 0?Gr:L,H=N.options,p=H===void 0?Gr:H,S=N.plugins,t=S===void 0?Gl:S,h=function(r,s,e){return e.startsWith(I)&&e.endsWith(I)&&e.replaceAll(I,"").length>0?".".concat(A):r},c=t.slice();c.push(function(r){r.type===wl&&r.value.includes("&")&&(r.props[0]=r.props[0].replace(ey,I).replace(F,h))}),p.prefix&&c.push(IE),c.push(RE);var l=function(r,s,e,i){s===void 0&&(s=""),e===void 0&&(e=""),i===void 0&&(i="&"),A=i,I=s,F=new RegExp("\\".concat(I,"\\b"),"g");var o=r.replace(iy,""),n=AE(e||s?"".concat(e," ").concat(s," { ").concat(o," }"):o);p.namespace&&(n=rm(n,p.namespace));var a=[];return yl(n,LE(c.concat(PE(function(f){return a.push(f)})))),a};return l.hash=t.length?t.reduce(function(r,s){return s.name||za(15),Rr(r,s.name)},Qp).toString():"",l}var sy=new sm,Gf=ny(),am=q.createContext({shouldForwardProp:void 0,styleSheet:sy,stylis:Gf});am.Consumer;q.createContext(void 0);function dp(){return mt.useContext(am)}var om=function(){function L(A,I){var F=this;this.inject=function(N,H){H===void 0&&(H=Gf);var p=F.name+H.hash;N.hasNameForId(F.id,p)||N.insertRules(F.id,p,H(F.rules,p,"@keyframes"))},this.name=A,this.id="sc-keyframes-".concat(A),this.rules=I,hd(this,function(){throw za(12,String(F.name))})}return L.prototype.getName=function(A){return A===void 0&&(A=Gf),this.name+A.hash},L}(),ry=function(L){return L>="A"&&L<="Z"};function cp(L){for(var A="",I=0;I<L.length;I++){var F=L[I];if(I===1&&F==="-"&&L[0]==="-")return L;ry(F)?A+="-"+F.toLowerCase():A+=F}return A.startsWith("ms-")?"-"+A:A}var lm=function(L){return L==null||L===!1||L===""},hm=function(L){var A,I,F=[];for(var N in L){var H=L[N];L.hasOwnProperty(N)&&!lm(H)&&(Array.isArray(H)&&H.isCss||br(H)?F.push("".concat(cp(N),":"),H,";"):Ua(H)?F.push.apply(F,Na(Na(["".concat(N," {")],hm(H),!1),["}"],!1)):F.push("".concat(cp(N),": ").concat((A=N,(I=H)==null||typeof I=="boolean"||I===""?"":typeof I!="number"||I===0||A in OE||A.startsWith("--")?String(I).trim():"".concat(I,"px")),";")))}return F};function ks(L,A,I,F){if(lm(L))return[];if(ld(L))return[".".concat(L.styledComponentId)];if(br(L)){if(!br(H=L)||H.prototype&&H.prototype.isReactComponent||!A)return[L];var N=L(A);return ks(N,A,I,F)}var H;return L instanceof om?I?(L.inject(I,F),[L.getName(F)]):[L]:Ua(L)?hm(L):Array.isArray(L)?Array.prototype.concat.apply(Gl,L.map(function(p){return ks(p,A,I,F)})):[L.toString()]}function ay(L){for(var A=0;A<L.length;A+=1){var I=L[A];if(br(I)&&!ld(I))return!1}return!0}var oy=Jp(Ul),ly=function(){function L(A,I,F){this.rules=A,this.staticRulesId="",this.isStatic=(F===void 0||F.isStatic)&&ay(A),this.componentId=I,this.baseHash=Rr(oy,I),this.baseStyle=F,sm.registerId(I)}return L.prototype.generateAndInjectStyles=function(A,I,F){var N=this.baseStyle?this.baseStyle.generateAndInjectStyles(A,I,F):"";if(this.isStatic&&!F.hash)if(this.staticRulesId&&I.hasNameForId(this.componentId,this.staticRulesId))N=zs(N,this.staticRulesId);else{var H=Nf(ks(this.rules,A,I,F)),p=Bf(Rr(this.baseHash,H)>>>0);if(!I.hasNameForId(this.componentId,p)){var S=F(H,".".concat(p),void 0,this.componentId);I.insertRules(this.componentId,p,S)}N=zs(N,p),this.staticRulesId=p}else{for(var t=Rr(this.baseHash,F.hash),h="",c=0;c<this.rules.length;c++){var l=this.rules[c];if(typeof l=="string")h+=l;else if(l){var r=Nf(ks(l,A,I,F));t=Rr(t,r+c),h+=r}}if(h){var s=Bf(t>>>0);I.hasNameForId(this.componentId,s)||I.insertRules(this.componentId,s,F(h,".".concat(s),void 0,this.componentId)),N=zs(N,s)}}return N},L}(),um=q.createContext(void 0);um.Consumer;var gf={};function hy(L,A,I){var F=ld(L),N=L,H=!mf(L),p=A.attrs,S=p===void 0?Gl:p,t=A.componentId,h=t===void 0?function(u,d){var v=typeof u!="string"?"sc":ap(u);gf[v]=(gf[v]||0)+1;var g="".concat(v,"-").concat(qp(Ul+v+gf[v]));return d?"".concat(d,"-").concat(g):g}(A.displayName,A.parentComponentId):t,c=A.displayName,l=c===void 0?function(u){return mf(u)?"styled.".concat(u):"Styled(".concat(NE(u),")")}(L):c,r=A.displayName&&A.componentId?"".concat(ap(A.displayName),"-").concat(A.componentId):A.componentId||h,s=F&&N.attrs?N.attrs.concat(S).filter(Boolean):S,e=A.shouldForwardProp;if(F&&N.shouldForwardProp){var i=N.shouldForwardProp;if(A.shouldForwardProp){var o=A.shouldForwardProp;e=function(u,d){return i(u,d)&&o(u,d)}}else e=i}var n=new ly(I,r,F?N.componentStyle:void 0);function a(u,d){return function(v,g,x){var m=v.attrs,y=v.componentStyle,T=v.defaultProps,R=v.foldedComponentIds,P=v.styledComponentId,D=v.target,O=q.useContext(um),B=dp(),G=v.shouldForwardProp||B.shouldForwardProp,b=DE(g,O,T)||Gr,k=function(w,V,Y){for(var j,J=wi(wi({},V),{className:void 0,theme:Y}),_=0;_<w.length;_+=1){var tt=br(j=w[_])?j(J):j;for(var it in tt)J[it]=it==="className"?zs(J[it],tt[it]):it==="style"?wi(wi({},J[it]),tt[it]):tt[it]}return V.className&&(J.className=zs(J.className,V.className)),J}(m,g,b),$=k.as||D,W={};for(var Z in k)k[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&k.theme===b||(Z==="forwardedAs"?W.as=k.forwardedAs:G&&!G(Z,$)||(W[Z]=k[Z]));var z=function(w,V){var Y=dp(),j=w.generateAndInjectStyles(V,Y.styleSheet,Y.stylis);return j}(y,k),X=zs(R,P);return z&&(X+=" "+z),k.className&&(X+=" "+k.className),W[mf($)&&!Zp.has($)?"class":"className"]=X,W.ref=x,mt.createElement($,W)}(f,u,d)}a.displayName=l;var f=q.forwardRef(a);return f.attrs=s,f.componentStyle=n,f.displayName=l,f.shouldForwardProp=e,f.foldedComponentIds=F?zs(N.foldedComponentIds,N.styledComponentId):"",f.styledComponentId=r,f.target=F?N.target:L,Object.defineProperty(f,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(u){this._foldedDefaultProps=F?function(d){for(var v=[],g=1;g<arguments.length;g++)v[g-1]=arguments[g];for(var x=0,m=v;x<m.length;x++)Uf(d,m[x],!0);return d}({},N.defaultProps,u):u}}),hd(f,function(){return".".concat(f.styledComponentId)}),H&&im(f,L,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),f}function vp(L,A){for(var I=[L[0]],F=0,N=A.length;F<N;F+=1)I.push(A[F],L[F+1]);return I}var pp=function(L){return Object.assign(L,{isCss:!0})};function bt(L){for(var A=[],I=1;I<arguments.length;I++)A[I-1]=arguments[I];if(br(L)||Ua(L))return pp(ks(vp(Gl,Na([L],A,!0))));var F=L;return A.length===0&&F.length===1&&typeof F[0]=="string"?ks(F):pp(ks(vp(F,A)))}function bf(L,A,I){if(I===void 0&&(I=Gr),!A)throw za(1,A);var F=function(N){for(var H=[],p=1;p<arguments.length;p++)H[p-1]=arguments[p];return L(A,I,bt.apply(void 0,Na([N],H,!1)))};return F.attrs=function(N){return bf(L,A,wi(wi({},I),{attrs:Array.prototype.concat(I.attrs,N).filter(Boolean)}))},F.withConfig=function(N){return bf(L,A,wi(wi({},I),N))},F}var fm=function(L){return bf(hy,L)},rt=fm;Zp.forEach(function(L){rt[L]=fm(L)});function Ln(L){for(var A=[],I=1;I<arguments.length;I++)A[I-1]=arguments[I];var F=Nf(bt.apply(void 0,Na([L],A,!1))),N=qp(F);return new om(N,F)}const yt={SCALE:{target:1280,min:.7,max:1},BREAKPOINT:{MOBILE:"(max-height: 440px)",DESKTOP:"(min-height: 441px)"}},uy=rt.div`
  display: flex;
  flex-direction: ${L=>L.$direction==="vertical"?"column":"row"};
  ${L=>typeof L.$gap=="number"?bt`
    gap: ${L.$gap}px;
  `:bt`
    @media ${yt.BREAKPOINT.MOBILE} {
      gap: ${L.$gap[0]}px;
    }
    @media ${yt.BREAKPOINT.DESKTOP} {
      gap: ${L.$gap[1]}px;
    }
  `}
  ${L=>{switch(L.$align){case"left":return bt`align-items: flex-start`;case"center":return bt`align-items: center`;case"right":return bt`align-items: flex-end`}}}
`,ne=({children:L,direction:A,align:I,gap:F=0})=>q.createElement(uy,{$direction:A,$align:I,$gap:F},L);var Re=(L=>(L.HOVER="#FF9600",L.SUCCESS="#A4E24D",L.WARN="#ffd129",L.ERROR="#ff6d6d",L))(Re||{}),xt=(L=>(L.WARN="#ff7629",L.WARN_GRADIENT="linear-gradient(0deg, rgb(255, 118, 41) 0%, rgb(255, 156, 41) 100%);",L.SUCCESS_LIGHT="#A4E24D",L.SUCCESS="#64A226",L.SUCCESS_DARK="#4D8B1B",L.SUCCESS_GRADIENT="linear-gradient(0deg, rgb(66, 120, 22) 0%, rgb(100, 162, 38) 100%)",L.SUCCESS_TRANSPARENT_50="rgba(100, 162, 38, 0.5)",L.ERROR_LIGHT="#ff6d6d",L.ERROR="#db2323",L.ERROR_TRANSPARENT_50="rgba(219, 35, 35, 0.50)",L.ERROR_TRANSPARENT_75="rgba(219, 35, 35, 0.75)",L.ERROR_DARK="#BC1927",L.ERROR_DARK_TRANSPARENT_75="rgba(120, 0, 10, 0.75)",L.ERROR_GRADIENT="linear-gradient(0deg, rgb(188, 25, 39) 0%, rgb(238, 54, 70) 100%)",L.WHITE_TRANSPARENT_15="rgba(255, 255, 255, 0.15)",L.WHITE_TRANSPARENT_25="rgba(255, 255, 255, 0.25)",L.WHITE_TRANSPARENT_50="rgba(255, 255, 255, 0.50)",L.WHITE_TRANSPARENT_75="rgba(255, 255, 255, 0.75)",L.BLACK="#000000",L.BLACK_TRANSPARENT_75="rgba(0, 0, 0, 0.75)",L.BLACK_TRANSPARENT_50="rgba(0, 0, 0, 0.50)",L.BLACK_TRANSPARENT_25="rgba(0, 0, 0, 0.25)",L))(xt||{}),ee=(L=>(L.PIXEL_LABEL="PixelLabel",L.PIXEL_TEXT="PixelText",L))(ee||{}),Kn=(L=>(L[L.HINT=100]="HINT",L[L.TRANSLATOR=200]="TRANSLATOR",L[L.OVERLAY=300]="OVERLAY",L[L.NOTICE=400]="NOTICE",L))(Kn||{});const fy=rt.div`
  display: flex;
  flex-direction: column;
  padding: 30px 38px;
  border-radius: 0 0 5px 5px;
  gap: 15px;
  background: ${xt.BLACK_TRANSPARENT_25};
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  @media ${yt.BREAKPOINT.MOBILE} {
    gap: 10px;
    padding: 25px 32px;
  }
`,dy=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 20px;
  line-height: 20px;
  padding: 4px 8px 7px 8px;
  border-radius: 3px;
  border: 1px solid ${xt.WHITE_TRANSPARENT_50};
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 18px;
    line-height: 18px;
  }
`,cy=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 16px;
  line-height: 16px;
  white-space: pre;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 14px;
    line-height: 14px;
  }
`,vy=rt.div`
  font-size: 12px;
  line-height: 12px;
  color: ${Re.SUCCESS};
`,py=({stat:L,record:A})=>{const I=mt.useMemo(()=>[{key:"score",label:"TOTAL_SCORE",value:L.score},{key:"waves",label:"WAVES_COMPLETED",value:L.waves},{key:"kills",label:"ENEMIES_KILLED",value:L.kills},{key:"lived",label:"MINUTES_LIVED",value:Math.floor(L.lived/60)}],[]);return q.createElement(fy,null,I.map(F=>q.createElement(ne,{key:F.key,direction:"horizontal",align:"center",gap:15},q.createElement(ne,{direction:"horizontal",align:"center",gap:10},q.createElement(dy,null,F.value),q.createElement(cy,null,Ot.Phrase(F.label))),(A?.[F.key]??0)<L[F.key]&&q.createElement(vy,null,Ot.Phrase("RECORD")))))},my=rt.div`
  width: 100%;
  height: 100%;
  background: ${xt.BLACK_TRANSPARENT_75};
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  z-index: ${Kn.OVERLAY};
  pointer-events: all;
  > * {
    pointer-events: none;
  }
`,dm=({children:L})=>{const A=Ct.useRelativeScale(yt.SCALE);return q.createElement(my,{ref:A},L)},gy=rt.div`
  min-width: 360px;
`,xy=rt.div`
  background: ${L=>L.color};
  padding: 15px 36px 21px 36px;
  font-family: ${ee.PIXEL_LABEL};
  border-radius: 5px 5px 0 0;
  font-size: 46px;
  line-height: 46px;
  text-align: center;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 30px;
    line-height: 30px;
    padding: 12px 30px 16px 30px;
  }
`,Ey=rt.div`
  margin-top: 20px;
  pointer-events: all;
  font-family: ${ee.PIXEL_LABEL};
  border-radius: 5px;
  letter-spacing: 1px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.SUCCESS_GRADIENT};  
  font-size: 22px;
  line-height: 22px;
  padding: 25px;
  &:hover {
    cursor: pointer;
    background: ${xt.SUCCESS};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    margin-top: 15px;
    padding: 18px 20px 20px 20px;
    font-size: 20px;
    line-height: 20px;
  }
`,yy=rt.img`
  width: 24px;
  margin-right: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 20px;
  }
`,cm=({success:L,stat:A,record:I})=>{const F=Ct.useGame(),N=mt.useRef(null);return Ct.useClick(N,"down",()=>{L?F.stopGame():F.restartGame()},[]),mt.useEffect(()=>(Ut.ToggleHintsVisible(!1),()=>{Ut.ToggleHintsVisible(!0)}),[]),q.createElement(dm,null,q.createElement(gy,null,q.createElement(xy,{color:L?xt.SUCCESS:xt.ERROR},L?"YOU WIN":"GAME OVER"),q.createElement(py,{stat:A,record:I}),q.createElement(Ey,{ref:N},q.createElement(yy,{src:"assets/sprites/hud/restart.png"}),Ot.Phrase(L?"NEW_GAME":"RESTART_GAME"))))};cm.displayName="FinishUI";class Ty extends ba{constructor(){super(Ne.FINISH),gt.Finish=this}create(A){new Ct.Interface(this).render(cm,A)}}const Or={PAUSE:"keyup-ESC",SKILLS:"keyup-SHIFT",BUILDING_DESTROY:"keyup-BACKSPACE",BUILDING_REPAIR:"keyup-R",BUILDING_BUY_AMMO:"keyup-F",BUILDING_UPGRADE:"keyup-E"},Sy=[{label:"PLAYER",items:[{keys:"W,A,S,D",description:"MOVEMENT"},{keys:"SHIFT",description:"SKILLS"}]},{label:"BUILDER",items:[{keys:"LEFT CLICK",description:"BUILD"},{keys:"RIGHT CLICK",description:"STOP_BUILD"}]},{label:"BUILDINGS",items:[{keys:"E",description:"UPGRADE_BUILDING"},{keys:"R",description:"REPAIR_BUILDING"},{keys:"F",description:"BUY_AMMO"},{keys:"BACKSPACE",description:"DESTROY_BUILDING"}]}],Ay=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 16px;
  line-height: 16px;
  margin-bottom: 15px;
  opacity: 0.5;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 14px;
    line-height: 14px;
  }
`,Cy=rt.div`
  color: #444;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  padding: 4px 7px 5px 7px;
  background: #fff;
  box-shadow: 0 4px 0 #999;
  text-align: center;
  margin-top: -3px;
  border-radius: 3px;
`,Ry=rt.div`
  font-size: 12px;
  line-height: 12px;
  letter-spacing: 1px;
`,Ly=()=>q.createElement(ne,{direction:"vertical",gap:[30,40]},Sy.map(L=>q.createElement(ne,{key:L.label,direction:"vertical",align:"left"},q.createElement(Ay,null,Ot.Phrase(L.label)),q.createElement(ne,{direction:"vertical",gap:10},L.items.map(A=>q.createElement(ne,{key:A.description,direction:"horizontal",align:"center",gap:8},q.createElement(ne,{direction:"horizontal",gap:3},A.keys.split(",").map(I=>q.createElement(Cy,{key:I},I))),q.createElement(Ry,null," ",Ot.Phrase(A.description))))))));var Sl={},zr={},Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.ProfanityOptions=void 0;class Py{constructor(A={}){var I,F,N,H;this.wholeWord=(I=A.wholeWord)!==null&&I!==void 0?I:!0,this.grawlix=(F=A.grawlix)!==null&&F!==void 0?F:"@#$%&!",this.grawlixChar=(N=A.grawlixChar)!==null&&N!==void 0?N:"*",this.languages=(H=A.languages)!==null&&H!==void 0?H:["en"]}}Va.ProfanityOptions=Py;var ud={},bl={};Object.defineProperty(bl,"__esModule",{value:!0});bl.CensorType=void 0;var mp;(function(L){L[L.Word=0]="Word",L[L.FirstChar=1]="FirstChar",L[L.FirstVowel=2]="FirstVowel",L[L.AllVowels=3]="AllVowels"})(mp||(bl.CensorType=mp={}));var zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.List=void 0;class Iy{get empty(){return this.words.size===0}constructor(A){this.onListChanged=A,this.words=new Set}removeWords(A){A.forEach(I=>this.words.delete(I)),this.onListChanged()}addWords(A){A.forEach(I=>this.words.add(I.toLowerCase())),this.onListChanged()}}zl.List=Iy;(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.List=L.CensorType=void 0;var A=bl;Object.defineProperty(L,"CensorType",{enumerable:!0,get:function(){return A.CensorType}});var I=zl;Object.defineProperty(L,"List",{enumerable:!0,get:function(){return I.List}})})(ud);var vm={},Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.escapeRegExp=void 0;const Oy=L=>L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");Vl.escapeRegExp=Oy;(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.escapeRegExp=void 0;var A=Vl;Object.defineProperty(L,"escapeRegExp",{enumerable:!0,get:function(){return A.escapeRegExp}})})(vm);var fd={},Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.profaneWords=void 0;Wl.profaneWords=new Map([["en",["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","arses","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","a$$","as$","a$s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitchboy","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bullshit","bum","butt","butts","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","god-dam","god-damned","goddamn","goddamned","hardcoresex","headass","hoar","hoare","hoer","hoes","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","muthafecker","muthafuckker","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy"]],["ar",["4r5e","5h1t","5hit","a55","anal","anus","ar5e","","","","","","assfukka","","","","","","()","b00bs","b17ch","b1tch","","","","","","","b+ch","biatch","","","","","blow job"," "," ","boiolas","","bollok","","","","","","","buceta","","bum","buttplug","c0ck","c0cksucker","carpet muncher","","cipa","cl1t","clit","clitoris","clits","cnut","","","","",""," ","","","cocksuka","cocksukka","","cokmuncher","","coon","","","cummer","","cumshot","cunilingus","cunillingus","cunnilingus","cuntlick","","","","cyalis","()"," "," ","  ","d1ck","dildo","dildos","","dirsa",""," ","","  ","doosh","duche","dyke","","ejaculated","","ejaculating","","","ejakulate","f u c k","f u c k e r","f4nny","fag","","","","fagot","fagots","","","fannyflaps","","","","fcuk","","","feck","","","","fellatio"," ","flange","fook","fooker","  ","",""," ","fudge packer","","","","fukkin","","","","","fux0r","gangbang",""," ",""," ","","","hoar","hoare","hoer","hoes","homo","hore","","","","( )","()","jap","jiz","jizm","jizz","kawk","knobead","","knobend","knobhead","knobjocky","knobjokey","kondum","","kum","kummer","","kums","kunilingus","l3i+ch","l3itch","","","","m0f","m0fo","m45terbate","ma5terb8","",""," ","()"," *","  3","","","","mo-fo","mof0","mofo","","mothafucka","mothafuckas","mothafuckaz","","mothafuckin","","","muff","muthafecker","","n1gga","n1gger","","nigg3r","nigg4h","","","nob","nob jokey","nobhead","","nobjokey","","","","","p0rn","",""," ","phuck","phuk","","","phukked","","phuks","phuq","",""," ","","","poop","porn","porno"," ","pornos","","pron","","","pussi","",""," ","","rimjaw","","s hit","s.o.b.","","schlong","scroat","scrote","scrotum","semen","","","sh1t","shag","","shaggin","shemale","shi+","","skank","","","smegma","smut","snatch"," ","spac","","t1tt1e5","t1tties","teets","teez","","","tit"," ","tittie5","tittywank","titwank","toser","tw4t","twat","twathead","twatty","","v14gra","v1gra","vagina","viagra","vulva","w00se","","wank","wanker","wanky","",""]],["de",["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","arses","arsch","arschficker","esel","assfukka","arschloch","arschlcher","arschganz","a$$","in %","a$s","b.tch","b00bs","b17ch","b1tch","kugelbeutel","eier","blle","bastard","beastial","beastialitt","glocke","bestial","bestialitt","bi+ch","biatch","schlampe","hndchen","metzger","schlampen","bitchin","bitching","verdammt","blow job","blasen","boiolas","bollock","bollok","knochen","titten","brste","buhn","boooobs","boooooobs","buceta","fehler","schwachsinn","bum","hintern","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","kacke","chink","cipa","cl1t","klitoris","cnut","schwanz","schwanzsauger","schwanzkopf","schwanzlutscher","hahnmacher","schwnze","kokos","kokmuncher","koksucka","coon","cox","mist","cum","kmmel","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","fotze","cuntlicker","cuntlicking","stiche","cyalis","cyberfuc","cyberfuck","cyberfickt","cyberfucker","cyberficker","cyberficken","d1ck","dildo","dildos","dink","dinks","dirsa","dlck","hundeficker","doggin","hunde","eselibber","doosh","duche","dyke","ejakulat","ejakuliert","ejaculate","ejakulation","f u c k","f u c k e r","f4nny","schwuchtel","schwuchteln","fagot","fanny","fannyflaps","fannyfucker","phantasievoll","fettass","fcuk","fcuker","fcuking","feck","fecker","felching","flat","fellatio","fingerfick","fingerfickt","fingerficker","fingerficken","fistfuck","fistfickt","fistfucker","fistficken","scheie","flansch","fook","fooker","fick","fucka","gefickt","wichser","scheikerle","scheikerl","fick mich","ficks","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fokkin","fuks","fukwhit","fukwit","fux","fux0r","gangbang","gangbanged","gangbangs","gaylord","gaysex","ziegen","gott-dam","hardcoresex","headass","hor","hoare","hoer","huhn","homo","hore","horniest","geil","hotsex","ausleger","knppel","jap","idiot","jisma","jiz","jizm","jizz","kawk","knospead","geknallt","knaufende","knopfkopf","knospen","knowjokey","kock","kondum","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lustig","m0f0","m0fo","m45terbat","ma5terb8","ma5terbat","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbat","masterbation","masterbationen","masturbieren","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mottafucked","mothafucker","mothafuckin","mothafucking","mothafuckings","mothafucks","verfickt","muff","muthafecker","muthafuckker","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggas","niggaz","nigger","nob","nob jokey","nobhead","nobjocky","nobjokey","nsse","nussack","orgasim","orgasime","orgasmus","orgasmen","p0rn","pfoten","pecker","penis","penisfucker","telefonsex","phuck","phuk","phuking","phukked","phukking","phuks","phuq","schweinefucker","pimpis","pisse","pissed","pisser","pissflaps","pissin","pissen","pisseff","poop","porno","pornografie","pornos","pricks","pron","pube","pusse","pussi","muschis","muschi","pussys","rektum","verzgert","rimjaw","felgen","s hit","s.o.b.","sadist","schlong","schrauben","skroat","skrote","skrotum","samen","geschlecht","sh!+","sh!t","sh1t","shag","shagger","shaggin","transen","shi+","shit","shited","schlitten","scheikopf","shitter","splitter","scherben","shank","smegma","smut","snatch","spac","spunk","t1tt1e5","t1tties","teets","teez","hoden","tit","titfuck","titt","tittie5","tittiefucker","tittyfuck","tittywank","titwank","tosser","dord","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wahnsinn","hure","willies","willy"]],["es",["4r5e","5h1t","5hit","a55","anal","aus","ar5e","culo","culos","culo de mierda","idiota","assfukka","imbcil","idiotas","culo completo","a dlares","a)","b!tch","b00bs","b17ch","b1tch","bolsa de bolas","bolas","bastardo","bestia","bellend","bestial","bestialidad","bi+ch","biatch","perra","puta","putas","perras","maldita sea","blow job","mamada","mamadas","boiolas","bollock","bollok","hueso","tetas","booobs","boooobs","booooobs","booooooobs","senos","buceta","negro","mierda","bum","butt","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","entendido","cltoris","clits","cnut","polla","polla-sucker","masturbacin","pene","gallos","pollas","polla grande","pollasucked","chupavergas","chupa pollas","penes negros grandes","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","cum","cummer","colibr","semen","corrida","cunilingus","cunillingus","cunnilingus","cuada","cuntlick","cuntlicker","cuntlicking","cuas","cyalis","cyberfuc","ciberpolvo","ciberntico","mierda","los ciberdelincuentes","ciberdelincuente","d1ck","maldita sea","dildo","consoladores","dink","dinks","dirsa","","perro mierda","perro","donkeyribber","doosh","duche","dyke","eyaculado","eyaculada","eyaculados","eyaculando","eyaculaciones","eyaculacin","eyakulate","f u c k","f u c k e r","f4nny","maricn","maricas","faggit","faggs","fanny","fannyflaps","fannyfucker","fanyy","grasa","fcuk","fcuker","fcuting","feck","fecker","felching","cado","","dedo","dedo","dedos de mierda","dedo de mierda","dedos","fistfuck","fistfucking","fistfucker","fistfuckers","fistfuckings","fistfucks","brida","fook","fooker","follada","hijo de puta","mierdas","puta mierda","mierda mierda mierda madre mierda mierda mierda","maldicin","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fusibles","fukwhit","fukwit","fux","fux0r","gangbang","gangbanged","gangbangs","gaylord","gaysex","cabra","maldito","hardcoresex","headass","hoar","hoare","hoer","hoes","homo","hore","ms caliente","caliente","hotsex","jack-off","jackoff","jap","jism","jiz","jizm","jizz","kawk","kno","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lujuria","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masoquista","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucking","mothafucker","bigotes","mothafuckin","mothafucks","hijos de puta","madre mierda","muff","muthafecker","muthafuckker","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","niggah","niggas","niggaz","negros","nob","nob jokey","nobhead","nobjocky","nobjokey","nueces","orgasim","orgasims","orgasmo","orgasmos","p0rn","pen","pecker","chupa penes","telfonosex","phuk","phuked","phuking","phukked","phukking","phuks","phuq","cabrn","chulos","orinar","enojada","meandos","meadas","pispa","orina","meando","poop","porno","pornografa","pornos","pron","pube","pusse","pussi","pussies","vagina","vaginas","recto","retardado","rimjaw","rimming","s hit","s.o.b.","sadista","schlong","tornillo","scroat","scrote","escroto","sexo","sh!+","sh","sh1t","shag","shagger","shaggin","temblando","transexual","shi+","skank","smegma","smut","snatch","spac","sunk","t1t1e5","t1tties","teets","teez","testculo","titular","titfuck","tit","tittie5","tittie","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","willies","willy"]],["fr",["4r5e","5h1t","5 heures","a55","anal","anus","ar5e","arrs","cul","nes","encul de cul","culs","enfoir","assfukka","trou du cul","gros cul","a$","en dollars","c'est a","b00bs","b17ch","b1tch","sac  bille","boules","sac  billes","btard","bte","btet","clocher","bestial","bestialit","bi+ch","biatch","salope","les salopes","salopes","sanglant","blow job","pipe","pipes","boiolas","cliquetis","bollok","osseux","sein","seins","bouchons","les nichons","boucliers","booooooobs","poitrines","buceta","encul","des conneries","bum","fesses","mgots","gros plan","plug anal","c0ck","c0cksucker","carpet muncher","cawk","chine","cipa","cl1t","clito","clitoris","clits","nut","coq","suceur de bite","visage de coq","tte de coq","munche de coq","coq-muncher","coqs","sucre de bite","bites suces","coqsucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","sperme","pomme","cumming","spermes","jaculation","cunilingus","cunillingus","cunnilingus","pte","lche-cul","chattes","cyalis","cyberfuc","cyberfuck","cyberfucked","les cyber-fuckers","cyberdpannage","d1ck","putain","bite","tte de bite","gode","godes","vier","viers","dirsa","dlck","encul de chien","chienne","levrette","d'nes","doux","duch","dyke","jaculations","jaculate","f u c k","f u c k e r","pour","pd","signalisation","foggitt","peaux","fagot","fagots","pds","fanny","les fannyflaps","fany","gras","fcuk","fcuker","fcuking","feu","fecker","feuillage","infest","taux de chute","culotte","avec les doigts","enfoirs","fucking des doigts","bouches de doigts","fuck","farcis","frappe de poing","frappes de poing","fusils","bride","fook","fooker","merde","baise","enculs","espce d'enfoir","crtins","putains","fils de pute","baise-moi","connard","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fox0r","un gangbang","bandes","des gangs","gaylord","gaysexe","caprins","seigneur","dieu maudit","nom de dieu","hardcoresexe","tte de cul","arnaque","hoare","attaque","sabots","homo","thorax","les plus excits","excit","sexe chaud","dcollage","jap","branleur","le jisme","jiz","jizm","jizz","kawk","boutons","boutonn","bouton","tte de bouton","jocky","boutonjokey","kock","kondum","kondums","kum","kummer","le kumming","des kums","kunilingus","l3i+ch","3 points","labia","luxure","lustre","m0f0","m0fo","m45terbate","m5terb8","ma5terbate","masochiste","matre-bateau","matreb8","matre-bat*","matrise3","matre","masterbation","masterbations","masturbe","les","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafucks","mothafuckin","mothafucking","mothafuckings","merdeux","muff","le muthafecker","muthafuckker","n1gga","n1gger","nazi","4 h","negga","niggu","niggas","niggaz","ngre","ngres","nob","nob jokey","tte de noeud","nobjocky","nobjokey","engourdissements","sac  noix","orgasim","orgasims","orgasme","orgasmes","p0rn","sur gage","pic","pnis","suceur de pnis","tlphonex","pure","phuk","ouvrs","le phuking","phukked","ouvrage","les phuks","phuq","maquereau","pisse","en colre","pisser","les pisseurs","pousses de pisse","caca","porno","pornographie mettant en scne des enfants","pornos","pique","les briques","tablier","pube","pusse","pousse","chatte","rectum","retard","rimjaw","jante","s hit","s.o.b.","sadique","schlong","vissage","scroat","scrotte","scrotum","sexe","sh!+","- oui","s'il vous plat","shagger","shaggin","sciages","transexuelle","shi+","merdique","crtin","des merdes","sankk","smegma","smut","snatch","spac","crote","t1tt1e5","t1tits","ttons","et toi","testique","testicule","tit","titfuck","titre","titre5","tittyfuck","tittywank","titwank","lancer","tuyau","tw4t","twat","twathead","twatty","twunt","dtecteur","v14gra","v1gra","vagin","viagra","vulve","w00se","wang","gland","branl","souris","pute","walies","willy"]],["hi",["4r5e","5h1t","5hit","a55","","","ar5e","arrse","","","ass","ass-fucker","assfucker","assfukka","asshole","assholes","asswhole","$$","$","b","b00b","b17ch","b1tch","","","","","","","","","","bi+ch","","","","","","","","","blow job","blowjob","","","","","","","booooobs","buceta","","","bum","","","","buttplug","c0ck","c0cksucker","carpet muncher","","cipa","cl1t","","","","","  ","",""," ","","cokmuncher","coksucka","","","","cummer","cumming","","","cunillingus","","","cuntlick","cuntlicker","cuntlicking","cunts","cyalis",""," ","d1ck","damn","","dickhead","","dildos","","","-fucker","","dogging","","","","","ejaculate","ejaculated","ejaculation","ejaculations","ejakulate","f u c k","f u c k e r","f4nny","","","","fagot","","","","","fcuk","fcuker","fcuking","fecker","",""," ","fingerfucked","","","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuck","","","  ","","","-","fuckheads","","fuckingshitmotherfucker","fudge packer","fudgepacker","fuk","fucker","fukkin","","","fux0r"," ","gangbanged","","","","","","","","",""," ",""," ","","","","jism","","","","","knobjocky","kock","","","","kumming","","l3i+ch","l3itch","","","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","","-","8","*","3","","masterbation","","mo-fo","mof0","","mothafucka","mothafuckaz","mothafucked","mothafucker","mothafuckin","mothafucking","","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckka","","","muthafecker","muthafuckker","mutherfucker","n1gga","n1gger","","nigg3r","nigg4h","","","","nigger","niggers","","nob jokey","","nobjocky","nobjokey","","orgasim"," ","p0","","","","penisfucker","","","","","phuq","pigfucker","","","pissed","pissing"," ","","","","","pricks","","","","","","","rimming","s hit","s.o.b.","sadist","schlong","","","","","","","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale"," +","shitfuck","shitful","","","","","","skank","","smegma","smut","","","","","t1t1e5","1","","","","","","","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","toser","turd","tw4t","twat","twathead","twatty","","","v14gra","v1gra","","","vulva","w00se","","wank","wanker","wanky","whoar","whore",""]],["ja",["4r5e","5h1t","5","55","","","ar5e","","","ass fucker","","assfucker","","","$$$$","","a$s","b!","b00bs","b17ch","b1tch","","","","","","","","","","bi+ch","","","","","","","blow job","","","","","","","","","","","","","","","","","","","","c0cksucker","carpet muncher","","","1t","","","","","","","","","","","","","","","","","","","cuntlicking","","","fuck","fucked","","","d1ck","","dickhead","","","","",""," fucker","","","","","","","ejaculated()","","ejaculating()","ejaculating()","ejakulate","f u c k","f u c k e r","","","","","","","","fucker","","","","","","fuck","fucked","","","fucking","fucks","fuck","fistfucked","fistfucker","fuckers","fistfucking","fistfuckings","fistfucks","","","","","","fuckingshitmotherfucker","fuckwhit","fuckwit","fudge packer","","","","","","fukwit","","","","","sexsex","","","","","sexsex","","","","","sex","","","","","","","","","","","","","","l3i+ch","l3itch","","","m0f0","m0fo","m45terbate","5terb8","ma5terbate","","","b8","*","3","","","","masturbate","","0","mothafuck","","mothafuckas","mothafuckaz","mothafucked","mothafucker","","mothafuckin","mothafucking","mothafuckings","mothafucks","fuck","fucked","fucker","fuckers","fuckin","fucking","fuckings","fuckka","fucks","","n1gga","n1","","3r","4h","","","","","nob jokey","","","","","","p0rn","","","","penisfucker","sex","","","","","","","","","","","pissflaps","","","","","","","","","","","","","s hit","s.o.b.","","","","","","","","sh1t","","","","","","","","","","","","","","","","-of-a-bitch","","t1tt1e5","t1","","","","","5","tittiefucker","","titwank","","","tw4t","","","","v14gra","v1gra","","","w00se","","","","","",""]],["ko",["4r5e","1","5","a55's "," ","","","",""," "," "," ","","",""," ","","blow job",""," ","","carpet muncher",""," "," ",""," ","cyalis","","","fucker","fuckers"," *",": "," ",""," ","f u c k","f u c k e r",""," ",""," fcuk"," ","",""," "," hitmotherfucker","fudge packer","","","","sex",""," ","n","sex"," "," "," "," ",""," "," ","","5terb8","","b8"," *","3","thafuck","thafucka","thafuckas","thafuckaz","thafucked","thafucker","thafuckers","thafuckin","thafucking","thafucks","","fuckka"," ","","nob jokey",""," ","","","","","","pussys ","","s hit","."," ","","","","",""," a-bitch","","t1","","5","tittiefucker","tittyfuck","tittywank, ","titwank","v14","v1",""]],["pt",["4r5e","5h1t","5","a55","anal","anus","ar5e","arrumos","arse","arses","bunda","filho da puta","julgo","o qu","idiota","idiotas","- o qu","$$","como $","a $s","b!tch","b00","b17ch","b1","saco de bola","bolas","sacana","bestial","bestialidade","amigos","bi-ch","biatch","cabro","putas","cadelas","sangrento","blow job","broche","broches","boa sorte","bolo","osso","mamas","peitos","buceta","bugger","merda","bum","mas..","bundas","mastplug","c0m","c0cksucker","carpet muncher","cawk","chink","cipa","no","claire","clitoris","clrigos","amendoim","caralho","cara de pau","cabea de pau","galo","carpinteiro","paus","pausucked","pausucking","pausuka","cok","colheitadeira","o que  que se passa","cludia","cox","porra","de vero","cumming","cums","com licena","cunilingus","cunillingus","cpula","no sei","o que  isso","incmodo","cmplices","cialis","cyberfuc","cyberfuck","cyberfucked","cibercriminoso","os cibercriminosos","cyberfucking","maldio","pauzinho","dildo","dildos","dink","dinks","dirsana","dl","cozinho","- no","duquesa","dyke","ejaculaes","ejaculada","ejaculando","ejaculao","ejaculao interna","f u c k","f u c k e r","f4b","fago","fagging","faggit","faggs","fagot","fagots","fags","fantoche","fannyflaps","fany","gorda","fcuk","fcuker","fcuking","pateta","fecker","felching","cado","fodido","filhos da puta","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","foda-se","flange","fook","fooker","fodida","cabres","caralhos","fodas","fudge packer","fudgepacker","fuk","fuker","fukker","cortina","fuks","eu sei","fux","gangbang","gangbanged","jogos de vestir","gay","gaysex","cabras","raios","maldito","hardcoresex","headass","hoar","hoare","hoer","hoes","homo","hore","excitado","sexo quente","jack-off","jackoff","tudo bem","jismo","jnior","jizm","jizz","kawk","boto","cabea de cabea","- sim","kum","kummer","kums","i3i+ch","i3","laboratrio","brilho","lustrando","m0f0","m0fo","m45terbate","o que fazer","ma5terbate","masoquista","mestre-bate","masterb8","masterbat","masterbat3","masterbate","masterbao","masterbations","masturbar-se","mo-fo","o que se passa","mofo","mothafuckers","que se lixe","fodendo","mothafuckings","merdas","filho da me","muthafecer","fode-se","n1gga","nazi","o que foi","nigga","os pretos","o que ","preto","pretos","no","nob jokey","nobjocky","boa noite","nozes","orgasim","orgasims","orgasmo","orgasmos","p0rn","po","pecker","pnis","pnisfucker","telefonesex","phuck","phuk","phuked","a tremer","phukked","phukking","phuras","phuq","pimpos","mida","mido","pissers","pias","pissflaps","imposio","mijando","coc","porn","por favor","pornografia","pimba","cricks","pron","bar","puxa","puxas","cona","conas","recto","retirada","bordas","s hit","s.o.b.","sdico","schlong","parafusos","scroat","scrote","escroto","smen","sexo","mais","shag","shagger","shaggin","shagging","shema","brilhante","skank","puta","smegma","snatch","spac","t1t1e5","t1t","tetas","testculo","t","no te metas","tit","tits","que merda","turva","tw4t","twat","twathead","twatty","twunt","twunter","v14g","v1gra","vagina","via satlite","vulva","wang","vamos","wanker","wanky","willies","willy"]],["ru",["4r5e","5h1t","5","55","","","ar5e","","","","","","","","","$$"," $","$","/","00","17","b1tch","  ","","","","","","","+","",""," ","","","","","","blow job","","","","","","","","","","","","","","","","","","carpet muncher","","","","cl1t","","","","","",""," ","","","",""," ","","","","","","","","","","","","","","","","","","","","-","","","","-","1","","","","","","","","","","","","","","","","","f u c k","f u c k e r","4nny","","","","","","","","","","","","","","","",""," ",""," ","","","","","","","","","",""," ","","fudge packer","","","","fux0r","","","","-","",""," ","","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","l3i+ch","3","","","m0f0","m0fo","m45terterate","ma5terb8","5","","-","8","","","","","","","","","","","","","","","","","","","","n1gga","n1gger","","nigg3r","nigg4h","","","","","","","nob jokey","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ","","","","s hit","...","","","","","","","","! +","","","","","","+","","","","","","","","t1tt1e5","1","","","","","5","","","","tw4t","v14","v1","","","","00","","","","","",""]],["zh",["4r5e (4r5e) ()","51","5","a55","","5e","","","","","name","","","(:)","","ch",":1","b17ch ()","b1","","","","","","","","","","","","","","","","blow job","","bo","","","","","","","","","","","","","","c0ck ()","carpet muncher","aw","","","cl1t ","","","","","","","","","","","","","","","","","","","","","ya","","","","","d1ck ()","","","","","a","","","","","","","","","","","","f u c k","f u c k e r","f4ny ()","","","","","","","","","fcuk ()","","","","","","","","","","","","","","","","","fudge packer","","","","","","","","furx0r ()","","","","","","","","","","","","","","","","","","jism ","","","","","","","","","","","","ku","","","l3i+ch ","a","","","","m0f0 ","m0fo ","m45 ","ma5terb8 ","","","","b8","*","bat3","","","","mo","","","","","","","","n1gger ()","","3r","ni4h","","","","","","nob jokey","","","","","","","","","p0rn ","","","","","","","","p","","","","","","","","","","","","","","","","","","","","","","","s hit",".","","","","","",""," +","","","","","","","","shi+ ","","","","","","","","","","","t1tt1e5 ","","","name","","","","5","","","tw4","wa","wa","watt","v14gra ()","v1 ","via","","","","","",""]]]);(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.profaneWords=void 0;var A=Wl;Object.defineProperty(L,"profaneWords",{enumerable:!0,get:function(){return A.profaneWords}})})(fd);Object.defineProperty(zr,"__esModule",{value:!0});zr.profanity=zr.Profanity=void 0;const gp=Va,Un=ud,My=vm,Dy=fd;class pm{constructor(A){this.options=A?{...new gp.ProfanityOptions,...A}:new gp.ProfanityOptions,this.whitelist=new Un.List(()=>this.clearRegexes()),this.blacklist=new Un.List(()=>this.clearRegexes()),this.removed=new Un.List(()=>this.clearRegexes()),this.regexes=new Map}exists(A,I){if(typeof A!="string")return!1;const F=this.getRegex(this.resolveLanguages(I));F.lastIndex=0;const N=A.toLowerCase();let H;for(;(H=F.exec(N))!==null;){const p=H.index,S=p+H[0].length;if(!this.isWhitelisted(p,S,N))return!0}return!1}censor(A,I=Un.CensorType.Word,F){if(typeof A!="string")return A;const N=this.getRegex(this.resolveLanguages(F));N.lastIndex=0;const H=A.toLowerCase();return this.replaceProfanity(A,H,(p,S,t)=>{if(this.isWhitelisted(S,t,H))return p;switch(I){case Un.CensorType.Word:{const h=p.includes("_")?"_":"";return this.options.grawlix+h}case Un.CensorType.FirstChar:return this.options.grawlixChar+p.slice(1);case Un.CensorType.FirstVowel:case Un.CensorType.AllVowels:{const h=new RegExp("[aeiou]",I===Un.CensorType.FirstVowel?"i":"ig");return p.replace(h,this.options.grawlixChar)}default:throw new Error(`Invalid replacement type: "${I}"`)}},N)}addWords(A){const I=[],F=[];A.forEach(N=>{const H=N.toLowerCase();this.removed.words.has(H)?I.push(H):F.push(H)}),I.length&&this.removed.removeWords(I),F.length&&this.blacklist.addWords(F)}removeWords(A){const I=[],F=[];A.forEach(N=>{const H=N.toLowerCase();this.blacklist.words.has(H)?I.push(H):F.push(H)}),I.length&&this.blacklist.removeWords(I),F.length&&this.removed.addWords(F)}isWhitelisted(A,I,F){for(const N of this.whitelist.words){const H=F.indexOf(N,Math.max(0,A-N.length+1));if(H!==-1){const p=H+N.length;if(this.options.wholeWord){if(A===H&&I===p&&(A===0||!/[\w-_]/.test(F[A-1]))&&(I===F.length||!/[\w-_]/.test(F[I])))return!0}else if(A>=H&&A<p||I>H&&I<=p||H>=A&&p<=I)return!0}}return!1}replaceProfanity(A,I,F,N){let H=A,p=0,S;for(;(S=N.exec(I))!==null;){const t=S.index,h=t+S[0].length,c=A.slice(t+p,h+p),l=F(c,t,h);H=H.slice(0,t+p)+l+H.slice(h+p),p+=l.length-c.length}return H}resolveLanguages(A){return A?.length?A:this.options.languages}getRegex(A){if(!A.length)throw new Error("At least one language must be provided");const I=[...new Set(A.map(p=>p.trim().toLowerCase()))],F=I.sort().join(",");if(this.regexes.has(F))return this.regexes.get(F);const N=I.flatMap(p=>{const S=Dy.profaneWords.get(p);if(!S)throw new Error(`Invalid language: "${p}"`);return S.filter(t=>!this.removed.words.has(t))}),H=this.buildRegex(N);return this.regexes.set(F,H),H}buildRegex(A){const F=[...A,...this.blacklist.words].map(My.escapeRegExp),N=`${this.options.wholeWord?"(?:\\b|_)":""}(${F.join("|")})${this.options.wholeWord?"(?:\\b|_)":""}`;return new RegExp(N,"gi")}clearRegexes(){this.regexes.clear()}}zr.Profanity=pm;zr.profanity=new pm;(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.profaneWords=L.CensorType=L.ProfanityOptions=L.profanity=L.Profanity=void 0;var A=zr;Object.defineProperty(L,"Profanity",{enumerable:!0,get:function(){return A.Profanity}}),Object.defineProperty(L,"profanity",{enumerable:!0,get:function(){return A.profanity}});var I=Va;Object.defineProperty(L,"ProfanityOptions",{enumerable:!0,get:function(){return I.ProfanityOptions}});var F=ud;Object.defineProperty(L,"CensorType",{enumerable:!0,get:function(){return F.CensorType}});var N=fd;Object.defineProperty(L,"profaneWords",{enumerable:!0,get:function(){return N.profaneWords}})})(Sl);Sl.profanity.addWords(["nazi","hitler","suicide","pedophile"]);function wy(L){return Sl.profanity.exists(L.replace(/[-_]/g," "))||Sl.profanity.exists(L.replace(/(\d+$)|(^\d+)|([-_])/g,""))}var Ss=(L=>(L.ERROR="interface/error",L.CLICK="interface/click",L))(Ss||{}),Al=(L=>(L.NOTICE="notice",L))(Al||{});const Fy=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  border-radius: 5px;
  letter-spacing: 1px;
  display: flex;
  justify-content: center;
  align-items: center;
  ${L=>{switch(L.$view){case"primary":return bt`
        background: ${xt.WARN_GRADIENT};  
        &:hover {
          background: ${xt.WARN};
        }
      `;case"confirm":return bt`
        background: ${xt.SUCCESS_GRADIENT};  
        &:hover {
          background: ${xt.SUCCESS};
        }
      `;case"decline":return bt`
        background: ${xt.ERROR_GRADIENT};
        &:hover {
          background: ${xt.ERROR};
        }
      `;case"alternative":return bt`
        background: linear-gradient(0deg, #0085dd 0%, #00a9ff 100%);
        &:hover {
          background: #00a9ff;
        }
      `;default:return bt`
        background: ${xt.BLACK};
        &:hover {
          background: ${xt.SUCCESS_GRADIENT};
        }
      `}}}
  ${L=>{switch(L.$size){case"large":return bt`
        font-size: 17px;
        line-height: 17px;
        padding: 11px 18px 14px 18px;
      `;case"small":return bt`
        font-size: 13px;
        line-height: 13px;
        padding: 9px 14px 12px 14px;
      `;default:return bt`
        font-size: 10px;
        line-height: 10px;
        padding: 6px 0 7px 0;
        @media ${yt.BREAKPOINT.MOBILE} {
          font-size: 3vh;
          line-height: 3vh;
        }
      `}}}
  ${L=>L.$disabled?bt`
    opacity: 0.25
  `:bt`
    pointer-events: all;
  `};
  &:hover {
    cursor: pointer;
  }
`,tn=({size:L,view:A,disabled:I,onClick:F,children:N})=>{const H=mt.useRef(null);return Ct.useClick(H,"down",p=>{gt.World.fx.playSound(Ss.CLICK),F(p)},[F]),q.createElement(Fy,{ref:H,$size:L,$view:A,$disabled:I,role:"button"},N)},mm=rt.input`
  width: 100%;
  min-width: 300px;
  background: ${xt.WHITE_TRANSPARENT_15};
  font-family: ${ee.PIXEL_LABEL};
  font-size: 15px;
  line-height: 15px;
  border-radius: 5px;
  padding: 11px 14px;
  pointer-events: all;
  border: none;
  ${L=>L.error&&bt`
    background: ${xt.ERROR_TRANSPARENT_50} !important;
  `}
  ${L=>L.success&&bt`
    background: ${xt.SUCCESS_TRANSPARENT_50} !important;
  `}
  &:focus {
    outline: none;
    background: ${xt.WHITE_TRANSPARENT_25};
  }
`,By=rt.div`
  position: relative;
  flex: 1;
`,xp=rt.img`
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
`,Ny=rt.div`
  ${L=>L.$active&&bt`
    opacity: 0.25;
  `}
`,Uy=()=>{const[L,A]=mt.useState(""),[I,F]=mt.useState(!0),[N,H]=mt.useState(!1),[p,S]=mt.useState(!1),t=mt.useRef(null),h=()=>{S(!0),t.current=setTimeout(()=>{S(!1),t.current=null},2e3)},c=()=>{H(!0),t.current=setTimeout(()=>{H(!1),t.current=null},2e3)},l=s=>{/^\w*$/.test(s.target.value)&&A(s.target.value)},r=()=>{if(L){if(L.length<3||wy(L)){h();return}S(!1),t.current&&(clearTimeout(t.current),t.current=null),wt.UpdateName(L).then(s=>{s?.error?h():c()})}};return mt.useEffect(()=>(wt.GetName().then(s=>{F(!1),A(s?.name??"")}),()=>{t.current&&clearTimeout(t.current)}),[]),q.createElement(Ny,{$active:I},q.createElement(ne,{direction:"horizontal",align:"left",gap:15},q.createElement(By,null,q.createElement(mm,{type:"text",placeholder:"Your name",disabled:I,success:N,error:p,value:L,maxLength:16,autoFocus:!0,onChange:l}),N&&q.createElement(xp,{src:"assets/sprites/hud/success.png"}),p&&q.createElement(xp,{src:"assets/sprites/hud/error.png"})),q.createElement(tn,{view:"primary",size:"large",onClick:r},"OK")))},Gy=rt.div`
  display: grid;
  grid-template-columns: minmax(26px, max-content) 1fr 130px;
  grid-gap: 20px;
  align-items: center;
  color: ${L=>L.$color||"rgba(255, 255, 255, 0.5)"};
`,xf=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 16px;
  line-height: 16px;
`,by=rt.div`
  position: relative;
  border-radius: 5px;
  border: 1px solid transparent;
  padding: 10px 6px 13px 6px;
  font-size: 12px;
  line-height: 0;
  text-align: center;
  color: ${L=>L.$color||"rgba(255, 255, 255, 0.5)"};
  border-color: ${L=>L.$color||"rgba(255, 255, 255, 0.5)"};
  ${L=>L.$self&&bt`
    &::before {
      position: absolute;
      content: '';
      right: -4px;
      top: -4px;
      border-radius: 50%;
      width: 8px;
      height: 9px;
      background: ${xt.SUCCESS_LIGHT};
    }
  `}
`,zy=rt.div`
  font-size: 14px;
  line-height: 14px;
`,Vy=rt.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
`,Wy=rt.img`
  margin-left: 10px;
  width: 12px;
`,Ep=({self:L,position:A,label:I,score:F})=>{const N=L?Re.SUCCESS:["#ffd000","#dfe3f0","#d6763e"][A-1];return q.createElement(Gy,{$color:N},q.createElement(xf,null,q.createElement(by,{$self:L,$color:N},A)),q.createElement(xf,null,q.createElement(zy,null,I)),q.createElement(xf,null,q.createElement(Vy,null,F,q.createElement(Wy,{src:"assets/sprites/hud/score.png"}))))},Yy=rt.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`,Hy=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  margin-bottom: 10px;
  opacity: 0.75;
`,Xy=rt.div`
  pointer-events: all;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`,ky=rt.div`
  position: relative;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 15px;
  line-height: 15px;
  background: ${xt.WHITE_TRANSPARENT_15};
  padding: 6px 26px 8px 8px;
  border-radius: 3px;
  white-space: nowrap;
  &:hover {
    cursor: pointer;
    background: ${xt.SUCCESS_TRANSPARENT_50};
  }
  ${L=>L.$active&&bt`
    background: ${xt.SUCCESS_TRANSPARENT_50};
  `}
  &::after {
    position: absolute;
    content: '';
    font-size: 24px;
    line-height: 24px;
    top: -2px;
    right: 7px;
  }
`,Ky=rt.div`
  background: ${xt.BLACK};
  border-radius: 5px;
  position: absolute;
  padding: 6px;
  z-index: 2;
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-left: 10px;
  ${L=>!L.$opened&&bt`
    display: none;
  `}
  &::after {
    position: absolute;
    content: '';
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 10px solid ${xt.BLACK};
    left: -10px;
    top: 50%;
    transform: translateY(-50%);
  }
`,$y=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  padding: 7px 10px 8px 10px;
  white-space: nowrap;
  ${L=>L.$active?bt`
    color: ${Re.SUCCESS};
  `:bt`
    &:hover {
      cursor: pointer;
      color: ${Re.SUCCESS};
    }
  `}
`,Ga=({label:L,options:A,defaultValue:I,onChange:F})=>{const N=mt.useRef(null),[H,p]=mt.useState(!1),[S,t]=mt.useState(I),h=c=>{F(c),t(c),p(!1)};return Ct.useClickOutside(N,()=>{p(!1)},[]),q.createElement(Yy,null,q.createElement(Hy,null,Ot.Phrase(L)),q.createElement(Xy,{ref:N},q.createElement(ky,{$active:H,onClick:()=>p(!H)},Ot.Phrase(S)),q.createElement(Ky,{$opened:H},A.map(c=>q.createElement($y,{key:c,onClick:()=>h(c),$active:S===c},Ot.Phrase(c))))))},jy=Ln`
  0% { background: rgba(255, 255, 255, 0.2) }
  100% { background: rgba(255, 255, 255, 0.1) }
`,Zy=rt.div`
  line-height: 0;
  margin: 2px 0 10px 0;
  text-align: center;
  width: 30px;
`,La=rt.div`
  height: 25px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
  animation: ${jy} 1s infinite;
`,Qy=()=>{const L=Ct.useGame(),[A,I]=mt.useState(null),[F,N]=mt.useState(null),[H,p]=mt.useState(Ti.INFINITY),[S,t]=mt.useState(Ys.NORMAL),h=mt.useMemo(()=>Object.keys(Ti),[]),c=mt.useMemo(()=>Object.keys(Ys),[]),l=s=>p(s),r=s=>t(s);return mt.useEffect(()=>{I(null),N(null),wt.GetLeaderboard(H,S).then(s=>{s&&(I(s.results),N(s.current))})},[H,S]),q.createElement(ne,{direction:"vertical",gap:[20,40]},q.createElement(ne,{direction:"horizontal",gap:20},q.createElement(Ga,{label:"DIFFICULTY",options:c,defaultValue:L.difficulty,onChange:r}),q.createElement(Ga,{label:"MODE",options:h,defaultValue:L.mode,onChange:l})),q.createElement(ne,{direction:"vertical",gap:[10,15]},A?q.createElement(q.Fragment,null,A.map((s,e)=>{const i=!!(F&&F.position===e+1);return q.createElement(Ep,{key:s.name+e,self:i,position:e+1,label:i?"YOU":s.name||"Unnamed",score:s.score})}),F&&F.position>A.length&&q.createElement(q.Fragment,null,F.position>A.length+1&&q.createElement(Zy,null,"..."),q.createElement(Ep,{self:!0,position:F.position,label:"YOU",score:F.score}))):q.createElement(q.Fragment,null,q.createElement(La,null),q.createElement(La,null),q.createElement(La,null),q.createElement(La,null),q.createElement(La,null))),q.createElement(Uy,null))},Jy=rt.div`
  position: fixed;
  inset: 0;
  pointer-events: all;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.BLACK_TRANSPARENT_75};
  z-index: ${Kn.OVERLAY};
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
`,qy=rt.div`
  position: absolute;
  padding: 20px;
  border-radius: 10px;
  position: absolute;
`,_y=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 18px;
  line-height: 20px;
  letter-spacing: 1px;
  white-space: pre;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`,tT=rt.div`
  display: flex;
  margin-top: 20px;
  gap: 10px;
`,Yl=({message:L,children:A,buttons:I,onConfirm:F,onClose:N})=>{const H=()=>{N?.(),F?.()},p=()=>{N?.()};return Ct.useEvent(gt.Screen.input.keyboard,"keyup-ENTER",H,[H]),q.createElement(Jy,null,q.createElement(qy,null,q.createElement(_y,null,L?Ot.Phrase(L):A),q.createElement(tT,null,I??q.createElement(q.Fragment,null,q.createElement(tn,{view:"confirm",size:"small",onClick:H},Ot.Phrase("YES")),q.createElement(tn,{view:"decline",size:"small",onClick:p},Ot.Phrase("NO"))))))},eT=rt.div`
  background: ${xt.ERROR_TRANSPARENT_75};
  padding: 12px 28px 14px 14px;
  border-radius: 3px;
  display: flex;
  align-items: center;
  gap: 14px;
`,iT=rt.img`
  width: 28px;
`,nT=rt.div`
  font-size: 12px;
  line-height: 16px;
  letter-spacing: 1px;
  white-space: pre;
`,dd=()=>Ct.useGame().isIncognito&&Me.GetFlag(Ee.INCOGNITO)&&q.createElement(eT,null,q.createElement(iT,{src:"assets/sprites/hud/save.png"}),q.createElement(nT,null,Ot.Phrase("SAVES_NOT_ALLOWED"))),te=rt.table`
  width: 100%;
  border-collapse: separate; 
  border-spacing: 1px 3px;
`;te.Head=rt.thead`
  top: 0;
  font-size: 14px;
  line-height: 14px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 12px;
    line-height: 12px;
  }
`;te.HeadRow=rt.tr`
  opacity: 0.5;
`;te.Body=rt.tbody`
  font-size: 12px;
  line-height: 12px;
`;te.BodyRow=rt.tr`
  background: ${xt.BLACK_TRANSPARENT_25};
  pointer-events: all;
  ${L=>L.$primary&&bt`
    background: ${xt.BLACK_TRANSPARENT_75};
  `}
  ${L=>L.$active?bt`
    background: ${xt.SUCCESS_DARK};
  `:bt`
    &:hover {
      background: ${xt.BLACK_TRANSPARENT_50};
    }
  `}
  &:hover {
    cursor: pointer;
  }
`;te.Cell=rt.td`
  padding: 12px 16px;
  overflow: hidden;
  ${L=>{switch(L.$type){case"delete":return bt`
        width: 38px;
        &:hover {
          background: ${xt.ERROR_DARK};
        }
      `;case"download":return bt`
        width: 38px;
        &:hover {
          background: #007cc9;
        }
      `}}}
  &:first-child {
    border-radius: 5px 0 0 5px;
  }
  &:last-child {
    border-radius: 0 5px 5px 0;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 8px 12px;
  }
`;const sT=rt.div`
  font-size: 20px;
  line-height: 20px;
  letter-spacing: 1px;
  opacity: 0.5;
`,rT=rt.div`
  position: relative;
`,aT=rt.input`
  position: absolute;
  pointer-events: all;
  inset: 0;
  opacity: 0;
`,oT=()=>{const L=Ct.useGame(),A=Ct.useMobilePlatform(),I=mt.useRef(null),[F,N]=mt.useState(ri.Saves[0]),[H,p]=mt.useState(ri.Saves),[S,t]=mt.useState(null),h=()=>{L.continueGame(F)},c=()=>{I.current?.click()},l=()=>{const e=I.current?.files?.[0];if(e){const i=new FileReader;i.onload=()=>{if(i.result)try{const o=decodeURIComponent(i.result.toString()),n=Af.AES.decrypt(o,Xn.SAVES.KEY).toString(Af.enc.Utf8),a=JSON.parse(n),f=a.name;let u=1;for(;ri.Saves.some(d=>d.name===a.name);)u++,a.name=`${f} (${u})`;ri.AddSave(a).then(()=>{p([...ri.Saves])})}catch(o){wt.LogWarn("Failed to import save",o)}},i.readAsText(e),I.current&&(I.current.value="")}},r=e=>{t({message:"CONFIRM_DELETE_SAVE",onConfirm:()=>{ri.DeleteSave(e).then(()=>{p([...ri.Saves]),F.name===e&&N(ri.Saves[0])})}})},s=()=>{t(null)};return q.createElement(ne,{direction:"vertical",align:"left",gap:[20,30]},S&&q.createElement(Yl,{...S,onClose:s}),q.createElement(dd,null),H.length===0?q.createElement(sT,null,Ot.Phrase("SAVES_NOT_FOUND")):q.createElement(te,null,q.createElement(te.Head,null,q.createElement(te.HeadRow,null,q.createElement(te.Cell,null,Ot.Phrase("SAVE_NAME")),q.createElement(te.Cell,null,Ot.Phrase("MODE")),q.createElement(te.Cell,null,Ot.Phrase("DIFFICULTY")),q.createElement(te.Cell,null,Ot.Phrase("WAVE")),q.createElement(te.Cell,null,Ot.Phrase("SCORE")),q.createElement(te.Cell,null,Ot.Phrase("SAVE_DATE")),q.createElement(te.Cell,null),q.createElement(te.Cell,null))),q.createElement(te.Body,null,H.map(e=>q.createElement(te.BodyRow,{key:e.name,onClick:()=>N(e),$active:e.name===F.name,$primary:!e.name},q.createElement(te.Cell,null,e.name||"Autosave"),q.createElement(te.Cell,null,Ot.Phrase(e.payload.game.mode)),q.createElement(te.Cell,null,Ot.Phrase(e.payload.game.difficulty)),q.createElement(te.Cell,null,e.payload.wave.number),q.createElement(te.Cell,null,e.payload.player.score),q.createElement(te.Cell,null,new Date(e.date).toLocaleString()),q.createElement(te.Cell,{$type:"download",title:"Export",onClick:()=>ri.ExportSave(e)},""),q.createElement(te.Cell,{$type:"delete",title:"Delete",onClick:()=>r(e.name)},""))))),q.createElement(ne,{direction:"horizontal",gap:12},q.createElement(tn,{view:"primary",size:"large",onClick:h,disabled:H.length===0},Ot.Phrase("START")),q.createElement(rT,null,q.createElement(tn,{size:"large",onClick:c,disabled:H.length>=Xn.SAVES.LIMIT&&Me.Platform!==cn.DEVELOPMENT},Ot.Phrase("IMPORT_SAVE")),q.createElement(aT,{ref:I,type:"file",accept:".iw",onChange:l,hidden:!A}))))},lT=rt.img`
  width: 16px;
  margin: -1px 7px -2px 0;
`,wa=rt.div`
  display: flex;
  align-items: center;
  margin-top: 10px;
`;wa.Icon=rt.img`
  margin-right: 8px;
  width: 24px;
`;wa.Value=rt.div`
  margin-top: -2px;
  font-size: 24px;
  line-height: 24px;
`;const zf=rt.div`
  background: ${xt.BLACK};
  font-family: ${ee.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  padding: 7px 10px 8px 10px;
  margin-top: 2px;
`,hT=rt.div`
  pointer-events: all;
  position: relative;
  &:hover {
    cursor: pointer;
    ${zf} {
      background: ${xt.WARN};
    }
  }
  ${L=>L.$active&&bt`
    ${zf} {
      background: ${xt.SUCCESS_DARK};
    }
  `}
`,uT=rt.img`
  position: absolute;
  width: 44px;
  transform: translate(-50%, -80%);
  left: 50%;
  top: 50%;
  background: ${xt.BLACK_TRANSPARENT_50};
  padding: 10px;
  border-radius: 16px;
`,fT=rt.img`
  width: 128px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 100px;
  }
`,dT=({planet:L,active:A,onSelect:I})=>{const F=Ct.useGame(),[N,H]=mt.useState(!1),p=F.isPlanetLocked(L),S=()=>{p?H(!0):I()},t=()=>{wt.ShowAds(Di.REWARDED).then(c=>{H(!1),c&&(F.unlockPlanet(L),I())})},h=()=>{H(!1)};return q.createElement(q.Fragment,null,N&&q.createElement(Yl,{buttons:[q.createElement(tn,{key:"unlock",view:"alternative",size:"small",onClick:t},q.createElement(lT,{src:"assets/sprites/hud/ads.png"}),Ot.Phrase("UNLOCK_BY_ADS")),q.createElement(tn,{key:"close",view:"confirm",size:"small",onClick:h},Ot.Phrase("CLOSE"))]},Ot.Phrase("PLANET_LOCKED"),q.createElement(wa,null,q.createElement(wa.Icon,{src:"assets/sprites/hud/score.png"}),q.createElement(wa.Value,null,Hn[L].MIN_SCORE))),q.createElement(hT,{key:L,$active:A,onClick:S},p&&q.createElement(uT,{src:"assets/sprites/hud/lock.png"}),q.createElement(fT,{src:`assets/sprites/level/${L.toLowerCase()}/preview.png`}),q.createElement(zf,null,Ot.Phrase(L))))},cT=({onRefresh:L})=>{const A=Ct.useGame(),[I,F]=mt.useState(gt.World.level.planet),N=mt.useMemo(()=>Object.keys(Hs),[]),H=p=>{F(p),gt.World.scene.restart({planet:p}),gt.World.events.once(Phaser.Scenes.Events.CREATE,L)};return mt.useEffect(()=>{A.isPlanetLocked(I)&&H(Hs.EARTH)},[]),q.createElement(ne,{direction:"horizontal",gap:6},N.map(p=>q.createElement(dT,{key:p,planet:p,active:I===p,onSelect:()=>H(p)})))},vT=rt.div`
  margin-top: -1px;
`,pT=rt.div`
  margin-bottom: 10px;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 14px;
  line-height: 14px;
  opacity: 0.75;
`,mT=rt.img`
  margin-right: 10px;
  width: 20px;
`,gT=rt.div`
  margin-top: -3px;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 26px;
  line-height: 26px;
`,xT=({value:L})=>q.createElement(vT,null,q.createElement(pT,null,Ot.Phrase("RECORD")),q.createElement(ne,{direction:"horizontal",align:"center"},q.createElement(mT,{src:"assets/sprites/hud/score.png"}),q.createElement(gT,null,L))),ET=()=>{const L=Ct.useGame(),A=()=>L.getCurrentRecord()?.score??0,I=()=>`${L.mode}.${L.difficulty}`,[F,N]=mt.useState(A),[H,p]=mt.useState(I),S=mt.useMemo(()=>Object.keys(Ti),[]),t=mt.useMemo(()=>Object.keys(Ys),[]),h=s=>{L.mode=s,N(A()),p(I())},c=s=>{L.difficulty=s,N(A()),p(I())},l=()=>{L.startNewGame()},r=()=>{gt.World.camera.focusOnLevel(),N(A())};return q.createElement(ne,{direction:"vertical",gap:[30,40]},q.createElement(dd,null),q.createElement(ne,{direction:"vertical",gap:[20,30]},q.createElement(cT,{key:H,onRefresh:r}),q.createElement(ne,{direction:"horizontal",align:"left",gap:20},q.createElement(Ga,{label:"DIFFICULTY",options:t,defaultValue:L.difficulty,onChange:c}),q.createElement(Ga,{label:"MODE",options:S,defaultValue:L.mode,onChange:h}))),q.createElement(ne,{direction:"horizontal",gap:30},q.createElement(tn,{onClick:l,view:"primary",size:"large"},Ot.Phrase("START")),q.createElement(xT,{value:F})))},yT=rt.div`
  width: 100%;
  color: ${Re.WARN};
  font-size: 12px;
  line-height: 16px;
  letter-spacing: 1px;
  white-space: pre;
`,TT=()=>{const L=Ct.useGame(),[A,I]=mt.useState(ri.Saves),[F,N]=mt.useState(L.usedSave?.name??""),[H,p]=mt.useState(null),S=mt.useRef(),t=mt.useMemo(()=>{const i=[...A],o=i.findIndex(n=>!n.name);return o!==-1&&i.splice(o,1),i},[A]),h=t.length>=Xn.SAVES.LIMIT&&Me.Platform!==cn.DEVELOPMENT,c=i=>{N(i.name)},l=i=>{N(i.target.value)},r=()=>{if(!F)return;const i=t.some(n=>n.name===F),o=()=>{wt.ShowAds(Di.MIDGAME),L.saveGame(F).then(n=>{n&&(N(""),I([...ri.Saves]))})};i?p({message:"CONFIRM_REWRITE_SAVE",onConfirm:o}):o()},s=i=>{p({message:"CONFIRM_DELETE_SAVE",onConfirm:()=>{ri.DeleteSave(i).then(()=>{I([...ri.Saves])})}})},e=()=>{p(null)};return mt.useEffect(()=>{S.current&&S.current.focus()},[]),q.createElement(ne,{direction:"vertical",align:"left",gap:[20,30]},H&&q.createElement(Yl,{...H,onClose:e}),q.createElement(dd,null),t.length>0&&q.createElement(te,null,q.createElement(te.Head,null,q.createElement(te.HeadRow,null,q.createElement(te.Cell,null,Ot.Phrase("SAVE_NAME")),q.createElement(te.Cell,null,Ot.Phrase("MODE")),q.createElement(te.Cell,null,Ot.Phrase("DIFFICULTY")),q.createElement(te.Cell,null,Ot.Phrase("WAVE")),q.createElement(te.Cell,null,Ot.Phrase("SCORE")),q.createElement(te.Cell,null,Ot.Phrase("SAVE_DATE")),q.createElement(te.Cell,null),q.createElement(te.Cell,null))),q.createElement(te.Body,null,t.map(i=>q.createElement(te.BodyRow,{key:i.name,onClick:()=>c(i),$active:i.name===F},q.createElement(te.Cell,null,i.name),q.createElement(te.Cell,null,Ot.Phrase(i.payload.game.mode)),q.createElement(te.Cell,null,Ot.Phrase(i.payload.game.difficulty)),q.createElement(te.Cell,null,i.payload.wave.number),q.createElement(te.Cell,null,i.payload.player.score),q.createElement(te.Cell,null,new Date(i.date).toLocaleString()),q.createElement(te.Cell,{$type:"download",title:"Export",onClick:()=>ri.ExportSave(i)},""),q.createElement(te.Cell,{$type:"delete",title:"Delete",onClick:()=>s(i.name)},"X"))))),q.createElement(ne,{direction:"vertical",align:"left",gap:15},h?q.createElement(yT,null,Ot.Phrase("SAVES_LIMIT")):q.createElement(mm,{type:"text",placeholder:"Save name",value:F,maxLength:16,autoFocus:!0,onChange:l}),q.createElement(tn,{view:"primary",size:"large",disabled:!F||h,onClick:r},Ot.Phrase("SAVE"))))},ST=rt.div`
`,AT=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 14px;
  line-height: 14px;
  margin-bottom: 10px;
  opacity: 0.75;
`,CT=rt.ul`
  list-style: none;
  pointer-events: all;
  display: flex;
  gap: 5px;
  ${L=>L.$column&&bt`
    flex-direction: column;
    align-items: flex-start;
  `}
`,RT=rt.li`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  border: 1px solid ${xt.WHITE_TRANSPARENT_75};
  padding: 6px 8px 8px 8px;
  border-radius: 3px;
  ${L=>L.$active&&bt`
    color: ${L.$color??Re.SUCCESS};
    border-color: ${L.$color??Re.SUCCESS};
  `}
  &:hover {
    cursor: pointer;
    ${L=>!L.$active&&bt`
      color: ${Re.HOVER};
      border-color: ${Re.HOVER};
    `};
  }
`,LT=({label:L,values:A,currentValue:I,column:F,onChange:N})=>q.createElement(ST,null,q.createElement(AT,null,Ot.Phrase(L)),q.createElement(CT,{$column:F},A.map(H=>{const p=typeof H=="string"?H:H.value,S=typeof H=="string"?void 0:H.color;return q.createElement(RT,{key:p,onClick:()=>N(p),$active:I===p,$color:S},Ot.Phrase(p))}))),PT=({type:L})=>{const A=Ct.useGame(),[I,F]=mt.useState(A.settings[L]),N=mt.useMemo(()=>[{value:"ON",color:Re.SUCCESS},{value:"OFF",color:Re.ERROR}],[]),H=p=>{const S=p==="ON";A.updateSetting(L,S),F(S)};return q.createElement(LT,{label:L,values:N,currentValue:I?"ON":"OFF",onChange:H})},IT=()=>q.createElement(ne,{direction:"vertical",gap:25},q.createElement(Ga,{label:"LANGUAGE",options:Object.keys(Ia),defaultValue:Ot.Type,onChange:L=>Ot.Translate(L)}),Object.values(Ei).map(L=>q.createElement(PT,{key:L,type:L})));var oi=(L=>(L.NEW_GAME="NEW_GAME",L.LOAD_GAME="LOAD_GAME",L.SAVE_GAME="SAVE_GAME",L.SETTINGS="SETTINGS",L.CONTROLS="CONTROLS",L.LEADERBOARD="LEADERBOARD",L))(oi||{});const OT={[oi.NEW_GAME]:ET,[oi.SAVE_GAME]:TT,[oi.LOAD_GAME]:oT,[oi.SETTINGS]:IT,[oi.CONTROLS]:Ly,[oi.LEADERBOARD]:Qy},MT=({page:L})=>{const A=L&&OT[L];return q.createElement(ne,{direction:"vertical",align:"left"},A&&q.createElement(A,null))},DT=rt.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  @media ${yt.BREAKPOINT.MOBILE} {
    flex-direction: row;
  }
`,wT=rt.div`
  color: rgba(255, 255, 255, 0.75);
  text-align: right;
  white-space: pre-line;
  font-size: 12px;
  line-height: 12px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 8px;
    line-height: 8px;
  }
`,yp=rt.a`
  pointer-events: all;
  font-size: 12px;
  line-height: 12px;
  &:hover {
    color: ${Re.HOVER};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 8px;
    line-height: 8px;
  }
`,FT=rt.a`
  margin-top: 10px;
  pointer-events: all;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  text-decoration: none;
  font-size: 13px;
  line-height: 13px;
  padding: 5px 9px;
  border-radius: 3px;
  background: #6170C1;
  &:hover {
    background: #4758aa;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 3px 6px;
    margin: 0 0 0 10px;
  }
`,BT=rt.img`
  width: 16px;
  margin-right: 8px;
`,NT=()=>q.createElement(DT,null,q.createElement(wT,null,q.createElement(ne,{direction:"vertical",gap:[2,4]},q.createElement("div",null,"Created by"," ",Me.GetFlag(Ee.COPYRIGHT)?q.createElement(yp,{href:dn.author.url,target:"_blank"},dn.author.name):dn.author.name),Me.GetFlag(Ee.POLICY)&&q.createElement(yp,{href:Xn.LINKS.PRIVACY_POLICY,target:"_blank"},"Privacy Policy"),q.createElement("div",null,"Version"," ",dn.version))),q.createElement(FT,{href:Xn.LINKS.DISCORD,target:"_blank"},q.createElement(BT,{src:"assets/discord.png"}),"DISCORD")),UT=rt.div`
  position: fixed;
  pointer-events: all;
  right: 32px;
  top: 32px;
  opacity: 0.5;
  background: ${xt.BLACK};
  padding: 10px;
  border-radius: 5px;
  &:hover {
    opacity: 1;
    cursor: pointer;
  }
`,GT=rt.img`
  width: 20px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 24px;
  }
`,bT=()=>{const L=mt.useRef(null);return Ct.useClick(L,"down",()=>{gt.World.fx.playSound(Ss.CLICK);try{if(document.fullscreenElement)document.exitFullscreen();else{const A=document.documentElement;(A.requestFullscreen||A.webkitRequestFullscreen||A.webkitEnterFullscreen||A.msRequestFullscreen||A.mozRequestFullScreen).call(A,{navigationUI:"hide"})}}catch{}},[]),q.createElement(UT,{ref:L},q.createElement(GT,{src:"assets/sprites/hud/fullscreen.png"}))},zT=rt.ul`
  list-style: none;
  text-align: right;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 12px;
`,VT=rt.div`
  height: 12px;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 6px;
  }
`,WT=rt.li`
  position: relative;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 20px;
  line-height: 20px;
  padding-right: 12px;
  white-space: nowrap;
  &:after {
    position: absolute;
    content: "";
    right: 0;
    top: 50%;
    transform: translateY(-7px);
    width: 2px;
    height: 16px;
    background: #fff;
  }
  ${L=>L.$active?bt`
    color: ${Re.SUCCESS};
    &:after {
      background: ${Re.SUCCESS};
    }
    &:hover {
      cursor: pointer;
    }
  `:bt`
    &:hover {
      cursor: pointer;
      color: ${Re.HOVER};
      &:after {
        background: ${Re.HOVER};
      }
    }
  `}
  ${L=>L.$disabled?bt`
    opacity: 0.5;
  `:bt`
    pointer-events: all;
  `}
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 18px;
    line-height: 18px;
    &:after {
      transform: translateY(-6px);
      height: 14px;
    }
  }
`,YT=({page:L,onSelect:A})=>{const I=Ct.useGame(),[F,N]=mt.useState(null),H=mt.useMemo(()=>{const t=[];return I.state===me.IDLE?t.push({label:"NEW_GAME",page:oi.NEW_GAME},{label:"LOAD_GAME",page:oi.LOAD_GAME}):t.push({label:"CONTINUE_GAME",onClick:()=>I.resumeGame()},{label:"SAVE_GAME",page:oi.SAVE_GAME,disabled:gt.World.wave.isGoing||gt.World.wave.number===1&&Ut.IsEnabled},null,{label:"RESTART_GAME",onClick:()=>{N({message:"CONFIRM_RESTART_GAME",onConfirm:()=>{I.restartGame()}})}},{label:"MAIN_MENU",onClick:()=>{N({message:"CONFIRM_STOP_GAME",onConfirm:()=>{I.stopGame()}})}}),t.push(null,{label:"LEADERBOARD",page:oi.LEADERBOARD},{label:"SETTINGS",page:oi.SETTINGS}),I.isDesktop()&&t.push({label:"CONTROLS",page:oi.CONTROLS}),t},[]),p=()=>{N(null)},S=t=>{gt.World.fx.playSound(Ss.CLICK),t.onClick?t.onClick():t.page&&A(t.page)};return q.createElement(zT,null,F&&q.createElement(Yl,{...F,onClose:p}),H.map((t,h)=>t?q.createElement(WT,{key:t.label,onClick:()=>S(t),$active:t.page===L,$disabled:t.disabled},Ot.Phrase(t.label)):q.createElement(VT,{key:h})))},gm=({children:L})=>{const[A,I]=mt.useState(Ot.Type);return mt.useEffect(()=>{const F=N=>{I(N.detail)};return document.addEventListener("changelang",F),()=>{document.removeEventListener("changelang",F)}},[]),q.createElement(mt.Fragment,{key:A},L)},HT=rt.div`
  width: 100%;
  display: flex;
  position: absolute;
  inset: 0;
`,XT=rt.div`
  min-width: 30%;
  background: ${xt.BLACK_TRANSPARENT_25};
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: space-between;
  flex: 1;
  padding: 15vh 7vw;
  flex-grow: 0;
  gap: 50px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 13vh 7vw;
    gap: 30px;
    min-width: 35%;
  }
`,kT=rt.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1;
  padding: 15vh 7vw;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 13vh 7vw;
  }
`,KT=rt.img`
  height: 60px;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 14vh;
    min-height: 42px;
  }
`,xm=({defaultPage:L})=>{const[A,I]=mt.useState(L);return mt.useEffect(()=>(Ut.ToggleHintsVisible(!1),()=>{Ut.ToggleHintsVisible(!0)}),[]),q.createElement(gm,null,q.createElement(dm,null,q.createElement(HT,null,q.createElement(XT,null,q.createElement(KT,{src:"assets/logotype.png"}),q.createElement(YT,{page:A,onSelect:I}),q.createElement(NT,null)),q.createElement(kT,null,Me.GetFlag(Ee.FULLSCREEN)&&q.createElement(bT,null),q.createElement(MT,{page:A})))))};xm.displayName="MenuUI";class $T extends ba{constructor(){super(Ne.MENU),gt.Menu=this}create(A){new Ct.Interface(this).render(xm,A),this.game.state===me.IDLE&&gt.World.camera.focusOnLevel()}}const rl=Phaser.Input.Keyboard.Key,al=Phaser.Input.Keyboard.KeyCodes;class jT{constructor(A){this.cursorKeys={up:new rl(A,al.UP),down:new rl(A,al.DOWN),left:new rl(A,al.LEFT),right:new rl(A,al.RIGHT)},this.noKeyDown=!0}shutdown(A){for(var I in this.cursorKeys)this.cursorKeys[I].destroy();this.cursorKeys=void 0}destroy(A){shutdown(A)}createCursorKeys(){return this.cursorKeys}setKeyState(A,I){var F=this.cursorKeys[A];return F.enabled?(I&&(this.noKeyDown=!1),F.isDown!==I&&(ol.timeStamp=Date.now(),ol.keyCode=F.keyCode,I?F.onDown(ol):F.onUp(ol)),this):this}clearAllKeysState(){this.noKeyDown=!0;for(var A in this.cursorKeys)this.setKeyState(A,!1);return this}getKeyState(A){return this.cursorKeys[A]}get upKeyDown(){return this.cursorKeys.up.isDown}get downKeyDown(){return this.cursorKeys.down.isDown}get leftKeyDown(){return this.cursorKeys.left.isDown}get rightKeyDown(){return this.cursorKeys.right.isDown}get anyKeyDown(){return!this.noKeyDown}}var ol={timeStamp:0,keyCode:0,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,location:0};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZT=180/Math.PI,QT=function(L){return L*ZT};const JT={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var qT=function(L,A,I){switch(I===void 0?I={}:I===!0&&(I=_T),I.left=!1,I.right=!1,I.up=!1,I.down=!1,L=(L+360)%360,A){case 0:L<180?I.down=!0:I.up=!0;break;case 1:L>90&&L<=270?I.left=!0:I.right=!0;break;case 2:L>45&&L<=135?I.down=!0:L>135&&L<=225?I.left=!0:L>225&&L<=315?I.up=!0:I.right=!0;break;case 3:L>22.5&&L<=67.5?(I.down=!0,I.right=!0):L>67.5&&L<=112.5?I.down=!0:L>112.5&&L<=157.5?(I.down=!0,I.left=!0):L>157.5&&L<=202.5?I.left=!0:L>202.5&&L<=247.5?(I.left=!0,I.up=!0):L>247.5&&L<=292.5?I.up=!0:(L>292.5&&L<=337.5&&(I.up=!0),I.right=!0);break}return I},_T={};const Gs=Phaser.Utils.Objects.GetValue,tS=Phaser.Math.Distance.Between,eS=Phaser.Math.Angle.Between;class iS extends jT{constructor(A,I){super(A),this.resetFromJSON(I)}resetFromJSON(A){this.start==null&&(this.start={x:0,y:0}),this.end==null&&(this.end={x:0,y:0}),this._enable=void 0,this.setEnable(Gs(A,"enable",!0)),this.setMode(Gs(A,"dir","8dir")),this.setDistanceThreshold(Gs(A,"forceMin",16));var I=Gs(A,"start.x",null),F=Gs(A,"start.y",null),N=Gs(A,"end.x",null),H=Gs(A,"end.y",null);return this.setVector(I,F,N,H),this}toJSON(){return{enable:this.enable,dir:this.dirMode,forceMin:this.forceMin,start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}}}setMode(A){return typeof A=="string"&&(A=JT[A]),this.dirMode=A,this}get enable(){return this._enable}set enable(A){if(this._enable!==A)return A||this.clearVector(),this._enable=A,this}setEnable(A){return A===void 0&&(A=!0),this.enable=A,this}toggleEnable(){return this.setEnable(!this.enable),this}setDistanceThreshold(A){return A<0&&(A=0),this.forceMin=A,this}clearVector(){return this.start.x=0,this.start.y=0,this.end.x=0,this.end.y=0,this.clearAllKeysState(),this}setVector(A,I,F,N){if(!this.enable)return this;if(A===null)return this.clearVector(),this;if(F===void 0&&(F=A,A=0,N=I,I=0),this.start.x=A,this.start.y=I,this.end.x=F,this.end.y=N,this.forceMin>0&&this.force<this.forceMin)return this.clearVector(),this;this.noKeyDown=!0;var H=qT(this.angle,this.dirMode,!0);for(var p in H)this.setKeyState(p,H[p]);return this}get forceX(){return this.end.x-this.start.x}get forceY(){return this.end.y-this.start.y}get force(){return tS(this.start.x,this.start.y,this.end.x,this.end.y)}get rotation(){return eS(this.start.x,this.start.y,this.end.x,this.end.y)}get angle(){return QT(this.rotation)}get octant(){var A=0;return this.rightKeyDown?A=this.downKeyDown?45:0:this.downKeyDown?A=this.leftKeyDown?135:90:this.leftKeyDown?A=this.upKeyDown?225:180:this.upKeyDown&&(A=this.rightKeyDown?315:270),A}}const Em={setEventEmitter(L,A){return A===void 0&&(A=Phaser.Events.EventEmitter),this._privateEE=L===!0||L===void 0,this._eventEmitter=this._privateEE?new A:L,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(L){return this._eventEmitter&&L&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var nS=function(L,A,I,F){return F===void 0?F={}:F===!0&&(F=sS),I.getWorldPoint(L,A,F),F},sS={};const Ef=Phaser.Utils.Objects.GetValue,rS=Phaser.Geom.Circle,aS=Phaser.Geom.Circle.Contains;class ym extends iS{constructor(A,I){var F=A.scene;super(F,I);var N=Ef(I,"eventEmitter",void 0),H=Ef(I,"EventEmitterClass",void 0);this.setEventEmitter(N,H),this.scene=F,this.mainCamera=F.sys.cameras.main,this.pointer=void 0,this.gameObject=A,this.radius=Ef(I,"radius",100),A.setInteractive(new rS(A.displayOriginX,A.displayOriginY,this.radius),aS),this.boot()}resetFromJSON(A){return super.resetFromJSON(A),this.pointer=void 0,this}toJSON(){var A=super.toJSON();return A.radius=this.radius,A}boot(){this.gameObject.on("pointerdown",this.onKeyDownStart,this),this.gameObject.on("pointerover",this.onKeyDownStart,this),this.scene.input.on("pointermove",this.onKeyDown,this),this.scene.input.on("pointerup",this.onKeyUp,this),this.gameObject.once("destroy",this.onParentDestroy,this)}shutdown(A){this.scene&&(this.scene.input.off("pointermove",this.onKeyDown,this),this.scene.input.off("pointerup",this.onKeyUp,this),this.destroyEventEmitter(),this.scene=void 0,this.mainCamera=void 0,this.pointer=void 0,this.gameObject=void 0,super.shutdown())}destroy(A){this.shutdown(A)}onParentDestroy(A,I){this.destroy(I)}onKeyDownStart(A){!A.isDown||this.pointer!==void 0||(this.pointer=A,this.onKeyDown(A),this.emit("pointerdown",A))}onKeyDown(A){if(this.pointer===A){var I=A.camera;if(I){var F=this.gameObject,N=this.end;I!==this.mainCamera?N=nS(A.x,A.y,I,N):(N.x=A.worldX,N.y=A.worldY);var H=F.x,p=F.y;F.scrollFactorX===0&&(H+=I.scrollX),F.scrollFactorY===0&&(p+=I.scrollY),this.setVector(H,p,N.x,N.y),this.emit("update")}}}onKeyUp(A){this.pointer===A&&(this.pointer=void 0,this.clearVector(),this.emit("update"),this.emit("pointerup",A))}forceUpdate(){var A=this.pointer;return!A||!A.isDown?this:(this.onKeyDown(A),this)}}Object.assign(ym.prototype,Em);const vs=Phaser.Utils.Objects.GetValue;class Tm{constructor(A,I){I===void 0&&(I={});var F=vs(I,"eventEmitter",void 0),N=vs(I,"EventEmitterClass",void 0);this.setEventEmitter(F,N),I.eventEmitter=this.getEventEmitter(),this.scene=A,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0,this.setRadius(vs(I,"radius",100)),this.addBase(vs(I,"base",void 0),I),this.addThumb(vs(I,"thumb",void 0));var H=vs(I,"x",0),p=vs(I,"y",0);this.base.setPosition(H,p),this.thumb.setPosition(H,p),vs(I,"fixed",!0)&&this.setScrollFactor(0),this.boot()}destroy(){this.destroyEventEmitter(),this.base.destroy(),this.thumb.destroy(),this.scene=void 0,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0}createCursorKeys(){return this.touchCursor.createCursorKeys()}get forceX(){return this.touchCursor.forceX}get forceY(){return this.touchCursor.forceY}get force(){return this.touchCursor.force}get rotation(){return this.touchCursor.rotation}get angle(){return this.touchCursor.angle}get up(){return this.touchCursor.upKeyDown}get down(){return this.touchCursor.downKeyDown}get left(){return this.touchCursor.leftKeyDown}get right(){return this.touchCursor.rightKeyDown}get noKey(){return this.touchCursor.noKeyDown}get pointerX(){return this.touchCursor.end.x}get pointerY(){return this.touchCursor.end.y}get pointer(){return this.touchCursor.pointer}setPosition(A,I){return this.x===A&&this.y===I?this:(this.x=A,this.y=I,this.forceUpdateThumb(),this)}set x(A){this.x!==A&&(this.base.x=A,this.thumb.x=A)}set y(A){this.y!==A&&(this.base.y=A,this.thumb.y=A)}get x(){return this.base.x}get y(){return this.base.y}setVisible(A){return this.visible=A,this}toggleVisible(){return this.visible=!this.visible,this}get visible(){return this.base.visible}set visible(A){this.base.visible=A,this.thumb.visible=A}get enable(){return this.touchCursor.enable}set enable(A){this.touchCursor.setEnable(A)}setEnable(A){return A===void 0&&(A=!0),this.enable=A,this}toggleEnable(){return this.setEnable(!this.enable),this}setRadius(A){return this.radius=A,this}addBase(A,I){return this.base&&this.base.destroy(),A===void 0&&(A=this.scene.add.circle(0,0,this.radius).setStrokeStyle(3,255)),I===void 0&&(I={}),I.eventEmitter=this.getEventEmitter(),this.touchCursor=new ym(A,I),this.base=A,this}addThumb(A){return this.thumb&&this.thumb.destroy(),A===void 0&&(A=this.scene.add.circle(0,0,40).setStrokeStyle(3,65280)),this.thumb=A,this}setScrollFactor(A){return this.base.setScrollFactor(A),this.thumb.setScrollFactor(A),this}boot(){this.on("update",this.update,this)}update(){var A=this.touchCursor,I,F,N=A.dirMode;if(A.anyKeyDown)if(A.force>this.radius){var H=A.rotation;I=N!==0?Math.cos(H)*this.radius:0,F=N!==1?Math.sin(H)*this.radius:0}else I=N!==0?A.forceX:0,F=N!==1?A.forceY:0;else I=0,F=0;return this.thumb.x=this.base.x+I,this.thumb.y=this.base.y+F,this}forceUpdateThumb(){return this.touchCursor.forceUpdate(),this}}Object.assign(Tm.prototype,Em);const oS=rt.div`
  background: rgba(67, 0, 143, 0.75);
  border-radius: 5px;
  display: flex;
  align-items: center;
  pointer-events: all;
  overflow: hidden;
`,lS=rt.div`
  display: flex;
  align-items: center;
  padding: 16px 18px;
  flex: 1;
  &:hover {
    cursor: pointer;
    background: ${xt.BLACK_TRANSPARENT_25};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 14px 16px;
  }
`,hS=rt.img`
  width: 40px;
  margin-right: 18px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 28px;
    margin-right: 12px;
  }
`,uS=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 10px;
  line-height: 10px;
  margin-top: -1px;
  white-space: nowrap;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 9px;
    line-height: 9px;
  }
`,fS=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 13px;
  line-height: 13px;
  padding: 0 24px;
  background: ${xt.BLACK_TRANSPARENT_50};
  height: 100%;
  display: flex;
  align-items: center;
  &:hover {
    cursor: pointer;
    background: ${xt.ERROR_DARK};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0 20px;
  }
`,xs=rt.div`
  display: flex;
  align-items: center;
`;xs.Icon=rt.img`
  margin-right: 8px;
  width: 16px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 12px;
  }
`;xs.Value=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 15px;
  line-height: 15px;
  margin-top: -2px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 14px;
    line-height: 14px;
    margin-top: -3px;
  }
`;const dS=({experience:L,resources:A,onClose:I})=>{const F=Ct.useGame(),N=mt.useRef(null);return Ct.useClick(N,"down",()=>{I(),F.usedRewardedAds=!0,F.toggleSystemPause(!0),wt.ShowAds(Di.REWARDED).then(H=>{F.toggleSystemPause(!1),H&&(gt.World.player.giveExperience(L),gt.World.player.giveResources(A))})},[L,A]),q.createElement(oS,null,q.createElement(lS,{ref:N},q.createElement(hS,{src:"assets/sprites/hud/ads.png"}),q.createElement(ne,{direction:"vertical",gap:[6,10]},q.createElement(uS,null,Ot.Phrase("ADS_SHOW")),q.createElement(ne,{direction:"horizontal",align:"center",gap:[10,16]},q.createElement(xs,null,q.createElement(xs.Icon,{src:"assets/sprites/hud/resources.png"}),q.createElement(xs.Value,null,A)),q.createElement(xs,null,q.createElement(xs.Icon,{src:"assets/sprites/hud/experience.png"}),q.createElement(xs.Value,null,L))))),q.createElement(fS,{onClick:I},"X"))},ml={REWARD:{SUPERSKILL:{MIN_WAVE:6},AMOUNTS:{WAVE_FREQUENCY:3,EXPERIENCE:new Bt.Linear({defaultValue:400,growth:1,maxLevel:25}),RESOURCES:new Bt.Linear({defaultValue:20,growth:1,maxLevel:25})}}},cS=()=>{const L=Ct.useGame(),[A,I]=mt.useState(!1),[F,N]=mt.useState({experience:0,resources:0}),H=()=>{I(!1)},p=t=>{(t%ml.REWARD.AMOUNTS.WAVE_FREQUENCY===0||L.triesCount>1)&&(I(!0),N({experience:ml.REWARD.AMOUNTS.EXPERIENCE.getValue(t),resources:ml.REWARD.AMOUNTS.RESOURCES.getValue(t)}))},S=t=>{L.usedRewardedAds=!1,p(t)};return mt.useEffect(()=>(gt.World.wave.number>1&&!L.usedRewardedAds&&p(gt.World.wave.number-1),gt.World.wave.on(Fi.COMPLETE,S),()=>{gt.World.wave.off(Fi.COMPLETE,S)}),[]),A&&q.createElement(dS,{...F,onClose:H})},vS=rt.img`
  width: 12px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 10px;
  }
`,pS=rt.div`
  margin-top: -2px;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  color: ${L=>L.$attention?Re.ERROR:"#fff"};
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3.5vh;
    line-height: 3.5vh;
  }
`,Wa=({type:L,value:A,check:I=!0})=>{const F=mt.useRef(A),[N,H]=mt.useState(()=>{const S=L.toLowerCase();return gt.World.player[S]}),p=mt.useMemo(()=>!I||typeof A!="number"||N>=A,[I,A,N]);return Ct.useEvent(gt.World.player,Te[`UPDATE_${L}`],S=>{H(S)},[]),mt.useEffect(()=>{F.current=A},[A]),q.createElement(ne,{direction:"horizontal",align:"center",gap:[2,5]},q.createElement(vS,{src:`assets/sprites/hud/${L.toLowerCase()}.png`}),q.createElement(pS,{$attention:!p},A))},mS=rt.div`
  border-radius: 5px;
  background: ${xt.BLACK_TRANSPARENT_75};
  position: relative;
  ${L=>L.$allow?bt`
    ${()=>!L.$usable&&bt`
      background: ${xt.ERROR_DARK_TRANSPARENT_75};
    `}
  `:bt`
      opacity: 0.35;
      filter: grayscale(100%);
  `}
  ${L=>L.$active&&bt`
    opacity: 1.0;
    background: ${xt.BLACK};
  `}
  [role=hint]:not(.hidden) + &{
    box-shadow: 0 0 50px 20px #fff;
  }
  @media ${yt.BREAKPOINT.DESKTOP} {
    &:hover {
      border-radius: 0 5px 5px 0;
      cursor: pointer;
    }
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    display: flex;
    flex-direction: column;
    height: 100%;
  }
`,gS=rt.div`
  position: relative;
  z-index: 2;
  padding: 10px 10px 7px 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    flex: 1;
  }
`,xS=rt.div`
  overflow: hidden;
  width: 34px;
  [role=texture] {
    object-fit: cover;
    height: 40px;
  }
`,ES=rt.div`
  background: #000;
  display: flex;
  justify-content: center;
  padding: 5px 0;
  border-radius: 0 0 5px 5px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 1vh 0;
    min-width: 15vh;
  }
`,yS=rt.div`
  position: absolute;
  font-size: 10px;
  line-height: 10px;
  right: 4px;
  top: 4px;
  opacity: 0.75;
`,TS=({number:L,variant:A})=>{const I=Ct.useMobilePlatform(),F=mt.useRef(null),[N,H]=mt.useState(!1),[p,S]=mt.useState(!1),[t,h]=mt.useState(!1);return Ct.useClick(F,"down",()=>{gt.World.builder.variant===A?gt.World.builder.unsetBuildingVariant():gt.World.builder.setBuildingVariant(A)},[A]),Ct.useSceneUpdate(gt.World,()=>{const c=gt.World.builder.variant===A,l=gt.World.builder.isBuildingAllowByWave(A)&&id.IsBuildingAllow(A),r=gt.World.player.resources>=kt.VARIANTS[A].COST&&!gt.World.builder.isBuildingLimitReached(A);S(c),H(l),h(r)},[]),q.createElement(mS,{ref:F,$allow:N,$active:p,$usable:t},!I&&q.createElement(yS,null,L),q.createElement(gS,null,q.createElement(xS,null,q.createElement(Ct.Texture,{name:Wr[A]}))),q.createElement(ES,null,q.createElement(Wa,{type:"RESOURCES",value:kt.VARIANTS[A].COST,check:N})))},yr={"top-left":{transform:"translate(0, 0)",left:"39px",right:"auto"},"top-center":{transform:"translate(-50%, 0)",left:"50%",right:"auto"},"top-right":{transform:"translate(100%, 0)",left:"auto",right:"39px"},"bottom-left":{transform:"translate(0, -100%)",left:"39px",right:"auto"},"bottom-center":{transform:"translate(-50%, -100%)",left:"50%",right:"auto"},"bottom-right":{transform:"translate(100%, -100%)",left:"auto",right:"39px"}},SS=Ln`
  0% { transform: translate(0, 0) }
  50% { transform: translate(10px, 0) }
  100% { transform: translate(0, 0) }
`,AS=Ln`
  0% { transform: translate(0, 0) }
  50% { transform: translate(-10px, 0) }
  100% { transform: translate(0, 0) }
`,CS=Ln`
  0% { transform: translate(0, 0) }
  50% { transform: translate(0, 10px) }
  100% { transform: translate(0, 0) }
`,RS=Ln`
  0% { transform: translate(0, 0) }
  50% { transform: translate(0, -10px) }
  100% { transform: translate(0, 0) }
`,LS=rt.div`
  position: relative;
  pointer-events: none;
  z-index: ${Kn.HINT};
  &.hidden {
    display: none;
  }
`,PS=rt.span`
  color: #d9ffa0;
`,IS=rt.span`
  display: inline-block;
  padding: 1px 2px 1px 3px;
  margin-right: 1px;
  font-size: 11px;
  line-height: 11px;
  color: #000;
  background: #fff;
  border-radius: 3px;
`,Ma=rt.div`
  background: ${xt.BLACK};
  padding: 9px 12px 10px 12px;
  border-radius: 5px;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 1px;
  white-space: pre;
  box-shadow: 0 0 0 6px ${xt.BLACK_TRANSPARENT_25};
  &::after {
    position: absolute;
    content: '';
  }
`,OS=rt.div`
  position: absolute;
  ${L=>{switch(L.$side){case"left":return bt`
        padding-left: 10px;
        transform: translate(0, -50%);
        ${Ma} {
          animation: ${SS} 1s infinite;
          &::after {
            left: 0;
            top: 50%;
            transform: translate(-100%, -50%);
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            border-right: 10px solid ${xt.BLACK};
          }
        }
      `;case"right":return bt`
        padding-right: 10px;
        transform: translate(-100%, -50%);
        ${Ma} {
          animation: ${AS} 1s infinite;
          &::after {
            right: 0;
            top: 50%;
            transform: translate(100%, -50%);
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            border-left: 10px solid ${xt.BLACK};
          }
        }
      `;case"top":return bt`
        padding-top: 10px;
        transform: ${yr[`top-${L.$align}`].transform};
        ${Ma} {
          animation: ${CS} 1s infinite;
          &::after {
            top: 0;
            left: ${yr[`top-${L.$align}`].left};
            right: ${yr[`top-${L.$align}`].right};
            transform: translate(-50%, -100%);
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 10px solid ${xt.BLACK};
          }
        }
      `;case"bottom":return bt`
        padding-bottom: 10px;
        transform: ${yr[`bottom-${L.$align}`].transform};
        ${Ma} {
          animation: ${RS} 1s infinite;
          &::after {
            bottom: 0;
            left: ${yr[`bottom-${L.$align}`].left};
            right: ${yr[`bottom-${L.$align}`].right};
            transform: translate(-50%, 100%);
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 10px solid ${xt.BLACK};
          }
        }
      `}}}
`,Ya=({label:L,side:A,step:I,align:F="center"})=>{const[N,H]=mt.useState(!I),p=mt.useMemo(()=>{const S=Ot.Phrase(L);if(typeof S=="string"){if(/\[[^\]]+\]/.test(S)){const[t,h]=S.split(/\[[^\]]+\]/);return q.createElement(q.Fragment,null,t,q.createElement(IS,null,S.replace(/[\s\S]*\[([^\]]+)\][\s\S]*/,"$1").toUpperCase()),h)}if(/<[^>]+>/.test(S)){const[t,h]=S.split(/<[^>]+>/);return q.createElement(q.Fragment,null,t,q.createElement(PS,null,S.replace(/[\s\S]*<([^>]+)>[\s\S]*/,"$1")),h)}}return S},[L]);return mt.useEffect(()=>{if(I)return Ut.Bind(I,{beg:()=>H(!0),end:()=>H(!1)})},[I]),N&&q.createElement(LS,{role:"hint"},q.createElement(OS,{$side:A,$align:F},q.createElement(Ma,null,p)))},Sm=rt.div`
  position: absolute;
  z-index: 2;
  transform: translateX(-100%);
  display: none;
  pointer-events: none;
  min-width: 164px;
  height: 100%;
  padding: 12px 14px;
  background: ${xt.BLACK};
  border-radius: 5px 0 0 5px;
`,MS=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  color: ${Re.SUCCESS};
  font-size: 14px;
  line-height: 14px;
  margin-bottom: 8px;
  white-space: nowrap;
`,DS=rt.div`
  font-size: 9px;
  line-height: 11px;
  letter-spacing: 1px;
`,wS=rt.div`
  position: relative;
  display: flex;
  align-items: center;
  pointer-events: all;
  @media ${yt.BREAKPOINT.DESKTOP} {
    &:hover {
      ${Sm} {
        display: block;
        + [role=hint] {
          display: none;
        }
      }
    }
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 100%;
  }
`,FS=({variant:L,number:A})=>{const I=mt.useMemo(()=>Object.entries(nE).filter(([,F])=>F.variant===L).map(([F,N])=>({step:F,label:N.label})),[L]);return q.createElement(wS,null,q.createElement(Sm,null,q.createElement(MS,null,Ot.Phrase(`BUILDING_NAME_${L}`)),q.createElement(DS,null,Ot.Phrase(`BUILDING_DESCRIPTION_${L}`))),I.map(F=>q.createElement(Ya,{key:F.step,step:F.step,label:F.label,side:"right"})),q.createElement(TS,{variant:L,number:A}))},BS=rt.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  @media ${yt.BREAKPOINT.MOBILE} {
    flex: 1;
  }
`,NS=rt.div`
  display: flex;
  align-items: flex-end;
  flex: 1;
  gap: 4px;
`,US=rt.div`
  position: absolute;
  top: -16px;
  right: -16px;
  bottom: -16px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  ${L=>L.$hidden&&bt`
    display: none;
  `}
  @media ${yt.BREAKPOINT.MOBILE} {
    gap: 13px;
  }
`,GS=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  letter-spacing: 1px;
  font-size: 9px;
  line-height: 9px;
  background: ${xt.BLACK_TRANSPARENT_75};
  padding: 3px 5px 4px 5px;
  border-radius: 5px;
  margin-bottom: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    margin-bottom: 5px;
    font-size: 2vh;
    line-height: 2vh;
  }
`,bS=()=>{const L=Ct.useGame(),[A,I]=mt.useState(!1),F=mt.useMemo(()=>{const N=El(kt.VARIANTS,(H,p,S)=>({variant:H,category:p.CATEGORY,number:S}));return Object.values(Ji).map(H=>({type:H,buildings:N.filter(p=>p.category===H)}))},[]);return Ct.useSceneUpdate(gt.World,()=>{I(!!gt.World.builder.selectedBuilding&&!L.isDesktop())},[]),q.createElement(US,{$hidden:A},F.map(N=>q.createElement(BS,{key:N.type},q.createElement(GS,null,Ot.Phrase(`BUILDING_CATEGORY_${N.type}`)),q.createElement(NS,null,N.buildings.map(H=>q.createElement(FS,{key:H.variant,variant:H.variant,number:H.number}))))))},zS=rt.div`
  font-size: 12px;
  line-height: 12px;
  opacity: 0.5;
`,VS=()=>{const L=Ct.useGame(),[A,I]=mt.useState(0),[F,N]=mt.useState(0);return Ct.useSceneUpdate(gt.World,()=>{I(Math.round(L.loop.actualFps));const H=performance?.memory?.usedJSHeapSize;H&&N(Math.round(H/1024/1024))},[]),q.createElement(zS,null,A," ","FPS",!!F&&q.createElement(q.Fragment,null,q.createElement("br",null),F," ","MB"))},Sn={TILE:{width:42,height:54,origin:.78},HEAL:{PAUSE:1e3,HEALTH_MULTIPLIER:.1},MAX_COUNT:5,MAP_SIZE_MULTIPLIER:.6,SCORE:new Bt.Quadratic({defaultValue:80,growth:1.8}),CAPTION:{DISTANCE:128,DURATION:new Bt.Linear({defaultValue:2e4,growth:.5})}},WS=rt.div`
  position: absolute;
  pointer-events: none;
  letter-spacing: 1px;
  left: 50%;
  top: 100%;
  transform: translateX(-50%);
  font-size: 10px;
  line-height: 12px;
  background: ${xt.BLACK_TRANSPARENT_75};
  border-radius: 5px;
  padding: 9px 12px;
  margin-top: 8px;
  white-space: pre;
  text-align: left;
  ${L=>!L.$visible&&bt`
    display: none;
  `}
  &::after {
    position: absolute;
    content: '';
    top: -8px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 8px solid ${xt.BLACK_TRANSPARENT_75};
  }
`,cd=({visible:L,children:A})=>q.createElement(WS,{$visible:L,role:"tooltip"},A),YS=rt.div`
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 60px;
  pointer-events: all;
  padding: 0 6px;
  &:hover [role=tooltip] {
    display: block;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0 4px;
  }
`,HS=rt.img`
  width: 14px;
  margin-bottom: 6px;
`,XS=rt.div`
  white-space: nowrap;
  font-size: 10px;
  line-height: 10px;
`,kS=()=>{const L=()=>gt.World.getCapturedFlags().length,[A,I]=mt.useState(L);return Ct.useSceneUpdate(gt.World,()=>{I(L())},[]),q.createElement(YS,null,q.createElement(HS,{src:"assets/sprites/hud/flag.png"}),q.createElement(XS,null,A," ","/"," ",Sn.MAX_COUNT),q.createElement(cd,null,Ot.Phrase("FLAGS_CAPTURE")))},KS=rt.div`
  position: fixed;
  inset: 0;
  pointer-events: all;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.BLACK_TRANSPARENT_75};
  z-index: ${Kn.OVERLAY};
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
`,$S=rt.div`
  position: absolute;
  padding: 20px;
  border-radius: 10px;
  position: absolute;
  display: flex;
  align-items: center;
  gap: 20px;
`,jS=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 18px;
  line-height: 20px;
  letter-spacing: 1px;
  white-space: pre;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`,ZS=rt.div`
  overflow: hidden;
  position: relative;
  border-radius: 50%;
  background: ${xt.BLACK_TRANSPARENT_50};
  width: 160px;
  height: 160px;
`,QS=rt.img`
  width: 90%;
  position: absolute;
  left: 50%;
  bottom: 0;
  transform: translate(-50%, 0)
`,JS=rt.div`
  display: flex;
  margin-top: 20px;
  gap: 10px;
`,qS=({onClose:L})=>(Ct.useEvent(gt.Screen.input.keyboard,"keyup-ESC",L,[L]),Ct.useEvent(gt.Screen.input.keyboard,"keyup-ENTER",L,[L]),q.createElement(KS,null,q.createElement($S,null,q.createElement(ZS,null,q.createElement(QS,{src:"assets/sprites/hud/avatar.png"})),q.createElement(ne,{direction:"vertical"},q.createElement(jS,null,Ot.Phrase("INTRODUCTION")),q.createElement(JS,null,q.createElement(tn,{view:"confirm",size:"large",onClick:L},Ot.Phrase("START"))))))),_S=rt.div`
  top: 48px;
  position: absolute;
`,tA=rt.div`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 5px;
  pointer-events: all;
  background: ${L=>L.$active?xt.SUCCESS:xt.BLACK};
  @media ${yt.BREAKPOINT.DESKTOP} {
    &:hover {
      cursor: pointer;
      ${L=>!L.$active&&bt`
        background: ${xt.SUCCESS_GRADIENT};
      `};
    }
    [role=texture] {
      width: 16px;
      height: 16px;
    }
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    min-width: 30px;
    min-height: 30px;
    width: 10vh;
    height: 10vh;
    [role=texture] {
      width: 40%;
      height: 40%;
    }
  }
`,eA=({mode:L})=>{const A=Ct.useGame(),I=mt.useRef(null),[F,N]=mt.useState(()=>gt.World.isModeActive(L)),H=Ct.useInteraction(I,()=>{gt.World.setModeActive(L,!F),gt.World.fx.playSound(Ss.CLICK),N(!F)},[L,F]);return A.mode===Ti.FLAGS&&L===Ue.PATH_TO_CRYSTAL?null:q.createElement(tA,{ref:I,$active:F},q.createElement(Ct.Texture,{name:td[L]}),H&&q.createElement(_S,null,q.createElement(cd,{visible:!0},Ot.Phrase(L))))},iA=rt.div`
  display: flex;
  align-items: center;
  gap: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    gap: 6px;
  }
`,nA=()=>q.createElement(iA,null,El(Ue,(L,A)=>q.createElement(eA,{key:L,mode:A}))),sA={NOTICE_DURATION:4e3},rA=Ln`
  0% { opacity: 0 }
  100% { opacity: 1 }
`,aA=rt.div`
  padding: 10px 13px;
  border-radius: 5px;
  text-transform: uppercase;
  font-size: 12px;
  line-height: 12px;
  letter-spacing: 2px;
  animation: ${rA} 0.2s ease-in;
  background: ${xt.ERROR_TRANSPARENT_75};
  display: flex;
  align-items: center;
  z-index: ${Kn.NOTICE};
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 10px;
    line-height: 9px;
    padding: 8px 11px;
  }
`,oA=rt.img`
  width: 16px;
  margin-right: 10px;
`,lA=()=>{const[L,A]=mt.useState([]),I=H=>{A(p=>p.filter(S=>S.text!==H))},F=H=>setTimeout(()=>I(H),sA.NOTICE_DURATION),N=H=>{A(p=>{let S=!1;const t=p.map(h=>h.text===H.text?(S=!0,clearTimeout(h.timer),{...h,timer:F(h.text)}):h);return S||t.push({...H,timer:F(H.text)}),t})};return mt.useEffect(()=>(gt.Screen.events.on(Al.NOTICE,N),()=>{gt.Screen.events.off(Al.NOTICE,N)}),[]),q.createElement(ne,{direction:"vertical",gap:[3,4]},L.map(H=>q.createElement(aA,{role:"notice",key:H.text},q.createElement(oA,{src:"assets/sprites/hud/failure.png"}),Ot.Phrase(H.text,H.format))))};var ci=(L=>(L.DEAD="dead",L.DAMAGE="damage",L.HEAL="heal",L.UPDATE_MAX_HEALTH="update_max_health",L.UPDATE_HEALTH="update_health",L))(ci||{});const hA=rt.div`
  background: ${xt.BLACK};
  position: relative;
  border-radius: 3px;
  overflow: hidden;
  margin-top: 4px;
`,uA=rt.div`
  height: 20px;
  background: ${xt.SUCCESS_DARK};
  box-shadow: 0 10px 0 ${xt.SUCCESS} inset;
  transition: width 0.3s ease-out;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 6vh;
  }
`,fA=rt.div`
  position: absolute;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 10px;
  line-height: 10px;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  text-align: center;
  padding-bottom: 1px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3vh;
    line-height: 3vh;
  }
`,dA=()=>{const[L,A]=mt.useState(gt.World.player.live.health),[I,F]=mt.useState(gt.World.player.live.maxHealth);return Ct.useEvent(gt.World.player.live,ci.UPDATE_HEALTH,N=>{A(N)},[]),Ct.useEvent(gt.World.player.live,ci.UPDATE_MAX_HEALTH,N=>{F(N)},[]),q.createElement(hA,null,q.createElement(uA,{style:{width:`${L/I*100}%`}}),q.createElement(fA,null,`${L} HP`))},cA=rt.div`
  padding: 5px;
  background: ${xt.BLACK_TRANSPARENT_75};
  border-radius: 5px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 1vh;
  }
`,vA=rt.div`
  width: 74px;
  height: 74px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 24vh;
    height: 24vh;
    min-height: 50px;
  }
`,pA=rt.img`
  width: 100%;
`,mA=()=>q.createElement(cA,null,q.createElement(vA,null,q.createElement(pA,{src:"assets/sprites/hud/avatar.png"})),q.createElement(dA,null)),Am=rt.div`
  position: absolute;
  pointer-events: none;
  display: none;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 11px;
  line-height: 11px;
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  align-items: center;
  height: 32px;
  background: ${xt.BLACK_TRANSPARENT_25};
  border-radius: 0 5px 5px 0;
  white-space: nowrap;
  padding: 0 12px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 4vh;
    line-height: 4vh;
    height: 8vh;
    padding: 0 8px;
  }
`,gA=rt.div`
  position: relative;
  pointer-events: all;
  &:hover ${Am} {
    display: flex;
  }
`,xA=rt.div`
  background: ${xt.BLACK_TRANSPARENT_50};
  display: flex;
  border-radius: 5px;
  &:hover {
    border-radius: 5px 0 0 5px;
  }
`,EA=rt.div`
  pointer-events: none;
  background: ${xt.BLACK_TRANSPARENT_75};
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 8vh;
    height: 8vh;
    min-width: 24px;
    min-height: 24px;
  }
`,yA=rt.img`
  width: 50%;
`,TA=rt.div`
  pointer-events: none;
  font-family: ${ee.PIXEL_LABEL};
  margin-top: -1px;
  font-size: 16px;
  line-height: 16px;
  padding: 0 13px 0 9px;
  display: flex;
  align-items: center;
  flex: 1;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 4vh;
    line-height: 4vh;
    padding: 0 12px 0 6px;
  }
`,vd=({children:L,type:A,placeholder:I})=>q.createElement(gA,null,q.createElement(xA,null,q.createElement(EA,null,q.createElement(yA,{src:`assets/sprites/hud/${A.toLowerCase()}.png`})),q.createElement(TA,null,L)),I&&q.createElement(Am,null,Ot.Phrase(A))),SA=()=>{const[L,A]=mt.useState(gt.World.player.experience);return Ct.useEvent(gt.World.player,Te.UPDATE_EXPERIENCE,I=>{A(I)},[]),q.createElement(vd,{type:"EXPERIENCE",placeholder:!0},L)},AA=()=>{const L=Ct.useGame(),A=()=>{L.state===me.STARTED&&L.pauseGame()};return q.createElement(tn,{onClick:A},Ot.Phrase("MENU"))},CA=rt.div`
  position: relative;
`,RA=()=>{const[L,A]=mt.useState(gt.World.player.resources);return Ct.useEvent(gt.World.player,Te.UPDATE_RESOURCES,I=>{A(I)},[]),q.createElement(CA,null,q.createElement(vd,{type:"RESOURCES",placeholder:!0},L),q.createElement(Ya,{step:Yt.RESOURCES,label:"TUTORIAL_RESOURCES",side:"top",align:"left"}))},LA=()=>{const[L,A]=mt.useState(gt.World.player.score);return Ct.useEvent(gt.World.player,Te.UPDATE_SCORE,I=>{A(I)},[]),q.createElement(vd,{type:"SCORE",placeholder:!0},L)},PA=()=>{const L=Ct.useMobilePlatform();return q.createElement(ne,{direction:"horizontal",gap:12},q.createElement(ne,{direction:"vertical",gap:6},q.createElement(mA,null),L&&q.createElement(AA,null)),q.createElement(ne,{direction:"vertical",gap:6},q.createElement(LA,null),q.createElement(SA,null),q.createElement(RA,null)))},IA={[ye.MAX_HEALTH]:{experience:new Bt.Quadratic({defaultValue:80,growth:1,roundTo:10}),target:Vn.CHARACTER},[ye.SPEED]:{experience:new Bt.Quadratic({defaultValue:80,growth:1,roundTo:10}),target:Vn.CHARACTER},[ye.STAMINA]:{experience:new Bt.Quadratic({defaultValue:60,growth:1,roundTo:10}),target:Vn.CHARACTER},[ye.BUILD_SPEED]:{experience:new Bt.Quadratic({defaultValue:40,growth:1,roundTo:10}),target:Vn.CHARACTER},[ye.ATTACK_DAMAGE]:{experience:new Bt.Quadratic({defaultValue:70,growth:1,roundTo:10}),target:Vn.ASSISTANT},[ye.ATTACK_DISTANCE]:{experience:new Bt.Quadratic({defaultValue:40,growth:1,roundTo:10}),target:Vn.ASSISTANT},[ye.ATTACK_SPEED]:{experience:new Bt.Quadratic({defaultValue:30,growth:1,roundTo:10}),target:Vn.ASSISTANT}},OA={[li.SHIELD]:{cost:new Bt.Linear({defaultValue:20,growth:.25,roundTo:5}),duration:1e4},[li.INVISIBLE]:{cost:new Bt.Linear({defaultValue:25,growth:.25,roundTo:5}),duration:5e3},[li.FROST]:{cost:new Bt.Linear({defaultValue:30,growth:.25,roundTo:5}),duration:1e4},[li.FIRE]:{cost:new Bt.Linear({defaultValue:45,growth:.25,roundTo:5}),duration:2e3,force:1.7},[li.RAGE]:{cost:new Bt.Linear({defaultValue:45,growth:.25,roundTo:5}),duration:1e4}},ke={TILE:{width:20,height:30,gamut:4},RESOURCES:{DEFAULT:80,DIFF_BOUND:999},SCORE:{DEFAULT:0,DIFF_BOUND:10},SKILLS:{TYPES:IA,MAX_LEVEL:10},SUPERSKILLS:{TYPES:OA,UNLOCK_PER_WAVE:3,HOTKEYS:["z","x","c","v","b"]},MAX_HEALTH:new Bt.Quadratic({defaultValue:100,growth:.4,roundTo:10}),SPEED:new Bt.Linear({defaultValue:90,growth:.0556,roundTo:1}),STAMINA:new Bt.Linear({defaultValue:100,growth:.2})},ll={KeyW:ai.UP,ArrowUp:ai.UP,KeyS:ai.DOWN,ArrowDown:ai.DOWN,KeyA:ai.LEFT,ArrowLeft:ai.LEFT,KeyD:ai.RIGHT,ArrowRight:ai.RIGHT},MA=rt.div`
  display: flex;
  justify-content: space-between;
  overflow: hidden;
  ${L=>L.$active&&bt`
    &:hover {
      cursor: pointer;
      background: ${xt.SUCCESS_TRANSPARENT_50};
    }
  `}
  &:first-child {
    border-radius: 5px 5px 0 0;
  }
  &:last-child {
    border-radius: 0 0 5px 5px;
  }
`,DA=rt.div`
  flex: 1;
  display: flex;
  align-items: center;
`,wA=rt.div`
  width: 54px;
  height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  background: ${xt.BLACK_TRANSPARENT_50};
  margin-right: 1px;
  [role=texture] {
    width: 50%;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 13vh;
    height: 13vh;
    min-width: 40px;
    min-height: 40px;
  }
`,FA=rt.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  background: ${xt.BLACK_TRANSPARENT_25};
  padding: 12px 13px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 10px;
  }
`,BA=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 12px;
  line-height: 12px;
  margin-right: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3.5vh;
    line-height: 3.5vh;
  }
`,Vf=rt.div`
  margin-top: 10px;
  display: flex;
  gap: 2px;
  @media ${yt.BREAKPOINT.MOBILE} {
    margin-top: 8px;
  }
`;Vf.Progress=rt.div`
  flex: 1;
  height: 8px;
  transition: all 0.2s ease-out;
  background: ${xt.BLACK};
  box-shadow: 0 4px 0 #111 inset;
  ${L=>L.$active&&bt`
    background: ${xt.SUCCESS};
    box-shadow: 0 4px 0 ${xt.WHITE_TRANSPARENT_15} inset;
  `}
`;const NA=rt.div`
  margin-left: 1px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  pointer-events: all;
  width: 95px;
  padding: 10px 15px;
  background: ${xt.BLACK_TRANSPARENT_50};
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 85px;
    padding: 10px 12px;
  }
`,UA=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 8px;
  line-height: 8px;
  letter-spacing: 1px;
  margin-bottom: 6px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 2vh;
    line-height: 2vh;
  }
`,GA=rt.div`
  color: ${Re.WARN};
  font-family: ${ee.PIXEL_LABEL};
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  white-space: pre;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 8px;
    line-height: 10px;
  }
`,bA=({type:L})=>{const A=mt.useRef(null),I=()=>({type:L,experience:gt.World.player.getExperienceToUpgrade(L),currentLevel:gt.World.player.upgradeLevel[L]}),[F,N]=mt.useState(I),H=F.currentLevel>=ke.SKILLS.MAX_LEVEL,p=mt.useMemo(()=>Array.from({length:ke.SKILLS.MAX_LEVEL}),[]);return Ct.useClick(A,"down",()=>{gt.World.player.upgrade(L)},[L]),Ct.useEvent(gt.World.player,Te.UPGRADE_SKILL,()=>{N(I())},[]),q.createElement(MA,{ref:A,$active:!H},q.createElement(DA,null,q.createElement(wA,null,q.createElement(Ct.Texture,{name:ed[F.type]})),q.createElement(FA,null,q.createElement(BA,null,Ot.Phrase(`SKILL_LABEL_${F.type}`)),q.createElement(Vf,null,p.map((S,t)=>q.createElement(Vf.Progress,{key:t,$active:F.currentLevel&&t<F.currentLevel}))))),q.createElement(NA,null,H?q.createElement(GA,null,Ot.Phrase("SKILL_MAX_LEVEL")):q.createElement(q.Fragment,null,q.createElement(UA,null,Ot.Phrase("SKILL_UPGRADE")),q.createElement(Wa,{type:"EXPERIENCE",value:F.experience}))))},zA=rt.div`
  position: fixed;
  inset: 0;
  z-index: -1;
  background: ${xt.BLACK_TRANSPARENT_75};
`,VA=rt.div`
  position: fixed;
  inset: 0;
  pointer-events: all;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: ${Kn.OVERLAY};
`,WA=rt.div`
  min-width: 280px;
`,YA=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 10px;
  line-height: 10px;
  padding: 10px 12px;
  margin-bottom: 10px;
  background: ${xt.SUCCESS_DARK};
  box-shadow: 0 15px 0 ${xt.SUCCESS} inset;
  border-radius: 5px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3.5vh;
    line-height: 3.5vh;
    padding: 2vh 12px;
  }
`,HA=rt.div`
  background: ${xt.BLACK_TRANSPARENT_50};
  border-radius: 10px 0 10px 10px;
  padding: 30px;
  position: relative;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 6vh;
  }
`,XA=rt.div`
  letter-spacing: 1px;
  font-size: 10px;
  line-height: 10px;
  position: absolute;
  transform: translateY(-100%);
  top: 0;
  right: 0;
  padding: 7px 9px 7px 10px;
  border-radius: 5px 5px 0 0;
  pointer-events: all;
  text-transform: uppercase;
  background: ${xt.ERROR_DARK};
  opacity: 0.75;
  &:hover {
    cursor: pointer;
    opacity: 1;
  }
`,kA=({onClose:L})=>{const A=mt.useRef(null),I=mt.useRef(null),F=mt.useRef(null);return Ct.useClick(I,"down",()=>{},[]),Ct.useClick(A,"down",L,[]),Ct.useClick(F,"down",()=>{L(),gt.World.fx.playSound(Ss.CLICK)},[]),Ct.useEvent(gt.Screen.input.keyboard,"keyup-ESC",L,[]),mt.useEffect(()=>(Ut.ToggleHintsVisible(!1),()=>{Ut.ToggleHintsVisible(!0)}),[]),q.createElement(q.Fragment,null,q.createElement(zA,null),q.createElement(VA,{ref:A},q.createElement(HA,{ref:I},q.createElement(XA,{ref:F},Ot.Phrase("CLOSE")),q.createElement(ne,{direction:"horizontal",gap:[10,20]},El(Vn,(N,H)=>q.createElement(WA,{key:N},q.createElement(YA,null,Ot.Phrase(`SKILL_TARGET_${H}`)),q.createElement(ne,{direction:"vertical",gap:1},El(ke.SKILLS.TYPES,(p,S)=>S.target===H&&q.createElement(bA,{key:p,type:p})))))))))},KA=rt.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  > [role=button] {
    padding: 0 14px;
    height: 36px;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    > [role=button] {
      height: 10vh;
      padding: 0 16px;
      min-height: 30px;
    }
  }
`,$A=()=>{const L=Ct.useGame(),[A,I]=mt.useState(!1),F=()=>{I(!0),L.toggleSystemPause(!0)},N=()=>{const H=()=>{I(!1),L.toggleSystemPause(!1)};wt.ShowAds(Di.MIDGAME).then(H)};return Ct.useEvent(gt.World.input.keyboard,Or.SKILLS,H=>{A?N():F(),H.preventDefault(),H.stopPropagation()},[A]),q.createElement(q.Fragment,null,A&&q.createElement(kA,{onClose:N}),q.createElement(KA,null,q.createElement(tn,{onClick:F,view:A?"confirm":void 0},Ot.Phrase("SKILLS")),q.createElement(Ya,{step:Yt.UPGRADE_SKILL,label:"TUTORIAL_CLICK_TO_UPGRADE",side:"top"})))},jA=Ln`
  0% { top: 0 }
  100% { top: 100% }
`,ZA=Ln`
  0% { opacity: 0; margin-bottom: 0 }
  100% { opacity: 1; margin-bottom: 12px }
`,QA=rt.div`
  position: relative;
`,JA=rt.div`
  background: ${xt.BLACK_TRANSPARENT_50};
  padding: 14px;
  pointer-events: all;
  border-radius: 5px;
  @media ${yt.BREAKPOINT.DESKTOP} {
    ${L=>L.$allow&&bt`
      &:hover {
        cursor: pointer;
        ${()=>!L.$active&&bt`
          background: ${xt.BLACK};
        `};
      }
    `}
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 10px;
  }
`,qA=rt.div`
  font-size: 10px;
  line-height: 10px;
`,Tp=rt.div`
  position: absolute;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  background: #222;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px 4px 6px 5px;
  z-index: 3;
  right: -4px;
  top: -4px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 14px;
    height: 14px;
    padding: 4px 4px 6px 5px;
  }
`,_A=rt.img`
  width: 10px;
  height: 10px;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 6px;
    height: 6px;
  }
`,t2=rt.div`
  display: block;
  position: relative;
  z-index: 2;
  width: 26px;
  height: 26px;
  ${L=>!L.$allow&&bt`
    opacity: 0.5;
  `}
  [role=texture] {
    width: 100%;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 22px;
    height: 22px;
  }
`,e2=rt.div`
  position: absolute;
  transform: translateX(-50%);
  bottom: 100%;
  left: 50%;
  margin-bottom: 12px;
  min-width: 200px;
  animation: ${ZA} 0.1s ease-in;
  &::after {
    position: absolute;
    content: "";
    bottom: 0;
    left: 50%;
    transform: translate(-50%, 100%);
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 12px solid ${xt.BLACK_TRANSPARENT_75};
  }
`,i2=rt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 11px 14px 9px 14px;
  background: ${xt.BLACK};
  border-radius: 5px 5px 0 0;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 9px 11px;
  }
`,n2=rt.div`
  color: ${Re.SUCCESS};
  font-family: ${ee.PIXEL_LABEL};
  font-size: 14px;
  line-height: 14px;
  margin: -2px 10px 0 0;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 13px;
    line-height: 13px;
  }
`,s2=rt.div`
  letter-spacing: 1px;
  background: ${xt.BLACK_TRANSPARENT_75};
  padding: 9px 14px 12px 14px;
  border-radius: 0 0 5px 5px;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 7px 11px 11px 11px;
  }
`,r2=rt.div`
  font-size: 11px;
  line-height: 12px;
`,a2=rt.div`
  position: absolute;
  background: ${xt.SUCCESS_DARK};
  inset: 0;
  animation: ${jA} 1s linear;
  border-radius: 5px;
`,o2=({type:L,index:A})=>{const I=Ct.useGame(),F=Ct.useMobilePlatform(),[N,H]=mt.useState(!!gt.World.player.unlockedSuperskills[L]),[p,S]=mt.useState(!1),[t,h]=mt.useState(null),[c,l]=mt.useState(0),r=mt.useRef(null),s=Ct.useInteraction(r,()=>{N&&gt.World.player.useSuperskill(L)},[L,N]);return Ct.useEvent(gt.World.player,Te.UNLOCK_SUPERSKILL,e=>{e===L&&H(!0)},[]),Ct.useEvent(I.events,Mi.TOGGLE_PAUSE,e=>{S(e)},[]),Ct.useSceneUpdate(gt.World,()=>{l(gt.World.player.getSuperskillCost(L)),h(gt.World.player.activeSuperskills[L]??null)},[]),q.createElement(QA,null,s&&N&&q.createElement(e2,null,q.createElement(i2,null,q.createElement(n2,null,Ot.Phrase(`SUPERSKILL_NAME_${L}`)),q.createElement(Wa,{type:"RESOURCES",value:c})),q.createElement(s2,null,q.createElement(r2,null,Ot.Phrase(`SUPERSKILL_DESCRIPTION_${L}`)))),q.createElement(JA,{ref:r,$active:!!t,$allow:N},t&&q.createElement(a2,{style:{animationDuration:`${t.delay}ms`,animationPlayState:p?"paused":"running"}}),N?!F&&q.createElement(Tp,null,q.createElement(qA,null,ke.SUPERSKILLS.HOTKEYS[A])):q.createElement(Tp,null,q.createElement(_A,{src:"assets/sprites/hud/lock.png"})),q.createElement(t2,{$allow:N},q.createElement(Ct.Texture,{name:Dl[L]}))))},l2=()=>{const L=mt.useMemo(()=>Object.keys(li),[]),[A,I]=mt.useState(()=>Object.keys(gt.World.player.unlockedSuperskills).length>0);return Ct.useEvent(gt.World.player,Te.UNLOCK_SUPERSKILL,()=>{I(!0)},[]),A&&q.createElement(ne,{direction:"horizontal",gap:10},L.map((F,N)=>q.createElement(o2,{key:F,type:F,index:N})))};var pd=(L=>(L.UNLOCK_VARIANT="unlock_variant",L))(pd||{}),Fa=(L=>(L.DEFAULT="DEFAULT",L.FIREBOT="FIREBOT",L.LASERBOT="LASERBOT",L))(Fa||{}),Mr=(L=>(L.DEFAULT="assistant/default",L.FIREBOT="assistant/firebot",L.LASERBOT="assistant/laserbot",L))(Mr||{});const h2=rt.div`
  overflow: hidden;
  width: 220px;
  border-radius: 10px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  display: flex;
  flex-direction: column;
`,u2=rt.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 140px;
  background: ${xt.BLACK_TRANSPARENT_25};
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 100px;
  }
`,f2=rt.div`
  background: ${xt.BLACK_TRANSPARENT_50};
  padding: 16px 20px;
  flex: 1;
`,d2=rt.div`
  font-size: 10px;
  line-height: 10px;
  opacity: 0.5;
`,c2=rt.div`
  color: ${Re.SUCCESS};
  font-family: ${ee.PIXEL_LABEL};
  font-size: 14px;
  line-height: 14px;
  margin-top: 5px;
`,v2=rt.div`
  font-size: 10px;
  line-height: 10px;
  margin-top: 5px;
`,p2=rt.div`
  overflow: hidden;
  ${L=>{switch(L.$type){case"BUILDING":return bt`
        width: 68px;
        height: 80px;
        [role=texture] {
          height: 100%;
        }
      `;case"SUPERSKILL":return bt`
        width: 64px;
        height: 64px;
        [role=texture] {
          width: 100%;
        }
      `;case"ASSISTANT":return bt`
        width: 48px;
        height: 80px;
        [role=texture] {
          height: 96px;
        }
      `}}}
  @media ${yt.BREAKPOINT.MOBILE} {
    transform: scale(0.75);
  }
`,m2=({type:L,item:A})=>{const I=mt.useMemo(()=>{switch(L){case"BUILDING":return Ot.Phrase(`BUILDING_NAME_${A}`);case"SUPERSKILL":return Ot.Phrase(`SUPERSKILL_NAME_${A}`);case"ASSISTANT":return A}},[L,A]),F=mt.useMemo(()=>{switch(L){case"BUILDING":return`BUILDING_DESCRIPTION_${A}`;case"SUPERSKILL":return`SUPERSKILL_DESCRIPTION_${A}`;case"ASSISTANT":return"ASSISTANT_UNLOCK"}},[L,A]),N=mt.useMemo(()=>{switch(L){case"BUILDING":return Wr[A];case"SUPERSKILL":return Dl[A];case"ASSISTANT":return Mr[A]}},[L,A]);return q.createElement(h2,null,q.createElement(u2,null,q.createElement(p2,{$type:L},q.createElement(Ct.Texture,{name:N}))),q.createElement(f2,null,q.createElement(d2,null,Ot.Phrase(L)),q.createElement(c2,null,I),q.createElement(v2,null,Ot.Phrase(F))))},g2=rt.div`
  width: 220px;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  pointer-events: all;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  overflow: hidden;
  &:hover {
    cursor: pointer;
    background: ${xt.BLACK_TRANSPARENT_50};
  }
`,x2=rt.div`
  background: rgba(67, 0, 143, 0.25);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 140px;
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 100px;
  }
`,E2=rt.img`
  width: 32px;
  margin-right: 10px;
`,y2=rt.img`
  width: 40px;
  margin: 10px 0;
  opacity: 0.5;
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 30px;
  }
`,T2=rt.div`
  background: rgba(67, 0, 143, 0.5);
  padding: 20px 30px;
  font-size: 11px;
  line-height: 11px;
  flex: 1;
  display: flex;
  align-items: center;
`,S2=({onComplete:L})=>{const A=mt.useRef(null);return Ct.useClick(A,"down",()=>{wt.ShowAds(Di.REWARDED).then(L)},[]),q.createElement(g2,{ref:A},q.createElement(x2,null,q.createElement(y2,{src:"assets/sprites/hud/add.png"})),q.createElement(T2,null,q.createElement(E2,{src:"assets/sprites/hud/ads.png"}),Ot.Phrase("ADS_UNLOCK")))},A2=Ln`
  0% { opacity: 0; }
  100% { opacity: 1; }
`,C2=rt.div`
  position: fixed;
  inset: 0;
  pointer-events: all;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.BLACK_TRANSPARENT_75};
  z-index: ${Kn.OVERLAY};
  animation: ${A2} 0.2s ease-in;
  @media ${yt.BREAKPOINT.MOBILE} {
    background: rgba(0, 0, 0, 0.85);
  }
`,R2=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 24px;
  line-height: 28px;
  white-space: pre;
  text-align: center;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 16px;
    line-height: 20px;
  }
`,L2=rt.div`
  pointer-events: all;
  font-family: ${ee.PIXEL_LABEL};
  border-radius: 5px;
  letter-spacing: 1px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: ${xt.SUCCESS_GRADIENT};  
  font-size: 18px;
  line-height: 18px;
  padding: 20px 25px;
  &:hover {
    cursor: pointer;
    background: ${xt.SUCCESS};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 14px;
    line-height: 14px;
    padding: 15px 20px;
  }
`,P2=({features:L,onClose:A})=>{const[I,F]=mt.useState(L),[N,H]=mt.useState(()=>Object.keys(gt.World.player.unlockedSuperskills).length<Object.keys(li).length&&gt.World.wave.number>=ml.REWARD.SUPERSKILL.MIN_WAVE),p=mt.useRef(null),S=mt.useRef(null),t=mt.useMemo(()=>L.some(l=>l.type==="SUPERSKILL"),[L]),h=()=>{wt.ShowAds(Di.MIDGAME).then(A)},c=l=>{H(!1),l&&gt.World.player.unlockSuperskill()};return Ct.useClick(p,"down",()=>{},[]),Ct.useClick(S,"down",h,[]),Ct.useEvent(gt.Screen.input.keyboard,"keyup-ESC",h,[]),mt.useEffect(()=>{F(L)},[L]),mt.useEffect(()=>(Ut.ToggleHintsVisible(!1),()=>{Ut.ToggleHintsVisible(!0)}),[]),q.createElement(C2,{ref:p},q.createElement(ne,{direction:"vertical",align:"center",gap:[30,40]},q.createElement(R2,null,Ot.Phrase("FEATURES_UNLOCKED")),q.createElement(ne,{direction:"horizontal",gap:10},I.map((l,r)=>q.createElement(m2,{key:r,...l})),N&&t&&q.createElement(S2,{onComplete:c})),q.createElement(L2,{ref:S},Ot.Phrase("CONTINUE_GAME"))))},I2=()=>{const L=Ct.useGame(),[A,I]=mt.useState([]),F=A.length===0,N=()=>{I([])};return Ct.useEvent(gt.World.wave,Fi.COMPLETE,H=>{const p=[];Object.values(Ht).forEach(S=>{!gt.World.builder.isBuildingAllowByWave(S,H)&&gt.World.builder.isBuildingAllowByWave(S,gt.World.wave.number)&&p.push({type:"BUILDING",item:S})}),I(S=>p.concat(S))},[]),Ct.useEvent(gt.World.player,Te.UNLOCK_SUPERSKILL,H=>{I(p=>p.concat([{type:"SUPERSKILL",item:H}]))},[]),Ct.useEvent(gt.World.assistant,pd.UNLOCK_VARIANT,H=>{I(p=>p.concat([{type:"ASSISTANT",item:H}]))},[]),mt.useEffect(()=>{if(!F)return setTimeout(()=>{L.toggleSystemPause(!0)},200),()=>{L.toggleSystemPause(!1)}},[F]),A.length>0&&q.createElement(P2,{features:A,onClose:N})},qi={INCREASED_TIME_SCALE:2,TIMELEFT:{ALARM:3e3,INFINITY:new Bt.Linear({defaultValue:1e4,growth:.5,maxLevel:11,roundTo:1e3}),FLAGS:new Bt.Linear({defaultValue:1e4,growth:.5,maxLevel:5,roundTo:1e3})},ENEMIES:{COUNT:new Bt.QuadraticMixed({defaultValue:4,growth:.27}),SPAWN:{RATE:1500,POWERLOAD:{MAX:.25,TRIGGER:10}}},EXPERIENCE:new Bt.Quadratic({defaultValue:50,growth:.25,retardationLevel:1})},O2=Ln`
  0% { color: ${Re.ERROR} }
  100% { color: #fff }
`,Cm=rt.div`
  position: relative;
  pointer-events: all;
  font-family: ${ee.PIXEL_LABEL};
  display: flex;
  align-items: center;
  padding-right: 10px;
  [role=tooltip] {
    font-family: ${ee.PIXEL_TEXT};
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding-right: 3vh;
  }
  ${L=>L.$skippable&&bt`
    &:hover {
      cursor: pointer;
      [role=tooltip] {
        display: block;
      }
    }
  `}
`,M2=rt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  &:first-child ${Cm} {
    border-radius: 5px 0 0 5px;
  }
`,D2=rt.div`
  margin-top: 20px;
  position: absolute;
  left: 50%;
  top: 30px;
`,Wf=rt.div`
  text-align: center;
  border-radius: 3px;
  background: ${L=>L.$paused?xt.WARN:L.$going?xt.ERROR:xt.SUCCESS};
  @media ${yt.BREAKPOINT.DESKTOP} {
    height: 40px;
    padding: 6px 12px 10px 12px;
    min-width: 40px;
    box-shadow: 0 20px 0 ${xt.WHITE_TRANSPARENT_15} inset;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    height: 10vh;
    min-height: 30px;
    padding: 0 12px 4px 12px;
    box-shadow: 0 16px 0 ${xt.WHITE_TRANSPARENT_15} inset;
    display: flex;
    align-items: center;
    justify-content: center;
  }
`;Wf.Value=rt.div`
  @media ${yt.BREAKPOINT.DESKTOP} {
    font-size: 24px;
    line-height: 24px;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 200%;
    line-height: 0;
    height: 0;
  }
`;const w2=rt.div`
  margin-left: 10px;
`,F2=rt.div`
  font-size: 11px;
  line-height: 11px;
  opacity: 0.5;
  margin-top: -2px;
  min-width: 80px;
  white-space: nowrap;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 3vh;
    line-height: 3vh;
    opacity: 0.75;
    margin-top: -1px;
  }
`,B2=rt.div`
  margin-top: 3px;
  font-size: 20px;
  line-height: 20px;
  ${L=>L.$attention&&bt`
    animation: ${O2} 1s infinite;
  `}
  @media ${yt.BREAKPOINT.MOBILE} {
    margin-top: 1px;
    font-size: 6vh;
    line-height: 6vh;
  }
`,N2=()=>{const L=Ct.useGame(),A=mt.useRef(null),[I,F]=mt.useState(1),[N,H]=mt.useState(null),[p,S]=mt.useState(!1),[t,h]=mt.useState(!1),[c,l]=mt.useState(!1),[r,s]=mt.useState(!0),[e,i]=mt.useState(!1),o=!p&&!r;return Ct.useClick(A,"down",()=>{gt.World.wave.isGoing||gt.World.wave.skipTimeleft()},[]),mt.useEffect(()=>Ut.Bind(Yt.SKIP_TIMELEFT,{beg:()=>i(!0),end:()=>i(!1)}),[]),Ct.useEvent(L.events,Mi.TOGGLE_PAUSE,n=>{l(n)},[]),Ct.useSceneUpdate(gt.World,()=>{const{wave:n}=gt.World,a=gt.World.isTimePaused();if(s(a),F(n.number),S(n.isGoing),n.isGoing){const f=n.getEnemiesLeft();H(f),h(!1)}else{const f=n.getTimeleft(),u=f<=qi.TIMELEFT.ALARM&&!n.isPeaceMode&&!a;H(n.isPeaceMode?"-":u1(f)),h(u)}},[]),q.createElement(M2,null,q.createElement(Cm,{ref:A,$skippable:o},q.createElement(Wf,{$paused:r,$going:p},q.createElement(Wf.Value,null,r?"||":I)),q.createElement(w2,null,q.createElement(F2,null,Ot.Phrase(p?"ENEMIES":"WAVE_TIMELEFT")),q.createElement(B2,{$attention:t,style:{animationPlayState:c?"paused":"running"}},N)),!e&&o&&q.createElement(D2,null,q.createElement(cd,null,Ot.Phrase("SKIP_WAVE_TIMELEFT")))),e&&o&&q.createElement(Ya,{label:"TUTORIAL_SKIP_TIMELEFT",side:"top"}))},U2=rt.div`
  height: 100%;
  padding: 32px;
  display: flex;
  justify-content: space-between;
  user-select: none;
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 5vh;
  }
`,Sr=rt.div`
  display: flex;
  gap: 1px;
  height: 60px;
`;Sr.Block=rt.div`
  display: flex;
  align-items: center;
  background: ${L=>L.$dark?xt.BLACK_TRANSPARENT_75:xt.BLACK_TRANSPARENT_50};
  gap: 1px;
  padding: 0 12px;
  height: 60px;
  &:first-child {
    border-radius: 5px 0 0 5px;
  }
  &:last-child {
    border-radius: 0 5px 5px 0;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0 2vh;
    height: 14vh;
    min-height: 40px;
  }
`;const G2=rt.div`
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  width: 100%;
`,yf=rt.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  position: relative;
  ${L=>{switch(L.$side){case"left":return bt`
        justify-self: start;
        align-items: flex-start;
      `;case"center":return bt`
        justify-self: center;
        align-items: center;
      `;case"right":return bt`
        justify-self: end;
        align-items: flex-end;
      `}}}
`,Rm=()=>{const L=Ct.useGame(),A=Ct.useRelativeScale(yt.SCALE),[I,F]=mt.useState(L.state===me.INTRODUCTION),N=()=>{F(!1),L.setState(me.STARTED),L.toggleSystemPause(!1)};return mt.useEffect(()=>{I&&L.toggleSystemPause(!0)},[]),q.createElement(gm,null,q.createElement(U2,{ref:A},I?q.createElement(qS,{onClose:N}):q.createElement(G2,null,q.createElement(yf,{$side:"left"},q.createElement(PA,null),q.createElement(VS,null)),q.createElement(yf,{$side:"center"},q.createElement(ne,{direction:"vertical",gap:8},q.createElement(Sr,null,q.createElement(Sr.Block,{$dark:!0},q.createElement(N2,null)),L.mode===Ti.FLAGS&&q.createElement(Sr.Block,{$dark:!0},q.createElement(kS,null)),q.createElement(Sr.Block,null,q.createElement(nA,null)),q.createElement(Sr.Block,null,q.createElement($A,null))),q.createElement(cS,null),q.createElement(lA,null)),q.createElement(l2,null)),q.createElement(yf,{$side:"right"},q.createElement(bS,null))),q.createElement(I2,null)))};Rm.displayName="ScreenUI";ge.RegisterAudio(Ss);class b2 extends ba{constructor(){super(Ne.SCREEN),this.joystick=null,this._joystickActivePointer=null,gt.Screen=this}get joystickActivePointer(){return this._joystickActivePointer}set joystickActivePointer(A){this._joystickActivePointer=A}create(){new Ct.Interface(this).render(Rm),this.game.isDesktop()||this.createJoystick()}update(){try{this.updateJoystickAngle()}catch(A){wt.LogWarn("Failed to update screen",A)}}failure(A,I){gt.World.fx.playSound(Ss.ERROR),A&&this.events.emit(Al.NOTICE,{text:A,format:I})}createJoystick(){const A=this.getJoystickParams(),I=this.add.circle(0,0,A.radius,16777215,.25);I.setInteractive(),I.on(Phaser.Input.Events.POINTER_DOWN,F=>{this.joystickActivePointer=F}),this.input.on(Phaser.Input.Events.POINTER_UP,F=>{this.joystickActivePointer===F&&(this.joystickActivePointer=null)}),this.scale.on(Phaser.Scale.Events.RESIZE,this.handleJoystickResize.bind(this)),this.joystick=new Tm(this,{...A,base:I,thumb:this.add.circle(0,0,A.radius*.5,16777215,.75)})}isJoystickUsing(){return this.joystick?!this.joystick.noKey:!1}handleJoystickResize(){if(this.joystick)try{const{x:A,y:I,radius:F}=this.getJoystickParams(),N=this.joystick.thumb,H=this.joystick.base;this.joystick.setPosition(A,I),N?.geom&&N.setRadius(F*.5),H?.geom&&H.setRadius(F)}catch(A){wt.LogWarn("Failed to resize joystick",A)}}updateJoystickAngle(){if(!this.joystick)return;const A=this.joystick.noKey?null:(this.joystick.angle+360)%360;gt.World.player.setMovementTarget(A)}getJoystickParams(){const A=Math.max(Math.min(this.game.canvas.height/420,1),.5),I=74*A,F=40*A;return{x:F+I,y:this.game.canvas.height-F-I,radius:I}}}class Lr extends ba{constructor(){super(Ne.SYSTEM),gt.System=this}async preload(){this.load.on("progress",A=>{Lr.SetLoadingStatus(`LOADING
${Math.round(A*100)}%`)}),this.load.addPack([{files:ge.Files}]),ge.Clear()}async create(){Lr.SetLoadingStatus(`LOADING
DONE`),await ri.Connect(),await ri.LoadSaves(),this.scene.launch(Ne.WORLD),this.scene.launch(Ne.MENU,{defaultPage:oi.NEW_GAME}),this.scene.bringToTop(),wt.ToggleLoadState(!1),this.game.isDesktop()||this.input.addPointer(1),wt.Newbie?setTimeout(()=>{this.game.startNewGame(),Lr.RemoveLoading()},100):Lr.RemoveLoading(),this.input.keyboard?.on(Or.PAUSE,()=>{if(!this.game.isPaused)switch(this.game.state){case me.FINISHED:{this.game.stopGame();break}case me.PAUSED:{this.game.resumeGame();break}case me.STARTED:{this.game.pauseGame();break}}})}static SetLoadingStatus(A){const I=document.getElementById("loading-status");I&&(I.innerText=A)}static RemoveLoading(){const A=document.getElementById("loading");A&&A.remove()}}const Cl={TILE:{width:42,height:48,origin:.75},COUNT:new Bt.Linear({defaultValue:6,growth:.17,maxLevel:10}),RESOURCES:new Bt.Linear({defaultValue:4,growth:.8,maxLevel:12})};var Lm={exports:{}};(()=>{var L={465:function(F,N,H){var p=this&&this.__createBinding||(Object.create?function(t,h,c,l){l===void 0&&(l=c);var r=Object.getOwnPropertyDescriptor(h,c);r&&!("get"in r?!h.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return h[c]}}),Object.defineProperty(t,l,r)}:function(t,h,c,l){l===void 0&&(l=c),t[l]=h[c]}),S=this&&this.__exportStar||function(t,h){for(var c in t)c==="default"||Object.prototype.hasOwnProperty.call(h,c)||p(h,t,c)};Object.defineProperty(N,"__esModule",{value:!0}),S(H(771),N),S(H(535),N),S(H(309),N),S(H(650),N),S(H(718),N)},309:(F,N)=>{Object.defineProperty(N,"__esModule",{value:!0})},650:(F,N)=>{function H(t,h,c=[0,1]){return Math.max(c[0],Math.min(c[1],t??h))}function p(t){return .5*(1-Math.cos(t*Math.PI))}function S(t,h,c){const l=h/2,r=Math.abs(l-t),s=l*(1-c);if(r<s)return 1;let e=(r-s)/l/(1-s/l);return e=Math.min(1,Math.max(0,e)),1-function(i){return 3*Math.pow(i,2)-2*Math.pow(i,3)}(e)}Object.defineProperty(N,"__esModule",{value:!0}),N.generateNoise=void 0,N.generateNoise=function(t){var h;const{x:c,y:l,width:r,height:s,seed:e,params:i}=t,o=Math.round(31*H(i.frequencyChange,.3)+1),n=Math.round(14*(1-H(i.borderSmoothness,.5))+1),a=2-H(i.heightRedistribution,1,[.5,1.5]),f=H(i.falloff,0,[0,.9]),u=(h=i.heightAveraging)===null||h===void 0||h,d=e.length-1,v=c/r*o,g=l/s*o;let x,m,y,T,R,P=Math.floor(v),D=Math.floor(g),O=v-P,B=g-D,G=0,b=.5;for(let k=0;k<n;k++){let $=P+(D<<4);x=p(O),m=p(B),y=e[$&d],y+=x*(e[$+1&d]-y),T=e[$+16&d],T+=x*(e[$+16+1&d]-T),y+=m*(T-y),$+=256,T=e[$&d],T+=x*(e[$+1&d]-T),R=e[$+16&d],R+=x*(e[$+16+1&d]-R),T+=m*(R-T),G+=y*b,b*=.5,P<<=1,O*=2,O>=1&&(P++,O--),D<<=1,B*=2,B>=1&&(D++,B--)}return u&&(G>.5?G=Math.pow(G,(1.5-G)/1.1):G<.5&&(G=Math.pow(G,1.1*(1.5-G)))),G=Math.pow(G,a),f&&(G*=S(c,r,f)*S(l,s,f)),G}},718:(F,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.generateSeed=void 0,N.generateSeed=function(H=512){const p=[];for(let S=0;S<H;S++)p.push(Math.random());return p}},910:(F,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.WorldBiome=void 0,N.WorldBiome=class{constructor(H,p){var S,t;this.lowerBound=Math.max(0,(S=H.lowerBound)!==null&&S!==void 0?S:0),this.upperBound=Math.min(1,(t=H.upperBound)!==null&&t!==void 0?t:1),this.data=p}}},771:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.WorldGenerator=void 0;const p=H(650),S=H(718),t=H(535),h=H(481);N.WorldGenerator=class{constructor(c){this.layers=[],this.width=c.width,this.height=c.height}addLayer(c={}){const l=new h.WorldLayer(c);return this.layers.push(l),l}clearLayers(){this.layers=[]}getLayers(){return this.layers}generate(c){var l;const r=(l=c?.seed)!==null&&l!==void 0?l:(0,S.generateSeed)(c?.seedSize),s=[];for(const e of this.layers){const i=this.generateLayer(e,r);for(let o=0;o<this.height;o++){s[o]||(s[o]=[]);for(let n=0;n<this.width;n++)i[o][n]&&(s[o][n]=i[o][n].data)}}for(let e=0;e<this.height;e++)for(let i=0;i<this.width;i++)if(s[e][i]===void 0)throw Error(`World matrix contains empty biome at [${i},${e}]`);return new t.World(s,r)}generateLayer(c,l){const r=[];for(let s=0;s<this.height;s++){r[s]=[];for(let e=0;e<this.width;e++){const i=(0,p.generateNoise)({params:c.params,seed:l,width:this.width,height:this.height,x:e,y:s}),o=c.getBiomeByHeight(i);o&&(r[s][e]=o)}}return r}}},481:(F,N,H)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.WorldLayer=void 0;const p=H(910);N.WorldLayer=class{constructor(S={}){this.biomes=[],this.params=S}addBiome(S,t){const h=new p.WorldBiome(S,t);return this.biomes.push(h),h}clearBiomes(){this.biomes=[]}getBiomes(){return this.biomes}getBiomeByHeight(S){return this.getBiomes().find(t=>S>=t.lowerBound&&S<=t.upperBound)}}},535:(F,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.World=void 0,N.World=class{constructor(H,p){this.matrix=[],this.width=H[0].length,this.height=H.length,this.matrix=H,this.seed=p}getMatrix(){return this.matrix}each(H){for(let p=0;p<this.height;p++)for(let S=0;S<this.width;S++)if(H({x:S,y:p},this.matrix[p][S])===!1)return}getAt(H){var p,S;return(S=(p=this.matrix[H.y])===null||p===void 0?void 0:p[H.x])!==null&&S!==void 0?S:null}replaceAt(H,p){if(H.y>=this.height||H.x>=this.width)throw Error(`Position [${H.x},${H.y}] is out of world bounds`);this.matrix[H.y][H.x]=p}}}},A={},I=function F(N){var H=A[N];if(H!==void 0)return H.exports;var p=A[N]={exports:{}};return L[N].call(p.exports,p,p.exports,F),p.exports}(465);Lm.exports=I})();var z2=Lm.exports;class V2{constructor(A,I){this.tiles=[],this.size=A,this.height=I,this.tiles=Array(I);for(let F=0;F<I;F++){this.tiles[F]=Array(A);for(let N=0;N<A;N++)this.tiles[F][N]=Array(A)}}isCorrectPoint(A){return A.x<this.size&&A.x>=0&&A.y<this.size&&A.y>=0&&A.z<this.height&&A.z>=0}isFreePoint(A){const I=this.getTile(A);return!I||!!I.clearable}getTile(A){const{x:I,y:F,z:N}=A;return this.tiles[N]?.[F]?.[I]??null}getTileWithType(A,I){return this.tileIs(A,I)?this.getTile(A):null}tileIs(A,I){const F=this.getTile(A);return F?I instanceof Array?I.includes(F.tileType):I===F.tileType:!1}putTile(A,I,F=!0){const N=this.getTile(I);N&&N.destroy();const{x:H,y:p,z:S}=I;this.tiles[S][p][H]=A,F&&A.once(Ft.GameObjects.Events.DESTROY,()=>{this.removeTile(I)})}removeTile(A){if(!this.getTile(A))return;const{x:F,y:N,z:H}=A;delete this.tiles[H][N][F]}}const Tf={width:42,height:48},W2={frequencyChange:.2,heightRedistribution:.7,borderSmoothness:.8,falloff:.3},he={SEED_SIZE:128,BIOME_PARAMETERS:W2,MAP_SIZE:{[Ti.INFINITY]:100,[Ti.FLAGS]:50},MAP_MAX_HEIGHT:4,MAP_PERSPECTIVE:Tf.height/2/Tf.width,MAP_TILE:{...Tf,origin:.75,edgeLength:24.6,margin:1,spacing:2},SCENERY_TILE:{width:42,height:72,origin:61/72}};function kn(L,A){return L.x===A.x&&L.y===A.y}function Pm(L,A){const I=L.findIndex(F=>kn(F,A));I!==-1&&L.splice(I,1)}function Ks(L,A){return Math.hypot(A.x-L.x,A.y-L.y)}function Bi(L,A){return Math.hypot(A.x-L.x,(A.y-L.y)/he.MAP_PERSPECTIVE)}function Y2(L,A){return Math.atan2((A.y-L.y)/he.MAP_PERSPECTIVE,A.x-L.x)}function md(L,A){if(L.length===0)return null;let I={distance:1/0,position:null};const F=A.getPositionOnGround?.()??A;return L.forEach(N=>{const H=N.getPositionOnGround?.()??N,p=Bi(F,H);p<I.distance&&(I={position:N,distance:p})}),I.position}function H2(L,A){return L.map(I=>({position:I,distance:Ks(I,A)})).sort((I,F)=>I.distance-F.distance).map(({position:I})=>I)}function X2(L){const A=[];for(let I=L.y-1;I<=L.y+1;I++)for(let F=L.x-1;F<=L.x+1;F++)kn({x:F,y:I},L)||A.push({x:F,y:I});return A}function k2(L,A){return L.map(F=>{const N=A.map(H=>Ks(H,F)).sort((H,p)=>H-p);return{position:F,minDistance:N[0]}}).sort((F,N)=>N.minDistance-F.minDistance)[0]?.position}function K2(){return new Worker(""+new URL("worker-0e3025db.js",import.meta.url).href)}var gs=(L=>(L.CREATE_TASK="create_task",L.CREATE_POOL="create_task_pool",L.COMPLETE_TASK="complete_task",L.COMPLETE_POOL="complete_pool",L.CANCEL_TASK="cancel_task",L.UPDATE_POINT_COST="update_point_cost",L))(gs||{});class $2{constructor(){this.pointsCost=[],this.tasks=[],this.worker=new K2,this.worker.addEventListener("message",({data:A})=>{switch(A.event){case gs.COMPLETE_TASK:{const I=A.payload,F=this.tasks.find(N=>N.idTask===I.idTask);if(F){const N=[I.result];F.callback(N)}break}case gs.COMPLETE_POOL:{const I=A.payload,F=this.tasks.find(N=>N.idPool===I.idPool);F&&F.callback(I.results);break}}})}setPointCost(A,I){if(this.getPointCost(A)===I)return;this.pointsCost[A.y]||(this.pointsCost[A.y]=[]),this.pointsCost[A.y][A.x]=I;const F={position:A,cost:I};this.worker.postMessage({event:gs.UPDATE_POINT_COST,payload:F})}getPointCost(A){return this.pointsCost[A.y]?.[A.x]??1}resetPointCost(A){if(!this.pointsCost[A.y])return;delete this.pointsCost[A.y][A.x];const I={position:A,cost:null};this.worker.postMessage({event:gs.UPDATE_POINT_COST,payload:I})}createTask(A,I){const F={idTask:wr(),...A};return this.worker.postMessage({event:gs.CREATE_TASK,payload:F}),this.tasks.push({idTask:F.idTask,callback:I}),F.idTask}createPool(A,I){const F={idPool:wr(),...A};this.worker.postMessage({event:gs.CREATE_POOL,payload:F}),this.tasks.push({idPool:F.idPool,callback:I})}cancelTask(A){const I={idTask:A};this.worker.postMessage({event:gs.CANCEL_TASK,payload:I});const F=this.tasks.findIndex(N=>N.idTask===A);F!==-1&&this.tasks.splice(F,1)}}ge.RegisterSprites(xl,he.MAP_TILE);ge.RegisterSprites(Zf,he.SCENERY_TILE);let Ge=class Ar extends V2{constructor(A,{planet:I,seed:F}){const N=he.MAP_SIZE[A.game.mode];super(N,he.MAP_MAX_HEIGHT),this.gridCollide=[],this.gridSolid=[],this._effectsOnGround=[],this.scene=A,this.planet=I??Hs.EARTH;const H=new z2.WorldGenerator({width:N,height:N}),p=H.addLayer(he.BIOME_PARAMETERS);Hn[this.planet].BIOMES.forEach(S=>{S.params&&p.addBiome(S.params,S.data)}),this.map=H.generate({seed:F,seedSize:he.SEED_SIZE}),this.gridCollide=this.map.getMatrix().map(S=>S.map(t=>t.collide)),this.gridSolid=this.map.getMatrix().map(S=>S.map(t=>!t.solid)),this.navigator=new $2,this.addTilemap(),this.addMapTiles(),this.addScenery(),this.scene.game.events.on(Mi.UPDATE_SETTINGS,(S,t)=>{S===Ei.EFFECTS&&t==="off"&&this.removeEffects()})}get effectsOnGround(){return this._effectsOnGround}set effectsOnGround(A){this._effectsOnGround=A}get groundLayer(){return this._groundLayer}set groundLayer(A){this._groundLayer=A}looseEffects(){this.effectsOnGround.forEach(A=>{A.setAlpha(A.alpha-.2),A.alpha<=0&&A.destroy()})}removeEffects(){this.effectsOnGround.forEach(A=>{A.destroy()}),this.effectsOnGround=[]}readSpawnPositions(A,I=2){const F=[];for(let N=I;N<this.map.width-I;N+=I)for(let H=I;H<this.map.height-I;H+=I){const p={x:N+Ft.Math.Between(-1,1),y:H+Ft.Math.Between(-1,1),z:1},S=this.map.getAt(p)?.spawn;S&&S.includes(A)&&F.push(p)}return F}hasTilesBetweenPositions(A,I){const F=Ar.ToMatrixPosition(A),N=Ar.ToMatrixPosition(I),H={...F,z:1},p=Math.abs(N.x-F.x),S=Math.abs(N.y-F.y);let t=p-S;for(;!kn(H,N);){const h=2*t;if(h>-S&&(t-=S,H.x+=F.x<N.x?1:-1),h<p&&(t+=p,H.y+=F.y<N.y?1:-1),this.getTile(H)?.tileType===Xi.MAP)return!0}return!1}getBiome(A){return Hn[this.planet].BIOMES.find(I=>I.data.type===A)?.data??null}getFreeAdjacentTiles(A){return[{x:A.x+1,y:A.y},{x:A.x,y:A.y+1},{x:A.x-1,y:A.y},{x:A.x,y:A.y-1},{x:A.x+1,y:A.y-1},{x:A.x+1,y:A.y+1},{x:A.x-1,y:A.y+1},{x:A.x-1,y:A.y-1}].filter(F=>this.isFreePoint({...F,z:1}))}addTilemap(){const A=new Ft.Tilemaps.MapData({width:this.map.width,height:this.map.height,tileWidth:he.MAP_TILE.width,tileHeight:he.MAP_TILE.height*.5,orientation:Ft.Tilemaps.Orientation.ISOMETRIC,format:Ft.Tilemaps.Formats.ARRAY_2D}),I=new Ft.Tilemaps.Tilemap(this.scene,A),F=I.addTilesetImage(xl[this.planet],void 0,he.MAP_TILE.width,he.MAP_TILE.height,he.MAP_TILE.margin,he.MAP_TILE.spacing);if(!F)throw Error("Unable to create map tileset");this.addFalloffLayer(I,F),this.addGroundLayer(I,F)}addGroundLayer(A,I){const F=A.createBlankLayer("ground",I,-he.MAP_TILE.width*.5,-he.MAP_TILE.height*.25);if(!F)throw Error("Unable to create map layer");this.groundLayer=F}addFalloffLayer(A,I){const F=Math.atan2(1/he.MAP_PERSPECTIVE,1),N=this.scene.game.canvas.clientWidth/2/Math.sin(F),H=Math.ceil(N/he.MAP_TILE.edgeLength),p=H*2+this.map.width,S=Ar.ToWorldPosition({x:-H,y:-H},0),t=A.createBlankLayer("falloff",I,S.x-he.MAP_TILE.width*.5,S.y-he.MAP_TILE.height*he.MAP_TILE.origin,p,p);if(!t)return;const h=Hn[this.planet].BIOMES[0].data,c=Array.isArray(h.tileIndex)?h.tileIndex[0]:h.tileIndex;for(let l=0;l<p;l++)for(let r=0;r<p;r++)(r<H||r>=p-H||l<H||l>=p-H)&&t.putTileAt(c,r,l,!1)}addMapTiles(){const A=(I,F)=>{const N=Array.isArray(F.tileIndex)?Ft.Math.Between(...F.tileIndex):F.tileIndex;F.z===0?this.groundLayer.putTileAt(N,I.x,I.y,!1):this.addMountTile(N,I,F.z)};this.map.each((I,F)=>{if(A(I,F),F.z>1){const N=F.z-1,H=this.map.getAt({x:I.x+1,y:I.y}),p=this.map.getAt({x:I.x,y:I.y+1});if(H&&H.z!==N||p&&p.z!==N){const S=Hn[this.planet].BIOMES.find(t=>t.data.z===N);S&&A(I,S.data)}}})}addMountTile(A,I,F){const N=Ar.ToWorldPosition(I,F),H=N.y+(F-1)*he.MAP_TILE.height,p=this.scene.add.image(N.x,N.y,xl[this.planet],A);p.tileType=Xi.MAP,p.setDepth(H),p.setOrigin(.5,he.MAP_TILE.origin),this.putTile(p,{...I,z:F},!1)}addScenery(){this.sceneryTiles=this.scene.add.group();const A=this.readSpawnPositions(qt.SCENERY),I=Math.ceil(this.map.width*Hn[this.planet].SCENERY_DENSITY);for(let F=0;F<I;F++){const N=Ft.Utils.Array.GetRandom(A),H={...N,z:1};if(this.isFreePoint(H)){const p=Ar.ToWorldPosition(N),S=this.scene.add.image(p.x,p.y,Zf[this.planet],Ft.Math.Between(0,Hn[this.planet].SCENERY_VARIANTS_COUNT-1));S.tileType=Xi.SCENERY,S.clearable=!0,S.setDepth(p.y),S.setOrigin(.5,he.SCENERY_TILE.origin),this.putTile(S,H),this.sceneryTiles.add(S)}}}getSavePayload(){return{planet:this.planet,seed:[...this.map.seed]}}static ToMatrixPosition(A){const{width:I,height:F}=he.MAP_TILE,N={x:A.x/(I*.5),y:A.y/(F*.25)};return{x:Math.round((N.x+N.y)/2),y:Math.round((N.y-N.x)/2)}}static ToWorldPosition(A,I=1){const{width:F,height:N}=he.MAP_TILE;return{x:(A.x-A.y)*(F*.5),y:(A.x+A.y)*(N*.25)-(I-1)*(N*.5)}}};var gd=(L=>(L.CRYSTAL="crystal/crystal",L))(gd||{}),xd=(L=>(L.PICKUP="crystal/pickup",L))(xd||{}),Rl=(L=>(L.PICKUP="pickup",L))(Rl||{});ge.RegisterAudio(xd);ge.RegisterSprites(gd,Cl.TILE);class Im extends Ft.GameObjects.Image{constructor(A,{positionAtMatrix:I,variant:F=0}){const N=Ge.ToWorldPosition(I);super(A,N.x,N.y,gd.CRYSTAL,F),this.tileType=Xi.CRYSTAL,A.add.existing(this),A.addEntityToGroup(this,Xt.CRYSTAL),this.positionAtMatrix=I,this.scene.game.isDesktop()&&(this.setInteractive({pixelPerfect:!0}),this.handlePointer()),this.setDepth(N.y),this.setOrigin(.5,Cl.TILE.origin),this.scene.level.putTile(this,{...I,z:1})}pickup(){const A=this.getResourcesAmount();this.scene.player.giveResources(A),this.scene.getEntitiesGroup(Xt.CRYSTAL).emit(Rl.PICKUP,this,A),this.scene.fx.playSound(xd.PICKUP),this.destroy()}getResourcesAmount(){const A=Cl.RESOURCES.getValue(this.scene.wave.number);return Ft.Math.Between(A-Math.floor(A*.25),A+Math.floor(A*.25))}handlePointer(){this.on(Ft.Input.Events.POINTER_OVER,()=>{this.scene.builder.isBuild||this.addShader(Es.OUTLINE,{size:2,color:16777215})}),this.on(Ft.Input.Events.POINTER_OUT,()=>{this.removeShader(Es.OUTLINE)})}getSavePayload(){return{position:{...this.positionAtMatrix}}}}const Hr={COLLIDE_SPEED_FACTOR:.002,DEPTH_GRAPHIC:9999};class Ll extends Ft.GameObjects.Container{constructor(A,{size:I,color:F,value:N,destroyIf:H}){super(A.scene,0,0),this.destroyIf=null,A.scene.add.existing(this),this.value=N,this.destroyIf=H??null,this.background=this.scene.add.rectangle(0,0,I,4,0,.5),this.background.setOrigin(0,0),this.bar=this.scene.add.rectangle(1,1,0,0,F),this.bar.setOrigin(0,0),this.setDepth(Hr.DEPTH_GRAPHIC),this.setSize(this.background.width,this.background.height),this.add([this.background,this.bar])}updateValue(A){const I=A??this.value?.()??0;this.bar.setSize((this.width-2)*I,this.height-2),this.destroyIf?.(I)&&this.destroy()}}class pn{constructor(A){this.timestamp=0,this.origin=null,this.origin=A??null}next(A){this.timestamp=this.getTime()+A}isPast(){return this.getLeft()<=0}getLeft(){return Math.max(0,this.timestamp-this.getTime())}reset(){this.timestamp=0}getTime(){return this.origin?.getTime()??Date.now()}}var Ed=(L=>(L.CAPTURE="flag/capture",L))(Ed||{}),bs=(L=>(L.DEFAULT="flag/default",L.CAPTURED="flag/captured",L))(bs||{});ge.RegisterAudio(Ed);ge.RegisterSprites(bs,Sn.TILE);class Sp extends Phaser.GameObjects.Sprite{constructor(A,{positionAtMatrix:I}){const F={...I,z:1},N=Ge.ToWorldPosition(F);super(A,N.x,N.y,bs.DEFAULT),this.tileType=Xi.FLAG,this._isCaptured=!1,this.captureTimer=null,this.bar=null,this.hintId=null,A.add.existing(this),A.addEntityToGroup(this,Xt.FLAG),this.positionAtMatrix=I,this.healDelay=new pn(this.scene),this.setDepth(N.y),this.setOrigin(.5,Sn.TILE.origin),this.scene.level.putTile(this,F),this.addArea(),this.setInteractive({pixelPerfect:!0}),this.handlePointer(),Object.values(bs).forEach(H=>{this.anims.create({key:H,frames:this.anims.generateFrameNumbers(H,{}),frameRate:3,repeat:-1})}),this.anims.play(bs.DEFAULT),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.area.destroy()})}get isCaptured(){return this._isCaptured}set isCaptured(A){this._isCaptured=A}update(){try{if(this.scene.game.state!==me.STARTED)return;if(this.isCaptured)this.isPlayerInFlag()&&this.healPlayer();else{const A=this.scene.isTimePaused();if(this.area.setVisible(!A),A)return;this.isPlayerInFlag()?this.captureTimer||this.startCapture():this.captureTimer&&this.stopCapture()}}catch(A){wt.LogWarn("Failed to update flag",A)}}healPlayer(){if(!this.healDelay.isPast()||this.scene.player.live.isMaxHealth())return;const A=Math.ceil(this.scene.player.live.maxHealth*Sn.HEAL.HEALTH_MULTIPLIER);this.scene.player.live.heal(A),this.healDelay.next(Sn.HEAL.PAUSE)}isPlayerInFlag(){return Bi(this,this.scene.player.positionOnGround)<=Sn.CAPTION.DISTANCE}startCapture(){this.addBar(),this.addTimer(),this.area.setFillStyle(16777215,.2)}stopCapture(){this.removeBar(),this.removeTimer(),this.area.setFillStyle()}completeCapture(){this.isCaptured=!0,this.stopCapture(),this.removeHint(),this.removeInteractive(),this.setTexture(bs.CAPTURED),this.anims.play(bs.CAPTURED);const A=this.scene.getCapturedFlags().length,I=this.scene.getEntitiesGroup(Xt.FLAG).getTotalUsed(),F=Sn.SCORE.getValue(A);this.scene.player.giveScore(F),A===I&&this.scene.game.finishGame(!0)}addTimer(){const A=this.scene.getCapturedFlags(),I=Sn.CAPTION.DURATION.getValue(A.length+1);this.captureTimer=this.scene.addProgression({duration:I,onProgress:(F,N)=>{this.bar?.updateValue(1-F/N)},onComplete:()=>{this.completeCapture(),this.scene.fx.playSound(Ed.CAPTURE),wt.TrackFlagCapture(this.scene)}})}removeTimer(){this.captureTimer&&(this.scene.removeProgression(this.captureTimer),this.captureTimer=null)}addBar(){this.bar||(this.bar=new Ll(this,{color:16777215,size:20}),this.bar.setPosition(this.x-this.bar.width/2,this.y-4))}removeBar(){this.bar&&(this.bar.destroy(),this.bar=null)}addArea(){if(this.area)return;const A=Sn.CAPTION.DISTANCE*2;this.area=this.scene.add.ellipse(this.x,this.y,A,A*he.MAP_PERSPECTIVE),this.area.setStrokeStyle(1,16777215,.25)}addHint(){!this.hintId&&Ut.IsEnabled&&(this.hintId=this.scene.showHint({side:"top",label:"TUTORIAL_FLAG_CAPTION",position:this}))}removeHint(){this.hintId&&(this.scene.hideHint(this.hintId),this.hintId=null)}handlePointer(){this.on(Phaser.Input.Events.POINTER_OVER,()=>{!this.isCaptured&&!this.captureTimer&&!this.scene.isTimePaused()&&this.addHint()}),this.on(Phaser.Input.Events.POINTER_OUT,()=>{this.removeHint()})}getSavePayload(){return{position:this.positionAtMatrix,isCaptured:this.isCaptured}}loadSavePayload(A){A.isCaptured&&this.completeCapture()}}var yd=(L=>(L.LAZER="shot/lazer",L))(yd||{}),Td=(L=>(L.BALL="shot/ball",L))(Td||{}),Vr=(L=>(L.FIRE_1="shot/ball_fire_1",L.FIRE_2="shot/ball_fire_2",L.FROZEN="shot/ball_frozen",L.SIMPLE="shot/ball_simple",L))(Vr||{});ge.RegisterAudio(Vr);ge.RegisterImages(Td);class Sd extends Ft.Physics.Arcade.Image{constructor(A,I,{audio:F,color:N,glow:H=!1,scale:p=1}){super(A,0,0,Td.BALL),this.initiator=null,this.positionCallback=null,this.effect=null,this.startPosition=null,this.color=16777215,this.glow=!1,this.altitude=0,A.add.existing(this),A.addEntityToGroup(this,Xt.SHOT),this.color=N,this.glow=H,this.audio=F,this.params=I,this.setActive(!1),this.setVisible(!1),this.setScale(p),this.setTint(N),this.scene.physics.add.collider(this,this.scene.getEntitiesGroup(Xt.ENEMY),(S,t)=>{try{this.hit(t)}catch(h){wt.LogWarn("Failed to handle ball shot collider",h)}})}setInitiator(A,I=null){this.initiator=A,this.positionCallback=I,A.once(Ft.GameObjects.Events.DESTROY,()=>{this.effect?.destroy(),this.destroy()})}update(){try{this.updateFlyDistance()}catch(A){wt.LogWarn("Failed to update ball shot",A)}}updateFlyDistance(){this.startPosition?Bi(this,this.startPosition)>this.params.maxDistance.value?this.stop():this.setDepth(this.y+this.altitude):(this.stop(),wt.LogWarn("Invalid shot start position"))}shoot(A){if(!this.initiator||this.active||!this.params.speed)return;const I=this.positionCallback?.()??this.initiator;this.setPosition(I.x,I.y),this.setActive(!0),this.setVisible(!0),this.glow&&(this.effect=this.scene.fx.createGlowEffect(this,{speed:this.params.speed.value,color:this.color})),this.altitude=this.initiator.positionOnGround.y-I.y,this.startPosition={x:I.x,y:I.y};const N=Bi(I,A.getHitPosition())/this.params.speed.value,H=A.getHitFuturePosition(N);this.scene.physics.world.enable(this,Ft.Physics.Arcade.DYNAMIC_BODY),this.scene.physics.moveTo(this,H.x,H.y,this.params.speed.value),this.scene.fx.playSound(this.audio,{limit:3})}hit(A){this.stop()}stop(){this.effect&&(this.effect.destroy(),this.effect=null),this.setActive(!1),this.setVisible(!1),this.startPosition=null,this.scene.physics.world.disable(this)}}const Dr={LAZER:{DELAY:50,REPEAT:5},BALL:{DAMAGE_SPREAD:{MAX_DISTANCE:32,FACTOR:.3}}};class Ad extends Sd{constructor(A,I,F={}){super(A,I,{...F,audio:[Vr.FIRE_1,Vr.FIRE_2],color:16733184,glow:!0})}hit(A){super.hit(A),this.scene.fx.createFireEffect(A),this.params.damage&&(this.spreadDamage(A,this.params.damage.value*Dr.BALL.DAMAGE_SPREAD.FACTOR),A.active&&A.live.damage(this.params.damage.value))}spreadDamage(A,I){this.scene.getEntities(Xt.ENEMY).forEach(F=>{if(F.active&&F!==A){const N=Bi(A.positionOnGround,F.positionOnGround);if(N<Dr.BALL.DAMAGE_SPREAD.MAX_DISTANCE){const H=I*(1-N/Dr.BALL.DAMAGE_SPREAD.MAX_DISTANCE);F.live.damage(H)}}})}}class j2 extends Sd{constructor(A,I,F={}){super(A,I,{...F,audio:Vr.SIMPLE,color:16775557})}hit(A){super.hit(A),this.scene.fx.createBloodEffect(A),this.params.damage&&A.live.damage(this.params.damage.value)}}ge.RegisterAudio(yd);class Hl extends Ft.GameObjects.Line{constructor(A,I,{color:F}){super(A),this.initiator=null,this.positionCallback=null,this.target=null,this.processingHitsCount=0,A.add.existing(this),A.addEntityToGroup(this,Xt.SHOT),this.params=I,this.processingDelay=new pn(this.scene),this.setActive(!1),this.setVisible(!1),this.setStrokeStyle(2,F,.5),this.setDepth(Hr.DEPTH_GRAPHIC),this.setOrigin(0,0)}setInitiator(A,I=null){this.initiator=A,this.positionCallback=I,A.once(Ft.GameObjects.Events.DESTROY,()=>{this.destroy()})}update(){try{this.updateLine(),this.processing()}catch(A){wt.LogWarn("Failed to update lazer shot",A)}}shoot(A){this.initiator&&(this.target=A,this.processingHitsCount=0,this.updateLine(),this.setActive(!0),this.setVisible(!0),this.scene.fx.playSound(yd.LAZER,{limit:3}))}stop(){this.target=null,this.setVisible(!1),this.setActive(!1)}updateLine(){if(!this.initiator||!this.target?.active)return;const A=this.positionCallback?.()??this.initiator,I=this.target.getHitPosition();this.setTo(A.x,A.y,I.x,I.y)}hit(){if(!this.target||!this.params.damage)return;this.scene.fx.createLazerEffect(this.target,{color:this.strokeColor});const A=this.params.damage.value/Dr.LAZER.REPEAT;this.target.live.damage(A)}processing(){if(!this.initiator||!this.processingDelay.isPast())return;if(!this.target?.active){this.stop();return}const A=this.positionCallback?.()??this.initiator,I=this.target.getHitPosition();if(Bi(A,I)>this.params.maxDistance.value){this.stop();return}this.hit(),this.processingDelay.next(Dr.LAZER.DELAY),this.processingHitsCount++,this.processingHitsCount===Dr.LAZER.REPEAT&&this.stop()}}const Z2={[Fa.DEFAULT]:j2,[Fa.FIREBOT]:Ad,[Fa.LASERBOT]:Hl},zn={TILE:{width:12,height:24,gamut:4},PATH_BREAKPOINT:40,WEAPONS:Z2,ATTACK:{SPEED:new Bt.Quadratic({defaultValue:500,growth:0}),DAMAGE:new Bt.Quadratic({defaultValue:15,growth:.62,retardationLevel:6}),PAUSE:new Bt.Quadratic({defaultValue:1e3,growth:-.15}),DISTANCE:new Bt.Quadratic({defaultValue:80,growth:.12})},UNLOCK_PER_WAVE:{[Ti.INFINITY]:10,[Ti.FLAGS]:5}},Q2={PATH_FIND_RATE:300};class Om extends Ft.Events.EventEmitter{constructor({health:A,maxHealth:I,armour:F,maxArmour:N}){super(),this.health=A,this.maxHealth=I??A,this.armour=F??0,this.maxArmour=N??F??0}get health(){return this._health}set health(A){this._health=A}get maxHealth(){return this._maxHealth}set maxHealth(A){this._maxHealth=A}get armour(){return this._armour}set armour(A){this._armour=A}get maxArmour(){return this._maxArmour}set maxArmour(A){this._maxArmour=A}destroy(){this.removeAllListeners()}damage(A){if(this.isDead())return;const I=Math.ceil(A);let F=I;this.armour>0&&(F-=this.armour,this.setArmour(this.armour-I),F<=0)||(this.setHealth(this.health-F),this.emit(ci.DAMAGE,F),this.isDead()&&this.emit(ci.DEAD))}kill(){this.isDead()||(this.health=0,this.emit(ci.DEAD),this.emit(ci.UPDATE_HEALTH,0))}heal(A){this.isMaxHealth()||A&&A<=0||(A?this.addHealth(A):this.setHealth(this.maxHealth),this.emit(ci.HEAL))}addHealth(A){A<=0||this.setHealth(this.health+A)}setHealth(A){this.isDead()||(this.health=Math.min(this.maxHealth,Math.max(0,A)),this.emit(ci.UPDATE_HEALTH,this.health))}setArmour(A){this.isDead()||(this.armour=Math.min(this.maxArmour,Math.max(0,A)))}setMaxHealth(A){this.maxHealth=Math.max(1,A),this.emit(ci.UPDATE_MAX_HEALTH,this.maxHealth)}isMaxHealth(){return this.health===this.maxHealth}setMaxArmour(A){this.maxArmour=Math.max(1,A)}isDead(){return this.health===0}}class Mm extends Ft.Physics.Arcade.Sprite{constructor(A,{texture:I,positionAtWorld:F,positionAtMatrix:N,speed:H,body:p,health:S=1,frame:t=0}){let h=null;if(F)h=F;else if(N)h=Ge.ToWorldPosition(N);else throw Error("Invalid sprite position");super(A,h.x,h.y,I,t),this.gamut=0,this.speed=0,this.currentBiome=null,this.collisionTargets=[],this.collisionHandler=null,this.collisionGround=!1,this.positionDebug=null,A.add.existing(this),A.addEntityToGroup(this,Xt.SPRITE),this.live=new Om({health:S}),this.speed=H,this.configureBody(p),this.updateDimension(),this.addContainer(),this.addIndicatorsContainer(),this.addDebugPosition(),this.live.on(ci.DAMAGE,this.onDamage.bind(this)),this.live.on(ci.DEAD,this.onDead.bind(this)),this.live.on(ci.HEAL,this.onHeal.bind(this)),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.container.destroy(),this.live.destroy()})}get container(){return this._container}set container(A){this._container=A}get positionAtMatrix(){return this._positionAtMatrix}set positionAtMatrix(A){this._positionAtMatrix=A}get positionOnGround(){return this._positionOnGround}set positionOnGround(A){this._positionOnGround=A}update(){try{this.updateDimension(),this.updateContainer(),this.updateIndicators(),this.drawDebugGroundPosition()}catch(A){wt.LogWarn("Failed to update sprite",A)}}updateDimension(){this.positionOnGround={x:this.x,y:this.y-this.getGamutOffset()},this.positionAtMatrix=Ge.ToMatrixPosition(this.positionOnGround),this.currentBiome=this.scene.level.map.getAt(this.positionAtMatrix),this.setDepth(this.positionOnGround.y)}addContainer(){this.container=this.scene.add.container(),this.updateContainer()}updateContainer(){this.container.setPosition(this.body.center.x,this.body.center.y),this.container.setDepth(this.depth),this.container.setAlpha(this.alpha),this.container.setVisible(this.visible)}configureBody(A){this.scene.physics.world.enable(this,Ft.Physics.Arcade.DYNAMIC_BODY),this.gamut=A.gamut,A.type==="rect"?this.body.setSize(A.width,A.height):A.type==="circle"&&this.body.setCircle(A.width/2),this.setOrigin(.5,1),this.setImmovable(!0),this.setPushable(!1)}isStopped(){return kn(this.body.velocity,{x:0,y:0})}getAllPositionsAtMatrix(){return this.getProjectionOnGround().map(A=>Ge.ToMatrixPosition(A))}addCollider(A,I,F){this.scene.physics.add[I](this,this.scene.getEntitiesGroup(A),(N,H)=>{try{F(H)}catch(p){wt.LogWarn(`Failed to handle sprite ${I} with ${A.toLowerCase()}`,p)}})}setTilesCollision(A,I){this.collisionTargets=A,this.collisionHandler=I}setTilesGroundCollision(A){this.collisionGround=A}handleCollide(A){const I=this.getCollidedTile(A);return this.collisionHandler&&I instanceof Ft.GameObjects.Image&&this.collisionHandler(I),!!I}getCollidedTile(A){if(this.collisionTargets.length===0&&!this.collisionGround)return!1;const I=this.collisionGround&&this.currentBiome?.friction||1,F=this.speed/I*(Hr.COLLIDE_SPEED_FACTOR*this.scene.deltaTime)*this.scene.getTimeScale(),N=this.scene.physics.velocityFromAngle(A,F);if(this.collisionGround){const H=Ge.ToMatrixPosition({x:this.positionOnGround.x+N.x,y:this.positionOnGround.y+N.y});if(!this.scene.level.map.getAt(H)?.solid)return!0}if(this.collisionTargets.length>0){const H=this.getProjectionOnGround();for(const p of H){const S=Ge.ToMatrixPosition({x:p.x+N.x,y:p.y+N.y}),t=this.scene.level.getTileWithType({...S,z:1},this.collisionTargets);if(t)return t}}return!1}getBodyOffset(){return{x:0,y:this.body?this.body.center.y-this.y:0}}getGamutOffset(){return this.gamut*this.scaleY*.5}getProjectionOnGround(){const I=this.displayWidth*.4,F=this.getGamutOffset(),N=Ft.Math.PI2/8,H=Array(8);for(let p=0;p<8;p++)H[p]={x:this.positionOnGround.x+Math.sin(p*N)*I,y:this.positionOnGround.y-Math.cos(p*N)*F};return H}addIndicatorsContainer(){this.indicators=this.scene.add.container(),this.indicators.setPosition(-this.displayWidth/2,-this.body.halfHeight-10),this.container.add(this.indicators)}addIndicator(A,I){const F=new Ll(this,{...I,size:this.displayWidth});F.setPosition(0,this.indicators.length*-5),F.setName(A),this.indicators.add(F)}getIndicator(A){return this.indicators.getByName(A)??null}updateIndicators(){this.indicators.each(A=>{A.updateValue()})}addDebugPosition(){}drawDebugGroundPosition(){if(!this.positionDebug)return;this.positionDebug.clear(),this.positionDebug.lineStyle(1,16711680),this.positionDebug.beginPath();const A=this.positionOnGround;this.positionDebug.moveTo(A.x,A.y),this.positionDebug.lineTo(A.x+10,A.y),this.positionDebug.moveTo(A.x,A.y),this.positionDebug.lineTo(A.x,A.y+10),this.positionDebug.closePath(),this.positionDebug.strokePath(),this.positionDebug.lineStyle(1,16777215),this.positionDebug.beginPath();const I=this.getProjectionOnGround(),F=[...I,I[0]];for(let N=1;N<F.length;N++)this.positionDebug.moveTo(F[N-1].x,F[N-1].y),this.positionDebug.lineTo(F[N].x,F[N].y);this.positionDebug.closePath(),this.positionDebug.strokePath()}onDamage(A){}onHeal(){this.scene.fx.createHealEffect(this)}onDead(){this.setVelocity(0),this.setActive(!1),this.container.destroy(),this.scene.tweens.add({targets:this,alpha:0,duration:250,onComplete:()=>{this.destroy()}})}}class Dm extends Mm{constructor(A,{pathFindTriggerDistance:I,seesInvisibleTarget:F,texture:N,customAnimation:H,...p}){super(A,{...p,texture:N}),this.isPathPassed=!1,this.isFollow=!0,this.pathToTarget=[],this.pathFindingTask=null,this.pathFindTriggerDistance=0,this.pathDebug=null,this.seesInvisibleTarget=!1,A.addEntityToGroup(this,Xt.NPC),this.pathFindTriggerDistance=I,this.seesInvisibleTarget=F,this.calmDelay=new pn(this.scene),this.pathFindDelay=new pn,this.addDebugPath(),H||(this.anims.create({key:"idle",frames:this.anims.generateFrameNumbers(N,{}),frameRate:4,repeat:-1,delay:Math.random()*500}),this.anims.play("idle")),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.pathFindingTask&&this.scene.level.navigator.cancelTask(this.pathFindingTask)})}update(){super.update();try{this.isFollow?this.getDistanceToTarget()<=this.pathFindTriggerDistance?(this.resetPath(),this.isPathPassed=!0):(this.findPathToTarget(),this.moveByPath(),this.isPathPassed=!1):(this.setVelocity(0,0),this.isPathPassed=!1)}catch(A){wt.LogWarn("Failed to update NPC",A)}}calm(A){this.calmDelay.next(A)}isCalm(){return!this.calmDelay.isPast()}findPathToTarget(){if(this.pathFindingTask||!this.pathFindDelay.isPast())return;this.pathFindDelay.next(Q2.PATH_FIND_RATE);const A=this.seesInvisibleTarget?this.scene.player.positionAtMatrix:this.scene.player.lastVisiblePosition;if(this.pathToTarget.length>0){const F=this.pathToTarget[this.pathToTarget.length-1];if(kn(F,A))return}const I=this.positionAtMatrix;this.pathFindingTask=this.scene.level.navigator.createTask({from:I,to:A,grid:this.scene.level.gridCollide},F=>{if(!this.active)return;const N=F[0]?.path;N?(N.shift(),this.pathToTarget=N,this.pathFindingTask=null,this.moveToTile(),this.drawDebugPath()):this.pathFindingTask=null})}getDistanceToTarget(){return Bi(this.positionOnGround,this.scene.player.positionOnGround)}moveTo(A){const I=Y2(this.positionOnGround,A),F=Ft.Math.RadToDeg(I);if(this.handleCollide(F))this.setVelocity(0,0);else{const H=this.isCalm()?this.speed*.2:this.speed,p=this.scene.physics.velocityFromRotation(I,H);this.flipX=p.x>0,this.setVelocity(p.x,p.y*he.MAP_PERSPECTIVE)}}nextPathTile(){const A=Ge.ToWorldPosition(this.pathToTarget[0]),I=Math.sign(this.body.velocity.x),F=Math.sign(this.body.velocity.y);this.positionOnGround.x*I>=A.x*I&&this.positionOnGround.y*F>=A.y*F&&this.pathToTarget.shift()}resetPath(){this.pathToTarget=[],this.pathFindingTask&&(this.scene.level.navigator.cancelTask(this.pathFindingTask),this.pathFindingTask=null)}moveByPath(){this.pathToTarget.length>0&&(this.nextPathTile(),this.moveToTile())}moveToTile(){const A=this.pathToTarget[0];if(A){const I=Ge.ToWorldPosition(A);this.moveTo(I)}}addDebugPath(){}drawDebugPath(){if(!this.pathDebug)return;this.pathDebug.clear(),this.pathDebug.lineStyle(2,14941187),this.pathDebug.beginPath();const A=[this.positionAtMatrix,...this.pathToTarget];for(let I=1;I<A.length;I++){const F=Ge.ToWorldPosition({...A[I-1]}),N=Ge.ToWorldPosition({...A[I]});this.pathDebug.moveTo(F.x,F.y),this.pathDebug.lineTo(N.x,N.y)}this.pathDebug.closePath(),this.pathDebug.strokePath()}}ge.RegisterSprites(Mr,zn.TILE);class J2 extends Dm{constructor(A,{owner:I,positionAtMatrix:F,speed:N}){super(A,{texture:Mr.DEFAULT,positionAtMatrix:F,speed:N,pathFindTriggerDistance:zn.PATH_BREAKPOINT,seesInvisibleTarget:!0,customAnimation:!0,body:{...zn.TILE,type:"circle"}}),this.instantShot=!0,A.add.existing(this),this.owner=I,this.attackPause=zn.ATTACK.PAUSE.clone(),this.attackDelay=new pn(this.scene),this.registerAnimations(),this.updateVariant(),this.handleToggleModes(),this.onWaveComplete=this.onWaveComplete.bind(this),this.onUpgrade=this.onUpgrade.bind(this),this.scene.wave.on(Fi.COMPLETE,this.onWaveComplete),this.owner.on(Te.UPGRADE_SKILL,this.onUpgrade),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.scene.wave.off(Fi.COMPLETE,this.onWaveComplete),this.owner.off(Te.UPGRADE_SKILL,this.onUpgrade)})}update(){super.update();try{this.isPathPassed&&this.setVelocity(0,0),this.isCanAttack()&&this.attack()}catch(A){wt.LogWarn("Failed to update assistant",A)}}onUpgrade(A){this.updateShotParams(A)}updateShotParams(A){const I=this.scene.player.upgradeLevel[A];switch(A){case ye.ATTACK_DAMAGE:{const F=this.shot instanceof Hl?1.5:1;this.shot.params.damage?.calculate(I,F);break}case ye.ATTACK_DISTANCE:{this.shot.params.maxDistance.calculate(I);break}case ye.ATTACK_SPEED:{this.attackPause?.calculate(I);break}}}onWaveComplete(){this.updateVariant()}isCanAttack(){return this.attackDelay.isPast()&&!this.owner.live.isDead()}attack(){const A=this.getTarget();if(!A)return;const F=this.instantShot&&this.shot instanceof Ad?200:Math.max(200,this.attackPause.value);this.shot.shoot(A),this.attackDelay.next(F),this.instantShot=!this.instantShot}getTarget(){const A=this.scene.getEntities(Xt.ENEMY).filter(I=>I.active&&I.alpha>=1?Bi(I.positionOnGround,this.positionOnGround)<=this.shot.params.maxDistance.value&&!this.scene.level.hasTilesBetweenPositions(I.positionOnGround,this.positionOnGround):!1);return md(A,this)}updateVariant(){const A=Object.values(Fa),I=zn.UNLOCK_PER_WAVE[this.scene.game.mode],F=Math.min(A.length-1,Math.floor((this.scene.wave.number-1)/I));if(this.variant===A[F])return;const N=this.variant;this.variant=A[F],N&&this.emit(pd.UNLOCK_VARIANT,this.variant),this.setWeapon(zn.WEAPONS[this.variant]),this.setTexture(Mr[this.variant]),this.anims.play(`idle.${this.texture.key}`)}setWeapon(A){this.shot&&this.shot.destroy(),this.shot=new A(this.scene,{speed:zn.ATTACK.SPEED.clone(),maxDistance:zn.ATTACK.DISTANCE.clone(),damage:zn.ATTACK.DAMAGE.clone()},{scale:.5}),this.shot.setInitiator(this,()=>this.body.center),[ye.ATTACK_DAMAGE,ye.ATTACK_DISTANCE,ye.ATTACK_SPEED].forEach(I=>{this.updateShotParams(I)})}handleToggleModes(){const A=I=>{switch(I){case Ue.ASSISTANT_FOLLOW:{this.isFollow=!this.isFollow;break}}};this.scene.events.on(Ve.TOGGLE_MODE,A),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.scene.events.off(Ve.TOGGLE_MODE,A)})}registerAnimations(){Object.values(Mr).forEach(A=>{this.anims.create({key:`idle.${A}`,frames:this.anims.generateFrameNumbers(A,{}),frameRate:4,repeat:-1,delay:Math.random()*500})})}}class q2{get maxAmount(){return this._maxAmount}set maxAmount(A){this._maxAmount=A}get amount(){return this._amount}set amount(A){this._amount=A}constructor(A,{amount:I,maxAmount:F}){this.player=A,this.amount=I,this.maxAmount=F??I,this.updateDelay=new pn}setAmount(A){this.amount=A}setMaxAmount(A){this.maxAmount=A}isTired(){return this.amount===0}update(A,I){try{const F=50/this.player.scene.getTimeScale();if(A)this.amount>0&&this.updateDelay.isPast()&&(this.amount=Math.max(0,this.amount-.6),this.updateDelay.next(F),this.amount===0&&I?.(),this.amount<this.maxAmount&&!this.player.getIndicator("stamina")&&this.player.addIndicator("stamina",{color:15197429,value:()=>this.amount/this.maxAmount,destroyIf:N=>N>=1}));else if(this.amount<this.maxAmount&&this.updateDelay.isPast()){const N=this.maxAmount*.04*Math.max(.1,this.amount/this.maxAmount);this.amount=Math.min(this.maxAmount,this.amount+N),this.updateDelay.next(F)}}catch(F){wt.LogWarn("Failed to update player stamina",F)}}}class _2{constructor(A){this.currentPath=null,this.graphicLayout=null,this.navigatorProcessing=!1,this.effectIndex=0,this.targetsCallback=null,this.player=A,this.effectDelay=new pn}setTargets(A){this.targetsCallback=A}clear(){this.currentPath=null}update(){try{this.findPath(),this.drawPath()}catch(A){wt.LogWarn("Failed to update player way",A)}}toggle(A){A?this.graphicLayout||(this.graphicLayout=this.player.scene.add.graphics()):this.graphicLayout&&(this.graphicLayout.destroy(),this.graphicLayout=null)}drawPath(){if(!this.graphicLayout||(this.graphicLayout.clear(),!this.currentPath))return;const A=4;this.effectDelay.isPast()&&(this.effectIndex++,this.effectDelay.next(1e3/this.currentPath.length)),this.effectIndex>=this.currentPath.length&&(this.effectIndex=0);for(let I=-A;I<=A;I++){const F=this.effectIndex+I;if(F>1&&F<this.currentPath.length){const N=Ge.ToWorldPosition({...this.currentPath[F-1]}),H=Ge.ToWorldPosition({...this.currentPath[F]}),p=1-Math.min(Math.abs(I/A),.9);this.graphicLayout.lineStyle(2,16777215,p*.75),this.graphicLayout.lineBetween(N.x,N.y,H.x,H.y)}}}async findPath(){if(!this.graphicLayout||this.navigatorProcessing||this.currentPath?.[0]&&kn(this.currentPath[0],this.player.positionAtMatrix))return;const A=this.targetsCallback?.();!A||A.length===0||(this.navigatorProcessing=!0,this.player.scene.level.navigator.createPool({entries:A.map(I=>I.positionAtMatrix),task:{from:this.player.positionAtMatrix,grid:this.player.scene.level.gridSolid}},I=>{let F={path:[],cost:1/0};I.forEach(({path:N,cost:H})=>{N&&H<F.cost&&(F={path:N,cost:H})}),this.currentPath=F.path.length>3?F.path:null,this.navigatorProcessing=!1}))}}class Vs{static CheckDiff(A,I,F){if(!Me.GetFlag(Ee.ANTICHEAT))return;const N=this.Memory[A];N!==void 0&&I-N>F&&wt.MarkAsCheater(),this.Memory[A]=I}static Clear(A){!Me.GetFlag(Ee.ANTICHEAT)||!this.Memory[A]||delete this.Memory[A]}}Vs.Memory={};var Ws=(L=>(L.PLAYER_SCORE="0xffffff",L.PLAYER_RESOURCES="0xeeeeee",L.WAVE_NUMBER="0xdddddd",L))(Ws||{});ge.RegisterAudio(fn);ge.RegisterSprites(Ir.PLAYER,ke.TILE);ge.RegisterImages(Ir.SUPERSKILL);ge.RegisterImages(ed);ge.RegisterImages(Dl);class Cd extends Mm{constructor(A,I){super(A,{...I,texture:Ir.PLAYER,health:ke.MAX_HEALTH.defaultValue,speed:ke.SPEED.defaultValue,body:{type:"rect",width:14,height:26,gamut:ke.TILE.gamut}}),this._experience=0,this._resources=ke.RESOURCES.DEFAULT,this._score=ke.SCORE.DEFAULT,this._kills=0,this._upgradeLevel={[ye.MAX_HEALTH]:1,[ye.SPEED]:1,[ye.STAMINA]:1,[ye.BUILD_SPEED]:1,[ye.ATTACK_DAMAGE]:1,[ye.ATTACK_DISTANCE]:1,[ye.ATTACK_SPEED]:1},this.movementTarget=null,this.movementAngle=null,this.dustEffect=null,this._unlockedSuperskills={},this._activeSuperskills={},A.add.existing(this),Vs.Clear(Ws.PLAYER_RESOURCES),Vs.Clear(Ws.PLAYER_SCORE),this.stamina=new q2(this,{amount:100}),this.scene.game.isDesktop()&&this.handleMovementByKeyboard(),this.handleToggleEffects(),this.handleTogglePathToCrystal(),this.handleKeyboard(),this.registerAnimations(),this.addWay(),this.addDustEffect(),this.addIndicator("health",{color:9895693,value:()=>this.live.health/this.live.maxHealth}),this.setTilesGroundCollision(!0),this.setTilesCollision([Xi.MAP,Xi.BUILDING,Xi.FLAG,Xi.CRYSTAL],F=>{F instanceof Im&&(F.pickup(),this.way.clear())}),this.addCollider(Xt.ENEMY,"collider",F=>{this.isInvisible()||F.attack(this)}),this.addCollider(Xt.ENEMY,"overlap",F=>{F.overlapTarget()}),this.scene.wave.on(Fi.COMPLETE,this.onWaveComplete.bind(this))}get experience(){return this._experience}set experience(A){this._experience=A}get resources(){return this._resources}set resources(A){this._resources=A}get score(){return this._score}set score(A){this._score=A}get kills(){return this._kills}set kills(A){this._kills=A}get lastVisiblePosition(){return this._lastVisiblePosition}set lastVisiblePosition(A){this._lastVisiblePosition=A}get upgradeLevel(){return this._upgradeLevel}set upgradeLevel(A){this._upgradeLevel=A}get unlockedSuperskills(){return this._unlockedSuperskills}set unlockedSuperskills(A){this._unlockedSuperskills=A}get activeSuperskills(){return this._activeSuperskills}set activeSuperskills(A){this._activeSuperskills=A}update(){super.update();try{this.way.update(),this.live.isDead()||(this.dustEffect?.emitter.setDepth(this.depth-1),this.updateMovement(),this.updateVelocity(),this.updateVisible(),this.updateStamina()),Vs.CheckDiff(Ws.PLAYER_RESOURCES,this.resources,ke.RESOURCES.DIFF_BOUND),Vs.CheckDiff(Ws.PLAYER_SCORE,this.score,ke.SCORE.DIFF_BOUND*this.scene.wave.number)}catch(A){wt.LogWarn("Failed to update player",A)}}updateVisible(){this.isInvisible()?this.alpha===1&&(this.alpha=.5):(this.lastVisiblePosition=this.positionAtMatrix,this.alpha!==1&&(this.alpha=1))}isInvisible(){return this.activeSuperskills[li.INVISIBLE]}updateStamina(){const A=this.movementAngle!==null;this.stamina.update(A,()=>{this.updateMovementAnimation(),this.scene.sound.stopByKey(fn.WALK),this.scene.fx.playSound(fn.WALK,{loop:!0,rate:1.4})})}giveScore(A){this.live.isDead()||(this.score+=A,this.emit(Te.UPDATE_SCORE,this.score))}giveExperience(A){this.live.isDead()||(this.experience+=Math.round(A/this.scene.game.getDifficultyMultiplier()),this.emit(Te.UPDATE_EXPERIENCE,this.experience))}takeExperience(A){this.experience-=A,this.emit(Te.UPDATE_EXPERIENCE,this.experience)}giveResources(A){this.live.isDead()||(this.resources+=A,this.emit(Te.UPDATE_RESOURCES,this.resources))}takeResources(A){this.resources-=A,this.emit(Te.UPDATE_RESOURCES,this.resources)}incrementKills(){this.kills++}unlockSuperskill(){const A=Object.values(li).find(I=>!this.unlockedSuperskills[I]);A&&(this.unlockedSuperskills[A]=!0,this.emit(Te.UNLOCK_SUPERSKILL,A))}getSuperskillCost(A){return ke.SUPERSKILLS.TYPES[A].cost.getValue(this.scene.wave.number)}useSuperskill(A){if(this.activeSuperskills[A]||!this.unlockedSuperskills[A])return;if(!this.scene.wave.isGoing){gt.Screen.failure();return}const I=this.getSuperskillCost(A);if(this.resources<I){gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}if(this.takeResources(I),this.scene.fx.playSound(fn.SUPERSKILL),this.scene.game.isSettingEnabled(Ei.EFFECTS)){const N=this.scene.add.image(this.positionOnGround.x,this.positionOnGround.y,Ir.SUPERSKILL);this.scene.tweens.add({targets:N,scale:{from:0,to:2},duration:500,onComplete:()=>{N.destroy()}})}const{duration:F}=ke.SUPERSKILLS.TYPES[A];this.activeSuperskills[A]=this.scene.addProgression({duration:F,frequence:F,onComplete:()=>{delete this.activeSuperskills[A],this.scene.events.emit(Te.COMPLETE_SUPERSKILL,A)}}),this.scene.events.emit(Te.USE_SUPERSKILL,A)}getExperienceToUpgrade(A){return ke.SKILLS.TYPES[A].experience.getValue(this.upgradeLevel[A])}static GetUpgradeNextValue(A,I){switch(A){case ye.MAX_HEALTH:case ye.SPEED:case ye.STAMINA:return ke[A].getValue(I);default:return I}}upgrade(A){if(this.upgradeLevel[A]===ke.SKILLS.MAX_LEVEL)return;const I=this.getExperienceToUpgrade(A);if(this.experience<I){gt.Screen.failure("NOT_ENOUGH_EXPERIENCE");return}this.setSkillUpgrade(A,this.upgradeLevel[A]+1),this.takeExperience(I),this.emit(Te.UPGRADE_SKILL,A),this.scene.fx.playSound(fn.UPGRADE)}setSkillUpgrade(A,I){const F=Cd.GetUpgradeNextValue(A,I);switch(A){case ye.MAX_HEALTH:{const N=F-this.live.maxHealth;this.live.setMaxHealth(F),this.live.addHealth(N);break}case ye.SPEED:{this.speed=F,this.scene.assistant&&(this.scene.assistant.speed=F);break}case ye.STAMINA:{this.stamina.setMaxAmount(F),this.stamina.setAmount(F);break}}this.upgradeLevel[A]=I}onDamage(A){this.scene.camera.shake(),this.scene.fx.createBloodEffect(this),this.scene.fx.playSound([fn.DAMAGE_1,fn.DAMAGE_2,fn.DAMAGE_3],{limit:1}),super.onDamage(A)}onDead(){this.setVelocity(0,0),this.stopMovement(),this.scene.tweens.add({targets:[this,this.container],alpha:0,duration:250})}onWaveComplete(A){const I=qi.EXPERIENCE.getValue(A);this.giveExperience(I),this.live.heal(),this.scene.game.mode===Ti.INFINITY&&this.giveScore(A*10),(A+1)%ke.SUPERSKILLS.UNLOCK_PER_WAVE===0&&this.unlockSuperskill()}handleMovementByKeyboard(){const A=new Set,I=(N,H)=>{H?A.add(ll[N]):A.delete(ll[N]),A.has(ai.DOWN)?A.has(ai.LEFT)?this.movementTarget=3:A.has(ai.RIGHT)?this.movementTarget=1:this.movementTarget=2:A.has(ai.UP)?A.has(ai.LEFT)?this.movementTarget=5:A.has(ai.RIGHT)?this.movementTarget=7:this.movementTarget=6:A.has(ai.LEFT)?this.movementTarget=4:A.has(ai.RIGHT)?this.movementTarget=0:this.movementTarget=null};this.scene.input.keyboard?.on(Ft.Input.Keyboard.Events.ANY_KEY_DOWN,N=>{ll[N.code]&&(I(N.code,!0),N.preventDefault(),N.stopPropagation())}),this.scene.input.keyboard?.on(Ft.Input.Keyboard.Events.ANY_KEY_UP,N=>{ll[N.code]&&(I(N.code,!1),N.preventDefault(),N.stopPropagation())});const F=()=>{this.movementTarget=null};window.addEventListener("blur",F),this.once(Ft.GameObjects.Events.DESTROY,()=>{window.removeEventListener("blur",F)})}updateVelocity(){if(this.movementAngle===null)this.setVelocity(0,0);else if(this.handleCollide(this.movementAngle))this.setVelocity(0,0);else{const I=this.currentBiome?.friction??1,F=this.stamina.isTired()?1.5:1,N=this.speed/I/F,H=this.scene.physics.velocityFromAngle(this.movementAngle,N);this.setVelocity(H.x,H.y*he.MAP_PERSPECTIVE)}}updateMovement(){this.movementTarget===null?this.stopMovement():this.movementAngle===null?this.startMovement():this.setMovementAngle()}startMovement(){this.movementTarget!==null&&(this.setMovementAngle(),this.dustEffect?.emitter.start(),this.scene.fx.playSound(fn.WALK,{loop:!0,rate:1.8}))}setMovementTarget(A){this.movementTarget=A===null?null:Math.round(A/45)%8}setMovementAngle(){this.movementTarget===null||this.movementAngle===this.movementTarget*45||(this.movementAngle=this.movementTarget*45,this.updateMovementAnimation(!0))}updateMovementAnimation(A=!1){if(this.movementTarget!==null)try{const I=this.anims.currentFrame;this.anims.play({key:`dir_${this.movementTarget}`,startFrame:A||!I?1:I.index,frameRate:this.stamina.isTired()?6:8})}catch{}}stopMovement(){this.movementAngle!==null&&(this.movementAngle=null,this.anims.currentAnim&&(this.anims.setProgress(0),this.anims.stop()),this.dustEffect?.emitter.stop(),this.scene.sound.stopByKey(fn.WALK))}addWay(){this.way=new _2(this),this.way.setTargets(()=>this.scene.game.mode===Ti.FLAGS?this.scene.getEntities(Xt.FLAG).filter(A=>!A.isCaptured):this.scene.getEntities(Xt.CRYSTAL)),this.scene.game.mode===Ti.FLAGS&&this.way.toggle(!0)}addDustEffect(){this.dustEffect||(this.dustEffect=this.scene.fx.createDustEffect(this))}removeDustEffect(){this.dustEffect&&(this.dustEffect.destroy(),this.dustEffect=null)}registerAnimations(){Array.from({length:8}).forEach((A,I)=>{this.anims.create({key:`dir_${I}`,frames:this.anims.generateFrameNumbers(Ir.PLAYER,{start:I*4,end:(I+1)*4-1}),frameRate:8,repeat:-1})})}handleKeyboard(){this.scene.game.isDesktop()&&this.scene.input.keyboard?.on(Ft.Input.Keyboard.Events.ANY_KEY_UP,A=>{const I=A.code.replace("Key","").toLowerCase(),F=ke.SUPERSKILLS.HOTKEYS.indexOf(I);F!==-1&&(this.useSuperskill(Object.values(li)[F]),A.preventDefault(),A.stopPropagation())})}handleToggleEffects(){const A=(I,F)=>{I===Ei.EFFECTS&&(F?this.addDustEffect():this.removeDustEffect())};this.scene.game.events.on(Mi.UPDATE_SETTINGS,A),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.scene.game.events.off(Mi.UPDATE_SETTINGS,A)})}handleTogglePathToCrystal(){const A=(I,F)=>{switch(I){case Ue.PATH_TO_CRYSTAL:{this.way.toggle(F);break}}};this.scene.events.on(Ve.TOGGLE_MODE,A),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.scene.events.off(Ve.TOGGLE_MODE,A)})}getSavePayload(){return{position:{...this.positionAtMatrix},score:this.score,experience:this.experience,resources:this.resources,kills:this.kills,health:this.live.health,unlockedSuperskills:{...this.unlockedSuperskills},upgradeLevel:{...this.upgradeLevel}}}loadSavePayload(A){this.score=A.score,this.experience=A.experience,this.resources=A.resources,this.kills=A.kills,this.unlockedSuperskills=A.unlockedSuperskills,Fr(A.upgradeLevel,(I,F)=>{F>1&&this.setSkillUpgrade(I,F)}),this.live.setHealth(A.health)}}const tC={BUILD_DURATION:new Bt.Quadratic({defaultValue:2500,growth:-.2,retardationLevel:5,minValue:0})};ge.RegisterAudio(yi);ge.RegisterImages(vi);ge.RegisterSprites(Wr,kt.TILE);class Rn extends Ft.GameObjects.Image{constructor(A,{positionAtMatrix:I,buildDuration:F,variant:N}){const H=Ge.ToWorldPosition(I);super(A,H.x,H.y,Wr[N]),this.tileType=Xi.BUILDING,this._upgradeLevel=1,this.radius=null,this.delay=null,this.outlineState=bn.NONE,this.alertIcon=null,this.alertTween=null,this.upgradeIcon=null,this.upgradeTween=null,this.actionsArea=null,this._isFocused=!1,this.toFocus=!1,this.isSelected=!1,this.buildTimer=null,this.buildBar=null,A.add.existing(this),A.addEntityToGroup(this,Xt.BUILDING),this.variant=N,this.positionAtMatrix=I,this.positionOnGround=H,this.radius=kt.VARIANTS[N].RADIUS??null,this.delay=kt.VARIANTS[N].DELAY??null,this.defaultHealth=kt.VARIANTS[N].HEALTH,this.live=new Om({health:this.defaultHealth.value}),this.actionDelay=new pn(this.scene),this.setDepth(H.y),this.setOrigin(.5,kt.TILE.origin),this.scene.level.putTile(this,{...I,z:1}),this.addActionArea(),this.addIndicatorsContainer(),this.addIndicator({color:9895693,size:kt.TILE.width/2,value:()=>this.live.health/this.live.maxHealth}),this.updateTileCost(),this.handlePointer(),this.handleToggleModes(),this.scene.spawner.clearCache(),F&&F>0?this.startBuildProcess(F):setTimeout(()=>{this.completeBuildProcess()},0),this.bindHotKey(Or.BUILDING_REPAIR,()=>this.repair()),this.bindHotKey(Or.BUILDING_UPGRADE,()=>this.upgrade()),this.bindHotKey(Or.BUILDING_DESTROY,()=>this.break()),this.live.on(ci.DAMAGE,this.onDamage.bind(this)),this.live.on(ci.DEAD,this.onDead.bind(this)),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.stopBuildProcess(),this.removeIndicatorsContainer(),this.removeAlertIcon(),this.removeUpgradeIcon(),this.removeActionArea(),this.unfocus(),this.unselect(),this.scene.spawner.clearCache(),this.scene.level.navigator.resetPointCost(I),this.live.destroy()})}get upgradeLevel(){return this._upgradeLevel}set upgradeLevel(A){this._upgradeLevel=A}get isFocused(){return this._isFocused}set isFocused(A){this._isFocused=A}update(){try{this.updateOutline(),this.updateIndicators(),this.scene.isModeActive(Ue.AUTO_REPAIR)&&this.handleAutorepair(),this.toFocus&&this.focus()}catch(A){wt.LogWarn("Failed building update",A)}}handleAutorepair(){this.live.health/this.live.maxHealth<=.5&&this.repair(!0)}actionsAreaContains(A){if(!this.active||!this.actionsArea)return!1;const I=this.actionsArea.getTopLeft();return this.actionsArea.geom.contains(A.x-I.x,A.y-I.y)}pauseActions(){this.delay&&this.actionDelay.next(this.getActionsDelay())}isActionAllowed(){return!this.delay||this.actionDelay.isPast()}updateTileCost(){const A=2+Number((this.live.maxHealth*kt.TILE_COST_MULTIPLIER).toFixed(1));this.scene.level.navigator.setPointCost(this.positionAtMatrix,A)}getInfo(){const A=[],I=this.getActionsDelay();return I&&A.push({label:"BUILDING_DELAY",icon:vi.DELAY,value:`${(I/1e3).toFixed(1)} s`,nextValue:this.isUpgradeAllowed()&&this.delay?`${(this.delay.getValue(this.upgradeLevel+1)/1e3).toFixed(1)} s`:void 0}),A}getControls(){const A=[];return this.isUpgradeAllowed()&&A.push({label:"BUILDING_UPGRADE",cost:this.getUpgradeCost(),disabled:this.getUpgradeAllowedByWave()>this.scene.wave.number||Yf.hasRestriction(),hotkey:"E",onClick:()=>{this.active&&this.upgrade()}}),A.push({label:"BUILDING_REPAIR",cost:this.getRepairCost(),disabled:this.live.isMaxHealth(),hotkey:"R",onClick:()=>{this.active&&this.repair()}},{label:"BUILDING_DESTROY",hotkey:"",hold:!0,onClick:()=>{this.active&&this.break()}}),A}getActionsRadius(){return this.radius?.getValue(this.upgradeLevel)??0}getActionsDelay(){return this.delay?.getValue(this.upgradeLevel)??0}getUpgradeCost(A){const I=kt.VARIANTS[this.variant].COST*kt.UPGRADE_COST_MULTIPLIER;return Math.round(I*(A??this.upgradeLevel))}getFullCost(){let A=kt.VARIANTS[this.variant].COST;for(let I=1;I<this.upgradeLevel;I++)A+=this.getUpgradeCost(I);return A}getRepairCost(){const A=1-this.live.health/this.live.maxHealth;let I=kt.VARIANTS[this.variant].COST;for(let F=1;F<this.upgradeLevel;F++)I+=this.getUpgradeCost(F);return Math.ceil(I*A*kt.REPAIR_COST_MULTIPLIER)}isUpgradeAllowed(){return this.upgradeLevel<kt.VARIANTS[this.variant].MAX_LEVEL}getUpgradeAllowedByWave(){const A=kt.VARIANTS[this.variant];return(A.MIN_WAVE_UPGRADE??A.MIN_WAVE)+this.upgradeLevel}upgrade(){if(!this.isUpgradeAllowed()||Yf.hasRestriction())return;const A=this.getUpgradeAllowedByWave();if(A>this.scene.wave.number){gt.Screen.failure("BUILDING_WILL_BE_AVAILABLE",[A]);return}const I=this.getUpgradeCost();if(this.scene.player.resources<I){gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.upgradeLevel++,this.addUpgradeIcon(),this.updateActionArea(),this.updateIndicatorsPosition(),this.upgradeHealth(),this.setFrame(this.upgradeLevel-1),this.emit(Ae.UPGRADE),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Ae.UPGRADE,this),this.scene.player.takeResources(I);const F=kt.EXPERIENCE_UPGRADE.getValue(this.upgradeLevel);this.scene.player.giveExperience(F),this.scene.fx.playSound(yi.UPGRADE)}repair(A){if(this.live.isMaxHealth()){A||gt.Screen.failure();return}const I=this.getRepairCost();if(this.scene.player.resources<I){A||gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.live.heal(),this.updateTileCost(),this.scene.player.takeResources(I),this.scene.fx.createHealEffect(this),this.scene.fx.playSound(yi.REPAIR)}upgradeHealth(){const A=this.getMaxHealth(),I=A-this.live.maxHealth;this.live.setMaxHealth(A),this.live.addHealth(I),this.updateTileCost()}getMaxHealth(){return this.defaultHealth.getValue(this.upgradeLevel)}addIndicatorsContainer(){this.indicators=this.scene.add.container(),this.updateIndicatorsPosition(),this.indicators.setDepth(Hr.DEPTH_GRAPHIC),this.indicators.setActive(!1),this.indicators.setVisible(!1)}updateIndicatorsPosition(){const A=this.getTopEdgePosition();this.indicators.setPosition(A.x-kt.TILE.width/4,A.y-3)}addIndicator(A){const I=new Ll(this,A);I.setPosition(0,this.indicators.length*-5),this.indicators.add(I)}toggleIndicators(){const A=!this.isSelected&&this.active&&this.scene.isModeActive(Ue.BUILDING_INDICATORS);this.indicators.setActive(A),this.indicators.setVisible(A)}updateIndicators(){this.indicators.visible&&this.indicators.each(A=>{A.updateValue()})}removeIndicatorsContainer(){this.indicators.destroy()}bindTutorialHint(A,I,F){let N=null;const H=()=>{(!F||F())&&(N=this.scene.showHint({side:"top",label:I,position:this.positionOnGround,unique:!0}))},p=()=>{N&&(this.scene.hideHint(N),N=null)},S=Ut.Bind(A,{beg:H,end:p});this.once(Ft.GameObjects.Events.DESTROY,()=>{p(),S()})}onDamage(){this.updateTileCost(),this.scene.fx.createDamageEffect(this),this.scene.fx.playSound([yi.DAMAGE_1,yi.DAMAGE_2],{limit:1}),this.scene.isModeActive(Ue.AUTO_REPAIR)&&this.live.health/this.live.maxHealth<=.5&&this.repair(!0)}onDead(){this.break()}focus(){this.toFocus=!0,!this.isFocused&&!this.scene.player.live.isDead()&&!this.scene.builder.isBuild&&(this.isFocused=!0)}unfocus(){this.toFocus=!1,this.isFocused=!1}getHitPosition(){return this.getTopEdgePosition()}getHitFuturePosition(A){return this.getHitPosition()}getTopEdgePosition(){const A=this.getBodyOffset();return{x:this.x+A.x,y:this.y+A.y}}getBodyOffset(){return{x:0,y:-kt.TILE.height*.5}}addAlertIcon(){if(this.alertIcon)return;const A=this.getTopEdgePosition();this.alertIcon=this.scene.add.image(A.x,A.y,vi.ALERT),this.alertIcon.setDepth(this.depth+1),this.alertTween=this.scene.tweens.add({targets:this.alertIcon,alpha:{from:1,to:0},duration:500,ease:"Linear",yoyo:!0,repeat:-1})}removeAlertIcon(){this.alertIcon&&(this.alertIcon.destroy(),this.alertIcon=null,this.alertTween?.destroy(),this.alertTween=null)}addUpgradeIcon(){this.upgradeIcon&&this.removeUpgradeIcon();const A=this.getTopEdgePosition();this.upgradeIcon=this.scene.add.image(A.x,A.y,vi.UPGRADE),this.upgradeIcon.setDepth(this.depth+1),this.upgradeTween=this.scene.tweens.add({targets:this.upgradeIcon,y:{from:A.y,to:A.y-32},alpha:{from:1,to:0},duration:500,ease:"Linear",onComplete:()=>{this.removeUpgradeIcon()}})}removeUpgradeIcon(){this.upgradeIcon&&(this.upgradeIcon.destroy(),this.upgradeIcon=null,this.upgradeTween?.destroy(),this.upgradeTween=null)}select(){this.isSelected||!this.active||this.scene.player.live.isDead()||this.scene.builder.isBuild||(this.scene.builder.selectedBuilding&&this.scene.builder.selectedBuilding.unselect(),this.scene.builder.selectedBuilding=this,this.isSelected=!0,this.toggleIndicators(),this.actionsArea&&this.actionsArea.setVisible(!0),this.scene.events.emit(Ve.SELECT_BUILDING,this))}unselect(){this.isSelected&&(this.scene.builder.selectedBuilding=null,this.isSelected=!1,this.toggleIndicators(),this.actionsArea&&this.actionsArea.setVisible(!1),this.scene.events.emit(Ve.UNSELECT_BUILDING,this))}setOutline(A){if(this.outlineState!==A){if(A===bn.NONE)this.removeShader(Es.OUTLINE);else{const I={[bn.FOCUSED]:{size:3,color:16777215},[bn.SELECTED]:{size:4,color:13696847}}[A];this.outlineState===bn.NONE?this.addShader(Es.OUTLINE,I):this.updateShader(Es.OUTLINE,I)}this.outlineState=A}}updateOutline(){let A=bn.NONE;this.isSelected?A=bn.SELECTED:this.isFocused&&(A=bn.FOCUSED),this.setOutline(A)}addActionArea(){!this.radius||this.actionsArea||(this.actionsArea=this.scene.add.ellipse(this.positionOnGround.x,this.positionOnGround.y),this.actionsArea.setFillStyle(16777215,.3),this.actionsArea.setVisible(!1),this.updateActionArea())}updateActionArea(){if(!this.actionsArea)return;const A=this.getActionsRadius()*2;this.actionsArea.setSize(A,A*he.MAP_PERSPECTIVE),this.actionsArea.updateDisplayOrigin()}removeActionArea(){this.actionsArea&&(this.actionsArea.destroy(),this.actionsArea=null)}break(){this.scene.fx.playSound(yi.DEAD),this.scene.fx.createSmokeEffect(this);const A=Math.ceil(this.getFullCost()*(this.live.health/this.live.maxHealth)*kt.BREAK_COST_MULTIPLIER);this.scene.player.giveResources(A);const I=this.scene.getEntitiesGroup(Xt.BUILDING);this.destroy(),I.emit(Ae.BREAK,this)}startBuildProcess(A){this.addBuildBar(),this.addBuildTimer(A),this.setActive(!1),this.setAlpha(.5)}completeBuildProcess(){this.stopBuildProcess(),this.setActive(!0),this.setAlpha(1),this.toggleIndicators(),this.setInteractive({pixelPerfect:!0,useHandCursor:!0}),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Ae.CREATE,this)}stopBuildProcess(){this.removeBuildBar(),this.removeBuildTimer()}addBuildTimer(A){this.buildTimer=this.scene.addProgression({duration:A,onProgress:(I,F)=>{const N=1-I/F;this.setAlpha(.5+N/2),this.buildBar?.updateValue(N)},onComplete:()=>{this.completeBuildProcess()}})}removeBuildTimer(){this.buildTimer&&(this.scene.removeProgression(this.buildTimer),this.buildTimer=null)}addBuildBar(){if(this.buildBar)return;this.buildBar=new Ll(this,{size:kt.TILE.width/2,color:16777215});const A=this.getTopEdgePosition();this.buildBar.setPosition(A.x-this.buildBar.width/2,A.y-3)}removeBuildBar(){this.buildBar&&(this.buildBar.destroy(),this.buildBar=null)}bindHotKey(A,I){if(!this.scene.game.isDesktop())return;const F=N=>{(this.isSelected||this.isFocused&&this.scene.builder.selectedBuilding===null)&&(I(),N.preventDefault(),N.stopPropagation())};this.scene.input.keyboard?.on(A,F),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.scene.input.keyboard?.off(A,F)})}handleToggleModes(){const A=I=>{switch(I){case Ue.BUILDING_INDICATORS:{this.toggleIndicators();break}}};this.scene.events.on(Ve.TOGGLE_MODE,A),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.scene.events.off(Ve.TOGGLE_MODE,A)})}handlePointer(){let A=!1;const I=p=>{p.button===0&&(this.select(),A=!0)},F=()=>{A?A=!1:this.unselect()},N=()=>{this.unfocus(),this.unselect()},H=()=>{N(),this.setActive(!1)};this.on(Ft.Input.Events.POINTER_DOWN,I),this.scene.game.isDesktop()&&(this.on(Ft.Input.Events.POINTER_OVER,this.focus,this),this.on(Ft.Input.Events.POINTER_OUT,this.unfocus,this)),this.scene.input.on(Ft.Input.Events.POINTER_DOWN,F),this.scene.game.events.on(Mi.FINISH,H),this.scene.builder.on(Cn.BUILD_START,N),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.scene.input.off(Ft.Input.Events.POINTER_DOWN,F),this.scene.game.events.off(Mi.FINISH,H),this.scene.builder.off(Cn.BUILD_START,N)})}getSavePayload(){return{variant:this.variant,position:{...this.positionAtMatrix},health:this.live.health,upgradeLevel:this.upgradeLevel}}loadSavePayload(A){A.upgradeLevel>1&&(this.upgradeLevel=Math.min(A.upgradeLevel,kt.VARIANTS[this.variant].MAX_LEVEL),this.updateIndicatorsPosition(),this.updateActionArea(),this.setFrame(this.upgradeLevel-1),this.live.setMaxHealth(this.getMaxHealth()),this.emit(Ae.UPGRADE),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Ae.UPGRADE,this)),this.live.setHealth(A.health),this.updateTileCost()}}class eC extends Rn{constructor(A,I){super(A,{...I,variant:Ht.AMMUNITION}),this.maxAmmo=0,this._ammo=0,this.maxAmmo=this.getMaxAmmo(),this.ammo=this.maxAmmo,this.addIndicator({color:16767063,size:kt.TILE.width/2,value:()=>this.ammo/this.maxAmmo}),this.bindTutorialHint(Yt.BUY_AMMO,this.scene.game.isDesktop()?"TUTORIAL_HOVER_TO_BUY_AMMO":"TUTORIAL_CLICK_TO_BUY_AMMO",()=>this.ammo===0),this.bindHotKey(Or.BUILDING_BUY_AMMO,()=>this.buyAmmo()),this.on(Ae.UPGRADE,this.onUpgrade.bind(this))}get ammo(){return this._ammo}set ammo(A){this._ammo=A}getInfo(){const A=[{label:"BUILDING_AMMO",icon:vi.AMMO,attention:this.ammo===0,value:`${this.ammo}/${this.maxAmmo}`,nextValue:this.isUpgradeAllowed()?kt.VARIANTS.AMMUNITION.DEFAULT_AMMO.getValue(this.upgradeLevel+1):void 0}];return super.getInfo().concat(A)}getControls(){const A={label:"BUILDING_BUY_AMMO",cost:this.getAmmoCost(),disabled:this.ammo>=this.maxAmmo,hotkey:"F",onClick:()=>{this.buyAmmo()}},I=super.getControls();return I.splice(-1,0,A),I}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y+=this.upgradeLevel===1?6:-4,A}use(A){const I=this.ammo<A?this.ammo:A;return this.ammo-=I,this.ammo===0&&(this.scene.isModeActive(Ue.AUTO_REPAIR)?this.buyAmmo(!0):(this.scene.fx.playSound(yi.OVER,{limit:1}),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Ae.AMMO_OVER,this)),this.ammo===0&&this.addAlertIcon()),I}getAmmoCost(){const A=this.maxAmmo-this.ammo,I=kt.VARIANTS.AMMUNITION.COST/kt.VARIANTS.AMMUNITION.MAX_AMMO*.5;return Math.ceil(I*A)}buyAmmo(A){if(this.ammo>=this.maxAmmo){A||gt.Screen.failure();return}const I=this.getAmmoCost();if(this.scene.player.resources<I){A||gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.ammo=this.maxAmmo,this.scene.player.takeResources(I),this.removeAlertIcon(),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Ae.BUY_AMMO,this),this.scene.fx.playSound(yi.RELOAD)}getMaxAmmo(){return kt.VARIANTS.AMMUNITION.DEFAULT_AMMO.getValue(this.upgradeLevel)}onUpgrade(){const A=this.getMaxAmmo(),I=A-this.maxAmmo;this.maxAmmo=A,this.ammo+=I}handleAutorepair(){this.ammo===0&&this.buyAmmo(!0),super.handleAutorepair()}getSavePayload(){return{...super.getSavePayload(),ammo:this.ammo}}loadSavePayload(A){super.loadSavePayload(A),A.ammo!==void 0&&(this.ammo=Math.min(A.ammo,this.getMaxAmmo()))}}class iC extends Rn{constructor(A,I){super(A,{...I,variant:Ht.BOOSTER}),this._power=kt.VARIANTS.BOOSTER.POWER.defaultValue,this.on(Ae.UPGRADE,this.onUpgrade.bind(this))}get power(){return this._power}set power(A){this._power=A}getInfo(){const A=[{label:"BUILDING_POWER",icon:vi.POWER,value:`+${Math.round(this.power*100)}%`,nextValue:this.isUpgradeAllowed()?`+${kt.VARIANTS.BOOSTER.POWER.getValue(this.upgradeLevel+1)*100}%`:void 0}];return super.getInfo().concat(A)}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y-=6,A}onUpgrade(){this.power=kt.VARIANTS.BOOSTER.POWER.getValue(this.upgradeLevel)}}class nC extends Rn{constructor(A,I){super(A,{...I,variant:Ht.GENERATOR})}update(){super.update();try{this.isActionAllowed()&&(this.generateResource(),this.pauseActions())}catch(A){wt.LogWarn("Failed to update generator generator",A)}}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y+=this.upgradeLevel===1?5:-4,A}generateResource(){this.scene.player.giveResources(1),this.scene.fx.createGenerationEffect(this)}}class sC extends Rn{constructor(A,I){super(A,{...I,variant:Ht.NEUTRALIZER})}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y-=this.upgradeLevel===1?2:8,A}}class rC extends Rn{constructor(A,I){super(A,{...I,variant:Ht.RADAR})}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y-=this.upgradeLevel===1?2:8,A}}class Xl extends Rn{constructor(A,I,F){super(A,I),this.shot=null,this.needReload=!1,this._power=1,this.ammo=0,this.maxAmmo=0,this.filterTarget=null,F&&(this.shot=F,this.shot.setInitiator(this,()=>this.getTopEdgePosition()),this.updateShotParams()),this.ammo=kt.VARIANTS[I.variant].AMMO??0,this.maxAmmo=this.ammo,this.handleBuildingRelease(),this.handlePlayerSuperskill(),this.calculatePower(),this.on(Ae.UPGRADE,this.onUpgrade.bind(this))}get power(){return this._power}set power(A){this._power=A}update(){super.update();try{this.isCanAttack()&&this.attack()}catch(A){wt.LogWarn("Failed to update tower building",A)}}getInfo(){const A=[];return this.shot?.params.damage&&A.push({label:"BUILDING_DAMAGE",icon:vi.DAMAGE,value:this.shot.params.damage.value,nextValue:this.isUpgradeAllowed()?this.shot.params.damage.getValue(this.upgradeLevel+1):void 0}),this.shot?.params.freeze&&A.push({label:"BUILDING_FREEZE",icon:vi.FREEZE,value:`${(this.shot.params.freeze.value/1e3).toFixed(1)} s`,nextValue:this.isUpgradeAllowed()?`${(this.shot.params.freeze.getValue(this.upgradeLevel+1)/1e3).toFixed(1)} s`:void 0}),this.shot?.params.speed&&A.push({label:"BUILDING_SPEED",icon:vi.SPEED,value:this.shot.params.speed.value,nextValue:this.isUpgradeAllowed()?this.shot.params.speed.getValue(this.upgradeLevel+1):void 0}),A.push({label:"BUILDING_AMMO",icon:vi.AMMO,attention:this.ammo===0,value:`${this.ammo}/${this.maxAmmo}`}),A.concat(super.getInfo())}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y-=5,A}isCanAttack(){return this.ammo>0&&this.isActionAllowed()}attack(){const A=this.getTargets();A.length!==0&&(this.shoot(A),this.pauseActions(),this.ammo--,this.ammo===0&&this.reload())}getAmmunition(){const A=this.scene.builder.getBuildingsByVariant(Ht.AMMUNITION).filter(F=>F.ammo>0&&F.actionsAreaContains(this.positionOnGround));return A.length===0?null:A.reduce((F,N)=>F.ammo>N.ammo?F:N)}reload(){const A=this.getAmmunition();A?(this.ammo+=A.use(this.maxAmmo-this.ammo),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Ae.RELOAD,this),this.needReload&&(this.removeAlertIcon(),this.needReload=!1,this.scene.fx.playSound(yi.RELOAD,{limit:1}))):this.needReload||(this.addAlertIcon(),this.needReload=!0,this.scene.fx.playSound(yi.OVER,{limit:1}),this.scene.getEntitiesGroup(Xt.BUILDING).emit(Ae.NEED_RELOAD,this))}getTargets(){const A=this.positionOnGround;return this.scene.getEntities(Xt.ENEMY).filter(I=>I.active&&I.alpha>=1&&(!this.filterTarget||this.filterTarget(I))?this.actionsAreaContains(I.positionOnGround)&&!this.scene.level.hasTilesBetweenPositions(I.positionOnGround,A):!1)}shoot(A){if(!this.shot)return;const I=md(A,this);I&&this.shot.shoot(I)}getBooster(){const A=this.scene.builder.getBuildingsByVariant(Ht.BOOSTER).filter(F=>F.actionsAreaContains(this.positionOnGround));return A.length===0?null:A.reduce((F,N)=>F.power>N.power?F:N)}calculatePower(){const A=this.getBooster();this.power=1+(A?.power??0),this.updateShotParams()}onUpgrade(){this.ammo=this.maxAmmo,this.needReload&&(this.removeAlertIcon(),this.needReload=!1),this.updateShotParams()}updateShotParams(){this.shot&&Fr(this.shot.params,(A,I)=>{if(I){let F=1;(A==="damage"||A==="freeze")&&(F*=this.power,A==="damage"&&this.scene.player.activeSuperskills[li.RAGE]&&(F*=2)),I.calculate(this.upgradeLevel,F)}})}handleBuildingRelease(){const A=F=>{F.variant===Ht.AMMUNITION?this.needReload&&this.reload():F.variant===Ht.BOOSTER&&this.calculatePower()},I=this.scene.getEntitiesGroup(Xt.BUILDING);I.on(Ae.CREATE,A),I.on(Ae.UPGRADE,A),I.on(Ae.BUY_AMMO,A),I.on(Ae.BREAK,A),this.once(Phaser.GameObjects.Events.DESTROY,()=>{I.off(Ae.CREATE,A),I.off(Ae.UPGRADE,A),I.off(Ae.BUY_AMMO,A),I.off(Ae.BREAK,A)})}handlePlayerSuperskill(){const A=I=>{if(this.shot)switch(I){case li.RAGE:{this.updateShotParams();break}}};this.scene.events.on(Te.USE_SUPERSKILL,A),this.scene.events.on(Te.COMPLETE_SUPERSKILL,A),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.scene.events.off(Te.USE_SUPERSKILL,A),this.scene.events.off(Te.COMPLETE_SUPERSKILL,A)})}getSavePayload(){return{...super.getSavePayload(),ammo:this.ammo}}loadSavePayload(A){super.loadSavePayload(A),A.ammo!==void 0&&(this.ammo=A.ammo)}}class aC extends Xl{constructor(A,I){super(A,{...I,variant:Ht.TOWER_ELECTRO}),this.area=null,this.addArea(),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.removeArea()})}getInfo(){return[{label:"BUILDING_DAMAGE",icon:vi.DAMAGE,value:this.getDamage(),nextValue:this.isUpgradeAllowed()?kt.VARIANTS.TOWER_ELECTRO.DAMAGE?.getValue(this.upgradeLevel+1):void 0}].concat(super.getInfo())}addArea(){this.area||(this.area=this.scene.add.ellipse(this.positionOnGround.x,this.positionOnGround.y),this.area.setFillStyle(13232093,.15),this.area.setActive(!1),this.area.setVisible(!1))}removeArea(){this.area&&(this.area.destroy(),this.area=null)}updateActionArea(){if(super.updateActionArea(),this.area){const A=this.getActionsRadius();this.area.setSize(A*2,A*2*he.MAP_PERSPECTIVE),this.area.updateDisplayOrigin()}}getDamage(){return kt.VARIANTS.TOWER_ELECTRO.DAMAGE?.getValue(this.upgradeLevel)??0}getTargets(){return this.scene.getEntities(Xt.ENEMY).filter(A=>A.active&&this.actionsAreaContains(A.positionOnGround))}shoot(A){const I=this.getDamage();A.forEach(F=>{F.active&&(this.scene.fx.createElectroEffect(F),F.live.damage(I))}),this.scene.fx.playSound(yi.ELECTRO,{limit:1}),this.area&&(this.area.setActive(!0),this.area.setVisible(!0),this.scene.tweens.add({targets:this.area,alpha:{from:1,to:0},duration:300,onComplete:()=>{this.area&&(this.area.setActive(!1),this.area.setVisible(!1),this.area.setAlpha(1))}}))}}class oC extends Xl{constructor(A,I){const{DAMAGE:F,SHOT_SPEED:N,RADIUS:H}=kt.VARIANTS.TOWER_FIRE,p=new Ad(A,{damage:F.clone(),speed:N.clone(),maxDistance:H.clone()});super(A,{...I,variant:Ht.TOWER_FIRE},p),this.bindTutorialHint(Yt.UPGRADE_BUILDING,this.scene.game.isDesktop()?"TUTORIAL_HOVER_TO_UPGRADE":"TUTORIAL_CLICK_TO_UPGRADE"),this.bindTutorialHint(Yt.RELOAD_TOWER,"TUTORIAL_RELOAD_TOWER",()=>this.ammo===0)}}class lC extends Sd{constructor(A,I,F={}){super(A,I,{...F,audio:Vr.FROZEN,color:41471,glow:!0})}hit(A){super.hit(A),this.params.freeze&&A.live.armour<=0&&A.freeze(this.params.freeze.value)}}class hC extends Xl{constructor(A,I){const{FREEZE:F,SHOT_SPEED:N,RADIUS:H}=kt.VARIANTS.TOWER_FROZEN,p=new lC(A,{freeze:F.clone(),speed:N.clone(),maxDistance:H.clone()});super(A,{...I,variant:Ht.TOWER_FROZEN},p),this.filterTarget=S=>!S.isFreezed()}}class uC extends Xl{constructor(A,I){const{DAMAGE:F,RADIUS:N}=kt.VARIANTS.TOWER_LAZER,H=new Hl(A,{damage:F.clone(),maxDistance:N.clone()},{color:11613951});super(A,{...I,variant:Ht.TOWER_LAZER},H)}}class fC extends Rn{constructor(A,I){super(A,{...I,variant:Ht.WALL})}getTopEdgePosition(){const A=super.getTopEdgePosition();return A.y+=this.upgradeLevel===1?6:-2,A}}const dC={[Ht.WALL]:fC,[Ht.TOWER_FROZEN]:hC,[Ht.TOWER_FIRE]:oC,[Ht.TOWER_LAZER]:uC,[Ht.TOWER_ELECTRO]:aC,[Ht.GENERATOR]:nC,[Ht.AMMUNITION]:eC,[Ht.BOOSTER]:iC,[Ht.NEUTRALIZER]:sC,[Ht.RADAR]:rC};class Yf extends Ft.Events.EventEmitter{constructor(A){super(),this._isBuild=!1,this.selectedBuilding=null,this.buildPreview=null,this.buildActionRadius=null,this.buildControls=null,this.buildings={},this._supposedPosition=null,this._variant=null,this.scene=A,this.handleKeyboard(),this.handlePointer(),this.handleTutorial()}get isBuild(){return this._isBuild}set isBuild(A){this._isBuild=A}get supposedPosition(){return this._supposedPosition}set supposedPosition(A){this._supposedPosition=A}get variant(){return this._variant}set variant(A){this._variant=A}destroy(){this.close(),this.removeAllListeners()}update(){try{this.isBuild&&(this.updateSupposedPosition(),this.updateBuildInstance())}catch(A){wt.LogWarn("Failed to update builder",A)}}setBuildingVariant(A){if(!(this.variant===A||!id.IsBuildingAllow(A))){if(!this.isBuildingAllowByWave(A)){gt.Screen.failure("BUILDING_WILL_BE_AVAILABLE",[kt.VARIANTS[A].MIN_WAVE]);return}if(this.isBuildingLimitReached(A)){gt.Screen.failure("BUILDING_LIMIT_REACHED",[Ot.Phrase(`BUILDING_NAME_${A}`)]);return}if(this.scene.player.resources<kt.VARIANTS[A].COST){gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.isBuild?(this.destroyBuildInstance(),this.variant=A,this.createBuildInstance()):(this.variant=A,this.open()),this.emit(Cn.BUILDING_SELECT),this.scene.fx.playSound(yi.SELECT)}}unsetBuildingVariant(){this.variant!==null&&(this.clearBuildingVariant(),this.emit(Cn.BUILDING_UNSELECT),this.scene.fx.playSound(yi.UNSELECT))}clearBuildingVariant(){this.close(),this.variant=null}addFoundation(A){const I=this.scene.level.getBiome(le.RUBBLE);if(I)for(let F=A.y-1;F<=A.y+1;F++)for(let N=A.x-1;N<=A.x+1;N++){const H=this.scene.level.map.getAt({x:N,y:F});if(H&&H.solid&&H.type!==le.RUBBLE){const p=Array.isArray(I.tileIndex)?Ft.Math.Between(...I.tileIndex):I.tileIndex;this.scene.level.groundLayer.putTileAt(p,N,F),this.scene.level.map.replaceAt({x:N,y:F},I);const S=this.scene.level.getTileWithType({x:N,y:F,z:1},Xi.SCENERY);S&&S.destroy(),this.scene.level.effectsOnGround.forEach(t=>{const h=Ge.ToMatrixPosition(t);kn(h,{x:N,y:F})&&t.destroy()})}}}isBuildingAllowByWave(A,I){const F=kt.VARIANTS[A].MIN_WAVE;return F?F<=(I??this.scene.wave.number):!0}getBuildingLimit(A){if(!kt.VARIANTS[A].LIMIT)return null;const I=kt.VARIANTS[A].MIN_WAVE,F=d1(I,this.scene.wave.number);return Math.min(F,kt.LIMITED_BOUND)}getBuildingsByVariant(A){return this.buildings[A]??[]}open(){this.isBuild||(this.isBuild=!0,this.scene.game.isDesktop()||(this.supposedPosition=this.scene.level.getFreeAdjacentTiles(this.scene.player.positionAtMatrix)[0]??this.scene.player.positionAtMatrix),this.createBuildInstance(),this.emit(Cn.BUILD_START))}close(){this.isBuild&&(this.destroyBuildInstance(),this.isBuild=!1,this.supposedPosition=null,this.emit(Cn.BUILD_STOP))}switchBuildingVariant(A){const I=Object.keys(kt.VARIANTS)[A];I&&(this.variant===I?this.unsetBuildingVariant():this.setBuildingVariant(I))}isAllowBuild(){if(!this.supposedPosition)return!1;const A=this.supposedPosition;return!(!this.scene.level.map.getAt(A)?.solid||!this.scene.level.isFreePoint({...A,z:1})||![this.scene.player,...this.scene.getEntities(Xt.ENEMY)].every(p=>p.getAllPositionsAtMatrix().every(S=>!kn(A,S))))}build(){if(!this.variant||!this.supposedPosition||!this.isAllowBuild())return;if(!this.hasTowerInArea()){gt.Screen.failure("BUILDING_NEAR_TOWER");return}if(this.isBuildingLimitReached(this.variant)){gt.Screen.failure("BUILDING_LIMIT_REACHED",[Ot.Phrase(`BUILDING_NAME_${this.variant}`)]);return}const{variant:A}=this,{COST:I}=kt.VARIANTS[A];if(this.scene.player.resources<I){gt.Screen.failure("NOT_ENOUGH_RESOURCES");return}this.createBuilding({variant:A,positionAtMatrix:this.supposedPosition,buildDuration:tC.BUILD_DURATION.getValue(this.scene.player.upgradeLevel[ye.BUILD_SPEED])}),this.scene.player.takeResources(I),this.scene.player.giveExperience(kt.EXPERIENCE_BUILD),this.scene.fx.playSound(yi.BUILD),this.scene.game.isDesktop()?this.isBuildingLimitReached(this.variant)&&this.clearBuildingVariant():this.clearBuildingVariant(),this.emit(Cn.BUILD,A)}createBuilding(A){const I=dC[A.variant],F=new I(this.scene,{buildDuration:A.buildDuration,positionAtMatrix:A.positionAtMatrix});this.addFoundation(A.positionAtMatrix);let N=this.buildings[A.variant];return N?N.push(F):(N=[F],this.buildings[A.variant]=N),F.once(Ft.GameObjects.Events.DESTROY,()=>{if(N){const H=N.indexOf(F);H!==-1&&N.splice(H,1)}}),F}isBuildingLimitReached(A){const I=this.getBuildingLimit(A);return I?this.getBuildingsByVariant(A).length>=I:!1}createBuildPreview(){this.variant&&(this.buildPreview=this.scene.add.image(0,0,Wr[this.variant]),this.buildPreview.setOrigin(.5,kt.TILE.origin),this.buildPreview.addShader(Es.OUTLINE,{size:3,color:16777215}))}createBuildActionRadius(){if(!this.variant)return;const A=kt.VARIANTS[this.variant].RADIUS?.defaultValue;if(A){const I=A*2;this.buildActionRadius=this.scene.add.ellipse(0,0,I,I*he.MAP_PERSPECTIVE),this.buildActionRadius.setFillStyle(16777215,.2)}}createBuildControls(){this.buildControls=this.scene.add.container(),this.buildControls.setDepth(Hr.DEPTH_GRAPHIC);const A=this.scene.add.image(-2,0,vi.CONFIRM);A.setInteractive(),A.setOrigin(1,.5),A.on(Ft.Input.Events.POINTER_DOWN,F=>{F.reset(),this.build()});const I=this.scene.add.image(2,0,vi.DECLINE);I.setInteractive(),I.setOrigin(0,.5),I.on(Ft.Input.Events.POINTER_DOWN,()=>{this.unsetBuildingVariant()}),this.buildControls.add([A,I])}createBuildInstance(){this.createBuildPreview(),this.createBuildActionRadius(),this.scene.game.isDesktop()||this.createBuildControls(),this.updateBuildInstance()}updateBuildInstance(){if(!this.supposedPosition||!this.variant)return;const A=Ge.ToWorldPosition(this.supposedPosition),I=A.y+1,F=this.isAllowBuild(),N=!this.hasTowerInArea();if(this.buildPreview&&(this.buildPreview.setPosition(A.x,A.y),this.buildPreview.setDepth(I),this.buildPreview.setAlpha(F?1:.25),N&&this.buildPreview.setAlpha(.5)),this.buildActionRadius&&(this.buildActionRadius.setPosition(A.x,A.y),this.buildActionRadius.setVisible(F),this.buildActionRadius.setFillStyle(N?16711680:16777215,.2)),this.buildControls){const H=this.buildControls.getAt(0);this.buildControls.setPosition(A.x,A.y+kt.TILE.height),H.setTexture(F?vi.CONFIRM:vi.CONFIRM_DISABLED)}}hasTowerInArea(){if(!Ut.IsPending(Yt.BUILD_AMMUNITION))return!0;if(!this.supposedPosition||!this.variant)return!1;const A=kt.VARIANTS[this.variant].RADIUS?.defaultValue;if(!A)return!1;const I=Ge.ToWorldPosition(this.supposedPosition);return this.getBuildingsByVariant(Ht.TOWER_FIRE).some(F=>Bi(F.positionOnGround,I)<A)}destroyBuildInstance(){this.buildPreview&&(this.buildPreview.destroy(),this.buildPreview=null),this.buildActionRadius&&(this.buildActionRadius.destroy(),this.buildActionRadius=null),this.buildControls&&(this.buildControls.destroy(),this.buildControls=null)}getCurrentPointer(){return gt.Screen.joystickActivePointer?.id===1?this.scene.input.pointer2:this.scene.input.pointer1}updateSupposedPosition(){let A;if(this.scene.game.isDesktop())A={x:this.scene.input.activePointer.worldX,y:this.scene.input.activePointer.worldY};else{if(this.scene.camera.isZooming())return;const I=this.getCurrentPointer();if(!I.active||I.event.target!==this.scene.game.canvas)return;I.updateWorldPoint(this.scene.cameras.main),A={x:I.worldX,y:I.worldY-he.MAP_TILE.height/this.scene.cameras.main.zoom}}this.supposedPosition=Ge.ToMatrixPosition(A)}static hasRestriction(){return Ut.IsEnabled&&Mf.some(A=>Ut.IsPending(A.step))}handleKeyboard(){this.scene.game.isDesktop()&&this.scene.input.keyboard?.on(Ft.Input.Keyboard.Events.ANY_KEY_UP,A=>{Number.isNaN(Number(A.key))||(this.switchBuildingVariant(Number(A.key)),A.preventDefault(),A.stopPropagation())})}handlePointer(){this.scene.game.isDesktop()&&this.scene.input.on(Ft.Input.Events.POINTER_UP,A=>{this.isBuild&&(A.button===0?this.build():A.button===2&&this.unsetBuildingVariant())})}handleTutorial(){let A=null;Ut.Bind(Yt.STOP_BUILD,{beg:()=>{A=this.scene.showHint({side:"top",label:"TUTORIAL_STOP_BUILD",position:()=>this.supposedPosition?Ge.ToWorldPosition({x:this.supposedPosition.x+1,y:this.supposedPosition.y+1}):{x:0,y:0}})},end:()=>{A&&(this.scene.hideHint(A),A=null)}}),Ut.Bind(Yt.BUILD_TOWER_FIRE,{beg:()=>{},end:()=>{this.clearBuildingVariant()}}),Mf.filter(I=>I.pause).map(I=>I.step).concat([Yt.UPGRADE_BUILDING]).forEach(I=>{Ut.Bind(I,{beg:()=>{this.scene.setTimePause(!0)},end:()=>{this.scene.setTimePause(!1)}})})}}const cC={ZOOM:{SMALL:{VALUES:[.5,1,2],DEFAULT:1},LARGE:{VALUES:[1,2],DEFAULT:1}}};class vC{constructor(A){this.zoomIndex=0,this.zoomChanged=!1,this.scene=A,this.camera=this.scene.cameras.main}shake(){this.camera.shake(100,5e-4)}focusOn(A){this.camera.resetFX(),this.camera.startFollow(A),this.camera.followOffset.set(0,A.displayHeight);const I=this.getZoomParams(),F=I.VALUES[I.DEFAULT];this.zoomIndex=I.DEFAULT,this.camera.setZoom(F*2),this.camera.zoomTo(F,200)}getZoomParams(){const A=this.scene.game.canvas.height>=700?"LARGE":"SMALL";return cC.ZOOM[A]}focusOnLevel(){const A=this.scene.level.size-1,I=Ge.ToWorldPosition({x:0,y:A},0),F=Ge.ToWorldPosition({x:A,y:0},0),N=this.getZoomParams();this.zoomIndex=N.DEFAULT,this.camera.resetFX(),this.camera.setZoom(N.VALUES[N.DEFAULT]),setTimeout(()=>{this.camera.centerOn(I.x+this.scene.game.canvas.width/2,I.y),this.camera.pan(F.x-this.scene.game.canvas.width/2,F.y,2*60*1e3)},0)}addZoomControl(){this.scene.game.isDesktop()?this.scene.input.on(Ft.Input.Events.POINTER_WHEEL,A=>{this.updateZoom(A.deltaY)}):(this.scene.input.on(Ft.Input.Events.POINTER_UP,()=>{this.zoomChanged=!1}),this.scene.input.on(Ft.Input.Events.POINTER_MOVE,()=>{if(!this.isZooming()||this.zoomChanged)return;const A=Ks({x:this.scene.input.pointer1.downX,y:this.scene.input.pointer1.downY},{x:this.scene.input.pointer2.downX,y:this.scene.input.pointer2.downY}),I=Ks(this.scene.input.pointer1.position,this.scene.input.pointer2.position);this.updateZoom(A-I)}))}isZooming(){return gt.Screen.isJoystickUsing()?!1:this.scene.input.pointer1.isDown&&this.scene.input.pointer2.isDown}updateZoom(A){const I=this.getZoomParams(),F=this.zoomIndex-Math.sign(A);F>=0&&F<I.VALUES.length&&(this.zoomIndex=F,this.zoomChanged=!0,this.camera.setZoom(I.VALUES[F]))}}var Pr=(L=>(L.BLOOD="effect/blood",L.SMOKE="effect/smoke",L.DAMAGE="effect/damage",L.EXPLOSION="effect/explosion",L))(Pr||{}),Rd=(L=>(L.EXPLOSION="effect/explosion",L))(Rd||{}),Hi=(L=>(L.BIT="effect/bit",L.BIT_SOFT="effect/bit_soft",L.GLOW="effect/glow",L.PLUS="effect/plus",L))(Hi||{});ge.RegisterAudio(Rd);ge.RegisterSprites(Pr,{width:32,height:32});class hl extends Ft.GameObjects.Sprite{constructor(A,{texture:I,position:F,staticFrame:N,depth:H,rate:p=16}){super(A,F.x,F.y,I,N??0),A.add.existing(this),H&&this.setDepth(H),N===void 0&&(this.anims.create({key:"effect",frames:this.anims.generateFrameNumbers(I,{}),frameRate:p}),this.anims.play("effect"),this.on("animationcomplete",()=>{this.destroy()}))}}ge.RegisterImages(Hi);class hn{constructor(A,{key:I,position:F,texture:N,params:H,depth:p,attach:S}){this.scene=A.scene,this.parent=A,this.key=I,this.parent.effects?this.parent.effects[this.key]&&this.parent.effects[this.key].destroy():this.parent.effects={},this.parent.effects[this.key]=this,this.emitter=this.scene.add.particles(F?.x??0,F?.y??0,N,{...H,follow:S?A:void 0}),this.emitter.setDepth(p??A.depth+1),this.destroy=this.destroy.bind(this),this.update=this.update.bind(this),this.parent.once(Phaser.GameObjects.Events.DESTROY,this.destroy),S&&p===void 0&&this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update),H.duration&&this.emitter.once(Phaser.GameObjects.Particles.Events.COMPLETE,this.destroy)}destroy(){delete this.parent.effects?.[this.key],this.emitter.destroy(),this.parent.off(Phaser.GameObjects.Events.DESTROY,this.destroy),this.scene.events.off(Phaser.Scenes.Events.UPDATE,this.update)}update(){try{this.emitter.setDepth(this.parent.depth+1)}catch(A){wt.LogWarn("Failed to update particles",A)}}}class Yn{constructor(A){this.scene=A}playSound(A,I={}){try{const F=Array.isArray(A)?A:[A];if(I.limit&&F.reduce((p,S)=>p+this.scene.sound.getAll(S).length,0)>=I.limit)return;const N=Phaser.Utils.Array.GetRandom(F);this.scene.sound.play(N,I)}catch(F){wt.LogWarn("Failed to play sound",F)}}createDustEffect(A){return this.isEffectsEnabled()?new hn(A,{key:"dust",texture:Hi.BIT,depth:0,attach:!0,params:{followOffset:{x:0,y:-A.gamut*A.scaleY*.5},lifespan:{min:150,max:300},scale:.6,speed:10,frequency:150,alpha:{start:1,end:0},emitting:!1}}):null}createBloodEffect(A){if(!A.active||!Me.GetFlag(Ee.BLOOD)||!this.isEffectsEnabled()||Yn.IsExist(A,"blood"))return null;const I=Math.min(2,A.displayWidth/22);return new hn(A,{key:"blood",texture:Hi.BIT_SOFT,attach:!0,params:{duration:250,followOffset:A.getBodyOffset(),lifespan:{min:100,max:250},scale:{start:I,end:I*.25},speed:60,maxAliveParticles:6,tint:14491166}})}createFrozeEffect(A){if(!A.active||!this.isEffectsEnabled()||Yn.IsExist(A,"froze"))return null;const I=Math.min(400,A.displayWidth*8);return new hn(A,{key:"froze",texture:Hi.BIT_SOFT,attach:!0,params:{duration:I,followOffset:A.getBodyOffset(),color:[16777215,9239039,62207],colorEase:"quad.out",lifespan:{min:I/2,max:I},scale:{start:1,end:.5},speed:80}})}createFireEffect(A){if(!A.active||!this.isEffectsEnabled()||Yn.IsExist(A,"fire"))return null;const I=A.displayWidth*6,F=Math.min(2,A.displayWidth/22);return new hn(A,{key:"fire",texture:Hi.BIT_SOFT,attach:!0,params:{duration:I,followOffset:A.getBodyOffset(),color:[16436258,16291840,16266752,10421252],colorEase:"quad.out",lifespan:{min:I/2,max:I},scale:{start:F,end:F*.2},alpha:{start:1,end:0},speed:80}})}createLongFireEffect(A,I){if(!A.active||!this.isEffectsEnabled())return null;const F=A.displayWidth*25;return new hn(A,{key:"long-fire",texture:Hi.BIT_SOFT,attach:!0,params:{followOffset:A.getBodyOffset(),duration:I.duration,color:[16436258,16291840,16266752,10421252],colorEase:"quad.out",lifespan:{min:F/2,max:F},alpha:{start:1,end:0},angle:{min:-100,max:-80},scale:{start:A.displayWidth/20,end:1,ease:"sine.out"},speed:40,advance:10}})}createLazerEffect(A,I){if(!A.active||!this.isEffectsEnabled()||Yn.IsExist(A,"lazer"))return null;const F=A instanceof Rn,N=F?A.getTopEdgePosition():void 0,H=A.displayWidth*5,p=Math.min(2.25,A.displayWidth/18);return new hn(A,{key:"lazer",texture:Hi.BIT_SOFT,attach:!F,position:N,params:{duration:H,followOffset:F?void 0:A.getBodyOffset(),lifespan:{min:H/2,max:H},scale:{start:p,end:p*.2},alpha:{start:1,end:0},speed:80,tint:I.color}})}createElectroEffect(A){if(!A.active||!this.isEffectsEnabled()||Yn.IsExist(A,"electro"))return null;const I=Math.min(500,A.displayWidth*12),F=Math.min(2.25,A.displayWidth/18);return new hn(A,{key:"electro",texture:Hi.BIT,attach:!0,params:{duration:I,followOffset:A.getBodyOffset(),lifespan:{min:I/2,max:I},scale:{start:F,end:F*.2},alpha:{start:.75,end:0},speed:120,maxParticles:6,tint:13232093}})}createGlowEffect(A,I){return!A.active||!this.isEffectsEnabled()?null:new hn(A,{key:"glow",texture:Hi.GLOW,attach:!0,params:{scale:.2*A.scale,alpha:{start:1,end:0},lifespan:2e4/I.speed,frequency:1e4/I.speed,tint:I.color,blendMode:"ADD"}})}createSpawnEffect(A){if(!this.isEffectsEnabled())return null;const I=Math.min(700,A.displayHeight*17),F=A.displayWidth/16;return new hn(A,{key:"spawn",texture:Hi.BIT_SOFT,position:{x:A.x,y:A.body.y},depth:A.depth-1,params:{duration:I,lifespan:{min:I/2,max:I},scale:{start:F,end:F/2},alpha:{start:1,end:0},speed:40,quantity:1,tint:0}})}createHealEffect(A){if(!this.isEffectsEnabled()||Yn.IsExist(A,"heal"))return null;const I=A instanceof Rn,F=I?A.getTopEdgePosition():void 0;return new hn(A,{key:"heal",texture:Hi.PLUS,attach:!I,position:F&&{x:F.x,y:F.y-12},params:{followOffset:I?void 0:{x:0,y:-A.displayHeight},duration:500,lifespan:500,alpha:{start:1,end:0},angle:{min:-110,max:-70},scale:{start:1,end:.5},speed:20,maxAliveParticles:1}})}createGenerationEffect(A){return this.isEffectsEnabled()?new hn(A,{key:"generate",texture:Hi.BIT,position:A.getTopEdgePosition(),depth:A.depth+1,params:{duration:300,lifespan:{min:100,max:200},scale:{start:1,end:.5},alpha:{start:1,end:0},speed:60,maxAliveParticles:8,tint:3014578}}):null}createExplosionEffect(A){return this.isEffectsEnabled()?new hl(this.scene,{texture:Pr.EXPLOSION,position:A.body.center,depth:A.depth+1}):null}createBloodStainEffect(A){return!this.isEffectsEnabled()||!Me.GetFlag(Ee.BLOOD)?null:new hl(this.scene,{texture:Pr.BLOOD,position:A,staticFrame:Phaser.Math.Between(0,3)})}createDamageEffect(A){if(!this.isEffectsEnabled()||Yn.IsExist(A,"damage"))return null;const I=new hl(this.scene,{texture:Pr.DAMAGE,position:A.getTopEdgePosition(),depth:A.depth+1,rate:14});return A.effects||(A.effects={}),A.effects.damage=I,I.once(Phaser.GameObjects.Events.DESTROY,()=>{A.effects&&delete A.effects.damage}),I}createSmokeEffect(A){return this.isEffectsEnabled()?new hl(this.scene,{texture:Pr.SMOKE,position:A.getTopEdgePosition(),depth:A.depth+1,rate:18}):null}isEffectsEnabled(){return this.scene.game.isSettingEnabled(Ei.EFFECTS)}static IsExist(A,I){return!!A.effects?.[I]}}const pC=rt.div`
  display: inline-block;
  background: ${xt.BLACK_TRANSPARENT_75};
  border-radius: 5px;
  padding: 6px 8px;
  transform: translate(-50%, -50%);
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 5px 6px;
  }
`,mC=({position:L,value:A,onHide:I})=>{const F=mt.useRef(null);return mt.useEffect(()=>{let N=null;const H=setTimeout(()=>{N=setInterval(()=>{const p=F.current;if(!p)return;const S=p.style.opacity?parseFloat(p.style.opacity):1;S===0?I():p.style.opacity=String(S-.05)},50)},500);return()=>{clearTimeout(H),N&&clearInterval(N)}},[]),q.createElement(Ct.RelativePosition,{x:L.x,y:L.y},q.createElement(Ct.RelativeScale,{...yt.SCALE},q.createElement(pC,{ref:F},q.createElement(Wa,{type:"RESOURCES",value:`+${A}`}))))},gC=()=>{const[L,A]=mt.useState({}),I=(N,H)=>{A(p=>({...p,[wr()]:{position:{x:N.x,y:N.y},value:H}}))},F=N=>{A(H=>{if(!H[N])return H;const p={...H};return delete p[N],p})};return mt.useEffect(()=>{const N=gt.World.getEntitiesGroup(Xt.CRYSTAL);return N.on(Rl.PICKUP,I),()=>{N.off(Rl.PICKUP,I)}},[]),Object.entries(L).map(([N,H])=>q.createElement(mC,{key:N,position:H.position,value:H.value,onHide:()=>F(N)}))},Hf=rt.div`
  letter-spacing: 1px;
  position: relative;
  z-index: 2;
  white-space: nowrap;
  font-size: 11px;
  line-height: 11px;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 13px;
    line-height: 13px;
  }
`,xC=rt.div`
  position: absolute;
  background: ${xt.ERROR_TRANSPARENT_75};
  left: 0;
  top: 0;
  bottom: 0;
`,Xf=rt.div`
  transform: scale(0.9);
  margin: 0 -2px -1px 6px;
  position: relative;
  z-index: 2;
  @media ${yt.BREAKPOINT.MOBILE} {
    transform: scale(1.25);
    margin: 0 2px -1px 6px;
  }
`,wm=rt.div`
  padding: 1px 0;
  margin: 0 8px 0 -3px;
  font-size: 9px;
  line-height: 9px;
  border: 1px solid #ffffffaa;
  background: ${xt.BLACK};
  border-radius: 2px;
  min-width: 16px;
  text-align: center;
  position: relative;
  z-index: 2;
`,EC=rt.div`
  pointer-events: all;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
  overflow: hidden;
  @media ${yt.BREAKPOINT.DESKTOP} {
    transform: translateX(-50%);
    padding: 6px 9px;
    &:first-child {
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }
    &:last-child {
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
    }
    ${L=>L.$disabled?bt`
      background: ${xt.BLACK_TRANSPARENT_50};
      ${Hf}, ${Xf}, ${wm} {
        opacity: 0.7;
      }
    `:bt`
      background: ${xt.BLACK_TRANSPARENT_75};
      &:hover {
        cursor: pointer;
        background: ${xt.BLACK};
      }
    `}
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    background: ${xt.BLACK};
    border-radius: 5px;
    padding: 14px 15px;
    ${L=>L.$disabled&&bt`
      background: ${xt.BLACK_TRANSPARENT_50};
      ${Hf}, ${Xf} {
        opacity: 0.5;
      }
    `}
  }
`,Ap=50,yC=5,TC=({label:L,onClick:A,disabled:I,hotkey:F,cost:N,hold:H})=>{const p=Ct.useMobilePlatform(),S=mt.useRef(null),t=mt.useRef(null),[h,c]=mt.useState(-1),l=()=>{t.current&&(clearInterval(t.current),t.current=null)},r=()=>{c(s=>s>=Ap?(l(),A(),-1):s>=0?s+1:s)};return Ct.useClick(S,"down",()=>{H?(c(0),t.current=setInterval(()=>{r()},yC)):A()},[A]),Ct.useClick(S,"up",()=>{t.current&&(l(),c(-1))},[]),mt.useEffect(()=>()=>{l()},[]),q.createElement(EC,{ref:S,$disabled:I},q.createElement(ne,{direction:"horizontal",align:"center"},!p&&q.createElement(wm,null,F),q.createElement(Hf,null,Ot.Phrase(L))),!!N&&q.createElement(Xf,null,q.createElement(Wa,{type:"RESOURCES",value:N})),h>0&&q.createElement(xC,{style:{width:`${h/Ap*100}%`}}))},SC=rt.div`
  display: flex;
  flex-direction: column;
  @media ${yt.BREAKPOINT.DESKTOP} {
    margin-top: 50px;
    position: absolute;
    left: 50%;
    gap: 1px;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 0 16px 14px 16px;
    gap: 5px;
  }
`,AC=({list:L})=>q.createElement(SC,null,L.map(A=>q.createElement(TC,{key:A.label,...A}))),CC=rt.div`
  margin-top: 15px;
  display: grid;
  grid-gap: 3px;
  grid-template-columns: repeat(2, 1fr);
  @media ${yt.BREAKPOINT.MOBILE} {
    grid-template-columns: 1fr;
  }
`,RC=rt.div`
  display: flex;
  align-items: center;
  background: ${xt.BLACK_TRANSPARENT_50};
  border-radius: 5px;
  overflow: hidden;
`,LC=rt.div`
  width: 32px;
  height: 32px;
  background: ${xt.BLACK_TRANSPARENT_75};
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
  flex-shrink: 0;
  [role=texture] {
    width: 15px;
    height: 15px;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    width: 40px;
    height: 40px;
  }
`,PC=rt.div`
  padding: 2px 5px;
  color: ${L=>L.$attention?Re.WARN:"#fff"};
  @media ${yt.BREAKPOINT.MOBILE} {
    padding: 4px 7px;
  }
`,IC=rt.div`
  font-size: 9px;
  line-height: 9px;
  opacity: 0.75;
  margin: -1px 0 3px 0;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 10px;
    line-height: 10px;
    margin: -2px 0 3px 0;
  }
`,OC=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  font-size: 11px;
  line-height: 11px;
  white-space: nowrap;
  @media ${yt.BREAKPOINT.MOBILE} {
    font-size: 13px;
    line-height: 13px;
  }
`,MC=rt.div`
  @media ${yt.BREAKPOINT.DESKTOP} {
    // TODO
    display: none;
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    color: ${Re.SUCCESS};
    font-family: ${ee.PIXEL_LABEL};
    font-size: 10px;
    line-height: 10px;
    white-space: nowrap;
  }
`,DC=({list:L})=>q.createElement(CC,null,L.map(A=>q.createElement(RC,{key:A.label},q.createElement(LC,null,q.createElement(Ct.Texture,{name:A.icon})),q.createElement(PC,{$attention:A.attention},q.createElement(IC,null,Ot.Phrase(A.label)),q.createElement(ne,{direction:"horizontal",align:"center",gap:4},q.createElement(OC,null,A.value),A.nextValue&&q.createElement(MC,null,""," ",A.nextValue)))))),wC=rt.div`
  @media ${yt.BREAKPOINT.DESKTOP} {
    width: 250px;
    position: absolute;
    transform: translate(-50%, -100%);
    margin-top: -15px;
    &::after {
      position: absolute;
      content: "";
      bottom: 0;
      left: 50%;
      transform: translate(-50%, 100%);
      border-left: 12px solid transparent;
      border-right: 12px solid transparent;
      border-top: 15px solid ${xt.BLACK_TRANSPARENT_50};
    }
  }
  @media ${yt.BREAKPOINT.MOBILE} {
    pointer-events: all;
    width: 200px;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    background: ${xt.BLACK_TRANSPARENT_75};
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
`,FC=rt.div`
  overflow: hidden;
  /* backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  transform: translateZ(0);
  -webkit-transform: translateZ(0); */
  @media ${yt.BREAKPOINT.DESKTOP} {
    border-radius: 10px;
  }
`,BC=rt.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 16px;
  background: ${xt.BLACK};
`,NC=rt.div`
  padding: 16px;
  @media ${yt.BREAKPOINT.DESKTOP} {
    background: ${xt.BLACK_TRANSPARENT_50};
  }
`,UC=rt.div`
  font-family: ${ee.PIXEL_LABEL};
  color: ${Re.SUCCESS};
  font-size: 14px;
  line-height: 14px;
`,kf=rt.div`
  display: flex;
  gap: 5px;
`;kf.Progress=rt.div`
  flex: 1;
  height: 12px;
  transition: all 0.2s ease-out;
  background: ${xt.BLACK};
  box-shadow: 0 6px 0 #222 inset;
  ${L=>L.$active&&bt`
    background: ${xt.SUCCESS};
    box-shadow: 0 6px 0 ${xt.WHITE_TRANSPARENT_15} inset;
  `}
`;const Ba=rt.div`
  background: ${xt.BLACK};
  position: relative;
  margin-bottom: 6px;
`;Ba.Progress=rt.div`
  height: 14px;
  background: ${xt.ERROR};
  box-shadow: 0 7px 0 ${xt.WHITE_TRANSPARENT_15} inset;
  transition: width 0.3s ease-out;
`;Ba.Value=rt.div`
  position: absolute;
  font-family: ${ee.PIXEL_LABEL};
  font-size: 10px;
  line-height: 10px;
  text-shadow: 1px 1px 0 #000;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  text-align: center;
  padding-bottom: 2px;
`;const Fm=({building:L})=>{const[A,I]=mt.useState(1),[F,N]=mt.useState(1),[H,p]=mt.useState(1),[S,t]=mt.useState([]),[h,c]=mt.useState([]),l=mt.useMemo(()=>Array.from({length:kt.VARIANTS[L.variant].MAX_LEVEL}),[L]);return Ct.useSceneUpdate(gt.World,()=>{L.active&&(I(L.upgradeLevel),N(L.live.health),p(L.live.maxHealth),t(Ct.ifModifiedArray(L.getInfo(),["value","attention"])),c(Ct.ifModifiedArray(L.getControls(),["label","cost","disabled"])))},[L]),mt.useEffect(()=>{c(L.getControls())},[L]),q.createElement(wC,null,q.createElement(FC,null,q.createElement(BC,null,q.createElement(UC,null,Ot.Phrase(`BUILDING_NAME_${L.variant}`))),q.createElement(NC,null,q.createElement(Ba,null,q.createElement(Ba.Progress,{style:{width:`${F/H*100}%`}}),q.createElement(Ba.Value,null,`${F} HP`)),q.createElement(kf,null,l.map((r,s)=>q.createElement(kf.Progress,{key:s,$active:s<A}))),S.length>0&&q.createElement(DC,{list:S}))),q.createElement(AC,{list:h}))},GC=rt.div`
  position: relative;
  height: 100%;
  z-index: ${Kn.TRANSLATOR};
`,bC=({building:L})=>{const A=Ct.useRelativeScale(yt.SCALE);return q.createElement(GC,{ref:A},q.createElement(Fm,{building:L}))},zC=()=>{const L=Ct.useMatchMedia(yt.BREAKPOINT.MOBILE),[A,I]=mt.useState(null),F=H=>{I(H)},N=()=>{I(null)};return mt.useEffect(()=>(gt.World.events.on(Ve.SELECT_BUILDING,F),gt.World.events.on(Ve.UNSELECT_BUILDING,N),()=>{gt.World.events.off(Ve.SELECT_BUILDING,F),gt.World.events.off(Ve.UNSELECT_BUILDING,N)}),[]),A&&(L?q.createElement(bC,{building:A}):q.createElement(Ct.RelativePosition,{x:A.x,y:A.getTopEdgePosition().y},q.createElement(Ct.RelativeScale,{...yt.SCALE},q.createElement(Fm,{building:A}))))},VC=rt.div`
  position: absolute;
`,WC=({label:L,side:A,position:I})=>{const[F,N]=mt.useState(I),H=mt.useRef();return Ct.useSceneUpdate(gt.World,()=>{if(typeof I=="function"){const p=I();(!H.current||!kn(p,H.current))&&(H.current=p,N(p))}},[]),q.createElement(Ct.RelativePosition,{x:F.x,y:F.y},q.createElement(VC,null,q.createElement(Ct.RelativeScale,{...yt.SCALE},q.createElement(Ya,{label:L,side:A}))))},YC=()=>{const[L,A]=mt.useState({}),I=(N,H)=>{A(p=>({...p,[N]:H}))},F=N=>{A(H=>{if(!H[N])return H;const p={...H};return delete p[N],p})};return mt.useEffect(()=>(gt.World.events.on(Ve.SHOW_HINT,I),gt.World.events.on(Ve.HIDE_HINT,F),()=>{gt.World.events.off(Ve.SHOW_HINT,I),gt.World.events.off(Ve.HIDE_HINT,F)}),[]),Object.entries(L).map(([N,H])=>q.createElement(WC,{key:N,...H}))},Bm=()=>q.createElement(q.Fragment,null,q.createElement(zC,null),q.createElement(YC,null),q.createElement(gC,null));Bm.displayName="WorldUI";var Ld=(L=>(L.ROAR="enemy/roar",L))(Ld||{}),Pl=(L=>(L.SPIKE="enemy/spike",L.RISPER="enemy/risper",L.SWOOSH="enemy/swoosh",L.CYCLOP="enemy/cyclop",L.CYCLOP_NEUTRALIZED="enemy/cyclop_neutralized",L.TRICLOP="enemy/triclop",L.TRICLOP_NEUTRALIZED="enemy/triclop_neutralized",L.DEMON="enemy/demon",L.UNDEAD="enemy/undead",L.TANK="enemy/tank",L.BOSS="enemy/boss",L.GHOST="enemy/ghost",L.TERMER="enemy/termer",L.BERSERK="enemy/berserk",L.EXPLOSIVE="enemy/explosive",L.STRANGER="enemy/stranger",L.ADHERENT="enemy/adherent",L.TELEPATH="enemy/telepath",L.HORKER="enemy/horker",L))(Pl||{}),Kt=(L=>(L.SPIKE="SPIKE",L.RISPER="RISPER",L.SWOOSH="SWOOSH",L.CYCLOP="CYCLOP",L.TRICLOP="TRICLOP",L.DEMON="DEMON",L.UNDEAD="UNDEAD",L.TANK="TANK",L.BOSS="BOSS",L.GHOST="GHOST",L.TERMER="TERMER",L.BERSERK="BERSERK",L.EXPLOSIVE="EXPLOSIVE",L.STRANGER="STRANGER",L.ADHERENT="ADHERENT",L.TELEPATH="TELEPATH",L.HORKER="HORKER",L))(Kt||{}),ze=(L=>(L.SMALL="SMALL",L.MEDIUM="MEDIUM",L.LARGE="LARGE",L))(ze||{});const HC={[Kt.ADHERENT]:{SIZE:ze.SMALL,MULTIPLIERS:{health:.7,damage:.3,speed:.9,might:.5}},[Kt.BERSERK]:{SIZE:ze.MEDIUM,REGENERATION:{PAUSE:1e3,HEALTH_MULTIPLIER:.1},SPAWN_RANGE:[16],MULTIPLIERS:{health:2,damage:1,speed:.7,might:1.7}},[Kt.BOSS]:{SIZE:ze.LARGE,SPAWN_WAVE_RATE:5,SCORE:10,ARMOUR_MIN_WAVE:25,MULTIPLIERS:{health:8,damage:1,speed:.5,might:5}},[Kt.DEMON]:{SIZE:ze.SMALL,SPAWN_RANGE:[1,5],MULTIPLIERS:{health:.6,damage:.3,speed:.8,might:.5}},[Kt.EXPLOSIVE]:{SIZE:ze.MEDIUM,EXPLOSION:{RADIUS:70,EFFECT_DURATION:1e3,EFFECT_COLOR:16711680},SPAWN_RANGE:[7],MULTIPLIERS:{health:1.2,damage:.4,speed:.5,might:1.2}},[Kt.GHOST]:{SIZE:ze.MEDIUM,SPAWN_RANGE:[8],MULTIPLIERS:{health:1.5,damage:.7,speed:.8,might:1.5}},[Kt.RISPER]:{SIZE:ze.SMALL,SPAWN_RANGE:[3,9],MULTIPLIERS:{health:.9,damage:.5,speed:1.1,might:.8}},[Kt.SWOOSH]:{SIZE:ze.MEDIUM,SPAWN_RANGE:[32],MULTIPLIERS:{health:2,damage:.7,speed:1.4,might:1.8}},[Kt.CYCLOP]:{SIZE:ze.MEDIUM,SPAWN_RANGE:[22],ATTACK:{DAMAGE:new Bt.Linear({defaultValue:60,growth:.1,maxLevel:42}),DISTANCE:new Bt.Linear({defaultValue:135,growth:0})},MULTIPLIERS:{health:2,damage:.7,speed:.9,might:2}},[Kt.TRICLOP]:{SIZE:ze.MEDIUM,SPAWN_RANGE:[27],ATTACK:{DAMAGE:new Bt.Linear({defaultValue:100,growth:.1,maxLevel:47}),DISTANCE:new Bt.Linear({defaultValue:175,growth:0})},MULTIPLIERS:{health:2,damage:.7,speed:.9,might:2.2}},[Kt.SPIKE]:{SIZE:ze.SMALL,SPAWN_RANGE:[2,7],MULTIPLIERS:{health:1.1,damage:.4,speed:.8,might:.7}},[Kt.HORKER]:{SIZE:ze.MEDIUM,SPAWN_RANGE:[37],MULTIPLIERS:{health:3,damage:1,speed:.9,might:1.6}},[Kt.STRANGER]:{SIZE:ze.MEDIUM,SPAWN_RANGE:[11],MULTIPLIERS:{health:1.5,damage:.8,speed:.7,might:1}},[Kt.TANK]:{SIZE:ze.MEDIUM,SPAWN_RANGE:[6],MULTIPLIERS:{health:1.8,damage:.6,speed:.7,might:1.5}},[Kt.TELEPATH]:{SIZE:ze.MEDIUM,REGENERATION:{RADIUS:100,EFFECT_DURATION:500,EFFECT_COLOR:7333863},SPAWN_RANGE:[13],MULTIPLIERS:{health:1.6,damage:1,speed:.8,might:1.6}},[Kt.TERMER]:{SIZE:ze.MEDIUM,SPAWN_RANGE:[18],MULTIPLIERS:{health:2.8,damage:1,speed:.8,might:1.4}},[Kt.UNDEAD]:{SIZE:ze.SMALL,SPAWN_RANGE:[4,10],MULTIPLIERS:{health:1.5,damage:.5,speed:.7,might:.9}}},He={PATH_BREAKPOINT:32,VARIANTS:HC,HEALTH:new Bt.Quadratic({defaultValue:60,growth:.35,retardationLevel:10}),ARMOUR:new Bt.Quadratic({defaultValue:60,growth:.35,retardationLevel:10}),SPEED:new Bt.Quadratic({defaultValue:65,growth:.05,maxLevel:16}),DAMAGE:new Bt.Linear({defaultValue:90,growth:.32,maxLevel:30}),EXPERIENCE_PER_KILL:new Bt.Linear({defaultValue:10,growth:.28})},Nm={[ze.SMALL]:{width:16,height:24,gamut:4},[ze.MEDIUM]:{width:32,height:40,gamut:6},[ze.LARGE]:{width:64,height:80,gamut:12}};ge.RegisterAudio(Ld);ge.RegisterSprites(Pl,L=>{const A=Object.values(Kt).find(F=>Pl[F]===L),I=A?He.VARIANTS[A].SIZE:ze.MEDIUM;return Nm[I]});class pi extends Dm{constructor(A,{variant:I,...F}){const N=Pl[I],H=He.VARIANTS[I].MULTIPLIERS;super(A,{...F,texture:N,pathFindTriggerDistance:He.PATH_BREAKPOINT,seesInvisibleTarget:!1,health:He.HEALTH.getValue(A.wave.number)*H.health*A.game.getDifficultyMultiplier(),speed:He.SPEED.getValue(A.wave.number)*H.speed,body:{...Nm[He.VARIANTS[I].SIZE],type:"circle"}}),this.damageTimer=null,this.isOverlapTarget=!1,this.damageLabel=null,this.damageLabelTween=null,this.freezeEffectTimer=null,A.addEntityToGroup(this,Xt.ENEMY),this.damage=He.DAMAGE.getValue(this.scene.wave.number)*H.damage*A.game.getDifficultyMultiplier(),this.score=He.VARIANTS[I].SCORE??1,this.might=H.might,this.addDamageLabel(),this.addIndicator("health",{color:16727357,value:()=>this.live.health/this.live.maxHealth}),this.handlePlayerSuperskill();const p=this.scene.player.activeSuperskills[li.FROST];if(p){const S=p.getRemaining();setTimeout(()=>{this.freeze(S)},0)}this.setTilesCollision([Xi.BUILDING],S=>{S instanceof Rn&&(this.scene.player.activeSuperskills[li.SHIELD]||this.attack(S))}),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.removeDamageLabel(),this.freezeEffectTimer&&this.freezeEffectTimer.destroy(),this.damageTimer&&this.scene.removeProgression(this.damageTimer)})}get damage(){return this._damage}set damage(A){this._damage=A}update(){super.update();try{this.isOverlapTarget?this.setVelocity(0,0):this.isPathPassed&&this.moveTo(this.scene.player.positionOnGround),this.isOverlapTarget=!1}catch(A){wt.LogWarn("Failed to update enemy",A)}}overlapTarget(){this.isOverlapTarget=!0}attack(A){this.isCalm()||!this.active||!A.active||(this.calm(1e3),A.live.damage(this.damage))}freeze(A){this.active&&(this.calm(A),this.scene.fx.createFrozeEffect(this),this.freezeEffectTimer?this.freezeEffectTimer.elapsed=0:(this.setTint(62207),this.freezeEffectTimer=this.scene.time.delayedCall(A,()=>{this.clearTint(),this.freezeEffectTimer=null})))}isFreezed(){return this.isCalm()&&!!this.freezeEffectTimer}addDamageLabel(){this.damageLabel=this.scene.add.text(0,0,"",{fontSize:"6px",fontFamily:ee.PIXEL_TEXT,align:"center",color:"#fff",resolution:2}),this.damageLabel.setOrigin(.5,.5),this.damageLabel.setDepth(Hr.DEPTH_GRAPHIC),this.damageLabel.setActive(!1),this.damageLabel.setVisible(!1)}updateDamageLabel(A){this.damageLabel&&(this.damageLabel.setText(Math.round(A).toString()),this.damageLabel.setPosition(this.body.center.x,this.body.center.y),this.damageLabel.setActive(!0),this.damageLabel.setVisible(!0),this.damageLabel.setAlpha(1),this.damageLabelTween?this.damageLabelTween.reset():this.damageLabelTween=this.scene.tweens.add({targets:this.damageLabel,alpha:{from:1,to:0},duration:1e3,delay:250,onComplete:()=>{this.damageLabel&&(this.active?(this.damageLabel.setActive(!1),this.damageLabel.setVisible(!1)):(this.damageLabel.destroy(),this.damageLabel=null)),this.damageLabelTween&&(this.damageLabelTween.destroy(),this.damageLabelTween=null)}}))}removeDamageLabel(){this.damageLabel&&!this.damageLabelTween&&(this.damageLabel.destroy(),this.damageLabel=null)}getHitPosition(){return this.body.center}getHitFuturePosition(A){const I=this.getHitPosition(),F=this.scene.game.loop.actualFps,N=.3**(1/F),H=1-N**(A*F),p={x:this.body.velocity.x/F*H/(1-N),y:this.body.velocity.y/F*H/(1-N)};return{x:I.x+p.x,y:I.y+p.y}}onDamage(A){this.scene.game.isSettingEnabled(Ei.EFFECTS)&&this.scene.game.isDesktop()&&this.updateDamageLabel(A),super.onDamage(A)}onDead(){const A=He.EXPERIENCE_PER_KILL.getValue(this.scene.wave.number)*this.might;this.scene.player.giveExperience(A),this.scene.player.giveScore(this.score),this.scene.player.incrementKills(),this.addBloodEffect(),super.onDead()}addOngoingDamage(A,I){this.damageTimer=this.scene.addProgression({duration:I,onProgress:(F,N)=>{this.live.damage(A/N)},onComplete:()=>{this.damageTimer=null}})}addBloodEffect(){if(!this.currentBiome?.solid)return;const A=this.scene.fx.createBloodStainEffect(this.positionOnGround);A&&(A.setAlpha(.8),this.scene.level.effectsOnGround.push(A))}handlePlayerSuperskill(){const A=I=>{const F=this.scene.player.activeSuperskills[I];if(!F)return;const N=F.getRemaining();switch(I){case li.FROST:{this.freeze(N);break}case li.FIRE:{const H=He.HEALTH.getValue(this.scene.wave.number)*(ke.SUPERSKILLS.TYPES[I].force??1);this.scene.fx.createLongFireEffect(this,{duration:N}),this.addOngoingDamage(H,N);break}}};this.scene.events.on(Te.USE_SUPERSKILL,A),this.once(Ft.GameObjects.Events.DESTROY,()=>{this.scene.events.off(Te.USE_SUPERSKILL,A)})}}class XC extends pi{constructor(A,I){super(A,{...I,variant:Kt.ADHERENT})}}const Cp=He.VARIANTS.BERSERK;class kC extends pi{constructor(A,I){super(A,{...I,variant:Kt.BERSERK}),this.healAmount=0,this.healAmount=Math.ceil(this.live.maxHealth*Cp.REGENERATION.HEALTH_MULTIPLIER),this.healDelay=new pn(this.scene)}update(){super.update();try{this.heal()}catch(A){wt.LogWarn("Failed to update berserk enemy",A)}}heal(){!this.live.isMaxHealth()&&this.healDelay.isPast()&&(this.live.heal(this.healAmount),this.healDelay.next(Cp.REGENERATION.PAUSE))}}const Rp=He.VARIANTS.BOSS;class KC extends pi{constructor(A,I){if(super(A,{...I,variant:Kt.BOSS}),this.scene.wave.number>=Rp.ARMOUR_MIN_WAVE){const F=He.ARMOUR.getValue(this.scene.wave.number)*Rp.MULTIPLIERS.health*A.game.getDifficultyMultiplier();this.live.setMaxArmour(F),this.live.setArmour(F),this.addIndicator("armour",{color:54527,value:()=>this.live.armour/this.live.maxArmour,destroyIf:N=>N===0})}}onDead(){this.scene.fx.playSound(Ld.ROAR),super.onDead()}}class Um extends pi{constructor(A,I){super(A,I),this.target=null,this.shot=new Hl(this.scene,{maxDistance:I.distance.clone(),damage:I.damage.clone()},{color:6876664}),this.shot.params.damage?.calculate(this.scene.wave.number),this.shot.setInitiator(this,()=>this.getShootPosition()),this.anims.create({key:"idle_neutralized",frames:this.anims.generateFrameNumbers(`${this.texture.key}_neutralized`,{}),frameRate:4,repeat:-1})}update(){super.update();try{this.isNeutralized()?this.anims.currentAnim?.key==="idle"&&this.anims.play("idle_neutralized"):(this.anims.currentAnim?.key==="idle_neutralized"&&this.anims.play("idle"),this.shot.active||this.shoot())}catch(A){wt.LogWarn("Failed to update enemy with laser",A)}}shoot(){(!this.target?.active||Bi(this.getShootPosition(),this.target.getHitPosition())>this.shot.params.maxDistance.value)&&(this.target=this.getTarget()),this.target&&this.shot.shoot(this.target)}getShootPosition(){return{x:this.x,y:this.y-this.displayHeight+5}}getTarget(){const A=this.scene.getEntities(Xt.BUILDING).filter(I=>I.active?Bi(I.positionOnGround,this.positionOnGround)<=this.shot.params.maxDistance.value&&!this.scene.level.hasTilesBetweenPositions(I.positionOnGround,this.positionOnGround):!1);return md(A,this)}isNeutralized(){return this.scene.builder.getBuildingsByVariant(Ht.NEUTRALIZER).some(A=>A.actionsAreaContains(this))}}const Lp=He.VARIANTS.CYCLOP;class $C extends Um{constructor(A,I){super(A,{...I,variant:Kt.CYCLOP,damage:Lp.ATTACK.DAMAGE,distance:Lp.ATTACK.DISTANCE})}}class jC extends pi{constructor(A,I){super(A,{...I,variant:Kt.DEMON})}}const Pa=He.VARIANTS.EXPLOSIVE;class ZC extends pi{constructor(A,I){super(A,{...I,variant:Kt.EXPLOSIVE})}onDead(){this.createExplosion(),super.onDead()}createExplosion(){const A=Pa.EXPLOSION.RADIUS*2,I=this.scene.add.ellipse(this.positionOnGround.x,this.positionOnGround.y,A,A*he.MAP_PERSPECTIVE);I.setFillStyle(Pa.EXPLOSION.EFFECT_COLOR,.25),this.scene.tweens.add({targets:I,alpha:0,duration:Pa.EXPLOSION.EFFECT_DURATION,onComplete:()=>{I.destroy()}}),this.scene.fx.createExplosionEffect(this),this.scene.fx.playSound(Rd.EXPLOSION);let F=[this.scene.player];F=F.concat(this.scene.getEntities(Xt.ENEMY)),F=F.concat(this.scene.getEntities(Xt.BUILDING)),F.forEach(N=>{if(N.active&&N!==this){const H=Bi(this.positionOnGround,N.positionOnGround);if(H<=Pa.EXPLOSION.RADIUS){const p=Math.min(1,.5+(1-H/Pa.EXPLOSION.RADIUS));N.live.damage(this.damage*p)}}})}}class QC extends pi{constructor(A,I){super(A,{...I,variant:Kt.GHOST}),this.setAlpha(.5)}update(){super.update();try{this.updateVisible()}catch(A){wt.LogWarn("Failed to update ghost enemy",A)}}updateVisible(){const A=this.scene.builder.getBuildingsByVariant(Ht.RADAR).some(I=>I.actionsAreaContains(this));this.setAlpha(A?1:.5)}}class JC extends pi{constructor(A,I){super(A,{...I,variant:Kt.HORKER})}}class qC extends pi{constructor(A,I){super(A,{...I,variant:Kt.RISPER})}}class _C extends pi{constructor(A,I){super(A,{...I,variant:Kt.SPIKE})}}class tR extends pi{constructor(A,I){super(A,{...I,variant:Kt.STRANGER})}onDead(){this.spawnAdherents(),super.onDead()}spawnAdherents(){const A=Gm[Kt.ADHERENT];[{x:0,y:-10},{x:5,y:5},{x:-5,y:5}].forEach(F=>{new A(this.scene,{positionAtWorld:{x:this.x+F.x,y:this.y+F.y}})})}}class eR extends pi{constructor(A,I){super(A,{...I,variant:Kt.SWOOSH})}}class iR extends pi{constructor(A,I){super(A,{...I,variant:Kt.TANK});const F=He.ARMOUR.getValue(this.scene.wave.number)*A.game.getDifficultyMultiplier();this.live.setMaxArmour(F),this.live.setArmour(F),this.addIndicator("armour",{color:54527,value:()=>this.live.armour/this.live.maxArmour,destroyIf:N=>N===0})}}const ul=He.VARIANTS.TELEPATH;class Pd extends pi{constructor(A,I){super(A,{...I,variant:Kt.TELEPATH}),this.regenerateTimer=null,this.addArea(),this.once(Phaser.GameObjects.Events.DESTROY,()=>{this.removeArea(),this.regenerateTimer&&this.scene.removeProgression(this.regenerateTimer)})}update(){super.update();try{this.updateArea()}catch(A){wt.LogWarn("Failed to update telepath enemy",A)}}updateArea(){this.regenerateArea.visible&&this.regenerateArea.setPosition(this.positionOnGround.x,this.positionOnGround.y)}onDamage(A){this.healNearbyEnemies(A),super.onDamage(A)}healNearbyEnemies(A){const I=[];this.scene.getEntities(Xt.ENEMY).forEach(F=>{!(F instanceof Pd)&&!F.live.isMaxHealth()&&Bi(this.positionOnGround,F.positionOnGround)<=ul.REGENERATION.RADIUS&&I.push(F)}),I.length>0&&(this.regenerateTimer?this.scene.removeProgression(this.regenerateTimer):this.regenerateArea.setVisible(!0),this.regenerateTimer=this.scene.addProgression({duration:ul.REGENERATION.EFFECT_DURATION,onComplete:()=>{this.regenerateTimer=null,this.regenerateArea.setVisible(!1)}}),I.forEach(F=>{const N=Math.floor(A/I.length);F.live.heal(N)}))}addArea(){const A=ul.REGENERATION.RADIUS*2;this.regenerateArea=this.scene.add.ellipse(0,0,A,A*he.MAP_PERSPECTIVE),this.regenerateArea.setVisible(!1),this.regenerateArea.setFillStyle(ul.REGENERATION.EFFECT_COLOR,.33)}removeArea(){this.regenerateArea.destroy()}}class nR extends pi{constructor(A,I){super(A,{...I,variant:Kt.TERMER})}}const Pp=He.VARIANTS.TRICLOP;class sR extends Um{constructor(A,I){super(A,{...I,variant:Kt.TRICLOP,damage:Pp.ATTACK.DAMAGE,distance:Pp.ATTACK.DISTANCE})}}class rR extends pi{constructor(A,I){super(A,{...I,variant:Kt.UNDEAD})}}const Gm={[Kt.ADHERENT]:XC,[Kt.BERSERK]:kC,[Kt.BOSS]:KC,[Kt.DEMON]:jC,[Kt.EXPLOSIVE]:ZC,[Kt.GHOST]:QC,[Kt.RISPER]:qC,[Kt.SPIKE]:_C,[Kt.STRANGER]:tR,[Kt.TANK]:iR,[Kt.TELEPATH]:Pd,[Kt.TERMER]:nR,[Kt.UNDEAD]:rR,[Kt.SWOOSH]:eR,[Kt.HORKER]:JC,[Kt.CYCLOP]:$C,[Kt.TRICLOP]:sR},un={CACHE_RESET_DISTANCE:6,COST_FACTOR:1.3,POSITIONS_INPUT_LIMIT:64,POSITIONS_OUTPUT_LIMIT:[4,12],POSITIONS_GRID:4,DISTANCE_FROM_PLAYER:[8,32],DISTANCE_FROM_FLAG:10,DISTANCE_FROM_BUILDING:8,SPAWN_CALM_DURATION:750};class aR{constructor(A){this.positions=[],this.positionsAnalog=[],this.tasks=[],this.scene=A,this.positionsAnalog=[],this.tasks=[],this.clearCache(),this.generatePositions()}async createEnemy(A){const I=Gm[A],F=await this.getSpawnPosition(),N=new I(this.scene,{positionAtMatrix:F});this.addSpawnEffect(N)}clearCache(){this.cache={target:null,positions:[]}}getCachedPositions(){return this.cache.target&&this.cache.positions.length>0&&Bi(this.cache.target,this.scene.player.lastVisiblePosition)<un.CACHE_RESET_DISTANCE?this.cache.positions:null}cachePositions(A){this.cache={target:this.scene.player.lastVisiblePosition,positions:A}}async getSpawnPosition(){const A=await this.getSpawnPositions();return Phaser.Utils.Array.GetRandom(A)}async getSpawnPositions(){const A=this.getCachedPositions();if(A)return A;const I=this.getFreePositionsMeta(),F=this.getPositionsLimit();if(I.length===0)return this.getAnalogPositions().slice(0,F);const N=await this.getPositionsWithOptimalCost(I,F);return N.length===0?this.getAnalogPositions().slice(0,F):(this.cachePositions(N),N)}getAnalogPositions(){return this.positionsAnalog.length===0&&this.generateAnalogSpawnPositions(),H2(this.positionsAnalog,this.scene.player.lastVisiblePosition)}getFreePositionsMeta(){const A=this.scene.getCapturedFlags(),I=this.scene.getEntities(Xt.BUILDING),F=this.getSpawnDistanceFromPlayer();return this.positions.map(H=>({position:H,distance:Ks(H,this.scene.player.lastVisiblePosition)})).filter(({position:H,distance:p})=>p>=F&&I.every(S=>Ks(H,S.positionAtMatrix)>=un.DISTANCE_FROM_BUILDING)&&A.every(S=>Ks(H,S.positionAtMatrix)>=un.DISTANCE_FROM_FLAG)).sort((H,p)=>H.distance-p.distance).slice(0,un.POSITIONS_INPUT_LIMIT)}getPositionsLimit(){const A=this.scene.wave.number-1;return Math.min(un.POSITIONS_OUTPUT_LIMIT[0]+A,un.POSITIONS_OUTPUT_LIMIT[1])}getSpawnDistanceFromPlayer(){const A=(this.scene.wave.number-1)*2;return Math.min(un.DISTANCE_FROM_PLAYER[0]+A,un.DISTANCE_FROM_PLAYER[1])}async getPositionsWithOptimalCost(A,I){let F=await new Promise(N=>{let H=0;const p=[];A.forEach(S=>{const t=this.scene.level.navigator.createTask({from:S.position,to:this.scene.player.lastVisiblePosition,grid:this.scene.level.gridCollide,ignoreCosts:!0},h=>{this.completeTask(t);const{path:c,cost:l}=h[0]??{};c?(p.push({position:S.position,cost:l}),l/S.distance<=un.COST_FACTOR&&(H++,H===I&&this.cancelTasks())):Pm(this.positions,S.position),this.tasks.length===0&&N(p)});this.tasks.push(t)})});return F.length>I&&(F=F.sort((N,H)=>N.cost-H.cost).slice(0,I)),F.map(N=>N.position)}generatePositions(){this.positions=this.scene.level.readSpawnPositions(qt.ENEMY,un.POSITIONS_GRID)}generateAnalogSpawnPositions(){this.positionsAnalog=[];for(let A=0;A<this.scene.level.map.width;A++)for(let I=0;I<this.scene.level.map.height;I++)(A===0||A===this.scene.level.map.width-1||I===0||I===this.scene.level.map.height-1)&&this.positionsAnalog.push({x:A,y:I})}completeTask(A){const I=this.tasks.indexOf(A);I!==-1&&this.tasks.splice(I,1)}cancelTasks(){this.tasks.forEach(A=>{this.scene.level.navigator.cancelTask(A)}),this.tasks=[]}addSpawnEffect(A){A.calm(un.SPAWN_CALM_DURATION),this.scene.fx.createSpawnEffect(A);let I=null;const F=()=>{I&&(I.destroy(),I=null)};A.once(Phaser.GameObjects.Events.DESTROY,F);const N=A.alpha;A.container.setAlpha(0),A.setAlpha(0),I=this.scene.tweens.add({targets:A,alpha:N,duration:750,onComplete:()=>{F(),A.off(Phaser.GameObjects.Events.DESTROY,F),A.container.setAlpha(A.alpha)}})}}ge.RegisterAudio(Cr);class oR extends Ft.Events.EventEmitter{constructor(A){super(),this._isGoing=!1,this._isPeaceMode=!1,this._number=1,this.spawnedEnemiesCount=0,this.enemiesMaxCount=0,this.lastSpawnedEnemyVariant=null,this.alarmInterval=null,this.scene=A,this.waveStartDelay=new pn(this.scene),this.enemySpawnDelay=new pn(this.scene),Vs.Clear(Ws.WAVE_NUMBER),this.handleToggleTimeScale()}get isGoing(){return this._isGoing}set isGoing(A){this._isGoing=A}get isPeaceMode(){return this._isPeaceMode}set isPeaceMode(A){this._isPeaceMode=A}get number(){return this._number}set number(A){this._number=A}destroy(){this.removeAllListeners()}getTimeleft(){return this.waveStartDelay.getLeft()}update(){try{this.handleTimeleft(),this.handleProcessing(),Vs.CheckDiff(Ws.WAVE_NUMBER,this.number,1)}catch(A){wt.LogWarn("Failed to update wave",A)}}handleProcessing(){this.isGoing&&(this.spawnedEnemiesCount<this.enemiesMaxCount?this.enemySpawnDelay.isPast()&&this.isNormalPowerload()&&this.spawnEnemy():this.scene.getEntitiesGroup(Xt.ENEMY).getTotalUsed()===0&&this.complete())}handleTimeleft(){if(this.isGoing||this.isPeaceMode)return;const A=this.getTimeleft();A<=0?this.start():A<=qi.TIMELEFT.ALARM&&!this.scene.isTimePaused()&&!this.alarmInterval&&this.runAlarmCountdown()}runAlarmCountdown(){this.scene.fx.playSound(Cr.TICK),this.alarmInterval=this.scene.addProgression({duration:qi.TIMELEFT.ALARM,frequence:1e3,onProgress:()=>{this.scene.fx.playSound(Cr.TICK)},onComplete:()=>{this.alarmInterval=null}})}isNormalPowerload(){const A=this.getSpawnedEnemiesCount();return A<qi.ENEMIES.SPAWN.POWERLOAD.TRIGGER||A/this.enemiesMaxCount<=qi.ENEMIES.SPAWN.POWERLOAD.MAX}getSpawnedEnemiesCount(){return this.scene.getEntitiesGroup(Xt.ENEMY).getTotalUsed()}getEnemiesLeft(){const A=this.spawnedEnemiesCount-this.getSpawnedEnemiesCount();return this.enemiesMaxCount-A}skipTimeleft(){if(this.isGoing||this.scene.isTimePaused())return;const A=this.getTimeleft();this.scene.skipTime(A),this.emit(Fi.SKIP_TIMELEFT)}runTimeleft(){const A=this.number===1&&Ut.IsEnabled?qi.TIMELEFT.ALARM:qi.TIMELEFT[this.scene.game.mode].getValue(this.number);this.waveStartDelay.next(A)}start(){this.isGoing=!0,this.enemySpawnDelay.reset(),this.spawnedEnemiesCount=0,this.enemiesMaxCount=qi.ENEMIES.COUNT.getValue(this.number),this.alarmInterval&&(this.scene.removeProgression(this.alarmInterval),this.alarmInterval=null),this.scene.isModeActive(Ue.TIME_SCALE)&&this.scene.setTimeScale(qi.INCREASED_TIME_SCALE),this.emit(Fi.START,this.number),this.scene.fx.playSound(Cr.START)}complete(){const A=this.number;this.isGoing=!1,this.number++,this.scene.setTimeScale(1),this.scene.level.looseEffects(),this.runTimeleft(),this.emit(Fi.COMPLETE,A),this.scene.fx.playSound(Cr.COMPLETE),this.scene.game.triesCount=0,this.scene.game.saveGame(),wt.TrackWaveComplete(this.scene),wt.ShowAds(Di.MIDGAME)}spawnEnemy(){const A=this.getEnemyVariant();A&&(this.enemySpawnDelay.next(qi.ENEMIES.SPAWN.RATE),this.spawnedEnemiesCount++,this.scene.spawner.createEnemy(A))}getEnemyVariant(){if(this.number%He.VARIANTS.BOSS.SPAWN_WAVE_RATE===0&&this.spawnedEnemiesCount<Math.ceil(this.number/He.VARIANTS.BOSS.SPAWN_WAVE_RATE))return Kt.BOSS;const A=[];return Fr(He.VARIANTS,(I,F)=>{if(F.SPAWN_RANGE&&I!==this.lastSpawnedEnemyVariant){const[N,H]=F.SPAWN_RANGE;this.number>=N&&(!H||this.number<=H)&&A.push(I)}}),A.length>0&&(this.lastSpawnedEnemyVariant=Ft.Utils.Array.GetRandom(A)),this.lastSpawnedEnemyVariant}handleToggleTimeScale(){const A=(I,F)=>{I===Ue.TIME_SCALE&&this.isGoing&&this.scene.setTimeScale(F?qi.INCREASED_TIME_SCALE:1)};this.scene.events.on(Ve.TOGGLE_MODE,A),this.scene.events.on(Ft.Scenes.Events.SHUTDOWN,()=>{this.scene.events.off(Ve.TOGGLE_MODE,A)})}getSavePayload(){return{number:this.number,timeleft:this.getTimeleft()}}loadSavePayload(A){this.number=A.number,this.waveStartDelay.next(A.timeleft)}}ge.RegisterImages(td);class lR extends ba{constructor(){super(Ne.WORLD),this._deltaTime=1,this.timers=[],this.modes={[Ue.TIME_SCALE]:!1,[Ue.BUILDING_INDICATORS]:!1,[Ue.AUTO_REPAIR]:!1,[Ue.PATH_TO_CRYSTAL]:!1,[Ue.ASSISTANT_FOLLOW]:!1},gt.World=this}get player(){return this._player}set player(A){this._player=A}get assistant(){return this._assistant}set assistant(A){this._assistant=A}get level(){return this._level}set level(A){this._level=A}get wave(){return this._wave}set wave(A){this._wave=A}get builder(){return this._builder}set builder(A){this._builder=A}get spawner(){return this._spawner}set spawner(A){this._spawner=A}get fx(){return this._fx}set fx(A){this._fx=A}get camera(){return this._camera}set camera(A){this._camera=A}get deltaTime(){return this._deltaTime}set deltaTime(A){this._deltaTime=A}create(A){this.input.setPollAlways(),this.level=new Ge(this,A),this.fx=new Yn(this),this.camera=new vC(this),this.spawner=new aR(this),this.timers=[],this.modes={[Ue.TIME_SCALE]:!1,[Ue.BUILDING_INDICATORS]:!1,[Ue.AUTO_REPAIR]:!1,[Ue.PATH_TO_CRYSTAL]:!1,[Ue.ASSISTANT_FOLLOW]:!1},this.addEntityGroups()}start(){new Ct.Interface(this).render(Bm),this.addLifecycle(),this.camera.addZoomControl(),this.addWaveManager(),this.addBuilder(),this.addPlayer(),this.addAssistant(),this.addCrystals(),this.game.mode===Ti.FLAGS&&this.addFlags(),this.game.usedSave?.payload.world&&this.loadSavePayload(this.game.usedSave.payload.world),id.Bind(this)}update(A,I){if(this.game.state===me.STARTED)try{this.deltaTime=I,this.builder.update(),this.wave.update()}catch(F){wt.LogWarn("Failed to update world",F)}}showHint(A){const I=A.unique?f1(A.label):wr();return this.events.emit(Ve.SHOW_HINT,I,A),I}hideHint(A){this.events.emit(Ve.HIDE_HINT,A)}getTime(){return Math.floor(this.lifecyle.getElapsed())}isTimePaused(){return this.lifecyle.paused}setTimePause(A){this.lifecyle.paused=A}getTimeScale(){return this.lifecyle.timeScale}setTimeScale(A){this.physics.world.timeScale=1/A,this.timers.forEach(I=>{I.timeScale=A})}skipTime(A){this.timers.forEach(F=>{F.elapsed+=A});const I=Math.floor(this.getResourceExtractionSpeed()*(A/1e3));this.player.giveResources(I)}addProgression(A){const I=A.frequence??50,F=Math.ceil(A.duration/I),N=this.time.addEvent({timeScale:this.getTimeScale(),delay:I,repeat:F,callback:()=>{const H=N.getRepeatCount()-1;A.onProgress&&A.onProgress?.(H,F),H<=0&&(A.onComplete(),this.removeProgression(N))}});return this.timers.push(N),N}removeProgression(A){const I=this.timers.indexOf(A);I!==-1&&(A.destroy(),this.timers.splice(I,1))}setModeActive(A,I){this.modes[A]=I,this.events.emit(Ve.TOGGLE_MODE,A,I)}isModeActive(A){return this.modes[A]}getResourceExtractionSpeed(){return this.builder.getBuildingsByVariant(Ht.GENERATOR).reduce((F,N)=>F+1/N.getActionsDelay()*1e3,0)}addEntityToGroup(A,I){this.entityGroups[I].add(A)}getEntitiesGroup(A){return this.entityGroups[A]}getEntities(A){return this.entityGroups[A].getChildren()}getCapturedFlags(){return this.getEntities(Xt.FLAG).filter(A=>A.isCaptured)}getCrystalsMaxCount(){return Math.ceil(Cl.COUNT.getValue(this.wave.number)/this.game.getDifficultyMultiplier())}addEntityGroups(){this.entityGroups={[Xt.CRYSTAL]:this.add.group(),[Xt.NPC]:this.add.group(),[Xt.ENEMY]:this.add.group(),[Xt.BUILDING]:this.add.group({runChildUpdate:!0}),[Xt.SHOT]:this.add.group({runChildUpdate:!0}),[Xt.SPRITE]:this.add.group({runChildUpdate:!0}),[Xt.FLAG]:this.add.group({runChildUpdate:!0})}}addLifecycle(){this.lifecyle=this.time.addEvent({delay:Number.MAX_SAFE_INTEGER,loop:!0,startAt:this.game.usedSave?.payload.world.time??0}),this.timers.push(this.lifecyle)}addWaveManager(){this.wave=new oR(this),this.game.usedSave?.payload.wave?this.wave.loadSavePayload(this.game.usedSave.payload.wave):this.wave.runTimeleft(),this.events.once(Ft.Scenes.Events.SHUTDOWN,()=>{this.wave.destroy()})}addBuilder(){this.builder=new Yf(this),this.game.events.once(Mi.FINISH,()=>{this.builder.close()}),this.events.once(Ft.Scenes.Events.SHUTDOWN,()=>{this.builder.destroy()})}addPlayer(){const A=this.game.usedSave?.payload.player.position??Ft.Utils.Array.GetRandom(this.level.readSpawnPositions(qt.PLAYER));this.player=new Cd(this,{positionAtMatrix:A}),this.game.usedSave?.payload.player&&this.player.loadSavePayload(this.game.usedSave.payload.player),this.camera.focusOn(this.player),this.player.live.on(ci.DEAD,()=>{this.game.finishGame(!1)})}addAssistant(){const A=X2(this.player.positionAtMatrix).find(I=>this.level.map.getAt(I)?.solid);this.assistant=new J2(this,{owner:this.player,positionAtMatrix:A??this.player.positionAtMatrix,speed:this.player.speed})}addCrystals(){const A=this.level.readSpawnPositions(qt.CRYSTAL),I=()=>{const N=A.filter(H=>this.level.isFreePoint({...H,z:1}));return Ft.Utils.Array.GetRandom(N)},F=N=>{const H=Hn[this.level.planet].CRYSTAL_VARIANTS;new Im(this,{positionAtMatrix:N,variant:Ft.Utils.Array.GetRandom(H)})};if(this.game.usedSave?.payload.world.crystals)this.game.usedSave.payload.world.crystals.forEach(N=>{this.level.isCorrectPoint({...N.position,z:1})&&F(N.position)});else{const N=this.getCrystalsMaxCount();for(let H=0;H<N;H++){const p=I();F(p)}}this.wave.on(Fi.COMPLETE,()=>{const N=this.getCrystalsMaxCount()-this.getEntitiesGroup(Xt.CRYSTAL).getTotalUsed();for(let H=0;H<N;H++){const p=I();F(p)}})}async addFlags(){const A=this.level.readSpawnPositions(qt.FLAG,4),I=()=>new Promise(F=>{const N=A.filter(S=>this.level.isFreePoint({...S,z:1})),H=this.getEntities(Xt.FLAG).map(S=>Ge.ToMatrixPosition(S)),p=k2(N,H);p?(Pm(A,p),this.level.navigator.createTask({from:p,to:this.player.positionAtMatrix,grid:this.level.gridSolid},async S=>{if(S[0]?.path)F(p);else return I()})):F(null)});if(this.game.usedSave?.payload.world.flags)this.game.usedSave.payload.world.flags.forEach(F=>{new Sp(this,{positionAtMatrix:F.position}).loadSavePayload(F)});else for(let F=0;F<Sn.MAX_COUNT;F++){const N=await I();N?new Sp(this,{positionAtMatrix:N}):wt.LogWarn("Invalid flag spawn position")}}getSavePayload(){return{time:this.getTime(),crystals:this.getEntities(Xt.CRYSTAL).map(A=>A.getSavePayload()),flags:this.getEntities(Xt.FLAG).map(A=>A.getSavePayload()),buildings:this.getEntities(Xt.BUILDING).map(A=>A.getSavePayload())}}loadSavePayload(A){A.buildings.forEach(I=>{try{this.builder.createBuilding({variant:I.variant,positionAtMatrix:I.position}).loadSavePayload(I)}catch(F){wt.LogWarn(`Failed to load '${I.variant}' building`,F)}})}}ge.RegisterAudio(gl);class Il extends Ft.Game{constructor(){super({scene:[Lr,lR,b2,$T,Ty],pixelArt:!0,autoRound:!0,parent:Xn.CONTAINER_ID,transparent:!0,scale:{mode:Ft.Scale.RESIZE},fps:{target:60,forceSetTimeOut:!0},physics:{default:"arcade",arcade:{debug:Xn.DEBUG.basic,fps:60,gravity:{y:0}}}}),this.difficulty=Ys.NORMAL,this.mode=Ti.INFINITY,this.usedRewardedAds=!1,this.triesCount=0,this.isSaved=!1,this._state=me.IDLE,this._settings={[Ei.AUDIO]:!0,[Ei.TUTORIAL]:!0,[Ei.EFFECTS]:!0},this.usedSave=null,this.sessionsCount=0,this.records=[],this._isIncognito=!1,wt.ToggleLoadState(!0),wt.RegisterUser(),wt.GetRecords().then(A=>{A&&(this.records=A)}),Hx().then(A=>{this.isIncognito=A.isPrivate}).catch(A=>{wt.LogWarn("Failed to detect incognito",A)}),this.readSettings(),this.isSettingEnabled(Ei.TUTORIAL)||Ut.Disable(),this.events.on(Ft.Core.Events.READY,()=>{c1(this.renderer),this.sound.setVolume(Xn.AUDIO_VOLUME),this.sound.mute=!this.isSettingEnabled(Ei.AUDIO)}),this.events.on(Mi.UPDATE_SETTINGS,(A,I)=>{switch(A){case Ei.AUDIO:{this.sound.mute=!I;break}case Ei.TUTORIAL:{I?Ut.Enable():Ut.Disable();break}}}),window.addEventListener("beforeunload",A=>{(this.state===me.STARTED||this.state===me.PAUSED&&!this.isSaved)&&Me.Platform!==cn.DEVELOPMENT&&(A.preventDefault(),A.returnValue="Do you confirm to leave game?")}),window.addEventListener("contextmenu",A=>{A.preventDefault()}),window.addEventListener("error",A=>{wt.LogError(A.error??new Error(A.message??"Undefined error"))})}get state(){return this._state}set state(A){this._state=A}get settings(){return this._settings}set settings(A){this._settings=A}get isIncognito(){return this._isIncognito}set isIncognito(A){this._isIncognito=A}pauseGame(){this.state===me.STARTED&&(this.setState(me.PAUSED),this.scene.pause(Ne.SCREEN),this.scene.pause(Ne.WORLD),this.scene.systemScene.scene.launch(Ne.MENU,{defaultPage:this.isDesktop()?oi.CONTROLS:oi.SETTINGS}))}resumeGame(){this.state===me.PAUSED&&wt.ShowAds(Di.MIDGAME).then(()=>{this.setState(me.STARTED),this.scene.systemScene.scene.stop(Ne.MENU),this.scene.resume(Ne.SCREEN),this.scene.resume(Ne.WORLD),this.isSaved=!1})}continueGame(A){this.state===me.IDLE&&(this.usedSave=A,this.triesCount=0,wt.ShowAds(Di.MIDGAME).then(()=>{this.startGame()}))}startNewGame(){if(this.state!==me.IDLE)return;this.usedSave=null,this.triesCount=0;const A=()=>{this.startGame(),wt.NewSession({mode:this.mode,difficulty:this.difficulty,planet:gt.World.level.planet})};this.sessionsCount===0?A():wt.ShowAds(Di.MIDGAME).then(()=>{A()})}startGame(){this.state===me.IDLE&&(this.sessionsCount++,this.usedSave?(this.loadSavePayload(this.usedSave.payload.game),gt.World.scene.restart(this.usedSave.payload.level)):(Ut.Reset(),gt.World.scene.restart()),gt.World.events.once(Ft.Scenes.Events.CREATE,()=>{this.setState(this.usedSave?me.STARTED:me.INTRODUCTION),this.scene.systemScene.scene.stop(Ne.MENU),this.scene.systemScene.scene.launch(Ne.SCREEN),gt.World.start()}))}stopGame(A=!0){this.state!==me.IDLE&&(this.scene.systemScene.scene.stop(Ne.SCREEN),this.scene.systemScene.scene.stop(Ne.MENU),this.scene.systemScene.scene.stop(Ne.FINISH),this.setState(me.IDLE),A&&(gt.World.scene.restart(),this.scene.systemScene.scene.launch(Ne.MENU,{defaultPage:oi.NEW_GAME})))}restartGame(){this.state!==me.IDLE&&(this.stopGame(!1),wt.ShowAds(Di.MIDGAME).then(()=>{this.startGame()}))}finishGame(A){if(this.state!==me.STARTED)return;this.setState(me.FINISHED),this.events.emit(Mi.FINISH);const I=this.getCurrentRecord(),F=Il.GetCurrentStat();this.saveBestGameResult(F);const N={success:A,stat:F,record:I};this.scene.systemScene.scene.pause(Ne.WORLD),this.scene.systemScene.scene.stop(Ne.SCREEN),this.scene.systemScene.scene.launch(Ne.FINISH,N),A||this.triesCount++,gt.World.fx.playSound(A?gl.WIN:gl.LOSE),wt.SendGameResult(A,F.score)}toggleSystemPause(A){wt.TogglePlayState(!A),this.events.emit(Mi.TOGGLE_PAUSE,A),A?this.pause():this.resume()}setState(A){if(this.state===A)return;const I=this.state!==me.STARTED,F=A!==me.STARTED;this.state=A,I!==F&&(wt.TogglePlayState(!F),this.events.emit(Mi.TOGGLE_PAUSE,F))}isDesktop(){return this.device.os.desktop}getDifficultyMultiplier(){switch(this.difficulty){case Ys.EASY:return .8;case Ys.HARD:return 1.5;default:return 1}}updateSetting(A,I){this.settings[A]=I,localStorage.setItem(`SETTINGS.${A}`,I?"on":"off"),this.events.emit(Mi.UPDATE_SETTINGS,A,I)}isSettingEnabled(A){return this.settings[A]}readSettings(){Fr(Ei,A=>{const I=localStorage.getItem(`SETTINGS.${A}`);I&&(this.settings[A]=I==="on")})}getCurrentRecord(){return this.records.find(I=>I.mode===this.mode&&I.difficulty===this.difficulty)?.stat??null}isPlanetLocked(A){const I=Hn[A];if(!I.MIN_SCORE)return!1;const F=this.getCurrentRecord()?.score??0,N=`PLANET.${A}.${this.mode}.${this.difficulty}`;return F<I.MIN_SCORE&&!localStorage.getItem(N)}unlockPlanet(A){const I=`PLANET.${A}.${this.mode}.${this.difficulty}`;localStorage.setItem(I,"1")}saveBestGameResult(A){const I={mode:this.mode,difficulty:this.difficulty,stat:A??Il.GetCurrentStat()},F=this.records.findIndex(N=>N.mode===I.mode&&N.difficulty===I.difficulty);if(F===-1)this.records.push(I),wt.CreateRecord(I);else{const N=this.records[F].stat;let H=!1;Fr(I.stat,(p,S)=>{S>N[p]&&(H=!0,N[p]=S)}),H&&wt.UpdateRecord(I)}}static GetCurrentStat(){return{score:gt.World.player.score,waves:gt.World.wave.number-1,kills:gt.World.player.kills,lived:Math.floor(gt.World.getTime()/1e3)}}async saveGame(A){this.saveBestGameResult();const I=await ri.CreateSave(this,A);return I&&(this.isSaved=!0,this.usedSave=I),I}getSavePayload(){return{sessionId:wt.SessionId,difficulty:this.difficulty,mode:this.mode,tutorial:{...Ut.Progress},usedRewardedAds:this.usedRewardedAds}}loadSavePayload(A){this.difficulty=A.difficulty,this.mode=A.mode,this.usedRewardedAds=A.usedRewardedAds??!1,wt.SessionId=A.sessionId,Ut.Load(A.tutorial)}}class hR{static Load(){const A=Me.GetCMP();if(A)return new Promise((I,F)=>{const N=document.createElement("script");N.setAttribute("src",A),N.addEventListener("load",I),N.addEventListener("error",F),document.body.appendChild(N);let H=0;const p=3;function S(){const r="__tcfapiLocator",s=[];let e=window,i;function o(){const f=e.document,u=!!e.frames[r];if(!u)if(f.body){const d=f.createElement("iframe");d.style.cssText="display:none",d.name=r,f.body.appendChild(d)}else setTimeout(o,5);return!u}function n(){let f;const u=arguments;if(u.length)if(u[0]==="setGdprApplies")u.length>3&&u[2]===2&&typeof u[3]=="boolean"&&(f=u[3],typeof u[2]=="function"&&u[2]("set",!0));else if(u[0]==="ping"){const d={gdprApplies:f,cmpLoaded:!1,cmpStatus:"stub"};typeof u[2]=="function"&&u[2](d)}else u[0]==="init"&&typeof u[3]=="object"&&(u[3]=Object.assign(u[3],{tag_version:"V3"})),s.push(u);else return s}function a(f){const u=typeof f.data=="string";let d={};try{u?d=JSON.parse(f.data):d=f.data}catch{}const v=d.__tcfapiCall;v&&window.__tcfapi(v.command,v.version,function(g,x){let m={__tcfapiReturn:{returnValue:g,success:x,callId:v.callId}};u&&(m=JSON.stringify(m)),f&&f.source&&f.source.postMessage&&f.source.postMessage(m,"*")},v.parameter)}for(;e;){try{if(e.frames[r]){i=e;break}}catch{}if(e===window.top)break;e=e.parent}i||(o(),e.__tcfapi=n,e.addEventListener("message",a,!1))}S();function t(){const s=["2:tcfeuv2","6:uspv1","7:usnatv1","8:usca","9:usvav1","10:uscov1","11:usutv1","12:usctv1"];window.__gpp_addFrame=function(e){if(!window.frames[e])if(document.body){const i=document.createElement("iframe");i.style.cssText="display:none",i.name=e,document.body.appendChild(i)}else window.setTimeout(window.__gpp_addFrame,10,e)},window.__gpp_stub=function(){const e=arguments;if(__gpp.queue=__gpp.queue||[],__gpp.events=__gpp.events||[],!e.length||e.length==1&&e[0]=="queue")return __gpp.queue;if(e.length==1&&e[0]=="events")return __gpp.events;const i=e[0],o=e.length>1?e[1]:null,n=e.length>2?e[2]:null;if(i==="ping")o({gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:s,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}},!0);else if(i==="addEventListener"){"lastId"in __gpp||(__gpp.lastId=0),__gpp.lastId++;const a=__gpp.lastId;__gpp.events.push({id:a,callback:o,parameter:n}),o({eventName:"listenerRegistered",listenerId:a,data:!0,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:s,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}}},!0)}else if(i==="removeEventListener"){let a=!1;for(let f=0;f<__gpp.events.length;f++)if(__gpp.events[f].id==n){__gpp.events.splice(f,1),a=!0;break}o({eventName:"listenerRemoved",listenerId:n,data:a,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:s,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}}},!0)}else i==="hasSection"?o(!1,!0):i==="getSection"||i==="getField"?o(null,!0):__gpp.queue.push([].slice.apply(e))},window.__gpp_msghandler=function(e){const i=typeof e.data=="string";try{var o=i?JSON.parse(e.data):e.data}catch{var o=null}if(typeof o=="object"&&o!==null&&"__gppCall"in o){const n=o.__gppCall;window.__gpp(n.command,function(a,f){const u={__gppReturn:{returnValue:a,success:f,callId:n.callId}};e.source.postMessage(i?JSON.stringify(u):u,"*")},"parameter"in n?n.parameter:null,"version"in n?n.version:"1.1")}},(!("__gpp"in window)||typeof window.__gpp!="function")&&(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"))}t();const h=function(){const r=arguments;typeof window.__uspapi!==h&&setTimeout(function(){typeof window.__uspapi<"u"&&window.__uspapi.apply(window.__uspapi,r)},500)},c=function(){H++,window.__uspapi===h&&H<p?console.warn("USP is not accessible"):clearInterval(l)};if(typeof window.__uspapi>"u"){window.__uspapi=h;var l=setInterval(c,6e3)}}).catch(I=>{wt.LogWarn("Failed to load CMP script",I)})}static Bind(A){window.__cmp("getConsentStatus",null,I=>{I&&I.purposeConsents&&I.vendorConsents&&A()})}}function Ip(L){let A=document.getElementById("invalid-screen");(L?L.matches:window.innerWidth>=window.innerHeight)?A&&A.remove():A||(A=document.createElement("div"),A.id="invalid-screen",A.innerText="TURN PHONE TO LANDSCAPE ORIENTATION",document.body.append(A))}function uR(){Ip(),window.matchMedia("(orientation: landscape)").addEventListener("change",Ip)}const fR=window.location.ancestorOrigins?[...window.location.ancestorOrigins]:[],dR=L=>zx.some(A=>L.indexOf(A)!==-1);(async()=>{if(fR.some(L=>!dR(L)))document.getElementById("invalid-platform")?.classList.remove("hidden");else{Me.Register(),Ot.Register(),await Promise.all([hR.Load(),wt.Load()]);const L=new Il;Me.Platform===cn.DEVELOPMENT&&L.events.on(Phaser.Core.Events.READY,()=>{window.WORLD=gt.World}),Me.GetFlag(Ee.AUTO_ORIENTATION)||uR(),console.clear(),console.log([`Created by ${dn.author.name} / ${dn.author.url}`,`Build v${dn.version}-${Me.Platform}`,"Open-Source at https://github.com/neki-dev/izowave"].join(`
`))}})();
